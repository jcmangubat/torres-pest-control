function AF(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hE={exports:{}},ig={},fE={exports:{}},Yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function MF(){if(KA)return Yn;KA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function y(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function b(ee,ue,J){this.props=ee,this.context=ue,this.refs=S,this.updater=J||v}b.prototype.isReactComponent={},b.prototype.setState=function(ee,ue){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ue,"setState")},b.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function E(){}E.prototype=b.prototype;function R(ee,ue,J){this.props=ee,this.context=ue,this.refs=S,this.updater=J||v}var P=R.prototype=new E;P.constructor=R,T(P,b.prototype),P.isPureReactComponent=!0;var D=Array.isArray,G=Object.prototype.hasOwnProperty,V={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function H(ee,ue,J){var pe,xe={},be=null,Ce=null;if(ue!=null)for(pe in ue.ref!==void 0&&(Ce=ue.ref),ue.key!==void 0&&(be=""+ue.key),ue)G.call(ue,pe)&&!K.hasOwnProperty(pe)&&(xe[pe]=ue[pe]);var Xe=arguments.length-2;if(Xe===1)xe.children=J;else if(1<Xe){for(var nt=Array(Xe),rt=0;rt<Xe;rt++)nt[rt]=arguments[rt+2];xe.children=nt}if(ee&&ee.defaultProps)for(pe in Xe=ee.defaultProps,Xe)xe[pe]===void 0&&(xe[pe]=Xe[pe]);return{$$typeof:t,type:ee,key:be,ref:Ce,props:xe,_owner:V.current}}function z(ee,ue){return{$$typeof:t,type:ee.type,key:ue,ref:ee.ref,props:ee.props,_owner:ee._owner}}function k(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function Z(ee){var ue={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(J){return ue[J]})}var $=/\/+/g;function re(ee,ue){return typeof ee=="object"&&ee!==null&&ee.key!=null?Z(""+ee.key):ue.toString(36)}function ie(ee,ue,J,pe,xe){var be=typeof ee;(be==="undefined"||be==="boolean")&&(ee=null);var Ce=!1;if(ee===null)Ce=!0;else switch(be){case"string":case"number":Ce=!0;break;case"object":switch(ee.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=ee,xe=xe(Ce),ee=pe===""?"."+re(Ce,0):pe,D(xe)?(J="",ee!=null&&(J=ee.replace($,"$&/")+"/"),ie(xe,ue,J,"",function(rt){return rt})):xe!=null&&(k(xe)&&(xe=z(xe,J+(!xe.key||Ce&&Ce.key===xe.key?"":(""+xe.key).replace($,"$&/")+"/")+ee)),ue.push(xe)),1;if(Ce=0,pe=pe===""?".":pe+":",D(ee))for(var Xe=0;Xe<ee.length;Xe++){be=ee[Xe];var nt=pe+re(be,Xe);Ce+=ie(be,ue,J,nt,xe)}else if(nt=y(ee),typeof nt=="function")for(ee=nt.call(ee),Xe=0;!(be=ee.next()).done;)be=be.value,nt=pe+re(be,Xe++),Ce+=ie(be,ue,J,nt,xe);else if(be==="object")throw ue=String(ee),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ge(ee,ue,J){if(ee==null)return ee;var pe=[],xe=0;return ie(ee,pe,"","",function(be){return ue.call(J,be,xe++)}),pe}function fe(ee){if(ee._status===-1){var ue=ee._result;ue=ue(),ue.then(function(J){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=J)},function(J){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=J)}),ee._status===-1&&(ee._status=0,ee._result=ue)}if(ee._status===1)return ee._result.default;throw ee._result}var he={current:null},Y={transition:null},se={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Y,ReactCurrentOwner:V};function j(){throw Error("act(...) is not supported in production builds of React.")}return Yn.Children={map:ge,forEach:function(ee,ue,J){ge(ee,function(){ue.apply(this,arguments)},J)},count:function(ee){var ue=0;return ge(ee,function(){ue++}),ue},toArray:function(ee){return ge(ee,function(ue){return ue})||[]},only:function(ee){if(!k(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Yn.Component=b,Yn.Fragment=n,Yn.Profiler=r,Yn.PureComponent=R,Yn.StrictMode=i,Yn.Suspense=u,Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Yn.act=j,Yn.cloneElement=function(ee,ue,J){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var pe=T({},ee.props),xe=ee.key,be=ee.ref,Ce=ee._owner;if(ue!=null){if(ue.ref!==void 0&&(be=ue.ref,Ce=V.current),ue.key!==void 0&&(xe=""+ue.key),ee.type&&ee.type.defaultProps)var Xe=ee.type.defaultProps;for(nt in ue)G.call(ue,nt)&&!K.hasOwnProperty(nt)&&(pe[nt]=ue[nt]===void 0&&Xe!==void 0?Xe[nt]:ue[nt])}var nt=arguments.length-2;if(nt===1)pe.children=J;else if(1<nt){Xe=Array(nt);for(var rt=0;rt<nt;rt++)Xe[rt]=arguments[rt+2];pe.children=Xe}return{$$typeof:t,type:ee.type,key:xe,ref:be,props:pe,_owner:Ce}},Yn.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},Yn.createElement=H,Yn.createFactory=function(ee){var ue=H.bind(null,ee);return ue.type=ee,ue},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(ee){return{$$typeof:a,render:ee}},Yn.isValidElement=k,Yn.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:fe}},Yn.memo=function(ee,ue){return{$$typeof:d,type:ee,compare:ue===void 0?null:ue}},Yn.startTransition=function(ee){var ue=Y.transition;Y.transition={};try{ee()}finally{Y.transition=ue}},Yn.unstable_act=j,Yn.useCallback=function(ee,ue){return he.current.useCallback(ee,ue)},Yn.useContext=function(ee){return he.current.useContext(ee)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(ee){return he.current.useDeferredValue(ee)},Yn.useEffect=function(ee,ue){return he.current.useEffect(ee,ue)},Yn.useId=function(){return he.current.useId()},Yn.useImperativeHandle=function(ee,ue,J){return he.current.useImperativeHandle(ee,ue,J)},Yn.useInsertionEffect=function(ee,ue){return he.current.useInsertionEffect(ee,ue)},Yn.useLayoutEffect=function(ee,ue){return he.current.useLayoutEffect(ee,ue)},Yn.useMemo=function(ee,ue){return he.current.useMemo(ee,ue)},Yn.useReducer=function(ee,ue,J){return he.current.useReducer(ee,ue,J)},Yn.useRef=function(ee){return he.current.useRef(ee)},Yn.useState=function(ee){return he.current.useState(ee)},Yn.useSyncExternalStore=function(ee,ue,J){return he.current.useSyncExternalStore(ee,ue,J)},Yn.useTransition=function(){return he.current.useTransition()},Yn.version="18.3.1",Yn}var $A;function am(){return $A||($A=1,fE.exports=MF()),fE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function PF(){if(QA)return ig;QA=1;var t=am(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,d){var f,p={},y=null,v=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)i.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(a&&a.defaultProps)for(f in u=a.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:a,key:y,ref:v,props:p,_owner:r.current}}return ig.Fragment=n,ig.jsx=o,ig.jsxs=o,ig}var JA;function RF(){return JA||(JA=1,hE.exports=PF()),hE.exports}var F=RF(),qy={},pE={exports:{}},ko={},mE={exports:{}},gE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM;function IF(){return eM||(eM=1,function(t){function e(Y,se){var j=Y.length;Y.push(se);e:for(;0<j;){var ee=j-1>>>1,ue=Y[ee];if(0<r(ue,se))Y[ee]=se,Y[j]=ue,j=ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var se=Y[0],j=Y.pop();if(j!==se){Y[0]=j;e:for(var ee=0,ue=Y.length,J=ue>>>1;ee<J;){var pe=2*(ee+1)-1,xe=Y[pe],be=pe+1,Ce=Y[be];if(0>r(xe,j))be<ue&&0>r(Ce,xe)?(Y[ee]=Ce,Y[be]=j,ee=be):(Y[ee]=xe,Y[pe]=j,ee=pe);else if(be<ue&&0>r(Ce,j))Y[ee]=Ce,Y[be]=j,ee=be;else break e}}return se}function r(Y,se){var j=Y.sortIndex-se.sortIndex;return j!==0?j:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],f=1,p=null,y=3,v=!1,T=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Y){for(var se=n(d);se!==null;){if(se.callback===null)i(d);else if(se.startTime<=Y)i(d),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(d)}}function D(Y){if(S=!1,P(Y),!T)if(n(u)!==null)T=!0,fe(G);else{var se=n(d);se!==null&&he(D,se.startTime-Y)}}function G(Y,se){T=!1,S&&(S=!1,E(H),H=-1),v=!0;var j=y;try{for(P(se),p=n(u);p!==null&&(!(p.expirationTime>se)||Y&&!Z());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,y=p.priorityLevel;var ue=ee(p.expirationTime<=se);se=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&i(u),P(se)}else i(u);p=n(u)}if(p!==null)var J=!0;else{var pe=n(d);pe!==null&&he(D,pe.startTime-se),J=!1}return J}finally{p=null,y=j,v=!1}}var V=!1,K=null,H=-1,z=5,k=-1;function Z(){return!(t.unstable_now()-k<z)}function $(){if(K!==null){var Y=t.unstable_now();k=Y;var se=!0;try{se=K(!0,Y)}finally{se?re():(V=!1,K=null)}}else V=!1}var re;if(typeof R=="function")re=function(){R($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ge=ie.port2;ie.port1.onmessage=$,re=function(){ge.postMessage(null)}}else re=function(){b($,0)};function fe(Y){K=Y,V||(V=!0,re())}function he(Y,se){H=b(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,fe(G))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var j=y;y=se;try{return Y()}finally{y=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=y;y=Y;try{return se()}finally{y=j}},t.unstable_scheduleCallback=function(Y,se,j){var ee=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,Y){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,Y={id:f++,callback:se,priorityLevel:Y,startTime:j,expirationTime:ue,sortIndex:-1},j>ee?(Y.sortIndex=j,e(d,Y),n(u)===null&&Y===n(d)&&(S?(E(H),H=-1):S=!0,he(D,j-ee))):(Y.sortIndex=ue,e(u,Y),T||v||(T=!0,fe(G))),Y},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(Y){var se=y;return function(){var j=y;y=se;try{return Y.apply(this,arguments)}finally{y=j}}}}(gE)),gE}var tM;function LF(){return tM||(tM=1,mE.exports=IF()),mE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function NF(){if(nM)return ko;nM=1;var t=am(),e=LF();function n(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(l,h){o(l,h),o(l+"Capture",h)}function o(l,h){for(r[l]=h,l=0;l<h.length;l++)i.add(h[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function y(l){return u.call(p,l)?!0:u.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function v(l,h,x,A){if(x!==null&&x.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return A?!1:x!==null?!x.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function T(l,h,x,A){if(h===null||typeof h>"u"||v(l,h,x,A))return!0;if(A)return!1;if(x!==null)switch(x.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function S(l,h,x,A,O,U,te){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=A,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=l,this.type=h,this.sanitizeURL=U,this.removeEmptyString=te}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];b[h]=new S(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(E,R);b[h]=new S(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(E,R);b[h]=new S(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(E,R);b[h]=new S(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function P(l,h,x,A){var O=b.hasOwnProperty(h)?b[h]:null;(O!==null?O.type!==0:A||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(T(h,x,O,A)&&(x=null),A||O===null?y(h)&&(x===null?l.removeAttribute(h):l.setAttribute(h,""+x)):O.mustUseProperty?l[O.propertyName]=x===null?O.type===3?!1:"":x:(h=O.attributeName,A=O.attributeNamespace,x===null?l.removeAttribute(h):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,A?l.setAttributeNS(A,h,x):l.setAttribute(h,x))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Y=Symbol.iterator;function se(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var j=Object.assign,ee;function ue(l){if(ee===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);ee=h&&h[1]||""}return`
`+ee+l}var J=!1;function pe(l,h){if(!l||J)return"";J=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ge){var A=Ge}Reflect.construct(l,[],h)}else{try{h.call()}catch(Ge){A=Ge}l.call(h.prototype)}else{try{throw Error()}catch(Ge){A=Ge}l()}}catch(Ge){if(Ge&&A&&typeof Ge.stack=="string"){for(var O=Ge.stack.split(`
`),U=A.stack.split(`
`),te=O.length-1,_e=U.length-1;1<=te&&0<=_e&&O[te]!==U[_e];)_e--;for(;1<=te&&0<=_e;te--,_e--)if(O[te]!==U[_e]){if(te!==1||_e!==1)do if(te--,_e--,0>_e||O[te]!==U[_e]){var we=`
`+O[te].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=te&&0<=_e);break}}}finally{J=!1,Error.prepareStackTrace=x}return(l=l?l.displayName||l.name:"")?ue(l):""}function xe(l){switch(l.tag){case 5:return ue(l.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return l=pe(l.type,!1),l;case 11:return l=pe(l.type.render,!1),l;case 1:return l=pe(l.type,!0),l;default:return""}}function be(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case K:return"Fragment";case V:return"Portal";case z:return"Profiler";case H:return"StrictMode";case re:return"Suspense";case ie:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case Z:return(l.displayName||"Context")+".Consumer";case k:return(l._context.displayName||"Context")+".Provider";case $:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ge:return h=l.displayName||null,h!==null?h:be(l.type)||"Memo";case fe:h=l._payload,l=l._init;try{return be(l(h))}catch{}}return null}function Ce(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(h);case 8:return h===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Xe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function nt(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function rt(l){var h=nt(l)?"checked":"value",x=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),A=""+l[h];if(!l.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,U=x.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return O.call(this)},set:function(te){A=""+te,U.call(this,te)}}),Object.defineProperty(l,h,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(te){A=""+te},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function ot(l){l._valueTracker||(l._valueTracker=rt(l))}function _t(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var x=h.getValue(),A="";return l&&(A=nt(l)?l.checked?"true":"false":l.value),l=A,l!==x?(h.setValue(l),!0):!1}function yt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function le(l,h){var x=h.checked;return j({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??l._wrapperState.initialChecked})}function ut(l,h){var x=h.defaultValue==null?"":h.defaultValue,A=h.checked!=null?h.checked:h.defaultChecked;x=Xe(h.value!=null?h.value:x),l._wrapperState={initialChecked:A,initialValue:x,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function et(l,h){h=h.checked,h!=null&&P(l,"checked",h,!1)}function Ye(l,h){et(l,h);var x=Xe(h.value),A=h.type;if(x!=null)A==="number"?(x===0&&l.value===""||l.value!=x)&&(l.value=""+x):l.value!==""+x&&(l.value=""+x);else if(A==="submit"||A==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?Qe(l,h.type,x):h.hasOwnProperty("defaultValue")&&Qe(l,h.type,Xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function Ne(l,h,x){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var A=h.type;if(!(A!=="submit"&&A!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,x||h===l.value||(l.value=h),l.defaultValue=h}x=l.name,x!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,x!==""&&(l.name=x)}function Qe(l,h,x){(h!=="number"||yt(l.ownerDocument)!==l)&&(x==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+x&&(l.defaultValue=""+x))}var Ie=Array.isArray;function Ke(l,h,x,A){if(l=l.options,h){h={};for(var O=0;O<x.length;O++)h["$"+x[O]]=!0;for(x=0;x<l.length;x++)O=h.hasOwnProperty("$"+l[x].value),l[x].selected!==O&&(l[x].selected=O),O&&A&&(l[x].defaultSelected=!0)}else{for(x=""+Xe(x),h=null,O=0;O<l.length;O++){if(l[O].value===x){l[O].selected=!0,A&&(l[O].defaultSelected=!0);return}h!==null||l[O].disabled||(h=l[O])}h!==null&&(h.selected=!0)}}function ct(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ae(l,h){var x=h.value;if(x==null){if(x=h.children,h=h.defaultValue,x!=null){if(h!=null)throw Error(n(92));if(Ie(x)){if(1<x.length)throw Error(n(93));x=x[0]}h=x}h==null&&(h=""),x=h}l._wrapperState={initialValue:Xe(x)}}function Q(l,h){var x=Xe(h.value),A=Xe(h.defaultValue);x!=null&&(x=""+x,x!==l.value&&(l.value=x),h.defaultValue==null&&l.defaultValue!==x&&(l.defaultValue=x)),A!=null&&(l.defaultValue=""+A)}function Me(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function de(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?de(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Le,dt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,x,A,O){MSApp.execUnsafeLocalFunction(function(){return l(h,x,A,O)})}:l}(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Le.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function Je(l,h){if(h){var x=l.firstChild;if(x&&x===l.lastChild&&x.nodeType===3){x.nodeValue=h;return}}l.textContent=h}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(l){St.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),It[h]=It[l]})});function tt(l,h,x){return h==null||typeof h=="boolean"||h===""?"":x||typeof h!="number"||h===0||It.hasOwnProperty(l)&&It[l]?(""+h).trim():h+"px"}function Pt(l,h){l=l.style;for(var x in h)if(h.hasOwnProperty(x)){var A=x.indexOf("--")===0,O=tt(x,h[x],A);x==="float"&&(x="cssFloat"),A?l.setProperty(x,O):l[x]=O}}var Yt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(l,h){if(h){if(Yt[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Et(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function Ae(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Lt=null,ht=null,Bt=null;function pt(l){if(l=oo(l)){if(typeof Lt!="function")throw Error(n(280));var h=l.stateNode;h&&(h=nd(h),Lt(l.stateNode,l.type,h))}}function st(l){ht?Bt?Bt.push(l):Bt=[l]:ht=l}function at(){if(ht){var l=ht,h=Bt;if(Bt=ht=null,pt(l),h)for(l=0;l<h.length;l++)pt(h[l])}}function Ut(l,h){return l(h)}function cn(){}var yn=!1;function ti(l,h,x){if(yn)return l(h,x);yn=!0;try{return Ut(l,h,x)}finally{yn=!1,(ht!==null||Bt!==null)&&(cn(),at())}}function yi(l,h){var x=l.stateNode;if(x===null)return null;var A=nd(x);if(A===null)return null;x=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(l=l.type,A=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!A;break e;default:l=!1}if(l)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var qr=!1;if(a)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{qr=!1}function $i(l,h,x,A,O,U,te,_e,we){var Ge=Array.prototype.slice.call(arguments,3);try{h.apply(x,Ge)}catch(vt){this.onError(vt)}}var Ui=!1,Qt=null,Ns=!1,Ko=null,Nu={onError:function(l){Ui=!0,Qt=l}};function $a(l,h,x,A,O,U,te,_e,we){Ui=!1,Qt=null,$i.apply(Nu,arguments)}function Wl(l,h,x,A,O,U,te,_e,we){if($a.apply(this,arguments),Ui){if(Ui){var Ge=Qt;Ui=!1,Qt=null}else throw Error(n(198));Ns||(Ns=!0,Ko=Ge)}}function $s(l){var h=l,x=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(x=h.return),l=h.return;while(l)}return h.tag===3?x:null}function $o(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function Ou(l){if($s(l)!==l)throw Error(n(188))}function Oc(l){var h=l.alternate;if(!h){if(h=$s(l),h===null)throw Error(n(188));return h!==l?null:l}for(var x=l,A=h;;){var O=x.return;if(O===null)break;var U=O.alternate;if(U===null){if(A=O.return,A!==null){x=A;continue}break}if(O.child===U.child){for(U=O.child;U;){if(U===x)return Ou(O),l;if(U===A)return Ou(O),h;U=U.sibling}throw Error(n(188))}if(x.return!==A.return)x=O,A=U;else{for(var te=!1,_e=O.child;_e;){if(_e===x){te=!0,x=O,A=U;break}if(_e===A){te=!0,A=O,x=U;break}_e=_e.sibling}if(!te){for(_e=U.child;_e;){if(_e===x){te=!0,x=U,A=O;break}if(_e===A){te=!0,A=U,x=O;break}_e=_e.sibling}if(!te)throw Error(n(189))}}if(x.alternate!==A)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?l:h}function kc(l){return l=Oc(l),l!==null?Dc(l):null}function Dc(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=Dc(l);if(h!==null)return h;l=l.sibling}return null}var Fc=e.unstable_scheduleCallback,oe=e.unstable_cancelCallback,De=e.unstable_shouldYield,je=e.unstable_requestPaint,Be=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,Xt=e.unstable_NormalPriority,jt=e.unstable_LowPriority,sn=e.unstable_IdlePriority,on=null,wt=null;function Gt(l){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(on,l,void 0,(l.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Cn,en=Math.log,xn=Math.LN2;function Cn(l){return l>>>=0,l===0?32:31-(en(l)/xn|0)|0}var qt=64,En=4194304;function Nt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Ln(l,h){var x=l.pendingLanes;if(x===0)return 0;var A=0,O=l.suspendedLanes,U=l.pingedLanes,te=x&268435455;if(te!==0){var _e=te&~O;_e!==0?A=Nt(_e):(U&=te,U!==0&&(A=Nt(U)))}else te=x&~O,te!==0?A=Nt(te):U!==0&&(A=Nt(U));if(A===0)return 0;if(h!==0&&h!==A&&(h&O)===0&&(O=A&-A,U=h&-h,O>=U||O===16&&(U&4194240)!==0))return h;if((A&4)!==0&&(A|=x&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=A;0<h;)x=31-Dt(h),O=1<<x,A|=l[x],h&=~O;return A}function Qs(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(l,h){for(var x=l.suspendedLanes,A=l.pingedLanes,O=l.expirationTimes,U=l.pendingLanes;0<U;){var te=31-Dt(U),_e=1<<te,we=O[te];we===-1?((_e&x)===0||(_e&A)!==0)&&(O[te]=Qs(_e,h)):we<=h&&(l.expiredLanes|=_e),U&=~_e}}function Li(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function zn(){var l=qt;return qt<<=1,(qt&4194240)===0&&(qt=64),l}function Qi(l){for(var h=[],x=0;31>x;x++)h.push(l);return h}function vi(l,h,x){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-Dt(h),l[h]=x}function Wn(l,h){var x=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var A=l.eventTimes;for(l=l.expirationTimes;0<x;){var O=31-Dt(x),U=1<<O;h[O]=0,A[O]=-1,l[O]=-1,x&=~U}}function ai(l,h){var x=l.entangledLanes|=h;for(l=l.entanglements;x;){var A=31-Dt(x),O=1<<A;O&h|l[A]&h&&(l[A]|=h),x&=~O}}var An=0;function sr(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Qa,Ja,Bc,Gl,el,Qo=!1,Yl=[],ds=null,Mn=null,Js=null,tl=new Map,mn=new Map,pr=[],di="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zi(l,h){switch(l){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":tl.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(h.pointerId)}}function Jo(l,h,x,A,O,U){return l===null||l.nativeEvent!==U?(l={blockedOn:h,domEventName:x,eventSystemFlags:A,nativeEvent:U,targetContainers:[O]},h!==null&&(h=oo(h),h!==null&&Ja(h)),l):(l.eventSystemFlags|=A,h=l.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),l)}function eh(l,h,x,A,O){switch(h){case"focusin":return ds=Jo(ds,l,h,x,A,O),!0;case"dragenter":return Mn=Jo(Mn,l,h,x,A,O),!0;case"mouseover":return Js=Jo(Js,l,h,x,A,O),!0;case"pointerover":var U=O.pointerId;return tl.set(U,Jo(tl.get(U)||null,l,h,x,A,O)),!0;case"gotpointercapture":return U=O.pointerId,mn.set(U,Jo(mn.get(U)||null,l,h,x,A,O)),!0}return!1}function Xl(l){var h=Ra(l.target);if(h!==null){var x=$s(h);if(x!==null){if(h=x.tag,h===13){if(h=$o(x),h!==null){l.blockedOn=h,el(l.priority,function(){Bc(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){l.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}l.blockedOn=null}function To(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var x=fs(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(x===null){x=l.nativeEvent;var A=new x.constructor(x.type,x);tn=A,x.target.dispatchEvent(A),tn=null}else return h=oo(x),h!==null&&Ja(h),l.blockedOn=x,!1;h.shift()}return!0}function nl(l,h,x){To(l)&&x.delete(h)}function Zr(){Qo=!1,ds!==null&&To(ds)&&(ds=null),Mn!==null&&To(Mn)&&(Mn=null),Js!==null&&To(Js)&&(Js=null),tl.forEach(nl),mn.forEach(nl)}function Ni(l,h){l.blockedOn===h&&(l.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zr)))}function eo(l){function h(O){return Ni(O,l)}if(0<Yl.length){Ni(Yl[0],l);for(var x=1;x<Yl.length;x++){var A=Yl[x];A.blockedOn===l&&(A.blockedOn=null)}}for(ds!==null&&Ni(ds,l),Mn!==null&&Ni(Mn,l),Js!==null&&Ni(Js,l),tl.forEach(h),mn.forEach(h),x=0;x<pr.length;x++)A=pr[x],A.blockedOn===l&&(A.blockedOn=null);for(;0<pr.length&&(x=pr[0],x.blockedOn===null);)Xl(x),x.blockedOn===null&&pr.shift()}var br=D.ReactCurrentBatchConfig,hs=!0;function Uc(l,h,x,A){var O=An,U=br.transition;br.transition=null;try{An=1,ql(l,h,x,A)}finally{An=O,br.transition=U}}function zc(l,h,x,A){var O=An,U=br.transition;br.transition=null;try{An=4,ql(l,h,x,A)}finally{An=O,br.transition=U}}function ql(l,h,x,A){if(hs){var O=fs(l,h,x,A);if(O===null)c(l,h,A,Hc,x),zi(l,A);else if(eh(O,l,h,x,A))A.stopPropagation();else if(zi(l,A),h&4&&-1<di.indexOf(l)){for(;O!==null;){var U=oo(O);if(U!==null&&Qa(U),U=fs(l,h,x,A),U===null&&c(l,h,A,Hc,x),U===O)break;O=U}O!==null&&A.stopPropagation()}else c(l,h,A,null,x)}}var Hc=null;function fs(l,h,x,A){if(Hc=null,l=Ae(A),l=Ra(l),l!==null)if(h=$s(l),h===null)l=null;else if(x=h.tag,x===13){if(l=$o(h),l!==null)return l;l=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return Hc=l,null}function Gn(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oe()){case xt:return 1;case Ft:return 4;case Xt:case jt:return 16;case sn:return 536870912;default:return 16}default:return 16}}var to=null,ps=null,or=null;function Zl(){if(or)return or;var l,h=ps,x=h.length,A,O="value"in to?to.value:to.textContent,U=O.length;for(l=0;l<x&&h[l]===O[l];l++);var te=x-l;for(A=1;A<=te&&h[x-A]===O[U-A];A++);return or=O.slice(l,1<A?1-A:void 0)}function il(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function no(){return!0}function Vc(){return!1}function Sr(l){function h(x,A,O,U,te){this._reactName=x,this._targetInst=O,this.type=A,this.nativeEvent=U,this.target=te,this.currentTarget=null;for(var _e in l)l.hasOwnProperty(_e)&&(x=l[_e],this[_e]=x?x(U):U[_e]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?no:Vc,this.isPropagationStopped=Vc,this}return j(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),h}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Sr(rl),ea=j({},rl,{view:0,detail:0}),Kl=Sr(ea),bi,Os,ms,gs=j({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ms&&(ms&&l.type==="mousemove"?(bi=l.screenX-ms.screenX,Os=l.screenY-ms.screenY):Os=bi=0,ms=l),bi)},movementY:function(l){return"movementY"in l?l.movementY:Os}}),jc=Sr(gs),bo=j({},gs,{dataTransfer:0}),So=Sr(bo),Wc=j({},ea,{relatedTarget:0}),Du=Sr(Wc),Fu=j({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=Sr(Fu),Af=j({},rl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Bu=Sr(Af),Gc=j({},rl,{data:0}),Yc=Sr(Gc),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ta={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=ta[l])?!!h[l]:!1}function ks(){return $l}var Fr=j({},ea,{key:function(l){if(l.key){var h=th[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=il(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Uu[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(l){return l.type==="keypress"?il(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?il(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),zu=Sr(Fr),ys=j({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=Sr(ys),na=j({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),io=Sr(na),ia=j({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),sl=Sr(ia),nh=j({},gs,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ih=Sr(nh),_s=[9,13,27,32],Hi=a&&"CompositionEvent"in window,mr=null;a&&"documentMode"in document&&(mr=document.documentMode);var Zn=a&&"TextEvent"in window&&!mr,Ql=a&&(!Hi||mr&&8<mr&&11>=mr),gr=" ",rh=!1;function ol(l,h){switch(l){case"keyup":return _s.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hu(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ro=!1;function Mf(l,h){switch(l){case"compositionend":return Hu(h);case"keypress":return h.which!==32?null:(rh=!0,gr);case"textInput":return l=h.data,l===gr&&rh?null:l;default:return null}}function Ds(l,h){if(ro)return l==="compositionend"||!Hi&&ol(l,h)?(l=Zl(),or=ps=to=null,ro=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ql&&h.locale!=="ko"?null:h.data;default:return null}}var ra={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!ra[l.type]:h==="textarea"}function Sa(l,h,x,A){st(A),h=w(h,"onChange"),0<h.length&&(x=new ku("onChange","change",null,x,A),l.push({event:x,listeners:h}))}var wa=null,Kr=null;function Pf(l){dl(l,0)}function $r(l){var h=Ci(l);if(_t(h))return l}function Rf(l,h){if(l==="change")return h}var Qr=!1;if(a){var yr;if(a){var Ca="oninput"in document;if(!Ca){var sa=document.createElement("div");sa.setAttribute("oninput","return;"),Ca=typeof sa.oninput=="function"}yr=Ca}else yr=!1;Qr=yr&&(!document.documentMode||9<document.documentMode)}function Jr(){wa&&(wa.detachEvent("onpropertychange",Jl),Kr=wa=null)}function Jl(l){if(l.propertyName==="value"&&$r(Kr)){var h=[];Sa(h,Kr,l,Ae(l)),ti(Pf,h)}}function oa(l,h,x){l==="focusin"?(Jr(),wa=h,Kr=x,wa.attachEvent("onpropertychange",Jl)):l==="focusout"&&Jr()}function al(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return $r(Kr)}function eu(l,h){if(l==="click")return $r(h)}function pi(l,h){if(l==="input"||l==="change")return $r(h)}function Vu(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var xs=typeof Object.is=="function"?Object.is:Vu;function wo(l,h){if(xs(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var x=Object.keys(l),A=Object.keys(h);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var O=x[A];if(!u.call(h,O)||!xs(l[O],h[O]))return!1}return!0}function ju(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function es(l,h){var x=ju(l);l=0;for(var A;x;){if(x.nodeType===3){if(A=l+x.textContent.length,l<=h&&A>=h)return{node:x,offset:h-l};l=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=ju(x)}}function ll(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?ll(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function _i(){for(var l=window,h=yt();h instanceof l.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)l=h.contentWindow;else break;h=yt(l.document)}return h}function ar(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function li(l){var h=_i(),x=l.focusedElem,A=l.selectionRange;if(h!==x&&x&&x.ownerDocument&&ll(x.ownerDocument.documentElement,x)){if(A!==null&&ar(x)){if(h=A.start,l=A.end,l===void 0&&(l=h),"selectionStart"in x)x.selectionStart=h,x.selectionEnd=Math.min(l,x.value.length);else if(l=(h=x.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var O=x.textContent.length,U=Math.min(A.start,O);A=A.end===void 0?U:Math.min(A.end,O),!l.extend&&U>A&&(O=A,A=U,U=O),O=es(x,U);var te=es(x,A);O&&te&&(l.rangeCount!==1||l.anchorNode!==O.node||l.anchorOffset!==O.offset||l.focusNode!==te.node||l.focusOffset!==te.offset)&&(h=h.createRange(),h.setStart(O.node,O.offset),l.removeAllRanges(),U>A?(l.addRange(h),l.extend(te.node,te.offset)):(h.setEnd(te.node,te.offset),l.addRange(h)))}}for(h=[],l=x;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<h.length;x++)l=h[x],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var ul=a&&"documentMode"in document&&11>=document.documentMode,Co=null,Ao=null,Wu=null,Ji=!1;function qc(l,h,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ji||Co==null||Co!==yt(A)||(A=Co,"selectionStart"in A&&ar(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Wu&&wo(Wu,A)||(Wu=A,A=w(Ao,"onSelect"),0<A.length&&(h=new ku("onSelect","select",null,h,x),l.push({event:h,listeners:A}),h.target=Co)))}function Mo(l,h){var x={};return x[l.toLowerCase()]=h.toLowerCase(),x["Webkit"+l]="webkit"+h,x["Moz"+l]="moz"+h,x}var Aa={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},wr={},Fs={};a&&(Fs=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function so(l){if(wr[l])return wr[l];if(!Aa[l])return l;var h=Aa[l],x;for(x in h)if(h.hasOwnProperty(x)&&x in Fs)return wr[l]=h[x];return l}var Gu=so("animationend"),Es=so("animationiteration"),Zc=so("animationstart"),Kc=so("transitionend"),cl=new Map,sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(l,h){cl.set(l,h),s(h,[l])}for(var Ma=0;Ma<sh.length;Ma++){var tu=sh[Ma],nu=tu.toLowerCase(),If=tu[0].toUpperCase()+tu.slice(1);Bs(nu,"on"+If)}Bs(Gu,"onAnimationEnd"),Bs(Es,"onAnimationIteration"),Bs(Zc,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Kc,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Xu(l,h,x){var A=l.type||"unknown-event";l.currentTarget=x,Wl(A,h,void 0,l),l.currentTarget=null}function dl(l,h){h=(h&4)!==0;for(var x=0;x<l.length;x++){var A=l[x],O=A.event;A=A.listeners;e:{var U=void 0;if(h)for(var te=A.length-1;0<=te;te--){var _e=A[te],we=_e.instance,Ge=_e.currentTarget;if(_e=_e.listener,we!==U&&O.isPropagationStopped())break e;Xu(O,_e,Ge),U=we}else for(te=0;te<A.length;te++){if(_e=A[te],we=_e.instance,Ge=_e.currentTarget,_e=_e.listener,we!==U&&O.isPropagationStopped())break e;Xu(O,_e,Ge),U=we}}}if(Ns)throw l=Ko,Ns=!1,Ko=null,l}function ui(l,h){var x=h[Po];x===void 0&&(x=h[Po]=new Set);var A=l+"__bubble";x.has(A)||(Qc(h,l,2,!1),x.add(A))}function $c(l,h,x){var A=0;h&&(A|=4),Qc(x,l,A,h)}var iu="_reactListening"+Math.random().toString(36).slice(2);function hl(l){if(!l[iu]){l[iu]=!0,i.forEach(function(x){x!=="selectionchange"&&(Yu.has(x)||$c(x,!1,l),$c(x,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[iu]||(h[iu]=!0,$c("selectionchange",!1,h))}}function Qc(l,h,x,A){switch(Gn(h)){case 1:var O=Uc;break;case 4:O=zc;break;default:O=ql}x=O.bind(null,h,x,l),O=void 0,!qr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),A?O!==void 0?l.addEventListener(h,x,{capture:!0,passive:O}):l.addEventListener(h,x,!0):O!==void 0?l.addEventListener(h,x,{passive:O}):l.addEventListener(h,x,!1)}function c(l,h,x,A,O){var U=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var te=A.tag;if(te===3||te===4){var _e=A.stateNode.containerInfo;if(_e===O||_e.nodeType===8&&_e.parentNode===O)break;if(te===4)for(te=A.return;te!==null;){var we=te.tag;if((we===3||we===4)&&(we=te.stateNode.containerInfo,we===O||we.nodeType===8&&we.parentNode===O))return;te=te.return}for(;_e!==null;){if(te=Ra(_e),te===null)return;if(we=te.tag,we===5||we===6){A=U=te;continue e}_e=_e.parentNode}}A=A.return}ti(function(){var Ge=U,vt=Ae(x),Tt=[];e:{var mt=cl.get(l);if(mt!==void 0){var Zt=ku,nn=l;switch(l){case"keypress":if(il(x)===0)break e;case"keydown":case"keyup":Zt=zu;break;case"focusin":nn="focus",Zt=Du;break;case"focusout":nn="blur",Zt=Du;break;case"beforeblur":case"afterblur":Zt=Du;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zt=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zt=So;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zt=io;break;case Gu:case Es:case Zc:Zt=Cf;break;case Kc:Zt=sl;break;case"scroll":Zt=Kl;break;case"wheel":Zt=ih;break;case"copy":case"cut":case"paste":Zt=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zt=vs}var an=(h&4)!==0,_r=!an&&l==="scroll",Ue=an?mt!==null?mt+"Capture":null:mt;an=[];for(var Pe=Ge,He;Pe!==null;){He=Pe;var Rt=He.stateNode;if(He.tag===5&&Rt!==null&&(He=Rt,Ue!==null&&(Rt=yi(Pe,Ue),Rt!=null&&an.push(_(Pe,Rt,He)))),_r)break;Pe=Pe.return}0<an.length&&(mt=new Zt(mt,nn,null,x,vt),Tt.push({event:mt,listeners:an}))}}if((h&7)===0){e:{if(mt=l==="mouseover"||l==="pointerover",Zt=l==="mouseout"||l==="pointerout",mt&&x!==tn&&(nn=x.relatedTarget||x.fromElement)&&(Ra(nn)||nn[Kn]))break e;if((Zt||mt)&&(mt=vt.window===vt?vt:(mt=vt.ownerDocument)?mt.defaultView||mt.parentWindow:window,Zt?(nn=x.relatedTarget||x.toElement,Zt=Ge,nn=nn?Ra(nn):null,nn!==null&&(_r=$s(nn),nn!==_r||nn.tag!==5&&nn.tag!==6)&&(nn=null)):(Zt=null,nn=Ge),Zt!==nn)){if(an=jc,Rt="onMouseLeave",Ue="onMouseEnter",Pe="mouse",(l==="pointerout"||l==="pointerover")&&(an=vs,Rt="onPointerLeave",Ue="onPointerEnter",Pe="pointer"),_r=Zt==null?mt:Ci(Zt),He=nn==null?mt:Ci(nn),mt=new an(Rt,Pe+"leave",Zt,x,vt),mt.target=_r,mt.relatedTarget=He,Rt=null,Ra(vt)===Ge&&(an=new an(Ue,Pe+"enter",nn,x,vt),an.target=He,an.relatedTarget=_r,Rt=an),_r=Rt,Zt&&nn)t:{for(an=Zt,Ue=nn,Pe=0,He=an;He;He=N(He))Pe++;for(He=0,Rt=Ue;Rt;Rt=N(Rt))He++;for(;0<Pe-He;)an=N(an),Pe--;for(;0<He-Pe;)Ue=N(Ue),He--;for(;Pe--;){if(an===Ue||Ue!==null&&an===Ue.alternate)break t;an=N(an),Ue=N(Ue)}an=null}else an=null;Zt!==null&&W(Tt,mt,Zt,an,!1),nn!==null&&_r!==null&&W(Tt,_r,nn,an,!0)}}e:{if(mt=Ge?Ci(Ge):window,Zt=mt.nodeName&&mt.nodeName.toLowerCase(),Zt==="select"||Zt==="input"&&mt.type==="file")var un=Rf;else if(Xc(mt))if(Qr)un=pi;else{un=al;var fn=oa}else(Zt=mt.nodeName)&&Zt.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(un=eu);if(un&&(un=un(l,Ge))){Sa(Tt,un,x,vt);break e}fn&&fn(l,mt,Ge),l==="focusout"&&(fn=mt._wrapperState)&&fn.controlled&&mt.type==="number"&&Qe(mt,"number",mt.value)}switch(fn=Ge?Ci(Ge):window,l){case"focusin":(Xc(fn)||fn.contentEditable==="true")&&(Co=fn,Ao=Ge,Wu=null);break;case"focusout":Wu=Ao=Co=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,qc(Tt,x,vt);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":qc(Tt,x,vt)}var pn;if(Hi)e:{switch(l){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else ro?ol(l,x)&&(Tn="onCompositionEnd"):l==="keydown"&&x.keyCode===229&&(Tn="onCompositionStart");Tn&&(Ql&&x.locale!=="ko"&&(ro||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&ro&&(pn=Zl()):(to=vt,ps="value"in to?to.value:to.textContent,ro=!0)),fn=w(Ge,Tn),0<fn.length&&(Tn=new Yc(Tn,l,null,x,vt),Tt.push({event:Tn,listeners:fn}),pn?Tn.data=pn:(pn=Hu(x),pn!==null&&(Tn.data=pn)))),(pn=Zn?Mf(l,x):Ds(l,x))&&(Ge=w(Ge,"onBeforeInput"),0<Ge.length&&(vt=new Yc("onBeforeInput","beforeinput",null,x,vt),Tt.push({event:vt,listeners:Ge}),vt.data=pn))}dl(Tt,h)})}function _(l,h,x){return{instance:l,listener:h,currentTarget:x}}function w(l,h){for(var x=h+"Capture",A=[];l!==null;){var O=l,U=O.stateNode;O.tag===5&&U!==null&&(O=U,U=yi(l,x),U!=null&&A.unshift(_(l,U,O)),U=yi(l,h),U!=null&&A.push(_(l,U,O))),l=l.return}return A}function N(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function W(l,h,x,A,O){for(var U=h._reactName,te=[];x!==null&&x!==A;){var _e=x,we=_e.alternate,Ge=_e.stateNode;if(we!==null&&we===A)break;_e.tag===5&&Ge!==null&&(_e=Ge,O?(we=yi(x,U),we!=null&&te.unshift(_(x,we,_e))):O||(we=yi(x,U),we!=null&&te.push(_(x,we,_e)))),x=x.return}te.length!==0&&l.push({event:h,listeners:te})}var ne=/\r\n?/g,Te=/\u0000|\uFFFD/g;function Fe(l){return(typeof l=="string"?l:""+l).replace(ne,`
`).replace(Te,"")}function We(l,h,x){if(h=Fe(h),Fe(l)!==h&&x)throw Error(n(425))}function lt(){}var zt=null,dn=null;function Pn(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var vr=typeof setTimeout=="function"?setTimeout:void 0,Vi=typeof clearTimeout=="function"?clearTimeout:void 0,Br=typeof Promise=="function"?Promise:void 0,ts=typeof queueMicrotask=="function"?queueMicrotask:typeof Br<"u"?function(l){return Br.resolve(null).then(l).catch(fl)}:vr;function fl(l){setTimeout(function(){throw l})}function Jc(l,h){var x=h,A=0;do{var O=x.nextSibling;if(l.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(A===0){l.removeChild(O),eo(h);return}A--}else x!=="$"&&x!=="$?"&&x!=="$!"||A++;x=O}while(x);eo(h)}function la(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function oh(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var x=l.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return l;h--}else x==="/$"&&h++}l=l.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),er="__reactFiber$"+Pa,pl="__reactProps$"+Pa,Kn="__reactContainer$"+Pa,Po="__reactEvents$"+Pa,ed="__reactListeners$"+Pa,td="__reactHandles$"+Pa;function Ra(l){var h=l[er];if(h)return h;for(var x=l.parentNode;x;){if(h=x[Kn]||x[er]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(l=oh(l);l!==null;){if(x=l[er])return x;l=oh(l)}return h}l=x,x=l.parentNode}return null}function oo(l){return l=l[er]||l[Kn],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ci(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function nd(l){return l[pl]||null}var Im=[],Cr=-1;function ji(l){return{current:l}}function xi(l){0>Cr||(l.current=Im[Cr],Im[Cr]=null,Cr--)}function mi(l,h){Cr++,Im[Cr]=l.current,l.current=h}var ml={},Ur=ji(ml),Ts=ji(!1),gl=ml;function qu(l,h){var x=l.type.contextTypes;if(!x)return ml;var A=l.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var O={},U;for(U in x)O[U]=h[U];return A&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=O),O}function ns(l){return l=l.childContextTypes,l!=null}function ah(){xi(Ts),xi(Ur)}function Lm(l,h,x){if(Ur.current!==ml)throw Error(n(168));mi(Ur,h),mi(Ts,x)}function lh(l,h,x){var A=l.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return x;A=A.getChildContext();for(var O in A)if(!(O in h))throw Error(n(108,Ce(l)||"Unknown",O));return j({},x,A)}function Zu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ml,gl=Ur.current,mi(Ur,l),mi(Ts,Ts.current),!0}function Nm(l,h,x){var A=l.stateNode;if(!A)throw Error(n(169));x?(l=lh(l,h,gl),A.__reactInternalMemoizedMergedChildContext=l,xi(Ts),xi(Ur),mi(Ur,l)):xi(Ts),mi(Ts,x)}var ua=null,uh=!1,Lf=!1;function ch(l){ua===null?ua=[l]:ua.push(l)}function yy(l){uh=!0,ch(l)}function Ia(){if(!Lf&&ua!==null){Lf=!0;var l=0,h=An;try{var x=ua;for(An=1;l<x.length;l++){var A=x[l];do A=A(!0);while(A!==null)}ua=null,uh=!1}catch(O){throw ua!==null&&(ua=ua.slice(l+1)),Fc(xt,Ia),O}finally{An=h,Lf=!1}}return null}var Ku=[],Us=0,Nf=null,Of=0,bs=[],Ar=0,$u=null,Ot=1,Ro="";function yl(l,h){Ku[Us++]=Of,Ku[Us++]=Nf,Nf=l,Of=h}function Om(l,h,x){bs[Ar++]=Ot,bs[Ar++]=Ro,bs[Ar++]=$u,$u=l;var A=Ot;l=Ro;var O=32-Dt(A)-1;A&=~(1<<O),x+=1;var U=32-Dt(h)+O;if(30<U){var te=O-O%5;U=(A&(1<<te)-1).toString(32),A>>=te,O-=te,Ot=1<<32-Dt(h)+O|x<<O|A,Ro=U+l}else Ot=1<<U|x<<O|A,Ro=l}function km(l){l.return!==null&&(yl(l,1),Om(l,1,0))}function vl(l){for(;l===Nf;)Nf=Ku[--Us],Ku[Us]=null,Of=Ku[--Us],Ku[Us]=null;for(;l===$u;)$u=bs[--Ar],bs[Ar]=null,Ro=bs[--Ar],bs[Ar]=null,Ot=bs[--Ar],bs[Ar]=null}var zr=null,Ss=null,Si=!1,Io=null;function Dm(l,h){var x=Da(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=l,h=l.deletions,h===null?(l.deletions=[x],l.flags|=16):h.push(x)}function Fm(l,h){switch(l.tag){case 5:var x=l.type;return h=h.nodeType!==1||x.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,zr=l,Ss=la(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,zr=l,Ss=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(x=$u!==null?{id:Ot,overflow:Ro}:null,l.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=Da(18,null,null,0),x.stateNode=h,x.return=l,l.child=x,zr=l,Ss=null,!0):!1;default:return!1}}function kf(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Df(l){if(Si){var h=Ss;if(h){var x=h;if(!Fm(l,h)){if(kf(l))throw Error(n(418));h=la(x.nextSibling);var A=zr;h&&Fm(l,h)?Dm(A,x):(l.flags=l.flags&-4097|2,Si=!1,zr=l)}}else{if(kf(l))throw Error(n(418));l.flags=l.flags&-4097|2,Si=!1,zr=l}}}function Ff(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;zr=l}function id(l){if(l!==zr)return!1;if(!Si)return Ff(l),Si=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!Pn(l.type,l.memoizedProps)),h&&(h=Ss)){if(kf(l))throw Bm(),Error(n(418));for(;h;)Dm(l,h),h=la(h.nextSibling)}if(Ff(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var x=l.data;if(x==="/$"){if(h===0){Ss=la(l.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++}l=l.nextSibling}Ss=null}}else Ss=zr?la(l.stateNode.nextSibling):null;return!0}function Bm(){for(var l=Ss;l;)l=la(l.nextSibling)}function ru(){Ss=zr=null,Si=!1}function rd(l){Io===null?Io=[l]:Io.push(l)}var H1=D.ReactCurrentBatchConfig;function dh(l,h,x){if(l=x.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var A=x.stateNode}if(!A)throw Error(n(147,l));var O=A,U=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(te){var _e=O.refs;te===null?delete _e[U]:_e[U]=te},h._stringRef=U,h)}if(typeof l!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,l))}return l}function hh(l,h){throw l=Object.prototype.toString.call(h),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function Um(l){var h=l._init;return h(l._payload)}function zm(l){function h(Ue,Pe){if(l){var He=Ue.deletions;He===null?(Ue.deletions=[Pe],Ue.flags|=16):He.push(Pe)}}function x(Ue,Pe){if(!l)return null;for(;Pe!==null;)h(Ue,Pe),Pe=Pe.sibling;return null}function A(Ue,Pe){for(Ue=new Map;Pe!==null;)Pe.key!==null?Ue.set(Pe.key,Pe):Ue.set(Pe.index,Pe),Pe=Pe.sibling;return Ue}function O(Ue,Pe){return Ue=md(Ue,Pe),Ue.index=0,Ue.sibling=null,Ue}function U(Ue,Pe,He){return Ue.index=He,l?(He=Ue.alternate,He!==null?(He=He.index,He<Pe?(Ue.flags|=2,Pe):He):(Ue.flags|=2,Pe)):(Ue.flags|=1048576,Pe)}function te(Ue){return l&&Ue.alternate===null&&(Ue.flags|=2),Ue}function _e(Ue,Pe,He,Rt){return Pe===null||Pe.tag!==6?(Pe=oE(He,Ue.mode,Rt),Pe.return=Ue,Pe):(Pe=O(Pe,He),Pe.return=Ue,Pe)}function we(Ue,Pe,He,Rt){var un=He.type;return un===K?vt(Ue,Pe,He.props.children,Rt,He.key):Pe!==null&&(Pe.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===fe&&Um(un)===Pe.type)?(Rt=O(Pe,He.props),Rt.ref=dh(Ue,Pe,He),Rt.return=Ue,Rt):(Rt=zy(He.type,He.key,He.props,null,Ue.mode,Rt),Rt.ref=dh(Ue,Pe,He),Rt.return=Ue,Rt)}function Ge(Ue,Pe,He,Rt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==He.containerInfo||Pe.stateNode.implementation!==He.implementation?(Pe=aE(He,Ue.mode,Rt),Pe.return=Ue,Pe):(Pe=O(Pe,He.children||[]),Pe.return=Ue,Pe)}function vt(Ue,Pe,He,Rt,un){return Pe===null||Pe.tag!==7?(Pe=Ph(He,Ue.mode,Rt,un),Pe.return=Ue,Pe):(Pe=O(Pe,He),Pe.return=Ue,Pe)}function Tt(Ue,Pe,He){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=oE(""+Pe,Ue.mode,He),Pe.return=Ue,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case G:return He=zy(Pe.type,Pe.key,Pe.props,null,Ue.mode,He),He.ref=dh(Ue,null,Pe),He.return=Ue,He;case V:return Pe=aE(Pe,Ue.mode,He),Pe.return=Ue,Pe;case fe:var Rt=Pe._init;return Tt(Ue,Rt(Pe._payload),He)}if(Ie(Pe)||se(Pe))return Pe=Ph(Pe,Ue.mode,He,null),Pe.return=Ue,Pe;hh(Ue,Pe)}return null}function mt(Ue,Pe,He,Rt){var un=Pe!==null?Pe.key:null;if(typeof He=="string"&&He!==""||typeof He=="number")return un!==null?null:_e(Ue,Pe,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case G:return He.key===un?we(Ue,Pe,He,Rt):null;case V:return He.key===un?Ge(Ue,Pe,He,Rt):null;case fe:return un=He._init,mt(Ue,Pe,un(He._payload),Rt)}if(Ie(He)||se(He))return un!==null?null:vt(Ue,Pe,He,Rt,null);hh(Ue,He)}return null}function Zt(Ue,Pe,He,Rt,un){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Ue=Ue.get(He)||null,_e(Pe,Ue,""+Rt,un);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case G:return Ue=Ue.get(Rt.key===null?He:Rt.key)||null,we(Pe,Ue,Rt,un);case V:return Ue=Ue.get(Rt.key===null?He:Rt.key)||null,Ge(Pe,Ue,Rt,un);case fe:var fn=Rt._init;return Zt(Ue,Pe,He,fn(Rt._payload),un)}if(Ie(Rt)||se(Rt))return Ue=Ue.get(He)||null,vt(Pe,Ue,Rt,un,null);hh(Pe,Rt)}return null}function nn(Ue,Pe,He,Rt){for(var un=null,fn=null,pn=Pe,Tn=Pe=0,os=null;pn!==null&&Tn<He.length;Tn++){pn.index>Tn?(os=pn,pn=null):os=pn.sibling;var oi=mt(Ue,pn,He[Tn],Rt);if(oi===null){pn===null&&(pn=os);break}l&&pn&&oi.alternate===null&&h(Ue,pn),Pe=U(oi,Pe,Tn),fn===null?un=oi:fn.sibling=oi,fn=oi,pn=os}if(Tn===He.length)return x(Ue,pn),Si&&yl(Ue,Tn),un;if(pn===null){for(;Tn<He.length;Tn++)pn=Tt(Ue,He[Tn],Rt),pn!==null&&(Pe=U(pn,Pe,Tn),fn===null?un=pn:fn.sibling=pn,fn=pn);return Si&&yl(Ue,Tn),un}for(pn=A(Ue,pn);Tn<He.length;Tn++)os=Zt(pn,Ue,Tn,He[Tn],Rt),os!==null&&(l&&os.alternate!==null&&pn.delete(os.key===null?Tn:os.key),Pe=U(os,Pe,Tn),fn===null?un=os:fn.sibling=os,fn=os);return l&&pn.forEach(function(gd){return h(Ue,gd)}),Si&&yl(Ue,Tn),un}function an(Ue,Pe,He,Rt){var un=se(He);if(typeof un!="function")throw Error(n(150));if(He=un.call(He),He==null)throw Error(n(151));for(var fn=un=null,pn=Pe,Tn=Pe=0,os=null,oi=He.next();pn!==null&&!oi.done;Tn++,oi=He.next()){pn.index>Tn?(os=pn,pn=null):os=pn.sibling;var gd=mt(Ue,pn,oi.value,Rt);if(gd===null){pn===null&&(pn=os);break}l&&pn&&gd.alternate===null&&h(Ue,pn),Pe=U(gd,Pe,Tn),fn===null?un=gd:fn.sibling=gd,fn=gd,pn=os}if(oi.done)return x(Ue,pn),Si&&yl(Ue,Tn),un;if(pn===null){for(;!oi.done;Tn++,oi=He.next())oi=Tt(Ue,oi.value,Rt),oi!==null&&(Pe=U(oi,Pe,Tn),fn===null?un=oi:fn.sibling=oi,fn=oi);return Si&&yl(Ue,Tn),un}for(pn=A(Ue,pn);!oi.done;Tn++,oi=He.next())oi=Zt(pn,Ue,Tn,oi.value,Rt),oi!==null&&(l&&oi.alternate!==null&&pn.delete(oi.key===null?Tn:oi.key),Pe=U(oi,Pe,Tn),fn===null?un=oi:fn.sibling=oi,fn=oi);return l&&pn.forEach(function(CF){return h(Ue,CF)}),Si&&yl(Ue,Tn),un}function _r(Ue,Pe,He,Rt){if(typeof He=="object"&&He!==null&&He.type===K&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case G:e:{for(var un=He.key,fn=Pe;fn!==null;){if(fn.key===un){if(un=He.type,un===K){if(fn.tag===7){x(Ue,fn.sibling),Pe=O(fn,He.props.children),Pe.return=Ue,Ue=Pe;break e}}else if(fn.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===fe&&Um(un)===fn.type){x(Ue,fn.sibling),Pe=O(fn,He.props),Pe.ref=dh(Ue,fn,He),Pe.return=Ue,Ue=Pe;break e}x(Ue,fn);break}else h(Ue,fn);fn=fn.sibling}He.type===K?(Pe=Ph(He.props.children,Ue.mode,Rt,He.key),Pe.return=Ue,Ue=Pe):(Rt=zy(He.type,He.key,He.props,null,Ue.mode,Rt),Rt.ref=dh(Ue,Pe,He),Rt.return=Ue,Ue=Rt)}return te(Ue);case V:e:{for(fn=He.key;Pe!==null;){if(Pe.key===fn)if(Pe.tag===4&&Pe.stateNode.containerInfo===He.containerInfo&&Pe.stateNode.implementation===He.implementation){x(Ue,Pe.sibling),Pe=O(Pe,He.children||[]),Pe.return=Ue,Ue=Pe;break e}else{x(Ue,Pe);break}else h(Ue,Pe);Pe=Pe.sibling}Pe=aE(He,Ue.mode,Rt),Pe.return=Ue,Ue=Pe}return te(Ue);case fe:return fn=He._init,_r(Ue,Pe,fn(He._payload),Rt)}if(Ie(He))return nn(Ue,Pe,He,Rt);if(se(He))return an(Ue,Pe,He,Rt);hh(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"?(He=""+He,Pe!==null&&Pe.tag===6?(x(Ue,Pe.sibling),Pe=O(Pe,He),Pe.return=Ue,Ue=Pe):(x(Ue,Pe),Pe=oE(He,Ue.mode,Rt),Pe.return=Ue,Ue=Pe),te(Ue)):x(Ue,Pe)}return _r}var Qu=zm(!0),fh=zm(!1),Ju=ji(null),ec=null,_l=null,sd=null;function tc(){sd=_l=ec=null}function ph(l){var h=Ju.current;xi(Ju),l._currentValue=h}function mh(l,h,x){for(;l!==null;){var A=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),l===x)break;l=l.return}}function su(l,h){ec=l,sd=_l=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&h)!==0&&(Fn=!0),l.firstContext=null)}function ao(l){var h=l._currentValue;if(sd!==l)if(l={context:l,memoizedValue:h,next:null},_l===null){if(ec===null)throw Error(n(308));_l=l,ec.dependencies={lanes:0,firstContext:l}}else _l=_l.next=l;return h}var xl=null;function Hm(l){xl===null?xl=[l]:xl.push(l)}function gh(l,h,x,A){var O=h.interleaved;return O===null?(x.next=x,Hm(h)):(x.next=O.next,O.next=x),h.interleaved=x,ca(l,A)}function ca(l,h){l.lanes|=h;var x=l.alternate;for(x!==null&&(x.lanes|=h),x=l,l=l.return;l!==null;)l.childLanes|=h,x=l.alternate,x!==null&&(x.childLanes|=h),x=l,l=l.return;return x.tag===3?x.stateNode:null}var hi=!1;function Nn(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tr(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function fi(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function Ai(l,h,x){var A=l.updateQueue;if(A===null)return null;if(A=A.shared,(ni&2)!==0){var O=A.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),A.pending=h,ca(l,x)}return O=A.interleaved,O===null?(h.next=h,Hm(A)):(h.next=O.next,O.next=h),A.interleaved=h,ca(l,x)}function is(l,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var A=h.lanes;A&=l.pendingLanes,x|=A,h.lanes=x,ai(l,x)}}function nc(l,h){var x=l.updateQueue,A=l.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var O=null,U=null;if(x=x.firstBaseUpdate,x!==null){do{var te={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};U===null?O=U=te:U=U.next=te,x=x.next}while(x!==null);U===null?O=U=h:U=U.next=h}else O=U=h;x={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:U,shared:A.shared,effects:A.effects},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=h:l.next=h,x.lastBaseUpdate=h}function Wi(l,h,x,A){var O=l.updateQueue;hi=!1;var U=O.firstBaseUpdate,te=O.lastBaseUpdate,_e=O.shared.pending;if(_e!==null){O.shared.pending=null;var we=_e,Ge=we.next;we.next=null,te===null?U=Ge:te.next=Ge,te=we;var vt=l.alternate;vt!==null&&(vt=vt.updateQueue,_e=vt.lastBaseUpdate,_e!==te&&(_e===null?vt.firstBaseUpdate=Ge:_e.next=Ge,vt.lastBaseUpdate=we))}if(U!==null){var Tt=O.baseState;te=0,vt=Ge=we=null,_e=U;do{var mt=_e.lane,Zt=_e.eventTime;if((A&mt)===mt){vt!==null&&(vt=vt.next={eventTime:Zt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var nn=l,an=_e;switch(mt=h,Zt=x,an.tag){case 1:if(nn=an.payload,typeof nn=="function"){Tt=nn.call(Zt,Tt,mt);break e}Tt=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=an.payload,mt=typeof nn=="function"?nn.call(Zt,Tt,mt):nn,mt==null)break e;Tt=j({},Tt,mt);break e;case 2:hi=!0}}_e.callback!==null&&_e.lane!==0&&(l.flags|=64,mt=O.effects,mt===null?O.effects=[_e]:mt.push(_e))}else Zt={eventTime:Zt,lane:mt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},vt===null?(Ge=vt=Zt,we=Tt):vt=vt.next=Zt,te|=mt;if(_e=_e.next,_e===null){if(_e=O.shared.pending,_e===null)break;mt=_e,_e=mt.next,mt.next=null,O.lastBaseUpdate=mt,O.shared.pending=null}}while(!0);if(vt===null&&(we=Tt),O.baseState=we,O.firstBaseUpdate=Ge,O.lastBaseUpdate=vt,h=O.shared.interleaved,h!==null){O=h;do te|=O.lane,O=O.next;while(O!==h)}else U===null&&(O.shared.lanes=0);wh|=te,l.lanes=te,l.memoizedState=Tt}}function od(l,h,x){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var A=l[h],O=A.callback;if(O!==null){if(A.callback=null,A=x,typeof O!="function")throw Error(n(191,O));O.call(A)}}}var La={},lo=ji(La),ic=ji(La),El=ji(La);function lr(l){if(l===La)throw Error(n(174));return l}function yh(l,h){switch(mi(El,h),mi(ic,l),mi(lo,La),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Se(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=Se(h,l)}xi(lo),mi(lo,h)}function ou(){xi(lo),xi(ic),xi(El)}function rc(l){lr(El.current);var h=lr(lo.current),x=Se(h,l.type);h!==x&&(mi(ic,l),mi(lo,x))}function ad(l){ic.current===l&&(xi(lo),xi(ic))}var wi=ji(0);function da(l){for(var h=l;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ld=[];function Na(){for(var l=0;l<ld.length;l++)ld[l]._workInProgressVersionPrimary=null;ld.length=0}var sc=D.ReactCurrentDispatcher,oc=D.ReactCurrentBatchConfig,Tl=0,Ei=null,Gi=null,Jn=null,ha=!1,rs=!1,au=0,zs=0;function Hr(){throw Error(n(321))}function vh(l,h){if(h===null)return!1;for(var x=0;x<h.length&&x<l.length;x++)if(!xs(l[x],h[x]))return!1;return!0}function _h(l,h,x,A,O,U){if(Tl=U,Ei=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,sc.current=l===null||l.memoizedState===null?Sy:wy,l=x(A,O),rs){U=0;do{if(rs=!1,au=0,25<=U)throw Error(n(301));U+=1,Jn=Gi=null,h.updateQueue=null,sc.current=Cy,l=x(A,O)}while(rs)}if(sc.current=Wf,h=Gi!==null&&Gi.next!==null,Tl=0,Jn=Gi=Ei=null,ha=!1,h)throw Error(n(300));return l}function Vm(){var l=au!==0;return au=0,l}function Vr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Ei.memoizedState=Jn=l:Jn=Jn.next=l,Jn}function uo(){if(Gi===null){var l=Ei.alternate;l=l!==null?l.memoizedState:null}else l=Gi.next;var h=Jn===null?Ei.memoizedState:Jn.next;if(h!==null)Jn=h,Gi=l;else{if(l===null)throw Error(n(310));Gi=l,l={memoizedState:Gi.memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},Jn===null?Ei.memoizedState=Jn=l:Jn=Jn.next=l}return Jn}function ud(l,h){return typeof h=="function"?h(l):h}function xh(l){var h=uo(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=l;var A=Gi,O=A.baseQueue,U=x.pending;if(U!==null){if(O!==null){var te=O.next;O.next=U.next,U.next=te}A.baseQueue=O=U,x.pending=null}if(O!==null){U=O.next,A=A.baseState;var _e=te=null,we=null,Ge=U;do{var vt=Ge.lane;if((Tl&vt)===vt)we!==null&&(we=we.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),A=Ge.hasEagerState?Ge.eagerState:l(A,Ge.action);else{var Tt={lane:vt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};we===null?(_e=we=Tt,te=A):we=we.next=Tt,Ei.lanes|=vt,wh|=vt}Ge=Ge.next}while(Ge!==null&&Ge!==U);we===null?te=A:we.next=_e,xs(A,h.memoizedState)||(Fn=!0),h.memoizedState=A,h.baseState=te,h.baseQueue=we,x.lastRenderedState=A}if(l=x.interleaved,l!==null){O=l;do U=O.lane,Ei.lanes|=U,wh|=U,O=O.next;while(O!==l)}else O===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function bl(l){var h=uo(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=l;var A=x.dispatch,O=x.pending,U=h.memoizedState;if(O!==null){x.pending=null;var te=O=O.next;do U=l(U,te.action),te=te.next;while(te!==O);xs(U,h.memoizedState)||(Fn=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),x.lastRenderedState=U}return[U,A]}function jm(){}function Wm(l,h){var x=Ei,A=uo(),O=h(),U=!xs(A.memoizedState,O);if(U&&(A.memoizedState=O,Fn=!0),A=A.queue,Xm(vy.bind(null,x,A,l),[l]),A.getSnapshot!==h||U||Jn!==null&&Jn.memoizedState.tag&1){if(x.flags|=2048,fa(9,Eh.bind(null,x,A,O,h),void 0,null),ss===null)throw Error(n(349));(Tl&30)!==0||Bf(x,h,O)}return O}function Bf(l,h,x){l.flags|=16384,l={getSnapshot:h,value:x},h=Ei.updateQueue,h===null?(h={lastEffect:null,stores:null},Ei.updateQueue=h,h.stores=[l]):(x=h.stores,x===null?h.stores=[l]:x.push(l))}function Eh(l,h,x,A){h.value=x,h.getSnapshot=A,_y(h)&&Gm(l)}function vy(l,h,x){return x(function(){_y(h)&&Gm(l)})}function _y(l){var h=l.getSnapshot;l=l.value;try{var x=h();return!xs(l,x)}catch{return!0}}function Gm(l){var h=ca(l,1);h!==null&&Ml(h,l,1,-1)}function Ym(l){var h=Vr();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:l},h.queue=l,l=l.dispatch=ac.bind(null,Ei,l),[h.memoizedState,l]}function fa(l,h,x,A){return l={tag:l,create:h,destroy:x,deps:A,next:null},h=Ei.updateQueue,h===null?(h={lastEffect:null,stores:null},Ei.updateQueue=h,h.lastEffect=l.next=l):(x=h.lastEffect,x===null?h.lastEffect=l.next=l:(A=x.next,x.next=l,l.next=A,h.lastEffect=l)),l}function xy(){return uo().memoizedState}function Oa(l,h,x,A){var O=Vr();Ei.flags|=l,O.memoizedState=fa(1|h,x,void 0,A===void 0?null:A)}function Th(l,h,x,A){var O=uo();A=A===void 0?null:A;var U=void 0;if(Gi!==null){var te=Gi.memoizedState;if(U=te.destroy,A!==null&&vh(A,te.deps)){O.memoizedState=fa(h,x,U,A);return}}Ei.flags|=l,O.memoizedState=fa(1|h,x,U,A)}function ws(l,h){return Oa(8390656,8,l,h)}function Xm(l,h){return Th(2048,8,l,h)}function qm(l,h){return Th(4,2,l,h)}function Ey(l,h){return Th(4,4,l,h)}function Ty(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function Zm(l,h,x){return x=x!=null?x.concat([l]):null,Th(4,4,Ty.bind(null,h,l),x)}function Uf(){}function by(l,h){var x=uo();h=h===void 0?null:h;var A=x.memoizedState;return A!==null&&h!==null&&vh(h,A[1])?A[0]:(x.memoizedState=[l,h],l)}function co(l,h){var x=uo();h=h===void 0?null:h;var A=x.memoizedState;return A!==null&&h!==null&&vh(h,A[1])?A[0]:(l=l(),x.memoizedState=[l,h],l)}function zf(l,h,x){return(Tl&21)===0?(l.baseState&&(l.baseState=!1,Fn=!0),l.memoizedState=x):(xs(x,h)||(x=zn(),Ei.lanes|=x,wh|=x,l.baseState=!0),h)}function V1(l,h){var x=An;An=x!==0&&4>x?x:4,l(!0);var A=oc.transition;oc.transition={};try{l(!1),h()}finally{An=x,oc.transition=A}}function Sl(){return uo().memoizedState}function Hf(l,h,x){var A=fd(l);if(x={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null},bh(l))Vf(h,x);else if(x=gh(l,h,x,A),x!==null){var O=fo();Ml(x,l,A,O),jf(x,h,A)}}function ac(l,h,x){var A=fd(l),O={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null};if(bh(l))Vf(h,O);else{var U=l.alternate;if(l.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var te=h.lastRenderedState,_e=U(te,x);if(O.hasEagerState=!0,O.eagerState=_e,xs(_e,te)){var we=h.interleaved;we===null?(O.next=O,Hm(h)):(O.next=we.next,we.next=O),h.interleaved=O;return}}catch{}finally{}x=gh(l,h,O,A),x!==null&&(O=fo(),Ml(x,l,A,O),jf(x,h,A))}}function bh(l){var h=l.alternate;return l===Ei||h!==null&&h===Ei}function Vf(l,h){rs=ha=!0;var x=l.pending;x===null?h.next=h:(h.next=x.next,x.next=h),l.pending=h}function jf(l,h,x){if((x&4194240)!==0){var A=h.lanes;A&=l.pendingLanes,x|=A,h.lanes=x,ai(l,x)}}var Wf={readContext:ao,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},Sy={readContext:ao,useCallback:function(l,h){return Vr().memoizedState=[l,h===void 0?null:h],l},useContext:ao,useEffect:ws,useImperativeHandle:function(l,h,x){return x=x!=null?x.concat([l]):null,Oa(4194308,4,Ty.bind(null,h,l),x)},useLayoutEffect:function(l,h){return Oa(4194308,4,l,h)},useInsertionEffect:function(l,h){return Oa(4,2,l,h)},useMemo:function(l,h){var x=Vr();return h=h===void 0?null:h,l=l(),x.memoizedState=[l,h],l},useReducer:function(l,h,x){var A=Vr();return h=x!==void 0?x(h):h,A.memoizedState=A.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},A.queue=l,l=l.dispatch=Hf.bind(null,Ei,l),[A.memoizedState,l]},useRef:function(l){var h=Vr();return l={current:l},h.memoizedState=l},useState:Ym,useDebugValue:Uf,useDeferredValue:function(l){return Vr().memoizedState=l},useTransition:function(){var l=Ym(!1),h=l[0];return l=V1.bind(null,l[1]),Vr().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,x){var A=Ei,O=Vr();if(Si){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),ss===null)throw Error(n(349));(Tl&30)!==0||Bf(A,h,x)}O.memoizedState=x;var U={value:x,getSnapshot:h};return O.queue=U,ws(vy.bind(null,A,U,l),[l]),A.flags|=2048,fa(9,Eh.bind(null,A,U,x,h),void 0,null),x},useId:function(){var l=Vr(),h=ss.identifierPrefix;if(Si){var x=Ro,A=Ot;x=(A&~(1<<32-Dt(A)-1)).toString(32)+x,h=":"+h+"R"+x,x=au++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=zs++,h=":"+h+"r"+x.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},wy={readContext:ao,useCallback:by,useContext:ao,useEffect:Xm,useImperativeHandle:Zm,useInsertionEffect:qm,useLayoutEffect:Ey,useMemo:co,useReducer:xh,useRef:xy,useState:function(){return xh(ud)},useDebugValue:Uf,useDeferredValue:function(l){var h=uo();return zf(h,Gi.memoizedState,l)},useTransition:function(){var l=xh(ud)[0],h=uo().memoizedState;return[l,h]},useMutableSource:jm,useSyncExternalStore:Wm,useId:Sl,unstable_isNewReconciler:!1},Cy={readContext:ao,useCallback:by,useContext:ao,useEffect:Xm,useImperativeHandle:Zm,useInsertionEffect:qm,useLayoutEffect:Ey,useMemo:co,useReducer:bl,useRef:xy,useState:function(){return bl(ud)},useDebugValue:Uf,useDeferredValue:function(l){var h=uo();return Gi===null?h.memoizedState=l:zf(h,Gi.memoizedState,l)},useTransition:function(){var l=bl(ud)[0],h=uo().memoizedState;return[l,h]},useMutableSource:jm,useSyncExternalStore:Wm,useId:Sl,unstable_isNewReconciler:!1};function Lo(l,h){if(l&&l.defaultProps){h=j({},h),l=l.defaultProps;for(var x in l)h[x]===void 0&&(h[x]=l[x]);return h}return h}function Sh(l,h,x,A){h=l.memoizedState,x=x(A,h),x=x==null?h:j({},h,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}var Gf={isMounted:function(l){return(l=l._reactInternals)?$s(l)===l:!1},enqueueSetState:function(l,h,x){l=l._reactInternals;var A=fo(),O=fd(l),U=fi(A,O);U.payload=h,x!=null&&(U.callback=x),h=Ai(l,U,O),h!==null&&(Ml(h,l,O,A),is(h,l,O))},enqueueReplaceState:function(l,h,x){l=l._reactInternals;var A=fo(),O=fd(l),U=fi(A,O);U.tag=1,U.payload=h,x!=null&&(U.callback=x),h=Ai(l,U,O),h!==null&&(Ml(h,l,O,A),is(h,l,O))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var x=fo(),A=fd(l),O=fi(x,A);O.tag=2,h!=null&&(O.callback=h),h=Ai(l,O,A),h!==null&&(Ml(h,l,A,x),is(h,l,A))}};function Ay(l,h,x,A,O,U,te){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(A,U,te):h.prototype&&h.prototype.isPureReactComponent?!wo(x,A)||!wo(O,U):!0}function m(l,h,x){var A=!1,O=ml,U=h.contextType;return typeof U=="object"&&U!==null?U=ao(U):(O=ns(h)?gl:Ur.current,A=h.contextTypes,U=(A=A!=null)?qu(l,O):ml),h=new h(x,U),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Gf,l.stateNode=h,h._reactInternals=l,A&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=O,l.__reactInternalMemoizedMaskedChildContext=U),h}function g(l,h,x,A){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,A),h.state!==l&&Gf.enqueueReplaceState(h,h.state,null)}function C(l,h,x,A){var O=l.stateNode;O.props=x,O.state=l.memoizedState,O.refs={},Nn(l);var U=h.contextType;typeof U=="object"&&U!==null?O.context=ao(U):(U=ns(h)?gl:Ur.current,O.context=qu(l,U)),O.state=l.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Sh(l,h,U,x),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&Gf.enqueueReplaceState(O,O.state,null),Wi(l,x,O,A),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308)}function M(l,h){try{var x="",A=h;do x+=xe(A),A=A.return;while(A);var O=x}catch(U){O=`
Error generating stack: `+U.message+`
`+U.stack}return{value:l,source:h,stack:O,digest:null}}function B(l,h,x){return{value:l,source:null,stack:x??null,digest:h??null}}function q(l,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var ve=typeof WeakMap=="function"?WeakMap:Map;function Re(l,h,x){x=fi(-1,x),x.tag=3,x.payload={element:null};var A=h.value;return x.callback=function(){Oy||(Oy=!0,Q1=A),q(l,h)},x}function $e(l,h,x){x=fi(-1,x),x.tag=3;var A=l.type.getDerivedStateFromError;if(typeof A=="function"){var O=h.value;x.payload=function(){return A(O)},x.callback=function(){q(l,h)}}var U=l.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(x.callback=function(){q(l,h),typeof A!="function"&&(dd===null?dd=new Set([this]):dd.add(this));var te=h.stack;this.componentDidCatch(h.value,{componentStack:te!==null?te:""})}),x}function Ct(l,h,x){var A=l.pingCache;if(A===null){A=l.pingCache=new ve;var O=new Set;A.set(h,O)}else O=A.get(h),O===void 0&&(O=new Set,A.set(h,O));O.has(x)||(O.add(x),l=mF.bind(null,l,h,x),h.then(l,l))}function $t(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function Sn(l,h,x,A,O){return(l.mode&1)===0?(l===h?l.flags|=65536:(l.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=fi(-1,1),h.tag=2,Ai(x,h,1))),x.lanes|=1),l):(l.flags|=65536,l.lanes=O,l)}var hn=D.ReactCurrentOwner,Fn=!1;function Wt(l,h,x,A){h.child=l===null?fh(h,null,x,A):Qu(h,l.child,x,A)}function jr(l,h,x,A,O){x=x.render;var U=h.ref;return su(h,O),A=_h(l,h,x,A,U,O),x=Vm(),l!==null&&!Fn?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~O,lc(l,h,O)):(Si&&x&&km(h),h.flags|=1,Wt(l,h,A,O),h.child)}function ho(l,h,x,A,O){if(l===null){var U=x.type;return typeof U=="function"&&!sE(U)&&U.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=U,Ve(l,h,U,A,O)):(l=zy(x.type,null,A,h,h.mode,O),l.ref=h.ref,l.return=h,h.child=l)}if(U=l.child,(l.lanes&O)===0){var te=U.memoizedProps;if(x=x.compare,x=x!==null?x:wo,x(te,A)&&l.ref===h.ref)return lc(l,h,O)}return h.flags|=1,l=md(U,A),l.ref=h.ref,l.return=h,h.child=l}function Ve(l,h,x,A,O){if(l!==null){var U=l.memoizedProps;if(wo(U,A)&&l.ref===h.ref)if(Fn=!1,h.pendingProps=A=U,(l.lanes&O)!==0)(l.flags&131072)!==0&&(Fn=!0);else return h.lanes=l.lanes,lc(l,h,O)}return Ht(l,h,x,A,O)}function ke(l,h,x){var A=h.pendingProps,O=A.children,U=l!==null?l.memoizedState:null;if(A.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},mi(Xf,pa),pa|=x;else{if((x&1073741824)===0)return l=U!==null?U.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,mi(Xf,pa),pa|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=U!==null?U.baseLanes:x,mi(Xf,pa),pa|=A}else U!==null?(A=U.baseLanes|x,h.memoizedState=null):A=x,mi(Xf,pa),pa|=A;return Wt(l,h,O,x),h.child}function qe(l,h){var x=h.ref;(l===null&&x!==null||l!==null&&l.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function Ht(l,h,x,A,O){var U=ns(x)?gl:Ur.current;return U=qu(h,U),su(h,O),x=_h(l,h,x,A,U,O),A=Vm(),l!==null&&!Fn?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~O,lc(l,h,O)):(Si&&A&&km(h),h.flags|=1,Wt(l,h,x,O),h.child)}function ln(l,h,x,A,O){if(ns(x)){var U=!0;Zu(h)}else U=!1;if(su(h,O),h.stateNode===null)Py(l,h),m(h,x,A),C(h,x,A,O),A=!0;else if(l===null){var te=h.stateNode,_e=h.memoizedProps;te.props=_e;var we=te.context,Ge=x.contextType;typeof Ge=="object"&&Ge!==null?Ge=ao(Ge):(Ge=ns(x)?gl:Ur.current,Ge=qu(h,Ge));var vt=x.getDerivedStateFromProps,Tt=typeof vt=="function"||typeof te.getSnapshotBeforeUpdate=="function";Tt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(_e!==A||we!==Ge)&&g(h,te,A,Ge),hi=!1;var mt=h.memoizedState;te.state=mt,Wi(h,A,te,O),we=h.memoizedState,_e!==A||mt!==we||Ts.current||hi?(typeof vt=="function"&&(Sh(h,x,vt,A),we=h.memoizedState),(_e=hi||Ay(h,x,_e,A,mt,we,Ge))?(Tt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(h.flags|=4194308)):(typeof te.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=we),te.props=A,te.state=we,te.context=Ge,A=_e):(typeof te.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{te=h.stateNode,tr(l,h),_e=h.memoizedProps,Ge=h.type===h.elementType?_e:Lo(h.type,_e),te.props=Ge,Tt=h.pendingProps,mt=te.context,we=x.contextType,typeof we=="object"&&we!==null?we=ao(we):(we=ns(x)?gl:Ur.current,we=qu(h,we));var Zt=x.getDerivedStateFromProps;(vt=typeof Zt=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(_e!==Tt||mt!==we)&&g(h,te,A,we),hi=!1,mt=h.memoizedState,te.state=mt,Wi(h,A,te,O);var nn=h.memoizedState;_e!==Tt||mt!==nn||Ts.current||hi?(typeof Zt=="function"&&(Sh(h,x,Zt,A),nn=h.memoizedState),(Ge=hi||Ay(h,x,Ge,A,mt,nn,we)||!1)?(vt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(A,nn,we),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(A,nn,we)),typeof te.componentDidUpdate=="function"&&(h.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof te.componentDidUpdate!="function"||_e===l.memoizedProps&&mt===l.memoizedState||(h.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||_e===l.memoizedProps&&mt===l.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=nn),te.props=A,te.state=nn,te.context=we,A=Ge):(typeof te.componentDidUpdate!="function"||_e===l.memoizedProps&&mt===l.memoizedState||(h.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||_e===l.memoizedProps&&mt===l.memoizedState||(h.flags|=1024),A=!1)}return Rn(l,h,x,A,U,O)}function Rn(l,h,x,A,O,U){qe(l,h);var te=(h.flags&128)!==0;if(!A&&!te)return O&&Nm(h,x,!1),lc(l,h,U);A=h.stateNode,hn.current=h;var _e=te&&typeof x.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,l!==null&&te?(h.child=Qu(h,l.child,null,U),h.child=Qu(h,null,_e,U)):Wt(l,h,_e,U),h.memoizedState=A.state,O&&Nm(h,x,!0),h.child}function wn(l){var h=l.stateNode;h.pendingContext?Lm(l,h.pendingContext,h.pendingContext!==h.context):h.context&&Lm(l,h.context,!1),yh(l,h.containerInfo)}function Qn(l,h,x,A,O){return ru(),rd(O),h.flags|=256,Wt(l,h,x,A),h.child}var ur={dehydrated:null,treeContext:null,retryLane:0};function $n(l){return{baseLanes:l,cachePool:null,transitions:null}}function wl(l,h,x){var A=h.pendingProps,O=wi.current,U=!1,te=(h.flags&128)!==0,_e;if((_e=te)||(_e=l!==null&&l.memoizedState===null?!1:(O&2)!==0),_e?(U=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(O|=1),mi(wi,O&1),l===null)return Df(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((h.mode&1)===0?h.lanes=1:l.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(te=A.children,l=A.fallback,U?(A=h.mode,U=h.child,te={mode:"hidden",children:te},(A&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=te):U=Hy(te,A,0,null),l=Ph(l,A,x,null),U.return=h,l.return=h,U.sibling=l,h.child=U,h.child.memoizedState=$n(x),h.memoizedState=ur,l):Km(h,te));if(O=l.memoizedState,O!==null&&(_e=O.dehydrated,_e!==null))return iF(l,h,te,A,_e,O,x);if(U){U=A.fallback,te=h.mode,O=l.child,_e=O.sibling;var we={mode:"hidden",children:A.children};return(te&1)===0&&h.child!==O?(A=h.child,A.childLanes=0,A.pendingProps=we,h.deletions=null):(A=md(O,we),A.subtreeFlags=O.subtreeFlags&14680064),_e!==null?U=md(_e,U):(U=Ph(U,te,x,null),U.flags|=2),U.return=h,A.return=h,A.sibling=U,h.child=A,A=U,U=h.child,te=l.child.memoizedState,te=te===null?$n(x):{baseLanes:te.baseLanes|x,cachePool:null,transitions:te.transitions},U.memoizedState=te,U.childLanes=l.childLanes&~x,h.memoizedState=ur,A}return U=l.child,l=U.sibling,A=md(U,{mode:"visible",children:A.children}),(h.mode&1)===0&&(A.lanes=x),A.return=h,A.sibling=null,l!==null&&(x=h.deletions,x===null?(h.deletions=[l],h.flags|=16):x.push(l)),h.child=A,h.memoizedState=null,A}function Km(l,h){return h=Hy({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function My(l,h,x,A){return A!==null&&rd(A),Qu(h,l.child,null,x),l=Km(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function iF(l,h,x,A,O,U,te){if(x)return h.flags&256?(h.flags&=-257,A=B(Error(n(422))),My(l,h,te,A)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(U=A.fallback,O=h.mode,A=Hy({mode:"visible",children:A.children},O,0,null),U=Ph(U,O,te,null),U.flags|=2,A.return=h,U.return=h,A.sibling=U,h.child=A,(h.mode&1)!==0&&Qu(h,l.child,null,te),h.child.memoizedState=$n(te),h.memoizedState=ur,U);if((h.mode&1)===0)return My(l,h,te,null);if(O.data==="$!"){if(A=O.nextSibling&&O.nextSibling.dataset,A)var _e=A.dgst;return A=_e,U=Error(n(419)),A=B(U,A,void 0),My(l,h,te,A)}if(_e=(te&l.childLanes)!==0,Fn||_e){if(A=ss,A!==null){switch(te&-te){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(A.suspendedLanes|te))!==0?0:O,O!==0&&O!==U.retryLane&&(U.retryLane=O,ca(l,O),Ml(A,l,O,-1))}return rE(),A=B(Error(n(421))),My(l,h,te,A)}return O.data==="$?"?(h.flags|=128,h.child=l.child,h=gF.bind(null,l),O._reactRetry=h,null):(l=U.treeContext,Ss=la(O.nextSibling),zr=h,Si=!0,Io=null,l!==null&&(bs[Ar++]=Ot,bs[Ar++]=Ro,bs[Ar++]=$u,Ot=l.id,Ro=l.overflow,$u=h),h=Km(h,A.children),h.flags|=4096,h)}function _A(l,h,x){l.lanes|=h;var A=l.alternate;A!==null&&(A.lanes|=h),mh(l.return,h,x)}function j1(l,h,x,A,O){var U=l.memoizedState;U===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:O}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=A,U.tail=x,U.tailMode=O)}function xA(l,h,x){var A=h.pendingProps,O=A.revealOrder,U=A.tail;if(Wt(l,h,A.children,x),A=wi.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_A(l,x,h);else if(l.tag===19)_A(l,x,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}A&=1}if(mi(wi,A),(h.mode&1)===0)h.memoizedState=null;else switch(O){case"forwards":for(x=h.child,O=null;x!==null;)l=x.alternate,l!==null&&da(l)===null&&(O=x),x=x.sibling;x=O,x===null?(O=h.child,h.child=null):(O=x.sibling,x.sibling=null),j1(h,!1,O,x,U);break;case"backwards":for(x=null,O=h.child,h.child=null;O!==null;){if(l=O.alternate,l!==null&&da(l)===null){h.child=O;break}l=O.sibling,O.sibling=x,x=O,O=l}j1(h,!0,x,null,U);break;case"together":j1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Py(l,h){(h.mode&1)===0&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function lc(l,h,x){if(l!==null&&(h.dependencies=l.dependencies),wh|=h.lanes,(x&h.childLanes)===0)return null;if(l!==null&&h.child!==l.child)throw Error(n(153));if(h.child!==null){for(l=h.child,x=md(l,l.pendingProps),h.child=x,x.return=h;l.sibling!==null;)l=l.sibling,x=x.sibling=md(l,l.pendingProps),x.return=h;x.sibling=null}return h.child}function rF(l,h,x){switch(h.tag){case 3:wn(h),ru();break;case 5:rc(h);break;case 1:ns(h.type)&&Zu(h);break;case 4:yh(h,h.stateNode.containerInfo);break;case 10:var A=h.type._context,O=h.memoizedProps.value;mi(Ju,A._currentValue),A._currentValue=O;break;case 13:if(A=h.memoizedState,A!==null)return A.dehydrated!==null?(mi(wi,wi.current&1),h.flags|=128,null):(x&h.child.childLanes)!==0?wl(l,h,x):(mi(wi,wi.current&1),l=lc(l,h,x),l!==null?l.sibling:null);mi(wi,wi.current&1);break;case 19:if(A=(x&h.childLanes)!==0,(l.flags&128)!==0){if(A)return xA(l,h,x);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),mi(wi,wi.current),A)break;return null;case 22:case 23:return h.lanes=0,ke(l,h,x)}return lc(l,h,x)}var EA,W1,TA,bA;EA=function(l,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},W1=function(){},TA=function(l,h,x,A){var O=l.memoizedProps;if(O!==A){l=h.stateNode,lr(lo.current);var U=null;switch(x){case"input":O=le(l,O),A=le(l,A),U=[];break;case"select":O=j({},O,{value:void 0}),A=j({},A,{value:void 0}),U=[];break;case"textarea":O=ct(l,O),A=ct(l,A),U=[];break;default:typeof O.onClick!="function"&&typeof A.onClick=="function"&&(l.onclick=lt)}kt(x,A);var te;x=null;for(Ge in O)if(!A.hasOwnProperty(Ge)&&O.hasOwnProperty(Ge)&&O[Ge]!=null)if(Ge==="style"){var _e=O[Ge];for(te in _e)_e.hasOwnProperty(te)&&(x||(x={}),x[te]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(r.hasOwnProperty(Ge)?U||(U=[]):(U=U||[]).push(Ge,null));for(Ge in A){var we=A[Ge];if(_e=O?.[Ge],A.hasOwnProperty(Ge)&&we!==_e&&(we!=null||_e!=null))if(Ge==="style")if(_e){for(te in _e)!_e.hasOwnProperty(te)||we&&we.hasOwnProperty(te)||(x||(x={}),x[te]="");for(te in we)we.hasOwnProperty(te)&&_e[te]!==we[te]&&(x||(x={}),x[te]=we[te])}else x||(U||(U=[]),U.push(Ge,x)),x=we;else Ge==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,_e=_e?_e.__html:void 0,we!=null&&_e!==we&&(U=U||[]).push(Ge,we)):Ge==="children"?typeof we!="string"&&typeof we!="number"||(U=U||[]).push(Ge,""+we):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ge)?(we!=null&&Ge==="onScroll"&&ui("scroll",l),U||_e===we||(U=[])):(U=U||[]).push(Ge,we))}x&&(U=U||[]).push("style",x);var Ge=U;(h.updateQueue=Ge)&&(h.flags|=4)}},bA=function(l,h,x,A){x!==A&&(h.flags|=4)};function $m(l,h){if(!Si)switch(l.tailMode){case"hidden":h=l.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:A.sibling=null}}function Hs(l){var h=l.alternate!==null&&l.alternate.child===l.child,x=0,A=0;if(h)for(var O=l.child;O!==null;)x|=O.lanes|O.childLanes,A|=O.subtreeFlags&14680064,A|=O.flags&14680064,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)x|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=A,l.childLanes=x,h}function sF(l,h,x){var A=h.pendingProps;switch(vl(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(h),null;case 1:return ns(h.type)&&ah(),Hs(h),null;case 3:return A=h.stateNode,ou(),xi(Ts),xi(Ur),Na(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(l===null||l.child===null)&&(id(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Io!==null&&(tE(Io),Io=null))),W1(l,h),Hs(h),null;case 5:ad(h);var O=lr(El.current);if(x=h.type,l!==null&&h.stateNode!=null)TA(l,h,x,A,O),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(n(166));return Hs(h),null}if(l=lr(lo.current),id(h)){A=h.stateNode,x=h.type;var U=h.memoizedProps;switch(A[er]=h,A[pl]=U,l=(h.mode&1)!==0,x){case"dialog":ui("cancel",A),ui("close",A);break;case"iframe":case"object":case"embed":ui("load",A);break;case"video":case"audio":for(O=0;O<aa.length;O++)ui(aa[O],A);break;case"source":ui("error",A);break;case"img":case"image":case"link":ui("error",A),ui("load",A);break;case"details":ui("toggle",A);break;case"input":ut(A,U),ui("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!U.multiple},ui("invalid",A);break;case"textarea":ae(A,U),ui("invalid",A)}kt(x,U),O=null;for(var te in U)if(U.hasOwnProperty(te)){var _e=U[te];te==="children"?typeof _e=="string"?A.textContent!==_e&&(U.suppressHydrationWarning!==!0&&We(A.textContent,_e,l),O=["children",_e]):typeof _e=="number"&&A.textContent!==""+_e&&(U.suppressHydrationWarning!==!0&&We(A.textContent,_e,l),O=["children",""+_e]):r.hasOwnProperty(te)&&_e!=null&&te==="onScroll"&&ui("scroll",A)}switch(x){case"input":ot(A),Ne(A,U,!0);break;case"textarea":ot(A),Me(A);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(A.onclick=lt)}A=O,h.updateQueue=A,A!==null&&(h.flags|=4)}else{te=O.nodeType===9?O:O.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=de(x)),l==="http://www.w3.org/1999/xhtml"?x==="script"?(l=te.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof A.is=="string"?l=te.createElement(x,{is:A.is}):(l=te.createElement(x),x==="select"&&(te=l,A.multiple?te.multiple=!0:A.size&&(te.size=A.size))):l=te.createElementNS(l,x),l[er]=h,l[pl]=A,EA(l,h,!1,!1),h.stateNode=l;e:{switch(te=Et(x,A),x){case"dialog":ui("cancel",l),ui("close",l),O=A;break;case"iframe":case"object":case"embed":ui("load",l),O=A;break;case"video":case"audio":for(O=0;O<aa.length;O++)ui(aa[O],l);O=A;break;case"source":ui("error",l),O=A;break;case"img":case"image":case"link":ui("error",l),ui("load",l),O=A;break;case"details":ui("toggle",l),O=A;break;case"input":ut(l,A),O=le(l,A),ui("invalid",l);break;case"option":O=A;break;case"select":l._wrapperState={wasMultiple:!!A.multiple},O=j({},A,{value:void 0}),ui("invalid",l);break;case"textarea":ae(l,A),O=ct(l,A),ui("invalid",l);break;default:O=A}kt(x,O),_e=O;for(U in _e)if(_e.hasOwnProperty(U)){var we=_e[U];U==="style"?Pt(l,we):U==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&dt(l,we)):U==="children"?typeof we=="string"?(x!=="textarea"||we!=="")&&Je(l,we):typeof we=="number"&&Je(l,""+we):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(r.hasOwnProperty(U)?we!=null&&U==="onScroll"&&ui("scroll",l):we!=null&&P(l,U,we,te))}switch(x){case"input":ot(l),Ne(l,A,!1);break;case"textarea":ot(l),Me(l);break;case"option":A.value!=null&&l.setAttribute("value",""+Xe(A.value));break;case"select":l.multiple=!!A.multiple,U=A.value,U!=null?Ke(l,!!A.multiple,U,!1):A.defaultValue!=null&&Ke(l,!!A.multiple,A.defaultValue,!0);break;default:typeof O.onClick=="function"&&(l.onclick=lt)}switch(x){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Hs(h),null;case 6:if(l&&h.stateNode!=null)bA(l,h,l.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(n(166));if(x=lr(El.current),lr(lo.current),id(h)){if(A=h.stateNode,x=h.memoizedProps,A[er]=h,(U=A.nodeValue!==x)&&(l=zr,l!==null))switch(l.tag){case 3:We(A.nodeValue,x,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&We(A.nodeValue,x,(l.mode&1)!==0)}U&&(h.flags|=4)}else A=(x.nodeType===9?x:x.ownerDocument).createTextNode(A),A[er]=h,h.stateNode=A}return Hs(h),null;case 13:if(xi(wi),A=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Si&&Ss!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Bm(),ru(),h.flags|=98560,U=!1;else if(U=id(h),A!==null&&A.dehydrated!==null){if(l===null){if(!U)throw Error(n(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[er]=h}else ru(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Hs(h),U=!1}else Io!==null&&(tE(Io),Io=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=x,h):(A=A!==null,A!==(l!==null&&l.memoizedState!==null)&&A&&(h.child.flags|=8192,(h.mode&1)!==0&&(l===null||(wi.current&1)!==0?Wr===0&&(Wr=3):rE())),h.updateQueue!==null&&(h.flags|=4),Hs(h),null);case 4:return ou(),W1(l,h),l===null&&hl(h.stateNode.containerInfo),Hs(h),null;case 10:return ph(h.type._context),Hs(h),null;case 17:return ns(h.type)&&ah(),Hs(h),null;case 19:if(xi(wi),U=h.memoizedState,U===null)return Hs(h),null;if(A=(h.flags&128)!==0,te=U.rendering,te===null)if(A)$m(U,!1);else{if(Wr!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(te=da(l),te!==null){for(h.flags|=128,$m(U,!1),A=te.updateQueue,A!==null&&(h.updateQueue=A,h.flags|=4),h.subtreeFlags=0,A=x,x=h.child;x!==null;)U=x,l=A,U.flags&=14680066,te=U.alternate,te===null?(U.childLanes=0,U.lanes=l,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=te.childLanes,U.lanes=te.lanes,U.child=te.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=te.memoizedProps,U.memoizedState=te.memoizedState,U.updateQueue=te.updateQueue,U.type=te.type,l=te.dependencies,U.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),x=x.sibling;return mi(wi,wi.current&1|2),h.child}l=l.sibling}U.tail!==null&&Be()>qf&&(h.flags|=128,A=!0,$m(U,!1),h.lanes=4194304)}else{if(!A)if(l=da(te),l!==null){if(h.flags|=128,A=!0,x=l.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),$m(U,!0),U.tail===null&&U.tailMode==="hidden"&&!te.alternate&&!Si)return Hs(h),null}else 2*Be()-U.renderingStartTime>qf&&x!==1073741824&&(h.flags|=128,A=!0,$m(U,!1),h.lanes=4194304);U.isBackwards?(te.sibling=h.child,h.child=te):(x=U.last,x!==null?x.sibling=te:h.child=te,U.last=te)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=Be(),h.sibling=null,x=wi.current,mi(wi,A?x&1|2:x&1),h):(Hs(h),null);case 22:case 23:return iE(),A=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==A&&(h.flags|=8192),A&&(h.mode&1)!==0?(pa&1073741824)!==0&&(Hs(h),h.subtreeFlags&6&&(h.flags|=8192)):Hs(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function oF(l,h){switch(vl(h),h.tag){case 1:return ns(h.type)&&ah(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return ou(),xi(Ts),xi(Ur),Na(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 5:return ad(h),null;case 13:if(xi(wi),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(n(340));ru()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return xi(wi),null;case 4:return ou(),null;case 10:return ph(h.type._context),null;case 22:case 23:return iE(),null;case 24:return null;default:return null}}var Ry=!1,Vs=!1,aF=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Yf(l,h){var x=l.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(A){cr(l,h,A)}else x.current=null}function G1(l,h,x){try{x()}catch(A){cr(l,h,A)}}var SA=!1;function lF(l,h){if(zt=hs,l=_i(),ar(l)){if("selectionStart"in l)var x={start:l.selectionStart,end:l.selectionEnd};else e:{x=(x=l.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var O=A.anchorOffset,U=A.focusNode;A=A.focusOffset;try{x.nodeType,U.nodeType}catch{x=null;break e}var te=0,_e=-1,we=-1,Ge=0,vt=0,Tt=l,mt=null;t:for(;;){for(var Zt;Tt!==x||O!==0&&Tt.nodeType!==3||(_e=te+O),Tt!==U||A!==0&&Tt.nodeType!==3||(we=te+A),Tt.nodeType===3&&(te+=Tt.nodeValue.length),(Zt=Tt.firstChild)!==null;)mt=Tt,Tt=Zt;for(;;){if(Tt===l)break t;if(mt===x&&++Ge===O&&(_e=te),mt===U&&++vt===A&&(we=te),(Zt=Tt.nextSibling)!==null)break;Tt=mt,mt=Tt.parentNode}Tt=Zt}x=_e===-1||we===-1?null:{start:_e,end:we}}else x=null}x=x||{start:0,end:0}}else x=null;for(dn={focusedElem:l,selectionRange:x},hs=!1,Jt=h;Jt!==null;)if(h=Jt,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Jt=l;else for(;Jt!==null;){h=Jt;try{var nn=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(nn!==null){var an=nn.memoizedProps,_r=nn.memoizedState,Ue=h.stateNode,Pe=Ue.getSnapshotBeforeUpdate(h.elementType===h.type?an:Lo(h.type,an),_r);Ue.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var He=h.stateNode.containerInfo;He.nodeType===1?He.textContent="":He.nodeType===9&&He.documentElement&&He.removeChild(He.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Rt){cr(h,h.return,Rt)}if(l=h.sibling,l!==null){l.return=h.return,Jt=l;break}Jt=h.return}return nn=SA,SA=!1,nn}function Qm(l,h,x){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var O=A=A.next;do{if((O.tag&l)===l){var U=O.destroy;O.destroy=void 0,U!==void 0&&G1(h,x,U)}O=O.next}while(O!==A)}}function Iy(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&l)===l){var A=x.create;x.destroy=A()}x=x.next}while(x!==h)}}function Y1(l){var h=l.ref;if(h!==null){var x=l.stateNode;switch(l.tag){case 5:l=x;break;default:l=x}typeof h=="function"?h(l):h.current=l}}function wA(l){var h=l.alternate;h!==null&&(l.alternate=null,wA(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[er],delete h[pl],delete h[Po],delete h[ed],delete h[td])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function CA(l){return l.tag===5||l.tag===3||l.tag===4}function AA(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||CA(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function X1(l,h,x){var A=l.tag;if(A===5||A===6)l=l.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(l,h):x.insertBefore(l,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(l,x)):(h=x,h.appendChild(l)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=lt));else if(A!==4&&(l=l.child,l!==null))for(X1(l,h,x),l=l.sibling;l!==null;)X1(l,h,x),l=l.sibling}function q1(l,h,x){var A=l.tag;if(A===5||A===6)l=l.stateNode,h?x.insertBefore(l,h):x.appendChild(l);else if(A!==4&&(l=l.child,l!==null))for(q1(l,h,x),l=l.sibling;l!==null;)q1(l,h,x),l=l.sibling}var Cs=null,Cl=!1;function cd(l,h,x){for(x=x.child;x!==null;)MA(l,h,x),x=x.sibling}function MA(l,h,x){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(on,x)}catch{}switch(x.tag){case 5:Vs||Yf(x,h);case 6:var A=Cs,O=Cl;Cs=null,cd(l,h,x),Cs=A,Cl=O,Cs!==null&&(Cl?(l=Cs,x=x.stateNode,l.nodeType===8?l.parentNode.removeChild(x):l.removeChild(x)):Cs.removeChild(x.stateNode));break;case 18:Cs!==null&&(Cl?(l=Cs,x=x.stateNode,l.nodeType===8?Jc(l.parentNode,x):l.nodeType===1&&Jc(l,x),eo(l)):Jc(Cs,x.stateNode));break;case 4:A=Cs,O=Cl,Cs=x.stateNode.containerInfo,Cl=!0,cd(l,h,x),Cs=A,Cl=O;break;case 0:case 11:case 14:case 15:if(!Vs&&(A=x.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){O=A=A.next;do{var U=O,te=U.destroy;U=U.tag,te!==void 0&&((U&2)!==0||(U&4)!==0)&&G1(x,h,te),O=O.next}while(O!==A)}cd(l,h,x);break;case 1:if(!Vs&&(Yf(x,h),A=x.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=x.memoizedProps,A.state=x.memoizedState,A.componentWillUnmount()}catch(_e){cr(x,h,_e)}cd(l,h,x);break;case 21:cd(l,h,x);break;case 22:x.mode&1?(Vs=(A=Vs)||x.memoizedState!==null,cd(l,h,x),Vs=A):cd(l,h,x);break;default:cd(l,h,x)}}function PA(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var x=l.stateNode;x===null&&(x=l.stateNode=new aF),h.forEach(function(A){var O=yF.bind(null,l,A);x.has(A)||(x.add(A),A.then(O,O))})}}function Al(l,h){var x=h.deletions;if(x!==null)for(var A=0;A<x.length;A++){var O=x[A];try{var U=l,te=h,_e=te;e:for(;_e!==null;){switch(_e.tag){case 5:Cs=_e.stateNode,Cl=!1;break e;case 3:Cs=_e.stateNode.containerInfo,Cl=!0;break e;case 4:Cs=_e.stateNode.containerInfo,Cl=!0;break e}_e=_e.return}if(Cs===null)throw Error(n(160));MA(U,te,O),Cs=null,Cl=!1;var we=O.alternate;we!==null&&(we.return=null),O.return=null}catch(Ge){cr(O,h,Ge)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)RA(h,l),h=h.sibling}function RA(l,h){var x=l.alternate,A=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Al(h,l),lu(l),A&4){try{Qm(3,l,l.return),Iy(3,l)}catch(an){cr(l,l.return,an)}try{Qm(5,l,l.return)}catch(an){cr(l,l.return,an)}}break;case 1:Al(h,l),lu(l),A&512&&x!==null&&Yf(x,x.return);break;case 5:if(Al(h,l),lu(l),A&512&&x!==null&&Yf(x,x.return),l.flags&32){var O=l.stateNode;try{Je(O,"")}catch(an){cr(l,l.return,an)}}if(A&4&&(O=l.stateNode,O!=null)){var U=l.memoizedProps,te=x!==null?x.memoizedProps:U,_e=l.type,we=l.updateQueue;if(l.updateQueue=null,we!==null)try{_e==="input"&&U.type==="radio"&&U.name!=null&&et(O,U),Et(_e,te);var Ge=Et(_e,U);for(te=0;te<we.length;te+=2){var vt=we[te],Tt=we[te+1];vt==="style"?Pt(O,Tt):vt==="dangerouslySetInnerHTML"?dt(O,Tt):vt==="children"?Je(O,Tt):P(O,vt,Tt,Ge)}switch(_e){case"input":Ye(O,U);break;case"textarea":Q(O,U);break;case"select":var mt=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!U.multiple;var Zt=U.value;Zt!=null?Ke(O,!!U.multiple,Zt,!1):mt!==!!U.multiple&&(U.defaultValue!=null?Ke(O,!!U.multiple,U.defaultValue,!0):Ke(O,!!U.multiple,U.multiple?[]:"",!1))}O[pl]=U}catch(an){cr(l,l.return,an)}}break;case 6:if(Al(h,l),lu(l),A&4){if(l.stateNode===null)throw Error(n(162));O=l.stateNode,U=l.memoizedProps;try{O.nodeValue=U}catch(an){cr(l,l.return,an)}}break;case 3:if(Al(h,l),lu(l),A&4&&x!==null&&x.memoizedState.isDehydrated)try{eo(h.containerInfo)}catch(an){cr(l,l.return,an)}break;case 4:Al(h,l),lu(l);break;case 13:Al(h,l),lu(l),O=l.child,O.flags&8192&&(U=O.memoizedState!==null,O.stateNode.isHidden=U,!U||O.alternate!==null&&O.alternate.memoizedState!==null||($1=Be())),A&4&&PA(l);break;case 22:if(vt=x!==null&&x.memoizedState!==null,l.mode&1?(Vs=(Ge=Vs)||vt,Al(h,l),Vs=Ge):Al(h,l),lu(l),A&8192){if(Ge=l.memoizedState!==null,(l.stateNode.isHidden=Ge)&&!vt&&(l.mode&1)!==0)for(Jt=l,vt=l.child;vt!==null;){for(Tt=Jt=vt;Jt!==null;){switch(mt=Jt,Zt=mt.child,mt.tag){case 0:case 11:case 14:case 15:Qm(4,mt,mt.return);break;case 1:Yf(mt,mt.return);var nn=mt.stateNode;if(typeof nn.componentWillUnmount=="function"){A=mt,x=mt.return;try{h=A,nn.props=h.memoizedProps,nn.state=h.memoizedState,nn.componentWillUnmount()}catch(an){cr(A,x,an)}}break;case 5:Yf(mt,mt.return);break;case 22:if(mt.memoizedState!==null){NA(Tt);continue}}Zt!==null?(Zt.return=mt,Jt=Zt):NA(Tt)}vt=vt.sibling}e:for(vt=null,Tt=l;;){if(Tt.tag===5){if(vt===null){vt=Tt;try{O=Tt.stateNode,Ge?(U=O.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(_e=Tt.stateNode,we=Tt.memoizedProps.style,te=we!=null&&we.hasOwnProperty("display")?we.display:null,_e.style.display=tt("display",te))}catch(an){cr(l,l.return,an)}}}else if(Tt.tag===6){if(vt===null)try{Tt.stateNode.nodeValue=Ge?"":Tt.memoizedProps}catch(an){cr(l,l.return,an)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===l)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===l)break e;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===l)break e;vt===Tt&&(vt=null),Tt=Tt.return}vt===Tt&&(vt=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}break;case 19:Al(h,l),lu(l),A&4&&PA(l);break;case 21:break;default:Al(h,l),lu(l)}}function lu(l){var h=l.flags;if(h&2){try{e:{for(var x=l.return;x!==null;){if(CA(x)){var A=x;break e}x=x.return}throw Error(n(160))}switch(A.tag){case 5:var O=A.stateNode;A.flags&32&&(Je(O,""),A.flags&=-33);var U=AA(l);q1(l,U,O);break;case 3:case 4:var te=A.stateNode.containerInfo,_e=AA(l);X1(l,_e,te);break;default:throw Error(n(161))}}catch(we){cr(l,l.return,we)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function uF(l,h,x){Jt=l,IA(l)}function IA(l,h,x){for(var A=(l.mode&1)!==0;Jt!==null;){var O=Jt,U=O.child;if(O.tag===22&&A){var te=O.memoizedState!==null||Ry;if(!te){var _e=O.alternate,we=_e!==null&&_e.memoizedState!==null||Vs;_e=Ry;var Ge=Vs;if(Ry=te,(Vs=we)&&!Ge)for(Jt=O;Jt!==null;)te=Jt,we=te.child,te.tag===22&&te.memoizedState!==null?OA(O):we!==null?(we.return=te,Jt=we):OA(O);for(;U!==null;)Jt=U,IA(U),U=U.sibling;Jt=O,Ry=_e,Vs=Ge}LA(l)}else(O.subtreeFlags&8772)!==0&&U!==null?(U.return=O,Jt=U):LA(l)}}function LA(l){for(;Jt!==null;){var h=Jt;if((h.flags&8772)!==0){var x=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Vs||Iy(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!Vs)if(x===null)A.componentDidMount();else{var O=h.elementType===h.type?x.memoizedProps:Lo(h.type,x.memoizedProps);A.componentDidUpdate(O,x.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&od(h,U,A);break;case 3:var te=h.updateQueue;if(te!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=h.child.stateNode;break;case 1:x=h.child.stateNode}od(h,te,x)}break;case 5:var _e=h.stateNode;if(x===null&&h.flags&4){x=_e;var we=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&x.focus();break;case"img":we.src&&(x.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Ge=h.alternate;if(Ge!==null){var vt=Ge.memoizedState;if(vt!==null){var Tt=vt.dehydrated;Tt!==null&&eo(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vs||h.flags&512&&Y1(h)}catch(mt){cr(h,h.return,mt)}}if(h===l){Jt=null;break}if(x=h.sibling,x!==null){x.return=h.return,Jt=x;break}Jt=h.return}}function NA(l){for(;Jt!==null;){var h=Jt;if(h===l){Jt=null;break}var x=h.sibling;if(x!==null){x.return=h.return,Jt=x;break}Jt=h.return}}function OA(l){for(;Jt!==null;){var h=Jt;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{Iy(4,h)}catch(we){cr(h,x,we)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var O=h.return;try{A.componentDidMount()}catch(we){cr(h,O,we)}}var U=h.return;try{Y1(h)}catch(we){cr(h,U,we)}break;case 5:var te=h.return;try{Y1(h)}catch(we){cr(h,te,we)}}}catch(we){cr(h,h.return,we)}if(h===l){Jt=null;break}var _e=h.sibling;if(_e!==null){_e.return=h.return,Jt=_e;break}Jt=h.return}}var cF=Math.ceil,Ly=D.ReactCurrentDispatcher,Z1=D.ReactCurrentOwner,ka=D.ReactCurrentBatchConfig,ni=0,ss=null,Mr=null,As=0,pa=0,Xf=ji(0),Wr=0,Jm=null,wh=0,Ny=0,K1=0,eg=null,No=null,$1=0,qf=1/0,uc=null,Oy=!1,Q1=null,dd=null,ky=!1,hd=null,Dy=0,tg=0,J1=null,Fy=-1,By=0;function fo(){return(ni&6)!==0?Be():Fy!==-1?Fy:Fy=Be()}function fd(l){return(l.mode&1)===0?1:(ni&2)!==0&&As!==0?As&-As:H1.transition!==null?(By===0&&(By=zn()),By):(l=An,l!==0||(l=window.event,l=l===void 0?16:Gn(l.type)),l)}function Ml(l,h,x,A){if(50<tg)throw tg=0,J1=null,Error(n(185));vi(l,x,A),((ni&2)===0||l!==ss)&&(l===ss&&((ni&2)===0&&(Ny|=x),Wr===4&&pd(l,As)),Oo(l,A),x===1&&ni===0&&(h.mode&1)===0&&(qf=Be()+500,uh&&Ia()))}function Oo(l,h){var x=l.callbackNode;Ii(l,h);var A=Ln(l,l===ss?As:0);if(A===0)x!==null&&oe(x),l.callbackNode=null,l.callbackPriority=0;else if(h=A&-A,l.callbackPriority!==h){if(x!=null&&oe(x),h===1)l.tag===0?yy(DA.bind(null,l)):ch(DA.bind(null,l)),ts(function(){(ni&6)===0&&Ia()}),x=null;else{switch(sr(A)){case 1:x=xt;break;case 4:x=Ft;break;case 16:x=Xt;break;case 536870912:x=sn;break;default:x=Xt}x=WA(x,kA.bind(null,l))}l.callbackPriority=h,l.callbackNode=x}}function kA(l,h){if(Fy=-1,By=0,(ni&6)!==0)throw Error(n(327));var x=l.callbackNode;if(Zf()&&l.callbackNode!==x)return null;var A=Ln(l,l===ss?As:0);if(A===0)return null;if((A&30)!==0||(A&l.expiredLanes)!==0||h)h=Uy(l,A);else{h=A;var O=ni;ni|=2;var U=BA();(ss!==l||As!==h)&&(uc=null,qf=Be()+500,Ah(l,h));do try{fF();break}catch(_e){FA(l,_e)}while(!0);tc(),Ly.current=U,ni=O,Mr!==null?h=0:(ss=null,As=0,h=Wr)}if(h!==0){if(h===2&&(O=Li(l),O!==0&&(A=O,h=eE(l,O))),h===1)throw x=Jm,Ah(l,0),pd(l,A),Oo(l,Be()),x;if(h===6)pd(l,A);else{if(O=l.current.alternate,(A&30)===0&&!dF(O)&&(h=Uy(l,A),h===2&&(U=Li(l),U!==0&&(A=U,h=eE(l,U))),h===1))throw x=Jm,Ah(l,0),pd(l,A),Oo(l,Be()),x;switch(l.finishedWork=O,l.finishedLanes=A,h){case 0:case 1:throw Error(n(345));case 2:Mh(l,No,uc);break;case 3:if(pd(l,A),(A&130023424)===A&&(h=$1+500-Be(),10<h)){if(Ln(l,0)!==0)break;if(O=l.suspendedLanes,(O&A)!==A){fo(),l.pingedLanes|=l.suspendedLanes&O;break}l.timeoutHandle=vr(Mh.bind(null,l,No,uc),h);break}Mh(l,No,uc);break;case 4:if(pd(l,A),(A&4194240)===A)break;for(h=l.eventTimes,O=-1;0<A;){var te=31-Dt(A);U=1<<te,te=h[te],te>O&&(O=te),A&=~U}if(A=O,A=Be()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*cF(A/1960))-A,10<A){l.timeoutHandle=vr(Mh.bind(null,l,No,uc),A);break}Mh(l,No,uc);break;case 5:Mh(l,No,uc);break;default:throw Error(n(329))}}}return Oo(l,Be()),l.callbackNode===x?kA.bind(null,l):null}function eE(l,h){var x=eg;return l.current.memoizedState.isDehydrated&&(Ah(l,h).flags|=256),l=Uy(l,h),l!==2&&(h=No,No=x,h!==null&&tE(h)),l}function tE(l){No===null?No=l:No.push.apply(No,l)}function dF(l){for(var h=l;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var A=0;A<x.length;A++){var O=x[A],U=O.getSnapshot;O=O.value;try{if(!xs(U(),O))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pd(l,h){for(h&=~K1,h&=~Ny,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var x=31-Dt(h),A=1<<x;l[x]=-1,h&=~A}}function DA(l){if((ni&6)!==0)throw Error(n(327));Zf();var h=Ln(l,0);if((h&1)===0)return Oo(l,Be()),null;var x=Uy(l,h);if(l.tag!==0&&x===2){var A=Li(l);A!==0&&(h=A,x=eE(l,A))}if(x===1)throw x=Jm,Ah(l,0),pd(l,h),Oo(l,Be()),x;if(x===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,Mh(l,No,uc),Oo(l,Be()),null}function nE(l,h){var x=ni;ni|=1;try{return l(h)}finally{ni=x,ni===0&&(qf=Be()+500,uh&&Ia())}}function Ch(l){hd!==null&&hd.tag===0&&(ni&6)===0&&Zf();var h=ni;ni|=1;var x=ka.transition,A=An;try{if(ka.transition=null,An=1,l)return l()}finally{An=A,ka.transition=x,ni=h,(ni&6)===0&&Ia()}}function iE(){pa=Xf.current,xi(Xf)}function Ah(l,h){l.finishedWork=null,l.finishedLanes=0;var x=l.timeoutHandle;if(x!==-1&&(l.timeoutHandle=-1,Vi(x)),Mr!==null)for(x=Mr.return;x!==null;){var A=x;switch(vl(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&ah();break;case 3:ou(),xi(Ts),xi(Ur),Na();break;case 5:ad(A);break;case 4:ou();break;case 13:xi(wi);break;case 19:xi(wi);break;case 10:ph(A.type._context);break;case 22:case 23:iE()}x=x.return}if(ss=l,Mr=l=md(l.current,null),As=pa=h,Wr=0,Jm=null,K1=Ny=wh=0,No=eg=null,xl!==null){for(h=0;h<xl.length;h++)if(x=xl[h],A=x.interleaved,A!==null){x.interleaved=null;var O=A.next,U=x.pending;if(U!==null){var te=U.next;U.next=O,A.next=te}x.pending=A}xl=null}return l}function FA(l,h){do{var x=Mr;try{if(tc(),sc.current=Wf,ha){for(var A=Ei.memoizedState;A!==null;){var O=A.queue;O!==null&&(O.pending=null),A=A.next}ha=!1}if(Tl=0,Jn=Gi=Ei=null,rs=!1,au=0,Z1.current=null,x===null||x.return===null){Wr=1,Jm=h,Mr=null;break}e:{var U=l,te=x.return,_e=x,we=h;if(h=As,_e.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Ge=we,vt=_e,Tt=vt.tag;if((vt.mode&1)===0&&(Tt===0||Tt===11||Tt===15)){var mt=vt.alternate;mt?(vt.updateQueue=mt.updateQueue,vt.memoizedState=mt.memoizedState,vt.lanes=mt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Zt=$t(te);if(Zt!==null){Zt.flags&=-257,Sn(Zt,te,_e,U,h),Zt.mode&1&&Ct(U,Ge,h),h=Zt,we=Ge;var nn=h.updateQueue;if(nn===null){var an=new Set;an.add(we),h.updateQueue=an}else nn.add(we);break e}else{if((h&1)===0){Ct(U,Ge,h),rE();break e}we=Error(n(426))}}else if(Si&&_e.mode&1){var _r=$t(te);if(_r!==null){(_r.flags&65536)===0&&(_r.flags|=256),Sn(_r,te,_e,U,h),rd(M(we,_e));break e}}U=we=M(we,_e),Wr!==4&&(Wr=2),eg===null?eg=[U]:eg.push(U),U=te;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var Ue=Re(U,we,h);nc(U,Ue);break e;case 1:_e=we;var Pe=U.type,He=U.stateNode;if((U.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||He!==null&&typeof He.componentDidCatch=="function"&&(dd===null||!dd.has(He)))){U.flags|=65536,h&=-h,U.lanes|=h;var Rt=$e(U,_e,h);nc(U,Rt);break e}}U=U.return}while(U!==null)}zA(x)}catch(un){h=un,Mr===x&&x!==null&&(Mr=x=x.return);continue}break}while(!0)}function BA(){var l=Ly.current;return Ly.current=Wf,l===null?Wf:l}function rE(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),ss===null||(wh&268435455)===0&&(Ny&268435455)===0||pd(ss,As)}function Uy(l,h){var x=ni;ni|=2;var A=BA();(ss!==l||As!==h)&&(uc=null,Ah(l,h));do try{hF();break}catch(O){FA(l,O)}while(!0);if(tc(),ni=x,Ly.current=A,Mr!==null)throw Error(n(261));return ss=null,As=0,Wr}function hF(){for(;Mr!==null;)UA(Mr)}function fF(){for(;Mr!==null&&!De();)UA(Mr)}function UA(l){var h=jA(l.alternate,l,pa);l.memoizedProps=l.pendingProps,h===null?zA(l):Mr=h,Z1.current=null}function zA(l){var h=l;do{var x=h.alternate;if(l=h.return,(h.flags&32768)===0){if(x=sF(x,h,pa),x!==null){Mr=x;return}}else{if(x=oF(x,h),x!==null){x.flags&=32767,Mr=x;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Wr=6,Mr=null;return}}if(h=h.sibling,h!==null){Mr=h;return}Mr=h=l}while(h!==null);Wr===0&&(Wr=5)}function Mh(l,h,x){var A=An,O=ka.transition;try{ka.transition=null,An=1,pF(l,h,x,A)}finally{ka.transition=O,An=A}return null}function pF(l,h,x,A){do Zf();while(hd!==null);if((ni&6)!==0)throw Error(n(327));x=l.finishedWork;var O=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var U=x.lanes|x.childLanes;if(Wn(l,U),l===ss&&(Mr=ss=null,As=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||ky||(ky=!0,WA(Xt,function(){return Zf(),null})),U=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||U){U=ka.transition,ka.transition=null;var te=An;An=1;var _e=ni;ni|=4,Z1.current=null,lF(l,x),RA(x,l),li(dn),hs=!!zt,dn=zt=null,l.current=x,uF(x),je(),ni=_e,An=te,ka.transition=U}else l.current=x;if(ky&&(ky=!1,hd=l,Dy=O),U=l.pendingLanes,U===0&&(dd=null),Gt(x.stateNode),Oo(l,Be()),h!==null)for(A=l.onRecoverableError,x=0;x<h.length;x++)O=h[x],A(O.value,{componentStack:O.stack,digest:O.digest});if(Oy)throw Oy=!1,l=Q1,Q1=null,l;return(Dy&1)!==0&&l.tag!==0&&Zf(),U=l.pendingLanes,(U&1)!==0?l===J1?tg++:(tg=0,J1=l):tg=0,Ia(),null}function Zf(){if(hd!==null){var l=sr(Dy),h=ka.transition,x=An;try{if(ka.transition=null,An=16>l?16:l,hd===null)var A=!1;else{if(l=hd,hd=null,Dy=0,(ni&6)!==0)throw Error(n(331));var O=ni;for(ni|=4,Jt=l.current;Jt!==null;){var U=Jt,te=U.child;if((Jt.flags&16)!==0){var _e=U.deletions;if(_e!==null){for(var we=0;we<_e.length;we++){var Ge=_e[we];for(Jt=Ge;Jt!==null;){var vt=Jt;switch(vt.tag){case 0:case 11:case 15:Qm(8,vt,U)}var Tt=vt.child;if(Tt!==null)Tt.return=vt,Jt=Tt;else for(;Jt!==null;){vt=Jt;var mt=vt.sibling,Zt=vt.return;if(wA(vt),vt===Ge){Jt=null;break}if(mt!==null){mt.return=Zt,Jt=mt;break}Jt=Zt}}}var nn=U.alternate;if(nn!==null){var an=nn.child;if(an!==null){nn.child=null;do{var _r=an.sibling;an.sibling=null,an=_r}while(an!==null)}}Jt=U}}if((U.subtreeFlags&2064)!==0&&te!==null)te.return=U,Jt=te;else e:for(;Jt!==null;){if(U=Jt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Qm(9,U,U.return)}var Ue=U.sibling;if(Ue!==null){Ue.return=U.return,Jt=Ue;break e}Jt=U.return}}var Pe=l.current;for(Jt=Pe;Jt!==null;){te=Jt;var He=te.child;if((te.subtreeFlags&2064)!==0&&He!==null)He.return=te,Jt=He;else e:for(te=Pe;Jt!==null;){if(_e=Jt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:Iy(9,_e)}}catch(un){cr(_e,_e.return,un)}if(_e===te){Jt=null;break e}var Rt=_e.sibling;if(Rt!==null){Rt.return=_e.return,Jt=Rt;break e}Jt=_e.return}}if(ni=O,Ia(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(on,l)}catch{}A=!0}return A}finally{An=x,ka.transition=h}}return!1}function HA(l,h,x){h=M(x,h),h=Re(l,h,1),l=Ai(l,h,1),h=fo(),l!==null&&(vi(l,1,h),Oo(l,h))}function cr(l,h,x){if(l.tag===3)HA(l,l,x);else for(;h!==null;){if(h.tag===3){HA(h,l,x);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(dd===null||!dd.has(A))){l=M(x,l),l=$e(h,l,1),h=Ai(h,l,1),l=fo(),h!==null&&(vi(h,1,l),Oo(h,l));break}}h=h.return}}function mF(l,h,x){var A=l.pingCache;A!==null&&A.delete(h),h=fo(),l.pingedLanes|=l.suspendedLanes&x,ss===l&&(As&x)===x&&(Wr===4||Wr===3&&(As&130023424)===As&&500>Be()-$1?Ah(l,0):K1|=x),Oo(l,h)}function VA(l,h){h===0&&((l.mode&1)===0?h=1:(h=En,En<<=1,(En&130023424)===0&&(En=4194304)));var x=fo();l=ca(l,h),l!==null&&(vi(l,h,x),Oo(l,x))}function gF(l){var h=l.memoizedState,x=0;h!==null&&(x=h.retryLane),VA(l,x)}function yF(l,h){var x=0;switch(l.tag){case 13:var A=l.stateNode,O=l.memoizedState;O!==null&&(x=O.retryLane);break;case 19:A=l.stateNode;break;default:throw Error(n(314))}A!==null&&A.delete(h),VA(l,x)}var jA;jA=function(l,h,x){if(l!==null)if(l.memoizedProps!==h.pendingProps||Ts.current)Fn=!0;else{if((l.lanes&x)===0&&(h.flags&128)===0)return Fn=!1,rF(l,h,x);Fn=(l.flags&131072)!==0}else Fn=!1,Si&&(h.flags&1048576)!==0&&Om(h,Of,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;Py(l,h),l=h.pendingProps;var O=qu(h,Ur.current);su(h,x),O=_h(null,h,A,l,O,x);var U=Vm();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ns(A)?(U=!0,Zu(h)):U=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Nn(h),O.updater=Gf,h.stateNode=O,O._reactInternals=h,C(h,A,l,x),h=Rn(null,h,A,!0,U,x)):(h.tag=0,Si&&U&&km(h),Wt(null,h,O,x),h=h.child),h;case 16:A=h.elementType;e:{switch(Py(l,h),l=h.pendingProps,O=A._init,A=O(A._payload),h.type=A,O=h.tag=_F(A),l=Lo(A,l),O){case 0:h=Ht(null,h,A,l,x);break e;case 1:h=ln(null,h,A,l,x);break e;case 11:h=jr(null,h,A,l,x);break e;case 14:h=ho(null,h,A,Lo(A.type,l),x);break e}throw Error(n(306,A,""))}return h;case 0:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Lo(A,O),Ht(l,h,A,O,x);case 1:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Lo(A,O),ln(l,h,A,O,x);case 3:e:{if(wn(h),l===null)throw Error(n(387));A=h.pendingProps,U=h.memoizedState,O=U.element,tr(l,h),Wi(h,A,null,x);var te=h.memoizedState;if(A=te.element,U.isDehydrated)if(U={element:A,isDehydrated:!1,cache:te.cache,pendingSuspenseBoundaries:te.pendingSuspenseBoundaries,transitions:te.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){O=M(Error(n(423)),h),h=Qn(l,h,A,x,O);break e}else if(A!==O){O=M(Error(n(424)),h),h=Qn(l,h,A,x,O);break e}else for(Ss=la(h.stateNode.containerInfo.firstChild),zr=h,Si=!0,Io=null,x=fh(h,null,A,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ru(),A===O){h=lc(l,h,x);break e}Wt(l,h,A,x)}h=h.child}return h;case 5:return rc(h),l===null&&Df(h),A=h.type,O=h.pendingProps,U=l!==null?l.memoizedProps:null,te=O.children,Pn(A,O)?te=null:U!==null&&Pn(A,U)&&(h.flags|=32),qe(l,h),Wt(l,h,te,x),h.child;case 6:return l===null&&Df(h),null;case 13:return wl(l,h,x);case 4:return yh(h,h.stateNode.containerInfo),A=h.pendingProps,l===null?h.child=Qu(h,null,A,x):Wt(l,h,A,x),h.child;case 11:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Lo(A,O),jr(l,h,A,O,x);case 7:return Wt(l,h,h.pendingProps,x),h.child;case 8:return Wt(l,h,h.pendingProps.children,x),h.child;case 12:return Wt(l,h,h.pendingProps.children,x),h.child;case 10:e:{if(A=h.type._context,O=h.pendingProps,U=h.memoizedProps,te=O.value,mi(Ju,A._currentValue),A._currentValue=te,U!==null)if(xs(U.value,te)){if(U.children===O.children&&!Ts.current){h=lc(l,h,x);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var _e=U.dependencies;if(_e!==null){te=U.child;for(var we=_e.firstContext;we!==null;){if(we.context===A){if(U.tag===1){we=fi(-1,x&-x),we.tag=2;var Ge=U.updateQueue;if(Ge!==null){Ge=Ge.shared;var vt=Ge.pending;vt===null?we.next=we:(we.next=vt.next,vt.next=we),Ge.pending=we}}U.lanes|=x,we=U.alternate,we!==null&&(we.lanes|=x),mh(U.return,x,h),_e.lanes|=x;break}we=we.next}}else if(U.tag===10)te=U.type===h.type?null:U.child;else if(U.tag===18){if(te=U.return,te===null)throw Error(n(341));te.lanes|=x,_e=te.alternate,_e!==null&&(_e.lanes|=x),mh(te,x,h),te=U.sibling}else te=U.child;if(te!==null)te.return=U;else for(te=U;te!==null;){if(te===h){te=null;break}if(U=te.sibling,U!==null){U.return=te.return,te=U;break}te=te.return}U=te}Wt(l,h,O.children,x),h=h.child}return h;case 9:return O=h.type,A=h.pendingProps.children,su(h,x),O=ao(O),A=A(O),h.flags|=1,Wt(l,h,A,x),h.child;case 14:return A=h.type,O=Lo(A,h.pendingProps),O=Lo(A.type,O),ho(l,h,A,O,x);case 15:return Ve(l,h,h.type,h.pendingProps,x);case 17:return A=h.type,O=h.pendingProps,O=h.elementType===A?O:Lo(A,O),Py(l,h),h.tag=1,ns(A)?(l=!0,Zu(h)):l=!1,su(h,x),m(h,A,O),C(h,A,O,x),Rn(null,h,A,!0,l,x);case 19:return xA(l,h,x);case 22:return ke(l,h,x)}throw Error(n(156,h.tag))};function WA(l,h){return Fc(l,h)}function vF(l,h,x,A){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(l,h,x,A){return new vF(l,h,x,A)}function sE(l){return l=l.prototype,!(!l||!l.isReactComponent)}function _F(l){if(typeof l=="function")return sE(l)?1:0;if(l!=null){if(l=l.$$typeof,l===$)return 11;if(l===ge)return 14}return 2}function md(l,h){var x=l.alternate;return x===null?(x=Da(l.tag,h,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=h,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&14680064,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,h=l.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x}function zy(l,h,x,A,O,U){var te=2;if(A=l,typeof l=="function")sE(l)&&(te=1);else if(typeof l=="string")te=5;else e:switch(l){case K:return Ph(x.children,O,U,h);case H:te=8,O|=8;break;case z:return l=Da(12,x,h,O|2),l.elementType=z,l.lanes=U,l;case re:return l=Da(13,x,h,O),l.elementType=re,l.lanes=U,l;case ie:return l=Da(19,x,h,O),l.elementType=ie,l.lanes=U,l;case he:return Hy(x,O,U,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:te=10;break e;case Z:te=9;break e;case $:te=11;break e;case ge:te=14;break e;case fe:te=16,A=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return h=Da(te,x,h,O),h.elementType=l,h.type=A,h.lanes=U,h}function Ph(l,h,x,A){return l=Da(7,l,A,h),l.lanes=x,l}function Hy(l,h,x,A){return l=Da(22,l,A,h),l.elementType=he,l.lanes=x,l.stateNode={isHidden:!1},l}function oE(l,h,x){return l=Da(6,l,null,h),l.lanes=x,l}function aE(l,h,x){return h=Da(4,l.children!==null?l.children:[],l.key,h),h.lanes=x,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function xF(l,h,x,A,O){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=A,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function lE(l,h,x,A,O,U,te,_e,we){return l=new xF(l,h,x,_e,we),h===1?(h=1,U===!0&&(h|=8)):h=0,U=Da(3,null,null,h),l.current=U,U.stateNode=l,U.memoizedState={element:A,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nn(U),l}function EF(l,h,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:A==null?null:""+A,children:l,containerInfo:h,implementation:x}}function GA(l){if(!l)return ml;l=l._reactInternals;e:{if($s(l)!==l||l.tag!==1)throw Error(n(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ns(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(l.tag===1){var x=l.type;if(ns(x))return lh(l,x,h)}return h}function YA(l,h,x,A,O,U,te,_e,we){return l=lE(x,A,!0,l,O,U,te,_e,we),l.context=GA(null),x=l.current,A=fo(),O=fd(x),U=fi(A,O),U.callback=h??null,Ai(x,U,O),l.current.lanes=O,vi(l,O,A),Oo(l,A),l}function Vy(l,h,x,A){var O=h.current,U=fo(),te=fd(O);return x=GA(x),h.context===null?h.context=x:h.pendingContext=x,h=fi(U,te),h.payload={element:l},A=A===void 0?null:A,A!==null&&(h.callback=A),l=Ai(O,h,te),l!==null&&(Ml(l,O,te,U),is(l,O,te)),te}function jy(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function XA(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<h?x:h}}function uE(l,h){XA(l,h),(l=l.alternate)&&XA(l,h)}function TF(){return null}var qA=typeof reportError=="function"?reportError:function(l){console.error(l)};function cE(l){this._internalRoot=l}Wy.prototype.render=cE.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(n(409));Vy(l,h,null,null)},Wy.prototype.unmount=cE.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;Ch(function(){Vy(null,l,null,null)}),h[Kn]=null}};function Wy(l){this._internalRoot=l}Wy.prototype.unstable_scheduleHydration=function(l){if(l){var h=Gl();l={blockedOn:null,target:l,priority:h};for(var x=0;x<pr.length&&h!==0&&h<pr[x].priority;x++);pr.splice(x,0,l),x===0&&Xl(l)}};function dE(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Gy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function ZA(){}function bF(l,h,x,A,O){if(O){if(typeof A=="function"){var U=A;A=function(){var Ge=jy(te);U.call(Ge)}}var te=YA(h,A,l,0,null,!1,!1,"",ZA);return l._reactRootContainer=te,l[Kn]=te.current,hl(l.nodeType===8?l.parentNode:l),Ch(),te}for(;O=l.lastChild;)l.removeChild(O);if(typeof A=="function"){var _e=A;A=function(){var Ge=jy(we);_e.call(Ge)}}var we=lE(l,0,!1,null,null,!1,!1,"",ZA);return l._reactRootContainer=we,l[Kn]=we.current,hl(l.nodeType===8?l.parentNode:l),Ch(function(){Vy(h,we,x,A)}),we}function Yy(l,h,x,A,O){var U=x._reactRootContainer;if(U){var te=U;if(typeof O=="function"){var _e=O;O=function(){var we=jy(te);_e.call(we)}}Vy(h,te,l,O)}else te=bF(x,h,l,O,A);return jy(te)}Qa=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var x=Nt(h.pendingLanes);x!==0&&(ai(h,x|1),Oo(h,Be()),(ni&6)===0&&(qf=Be()+500,Ia()))}break;case 13:Ch(function(){var A=ca(l,1);if(A!==null){var O=fo();Ml(A,l,1,O)}}),uE(l,1)}},Ja=function(l){if(l.tag===13){var h=ca(l,134217728);if(h!==null){var x=fo();Ml(h,l,134217728,x)}uE(l,134217728)}},Bc=function(l){if(l.tag===13){var h=fd(l),x=ca(l,h);if(x!==null){var A=fo();Ml(x,l,h,A)}uE(l,h)}},Gl=function(){return An},el=function(l,h){var x=An;try{return An=l,h()}finally{An=x}},Lt=function(l,h,x){switch(h){case"input":if(Ye(l,x),h=x.name,x.type==="radio"&&h!=null){for(x=l;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<x.length;h++){var A=x[h];if(A!==l&&A.form===l.form){var O=nd(A);if(!O)throw Error(n(90));_t(A),Ye(A,O)}}}break;case"textarea":Q(l,x);break;case"select":h=x.value,h!=null&&Ke(l,!!x.multiple,h,!1)}},Ut=nE,cn=Ch;var SF={usingClientEntryPoint:!1,Events:[oo,Ci,nd,st,at,nE]},ng={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wF={bundleType:ng.bundleType,version:ng.version,rendererPackageName:ng.rendererPackageName,rendererConfig:ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=kc(l),l===null?null:l.stateNode},findFiberByHostInstance:ng.findFiberByHostInstance||TF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xy.isDisabled&&Xy.supportsFiber)try{on=Xy.inject(wF),wt=Xy}catch{}}return ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF,ko.createPortal=function(l,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dE(h))throw Error(n(200));return EF(l,h,null,x)},ko.createRoot=function(l,h){if(!dE(l))throw Error(n(299));var x=!1,A="",O=qA;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=lE(l,1,!1,null,null,x,!1,A,O),l[Kn]=h.current,hl(l.nodeType===8?l.parentNode:l),new cE(h)},ko.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=kc(h),l=l===null?null:l.stateNode,l},ko.flushSync=function(l){return Ch(l)},ko.hydrate=function(l,h,x){if(!Gy(h))throw Error(n(200));return Yy(null,l,h,!0,x)},ko.hydrateRoot=function(l,h,x){if(!dE(l))throw Error(n(405));var A=x!=null&&x.hydratedSources||null,O=!1,U="",te=qA;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(U=x.identifierPrefix),x.onRecoverableError!==void 0&&(te=x.onRecoverableError)),h=YA(h,null,l,1,x??null,O,!1,U,te),l[Kn]=h.current,hl(l),A)for(l=0;l<A.length;l++)x=A[l],O=x._getVersion,O=O(x._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[x,O]:h.mutableSourceEagerHydrationData.push(x,O);return new Wy(h)},ko.render=function(l,h,x){if(!Gy(h))throw Error(n(200));return Yy(null,l,h,!1,x)},ko.unmountComponentAtNode=function(l){if(!Gy(l))throw Error(n(40));return l._reactRootContainer?(Ch(function(){Yy(null,null,l,!1,function(){l._reactRootContainer=null,l[Kn]=null})}),!0):!1},ko.unstable_batchedUpdates=nE,ko.unstable_renderSubtreeIntoContainer=function(l,h,x,A){if(!Gy(x))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Yy(l,h,x,!1,A)},ko.version="18.3.1-next-f1338f8080-20240426",ko}var iM;function k3(){if(iM)return pE.exports;iM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pE.exports=NF(),pE.exports}var rM;function OF(){if(rM)return qy;rM=1;var t=k3();return qy.createRoot=t.createRoot,qy.hydrateRoot=t.hydrateRoot,qy}var kF=OF(),X=am();const it=qa(X),ZS=AF({__proto__:null,default:it},[X]),DF=1,FF=1e6;let yE=0;function BF(){return yE=(yE+1)%Number.MAX_SAFE_INTEGER,yE.toString()}const vE=new Map,sM=t=>{if(vE.has(t))return;const e=setTimeout(()=>{vE.delete(t),Fg({type:"REMOVE_TOAST",toastId:t})},FF);vE.set(t,e)},UF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,DF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sM(n):t.toasts.forEach(i=>{sM(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},s_=[];let o_={toasts:[]};function Fg(t){o_=UF(o_,t),s_.forEach(e=>{e(o_)})}function zF({...t}){const e=BF(),n=r=>Fg({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Fg({type:"DISMISS_TOAST",toastId:e});return Fg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function HF(){const[t,e]=X.useState(o_);return X.useEffect(()=>(s_.push(e),()=>{const n=s_.indexOf(e);n>-1&&s_.splice(n,1)}),[t]),{...t,toast:zF,dismiss:n=>Fg({type:"DISMISS_TOAST",toastId:n})}}var j0=k3();const KS=qa(j0);function Zi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function oM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D3(...t){return e=>{let n=!1;const i=t.map(r=>{const s=oM(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():oM(t[r],null)}}}}function xo(...t){return X.useCallback(D3(...t),t)}function VF(t,e){const n=X.createContext(e),i=s=>{const{children:o,...a}=s,u=X.useMemo(()=>a,Object.values(a));return F.jsx(n.Provider,{value:u,children:o})};i.displayName=t+"Provider";function r(s){const o=X.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[i,r]}function W0(t,e=[]){let n=[];function i(s,o){const a=X.createContext(o),u=n.length;n=[...n,o];const d=p=>{const{scope:y,children:v,...T}=p,S=y?.[t]?.[u]||a,b=X.useMemo(()=>T,Object.values(T));return F.jsx(S.Provider,{value:b,children:v})};d.displayName=s+"Provider";function f(p,y){const v=y?.[t]?.[u]||a,T=X.useContext(v);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=n.map(o=>X.createContext(o));return function(a){const u=a?.[t]||s;return X.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return r.scopeName=t,[i,jF(r,...e)]}function jF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...a,...p}},{});return X.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function a0(t){const e=WF(t),n=X.forwardRef((i,r)=>{const{children:s,...o}=i,a=X.Children.toArray(s),u=a.find(YF);if(u){const d=u.props.children,f=a.map(p=>p===u?X.Children.count(d)>1?X.Children.only(null):X.isValidElement(d)?d.props.children:null:p);return F.jsx(e,{...o,ref:r,children:X.isValidElement(d)?X.cloneElement(d,void 0,f):null})}return F.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var F3=a0("Slot");function WF(t){const e=X.forwardRef((n,i)=>{const{children:r,...s}=n;if(X.isValidElement(r)){const o=qF(r),a=XF(s,r.props);return r.type!==X.Fragment&&(a.ref=i?D3(i,o):o),X.cloneElement(r,a)}return X.Children.count(r)>1?X.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var B3=Symbol("radix.slottable");function GF(t){const e=({children:n})=>F.jsx(F.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=B3,e}function YF(t){return X.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===B3}function XF(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const u=s(...a);return r(...a),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function qF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ZF(t){const e=t+"CollectionProvider",[n,i]=W0(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:b,children:E}=S,R=it.useRef(null),P=it.useRef(new Map).current;return F.jsx(r,{scope:b,itemMap:P,collectionRef:R,children:E})};o.displayName=e;const a=t+"CollectionSlot",u=a0(a),d=it.forwardRef((S,b)=>{const{scope:E,children:R}=S,P=s(a,E),D=xo(b,P.collectionRef);return F.jsx(u,{ref:D,children:R})});d.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",y=a0(f),v=it.forwardRef((S,b)=>{const{scope:E,children:R,...P}=S,D=it.useRef(null),G=xo(b,D),V=s(f,E);return it.useEffect(()=>(V.itemMap.set(D,{ref:D,...P}),()=>void V.itemMap.delete(D))),F.jsx(y,{[p]:"",ref:G,children:R})});v.displayName=f;function T(S){const b=s(t+"CollectionConsumer",S);return it.useCallback(()=>{const R=b.collectionRef.current;if(!R)return[];const P=Array.from(R.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((V,K)=>P.indexOf(V.ref.current)-P.indexOf(K.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},T,i]}var KF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dr=KF.reduce((t,e)=>{const n=a0(`Primitive.${e}`),i=X.forwardRef((r,s)=>{const{asChild:o,...a}=r,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(u,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function U3(t,e){t&&j0.flushSync(()=>t.dispatchEvent(e))}function wu(t){const e=X.useRef(t);return X.useEffect(()=>{e.current=t}),X.useMemo(()=>(...n)=>e.current?.(...n),[])}function $F(t,e=globalThis?.document){const n=wu(t);X.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var QF="DismissableLayer",wb="dismissableLayer.update",JF="dismissableLayer.pointerDownOutside",eB="dismissableLayer.focusOutside",aM,z3=X.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ox=X.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,d=X.useContext(z3),[f,p]=X.useState(null),y=f?.ownerDocument??globalThis?.document,[,v]=X.useState({}),T=xo(e,K=>p(K)),S=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(b),R=f?S.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,D=R>=E,G=nB(K=>{const H=K.target,z=[...d.branches].some(k=>k.contains(H));!D||z||(r?.(K),o?.(K),K.defaultPrevented||a?.())},y),V=iB(K=>{const H=K.target;[...d.branches].some(k=>k.contains(H))||(s?.(K),o?.(K),K.defaultPrevented||a?.())},y);return $F(K=>{R===d.layers.size-1&&(i?.(K),!K.defaultPrevented&&a&&(K.preventDefault(),a()))},y),X.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(aM=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),lM(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=aM)}},[f,y,n,d]),X.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),lM())},[f,d]),X.useEffect(()=>{const K=()=>v({});return document.addEventListener(wb,K),()=>document.removeEventListener(wb,K)},[]),F.jsx(Dr.div,{...u,ref:T,style:{pointerEvents:P?D?"auto":"none":void 0,...t.style},onFocusCapture:Zi(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Zi(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Zi(t.onPointerDownCapture,G.onPointerDownCapture)})});Ox.displayName=QF;var tB="DismissableLayerBranch",H3=X.forwardRef((t,e)=>{const n=X.useContext(z3),i=X.useRef(null),r=xo(e,i);return X.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),F.jsx(Dr.div,{...t,ref:r})});H3.displayName=tB;function nB(t,e=globalThis?.document){const n=wu(t),i=X.useRef(!1),r=X.useRef(()=>{});return X.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let u=function(){V3(JF,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function iB(t,e=globalThis?.document){const n=wu(t),i=X.useRef(!1);return X.useEffect(()=>{const r=s=>{s.target&&!i.current&&V3(eB,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function lM(){const t=new CustomEvent(wb);document.dispatchEvent(t)}function V3(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?U3(r,s):r.dispatchEvent(s)}var rB=Ox,sB=H3,wc=globalThis?.document?X.useLayoutEffect:()=>{},oB="Portal",$S=X.forwardRef((t,e)=>{const{container:n,...i}=t,[r,s]=X.useState(!1);wc(()=>s(!0),[]);const o=n||r&&globalThis?.document?.body;return o?KS.createPortal(F.jsx(Dr.div,{...i,ref:e}),o):null});$S.displayName=oB;function aB(t,e){return X.useReducer((n,i)=>e[n][i]??n,t)}var lm=t=>{const{present:e,children:n}=t,i=lB(e),r=typeof n=="function"?n({present:i.isPresent}):X.Children.only(n),s=xo(i.ref,uB(r));return typeof n=="function"||i.isPresent?X.cloneElement(r,{ref:s}):null};lm.displayName="Presence";function lB(t){const[e,n]=X.useState(),i=X.useRef(null),r=X.useRef(t),s=X.useRef("none"),o=t?"mounted":"unmounted",[a,u]=aB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return X.useEffect(()=>{const d=Zy(i.current);s.current=a==="mounted"?d:"none"},[a]),wc(()=>{const d=i.current,f=r.current;if(f!==t){const y=s.current,v=Zy(d);t?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&y!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),wc(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=v=>{const S=Zy(i.current).includes(v.animationName);if(v.target===e&&S&&(u("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},y=v=>{v.target===e&&(s.current=Zy(i.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:X.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Zy(t){return t?.animationName||"none"}function uB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cB=ZS[" useInsertionEffect ".trim().toString()]||wc;function j3({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=dB({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:r;{const f=X.useRef(t!==void 0);X.useEffect(()=>{const p=f.current;p!==a&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,i])}const d=X.useCallback(f=>{if(a){const p=hB(f)?f(t):f;p!==t&&o.current?.(p)}else s(f)},[a,t,s,o]);return[u,d]}function dB({defaultProp:t,onChange:e}){const[n,i]=X.useState(t),r=X.useRef(n),s=X.useRef(e);return cB(()=>{s.current=e},[e]),X.useEffect(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,i,s]}function hB(t){return typeof t=="function"}var fB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pB="VisuallyHidden",kx=X.forwardRef((t,e)=>F.jsx(Dr.span,{...t,ref:e,style:{...fB,...t.style}}));kx.displayName=pB;var mB=kx,QS="ToastProvider",[JS,gB,yB]=ZF("Toast"),[W3,Nhe]=W0("Toast",[yB]),[vB,Dx]=W3(QS),G3=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=t,[a,u]=X.useState(null),[d,f]=X.useState(0),p=X.useRef(!1),y=X.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${QS}\`. Expected non-empty \`string\`.`),F.jsx(JS.Provider,{scope:e,children:F.jsx(vB,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:d,viewport:a,onViewportChange:u,onToastAdd:X.useCallback(()=>f(v=>v+1),[]),onToastRemove:X.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:y,children:o})})};G3.displayName=QS;var Y3="ToastViewport",_B=["F8"],Cb="toast.viewportPause",Ab="toast.viewportResume",X3=X.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=_B,label:r="Notifications ({hotkey})",...s}=t,o=Dx(Y3,n),a=gB(n),u=X.useRef(null),d=X.useRef(null),f=X.useRef(null),p=X.useRef(null),y=xo(e,p,o.onViewportChange),v=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;X.useEffect(()=>{const b=E=>{i.length!==0&&i.every(P=>E[P]||E.code===P)&&p.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),X.useEffect(()=>{const b=u.current,E=p.current;if(T&&b&&E){const R=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Cb);E.dispatchEvent(V),o.isClosePausedRef.current=!0}},P=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(Ab);E.dispatchEvent(V),o.isClosePausedRef.current=!1}},D=V=>{!b.contains(V.relatedTarget)&&P()},G=()=>{b.contains(document.activeElement)||P()};return b.addEventListener("focusin",R),b.addEventListener("focusout",D),b.addEventListener("pointermove",R),b.addEventListener("pointerleave",G),window.addEventListener("blur",R),window.addEventListener("focus",P),()=>{b.removeEventListener("focusin",R),b.removeEventListener("focusout",D),b.removeEventListener("pointermove",R),b.removeEventListener("pointerleave",G),window.removeEventListener("blur",R),window.removeEventListener("focus",P)}}},[T,o.isClosePausedRef]);const S=X.useCallback(({tabbingDirection:b})=>{const R=a().map(P=>{const D=P.ref.current,G=[D,...LB(D)];return b==="forwards"?G:G.reverse()});return(b==="forwards"?R.reverse():R).flat()},[a]);return X.useEffect(()=>{const b=p.current;if(b){const E=R=>{const P=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!P){const G=document.activeElement,V=R.shiftKey;if(R.target===b&&V){d.current?.focus();return}const z=S({tabbingDirection:V?"backwards":"forwards"}),k=z.findIndex(Z=>Z===G);_E(z.slice(k+1))?R.preventDefault():V?d.current?.focus():f.current?.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[a,S]),F.jsxs(sB,{ref:u,role:"region","aria-label":r.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&F.jsx(Mb,{ref:d,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"forwards"});_E(b)}}),F.jsx(JS.Slot,{scope:n,children:F.jsx(Dr.ol,{tabIndex:-1,...s,ref:y})}),T&&F.jsx(Mb,{ref:f,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"backwards"});_E(b)}})]})});X3.displayName=Y3;var q3="ToastFocusProxy",Mb=X.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=Dx(q3,n);return F.jsx(kx,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!s.viewport?.contains(a)&&i()}})});Mb.displayName=q3;var G0="Toast",xB="toast.swipeStart",EB="toast.swipeMove",TB="toast.swipeCancel",bB="toast.swipeEnd",Z3=X.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...o}=t,[a,u]=j3({prop:i,defaultProp:r??!0,onChange:s,caller:G0});return F.jsx(lm,{present:n||a,children:F.jsx(CB,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:wu(t.onPause),onResume:wu(t.onResume),onSwipeStart:Zi(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Zi(t.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Zi(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Zi(t.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});Z3.displayName=G0;var[SB,wB]=W3(G0,{onClose(){}}),CB=X.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:y,onSwipeEnd:v,...T}=t,S=Dx(G0,n),[b,E]=X.useState(null),R=xo(e,ie=>E(ie)),P=X.useRef(null),D=X.useRef(null),G=r||S.duration,V=X.useRef(0),K=X.useRef(G),H=X.useRef(0),{onToastAdd:z,onToastRemove:k}=S,Z=wu(()=>{b?.contains(document.activeElement)&&S.viewport?.focus(),o()}),$=X.useCallback(ie=>{!ie||ie===1/0||(window.clearTimeout(H.current),V.current=new Date().getTime(),H.current=window.setTimeout(Z,ie))},[Z]);X.useEffect(()=>{const ie=S.viewport;if(ie){const ge=()=>{$(K.current),d?.()},fe=()=>{const he=new Date().getTime()-V.current;K.current=K.current-he,window.clearTimeout(H.current),u?.()};return ie.addEventListener(Cb,fe),ie.addEventListener(Ab,ge),()=>{ie.removeEventListener(Cb,fe),ie.removeEventListener(Ab,ge)}}},[S.viewport,G,u,d,$]),X.useEffect(()=>{s&&!S.isClosePausedRef.current&&$(G)},[s,G,S.isClosePausedRef,$]),X.useEffect(()=>(z(),()=>k()),[z,k]);const re=X.useMemo(()=>b?nL(b):null,[b]);return S.viewport?F.jsxs(F.Fragment,{children:[re&&F.jsx(AB,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),F.jsx(SB,{scope:n,onClose:Z,children:j0.createPortal(F.jsx(JS.ItemSlot,{scope:n,children:F.jsx(rB,{asChild:!0,onEscapeKeyDown:Zi(a,()=>{S.isFocusedToastEscapeKeyDownRef.current||Z(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:F.jsx(Dr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...T,ref:R,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Zi(t.onKeyDown,ie=>{ie.key==="Escape"&&(a?.(ie.nativeEvent),ie.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:Zi(t.onPointerDown,ie=>{ie.button===0&&(P.current={x:ie.clientX,y:ie.clientY})}),onPointerMove:Zi(t.onPointerMove,ie=>{if(!P.current)return;const ge=ie.clientX-P.current.x,fe=ie.clientY-P.current.y,he=!!D.current,Y=["left","right"].includes(S.swipeDirection),se=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,j=Y?se(0,ge):0,ee=Y?0:se(0,fe),ue=ie.pointerType==="touch"?10:2,J={x:j,y:ee},pe={originalEvent:ie,delta:J};he?(D.current=J,Ky(EB,p,pe,{discrete:!1})):uM(J,S.swipeDirection,ue)?(D.current=J,Ky(xB,f,pe,{discrete:!1}),ie.target.setPointerCapture(ie.pointerId)):(Math.abs(ge)>ue||Math.abs(fe)>ue)&&(P.current=null)}),onPointerUp:Zi(t.onPointerUp,ie=>{const ge=D.current,fe=ie.target;if(fe.hasPointerCapture(ie.pointerId)&&fe.releasePointerCapture(ie.pointerId),D.current=null,P.current=null,ge){const he=ie.currentTarget,Y={originalEvent:ie,delta:ge};uM(ge,S.swipeDirection,S.swipeThreshold)?Ky(bB,v,Y,{discrete:!0}):Ky(TB,y,Y,{discrete:!0}),he.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),AB=t=>{const{__scopeToast:e,children:n,...i}=t,r=Dx(G0,e),[s,o]=X.useState(!1),[a,u]=X.useState(!1);return RB(()=>o(!0)),X.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:F.jsx($S,{asChild:!0,children:F.jsx(kx,{...i,children:s&&F.jsxs(F.Fragment,{children:[r.label," ",n]})})})},MB="ToastTitle",K3=X.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return F.jsx(Dr.div,{...i,ref:e})});K3.displayName=MB;var PB="ToastDescription",$3=X.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return F.jsx(Dr.div,{...i,ref:e})});$3.displayName=PB;var Q3="ToastAction",J3=X.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?F.jsx(tL,{altText:n,asChild:!0,children:F.jsx(ew,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q3}\`. Expected non-empty \`string\`.`),null)});J3.displayName=Q3;var eL="ToastClose",ew=X.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=wB(eL,n);return F.jsx(tL,{asChild:!0,children:F.jsx(Dr.button,{type:"button",...i,ref:e,onClick:Zi(t.onClick,r.onClose)})})});ew.displayName=eL;var tL=X.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return F.jsx(Dr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function nL(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),IB(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nL(i))}}),e}function Ky(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?U3(r,s):r.dispatchEvent(s)}var uM=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function RB(t=()=>{}){const e=wu(t);wc(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function IB(t){return t.nodeType===t.ELEMENT_NODE}function LB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _E(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var NB=G3,iL=X3,rL=Z3,sL=K3,oL=$3,aL=J3,lL=ew;function uL(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=uL(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function cL(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=uL(t))&&(i&&(i+=" "),i+=e);return i}const cM=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dM=cL,tw=(t,e)=>n=>{var i;if(e?.variants==null)return dM(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(d=>{const f=n?.[d],p=s?.[d];if(f===null)return null;const y=cM(f)||cM(p);return r[d][y]}),a=n&&Object.entries(n).reduce((d,f)=>{let[p,y]=f;return y===void 0||(d[p]=y),d},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:y,...v}=f;return Object.entries(v).every(T=>{let[S,b]=T;return Array.isArray(b)?b.includes({...s,...a}[S]):{...s,...a}[S]===b})?[...d,p,y]:d},[]);return dM(t,o,u,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dL=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},u)=>X.createElement("svg",{ref:u,...kB,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:dL("lucide",r),...a},[...o.map(([d,f])=>X.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=(t,e)=>{const n=X.forwardRef(({className:i,...r},s)=>X.createElement(DB,{ref:s,iconNode:e,className:dL(`lucide-${OB(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=qn("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=qn("Biohazard",[["circle",{cx:"12",cy:"11.9",r:"2",key:"e8h31w"}],["path",{d:"M6.7 3.4c-.9 2.5 0 5.2 2.2 6.7C6.5 9 3.7 9.6 2 11.6",key:"17bolr"}],["path",{d:"m8.9 10.1 1.4.8",key:"15ezny"}],["path",{d:"M17.3 3.4c.9 2.5 0 5.2-2.2 6.7 2.4-1.2 5.2-.6 6.9 1.5",key:"wtwa5u"}],["path",{d:"m15.1 10.1-1.4.8",key:"1r0b28"}],["path",{d:"M16.7 20.8c-2.6-.4-4.6-2.6-4.7-5.3-.2 2.6-2.1 4.8-4.7 5.2",key:"m7qszh"}],["path",{d:"M12 13.9v1.6",key:"zfyyim"}],["path",{d:"M13.5 5.4c-1-.2-2-.2-3 0",key:"1bi9q0"}],["path",{d:"M17 16.4c.7-.7 1.2-1.6 1.5-2.5",key:"1rhjqw"}],["path",{d:"M5.5 13.9c.3.9.8 1.8 1.5 2.5",key:"8gsud3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=qn("Bomb",[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=qn("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=qn("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=qn("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=qn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=qn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=qn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=qn("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=qn("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=qn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=qn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=qn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=qn("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=qn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=qn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=qn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=qn("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=qn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=qn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=qn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=qn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=qn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=qn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=qn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=qn("Rat",[["path",{d:"M17 5c0-1.7-1.3-3-3-3s-3 1.3-3 3c0 .8.3 1.5.8 2H11c-3.9 0-7 3.1-7 7c0 2.2 1.8 4 4 4",key:"1wq71c"}],["path",{d:"M16.8 3.9c.3-.3.6-.5 1-.7 1.5-.6 3.3.1 3.9 1.6.6 1.5-.1 3.3-1.6 3.9l1.6 2.8c.2.3.2.7.2 1-.2.8-.9 1.2-1.7 1.1 0 0-1.6-.3-2.7-.6H17c-1.7 0-3 1.3-3 3",key:"1crdmb"}],["path",{d:"M13.2 18a3 3 0 0 0-2.2-5",key:"1ol3lk"}],["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M16 9h.01",key:"1bdo4e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=qn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=qn("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=qn("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=qn("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=qn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=qn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=qn("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=qn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=qn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=qn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=qn("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),ow="-",lU=t=>{const e=cU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split(ow);return a[0]===""&&a.length!==1&&a.shift(),yL(a,e)||uU(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&i[o]?[...u,...i[o]]:u}}},yL=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?yL(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(ow);return e.validators.find(({validator:o})=>o(s))?.classGroupId},hM=/^\[(.+)\]$/,uU=t=>{if(hM.test(t)){const e=hM.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cU=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return hU(Object.entries(t.classGroups),n).forEach(([s,o])=>{Ib(o,i,s,e)}),i},Ib=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:fM(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(dU(r)){Ib(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Ib(o,fM(e,s),n,i)})})},fM=(t,e)=>{let n=t;return e.split(ow).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},dU=t=>t.isThemeGetter,hU=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,r]}):t,fU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},vL="!",pU=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=a=>{const u=[];let d=0,f=0,p;for(let b=0;b<a.length;b++){let E=a[b];if(d===0){if(E===r&&(i||a.slice(b,b+s)===e)){u.push(a.slice(f,b)),f=b+s;continue}if(E==="/"){p=b;continue}}E==="["?d++:E==="]"&&d--}const y=u.length===0?a:a.substring(f),v=y.startsWith(vL),T=v?y.substring(1):y,S=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:T,maybePostfixModifierPosition:S}};return n?a=>n({className:a,parseClassName:o}):o},mU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},gU=t=>({cache:fU(t.cacheSize),parseClassName:pU(t),...lU(t)}),yU=/\s+/,vU=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(yU);let a="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}=n(d);let T=!!v,S=i(T?y.substring(0,v):y);if(!S){if(!T){a=d+(a.length>0?" "+a:a);continue}if(S=i(y),!S){a=d+(a.length>0?" "+a:a);continue}T=!1}const b=mU(f).join(":"),E=p?b+vL:b,R=E+S;if(s.includes(R))continue;s.push(R);const P=r(S,T);for(let D=0;D<P.length;++D){const G=P[D];s.push(E+G)}a=d+(a.length>0?" "+a:a)}return a};function _U(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_L(e))&&(i&&(i+=" "),i+=n);return i}const _L=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=_L(t[i]))&&(n&&(n+=" "),n+=e);return n};function xU(t,...e){let n,i,r,s=o;function o(u){const d=e.reduce((f,p)=>p(f),t());return n=gU(d),i=n.cache.get,r=n.cache.set,s=a,a(u)}function a(u){const d=i(u);if(d)return d;const f=vU(u,n);return r(u,f),f}return function(){return s(_U.apply(null,arguments))}}const Oi=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xL=/^\[(?:([a-z-]+):)?(.+)\]$/i,EU=/^\d+\/\d+$/,TU=new Set(["px","full","screen"]),bU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cc=t=>Dp(t)||TU.has(t)||EU.test(t),yd=t=>um(t,"length",kU),Dp=t=>!!t&&!Number.isNaN(Number(t)),EE=t=>um(t,"number",Dp),rg=t=>!!t&&Number.isInteger(Number(t)),MU=t=>t.endsWith("%")&&Dp(t.slice(0,-1)),Hn=t=>xL.test(t),vd=t=>bU.test(t),PU=new Set(["length","size","percentage"]),RU=t=>um(t,PU,EL),IU=t=>um(t,"position",EL),LU=new Set(["image","url"]),NU=t=>um(t,LU,FU),OU=t=>um(t,"",DU),sg=()=>!0,um=(t,e,n)=>{const i=xL.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},kU=t=>SU.test(t)&&!wU.test(t),EL=()=>!1,DU=t=>CU.test(t),FU=t=>AU.test(t),BU=()=>{const t=Oi("colors"),e=Oi("spacing"),n=Oi("blur"),i=Oi("brightness"),r=Oi("borderColor"),s=Oi("borderRadius"),o=Oi("borderSpacing"),a=Oi("borderWidth"),u=Oi("contrast"),d=Oi("grayscale"),f=Oi("hueRotate"),p=Oi("invert"),y=Oi("gap"),v=Oi("gradientColorStops"),T=Oi("gradientColorStopPositions"),S=Oi("inset"),b=Oi("margin"),E=Oi("opacity"),R=Oi("padding"),P=Oi("saturate"),D=Oi("scale"),G=Oi("sepia"),V=Oi("skew"),K=Oi("space"),H=Oi("translate"),z=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",Hn,e],$=()=>[Hn,e],re=()=>["",cc,yd],ie=()=>["auto",Dp,Hn],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Hn],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Dp,Hn];return{cacheSize:500,separator:":",theme:{colors:[sg],spacing:[cc,yd],blur:["none","",vd,Hn],brightness:ee(),borderColor:[t],borderRadius:["none","","full",vd,Hn],borderSpacing:$(),borderWidth:re(),contrast:ee(),grayscale:se(),hueRotate:ee(),invert:se(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[MU,yd],inset:Z(),margin:Z(),opacity:ee(),padding:$(),saturate:ee(),scale:ee(),sepia:se(),skew:ee(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Hn]}],container:["container"],columns:[{columns:[vd]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),Hn]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rg,Hn]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Hn]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",rg,Hn]}],"grid-cols":[{"grid-cols":[sg]}],"col-start-end":[{col:["auto",{span:["full",rg,Hn]},Hn]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[sg]}],"row-start-end":[{row:["auto",{span:[rg,Hn]},Hn]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Hn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Hn]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Hn,e]}],"min-w":[{"min-w":[Hn,e,"min","max","fit"]}],"max-w":[{"max-w":[Hn,e,"none","full","min","max","fit","prose",{screen:[vd]},vd]}],h:[{h:[Hn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Hn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Hn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Hn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vd,yd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",EE]}],"font-family":[{font:[sg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Hn]}],"line-clamp":[{"line-clamp":["none",Dp,EE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cc,Hn]}],"list-image":[{"list-image":["none",Hn]}],"list-style-type":[{list:["none","disc","decimal",Hn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cc,yd]}],"underline-offset":[{"underline-offset":["auto",cc,Hn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Hn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),IU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:fe()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[cc,Hn]}],"outline-w":[{outline:[cc,yd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[cc,yd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vd,OU]}],"shadow-color":[{shadow:[sg]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",vd,Hn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[P]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Hn]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Hn]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Hn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[rg,Hn]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Hn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cc,yd,EE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UU=xU(BU);function Fi(...t){return UU(cL(t))}const zU=NB,TL=X.forwardRef(({className:t,...e},n)=>F.jsx(iL,{ref:n,className:Fi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TL.displayName=iL.displayName;const HU=tw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bL=X.forwardRef(({className:t,variant:e,...n},i)=>F.jsx(rL,{ref:i,className:Fi(HU({variant:e}),t),...n}));bL.displayName=rL.displayName;const VU=X.forwardRef(({className:t,...e},n)=>F.jsx(aL,{ref:n,className:Fi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));VU.displayName=aL.displayName;const SL=X.forwardRef(({className:t,...e},n)=>F.jsx(lL,{ref:n,className:Fi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:F.jsx(gL,{className:"h-4 w-4"})}));SL.displayName=lL.displayName;const wL=X.forwardRef(({className:t,...e},n)=>F.jsx(sL,{ref:n,className:Fi("text-sm font-semibold",t),...e}));wL.displayName=sL.displayName;const CL=X.forwardRef(({className:t,...e},n)=>F.jsx(oL,{ref:n,className:Fi("text-sm opacity-90",t),...e}));CL.displayName=oL.displayName;function jU(){const{toasts:t}=HF();return F.jsxs(zU,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return F.jsxs(bL,{...s,children:[F.jsxs("div",{className:"grid gap-1",children:[n&&F.jsx(wL,{children:n}),i&&F.jsx(CL,{children:i})]}),r,F.jsx(SL,{})]},e)}),F.jsx(TL,{})]})}var WU=t=>{switch(t){case"success":return XU;case"info":return ZU;case"warning":return qU;case"error":return KU;default:return null}},GU=Array(12).fill(0),YU=({visible:t,className:e})=>it.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},it.createElement("div",{className:"sonner-spinner"},GU.map((n,i)=>it.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),XU=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qU=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZU=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KU=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},it.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$U=it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},it.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),it.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QU=()=>{let[t,e]=it.useState(document.hidden);return it.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Lb=1,JU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Lb++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],it.isValidElement(u))r=!1,this.create({id:n,type:"default",message:u});else if(t8(u)&&!u.ok){r=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){r=!1;let d=typeof e.success=="function"?await e.success(u):e.success,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],e.error!==void 0){r=!1;let d=typeof e.error=="function"?await e.error(u):e.error,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;r&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),a=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=e?.id||Lb++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ho=new JU,e8=(t,e)=>{let n=e?.id||Lb++;return Ho.addToast({title:t,...e,id:n}),n},t8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",n8=e8,i8=()=>Ho.toasts,r8=()=>Ho.getActiveToasts();Object.assign(n8,{success:Ho.success,info:Ho.info,warning:Ho.warning,error:Ho.error,custom:Ho.custom,message:Ho.message,promise:Ho.promise,dismiss:Ho.dismiss,loading:Ho.loading},{getHistory:i8,getToasts:r8});function s8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}s8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $y(t){return t.label!==void 0}var o8=3,a8="32px",l8="16px",pM=4e3,u8=356,c8=14,d8=20,h8=200;function Pl(...t){return t.filter(Boolean).join(" ")}function f8(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var p8=t=>{var e,n,i,r,s,o,a,u,d,f,p;let{invert:y,toast:v,unstyled:T,interacting:S,setHeights:b,visibleToasts:E,heights:R,index:P,toasts:D,expanded:G,removeToast:V,defaultRichColors:K,closeButton:H,style:z,cancelButtonStyle:k,actionButtonStyle:Z,className:$="",descriptionClassName:re="",duration:ie,position:ge,gap:fe,loadingIcon:he,expandByDefault:Y,classNames:se,icons:j,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:ue}=t,[J,pe]=it.useState(null),[xe,be]=it.useState(null),[Ce,Xe]=it.useState(!1),[nt,rt]=it.useState(!1),[ot,_t]=it.useState(!1),[yt,le]=it.useState(!1),[ut,et]=it.useState(!1),[Ye,Ne]=it.useState(0),[Qe,Ie]=it.useState(0),Ke=it.useRef(v.duration||ie||pM),ct=it.useRef(null),ae=it.useRef(null),Q=P===0,Me=P+1<=E,de=v.type,Se=v.dismissible!==!1,Le=v.className||"",dt=v.descriptionClassName||"",Je=it.useMemo(()=>R.findIndex(at=>at.toastId===v.id)||0,[R,v.id]),It=it.useMemo(()=>{var at;return(at=v.closeButton)!=null?at:H},[v.closeButton,H]),St=it.useMemo(()=>v.duration||ie||pM,[v.duration,ie]),tt=it.useRef(0),Pt=it.useRef(0),Yt=it.useRef(0),kt=it.useRef(null),[Et,tn]=ge.split("-"),Ae=it.useMemo(()=>R.reduce((at,Ut,cn)=>cn>=Je?at:at+Ut.height,0),[R,Je]),Lt=QU(),ht=v.invert||y,Bt=de==="loading";Pt.current=it.useMemo(()=>Je*fe+Ae,[Je,Ae]),it.useEffect(()=>{Ke.current=St},[St]),it.useEffect(()=>{Xe(!0)},[]),it.useEffect(()=>{let at=ae.current;if(at){let Ut=at.getBoundingClientRect().height;return Ie(Ut),b(cn=>[{toastId:v.id,height:Ut,position:v.position},...cn]),()=>b(cn=>cn.filter(yn=>yn.toastId!==v.id))}},[b,v.id]),it.useLayoutEffect(()=>{if(!Ce)return;let at=ae.current,Ut=at.style.height;at.style.height="auto";let cn=at.getBoundingClientRect().height;at.style.height=Ut,Ie(cn),b(yn=>yn.find(ti=>ti.toastId===v.id)?yn.map(ti=>ti.toastId===v.id?{...ti,height:cn}:ti):[{toastId:v.id,height:cn,position:v.position},...yn])},[Ce,v.title,v.description,b,v.id]);let pt=it.useCallback(()=>{rt(!0),Ne(Pt.current),b(at=>at.filter(Ut=>Ut.toastId!==v.id)),setTimeout(()=>{V(v)},h8)},[v,V,b,Pt]);it.useEffect(()=>{if(v.promise&&de==="loading"||v.duration===1/0||v.type==="loading")return;let at;return G||S||ue&&Lt?(()=>{if(Yt.current<tt.current){let Ut=new Date().getTime()-tt.current;Ke.current=Ke.current-Ut}Yt.current=new Date().getTime()})():Ke.current!==1/0&&(tt.current=new Date().getTime(),at=setTimeout(()=>{var Ut;(Ut=v.onAutoClose)==null||Ut.call(v,v),pt()},Ke.current)),()=>clearTimeout(at)},[G,S,v,de,ue,Lt,pt]),it.useEffect(()=>{v.delete&&pt()},[pt,v.delete]);function st(){var at,Ut,cn;return j!=null&&j.loading?it.createElement("div",{className:Pl(se?.loader,(at=v?.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":de==="loading"},j.loading):he?it.createElement("div",{className:Pl(se?.loader,(Ut=v?.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":de==="loading"},he):it.createElement(YU,{className:Pl(se?.loader,(cn=v?.classNames)==null?void 0:cn.loader),visible:de==="loading"})}return it.createElement("li",{tabIndex:0,ref:ae,className:Pl($,Le,se?.toast,(e=v?.classNames)==null?void 0:e.toast,se?.default,se?.[de],(n=v?.classNames)==null?void 0:n[de]),"data-sonner-toast":"","data-rich-colors":(i=v.richColors)!=null?i:K,"data-styled":!(v.jsx||v.unstyled||T),"data-mounted":Ce,"data-promise":!!v.promise,"data-swiped":ut,"data-removed":nt,"data-visible":Me,"data-y-position":Et,"data-x-position":tn,"data-index":P,"data-front":Q,"data-swiping":ot,"data-dismissible":Se,"data-type":de,"data-invert":ht,"data-swipe-out":yt,"data-swipe-direction":xe,"data-expanded":!!(G||Y&&Ce),style:{"--index":P,"--toasts-before":P,"--z-index":D.length-P,"--offset":`${nt?Ye:Pt.current}px`,"--initial-height":Y?"auto":`${Qe}px`,...z,...v.style},onDragEnd:()=>{_t(!1),pe(null),kt.current=null},onPointerDown:at=>{Bt||!Se||(ct.current=new Date,Ne(Pt.current),at.target.setPointerCapture(at.pointerId),at.target.tagName!=="BUTTON"&&(_t(!0),kt.current={x:at.clientX,y:at.clientY}))},onPointerUp:()=>{var at,Ut,cn,yn;if(yt||!Se)return;kt.current=null;let ti=Number(((at=ae.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yi=Number(((Ut=ae.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qr=new Date().getTime()-((cn=ct.current)==null?void 0:cn.getTime()),Bi=J==="x"?ti:yi,$i=Math.abs(Bi)/qr;if(Math.abs(Bi)>=d8||$i>.11){Ne(Pt.current),(yn=v.onDismiss)==null||yn.call(v,v),be(J==="x"?ti>0?"right":"left":yi>0?"down":"up"),pt(),le(!0),et(!1);return}_t(!1),pe(null)},onPointerMove:at=>{var Ut,cn,yn,ti;if(!kt.current||!Se||((Ut=window.getSelection())==null?void 0:Ut.toString().length)>0)return;let yi=at.clientY-kt.current.y,qr=at.clientX-kt.current.x,Bi=(cn=t.swipeDirections)!=null?cn:f8(ge);!J&&(Math.abs(qr)>1||Math.abs(yi)>1)&&pe(Math.abs(qr)>Math.abs(yi)?"x":"y");let $i={x:0,y:0};J==="y"?(Bi.includes("top")||Bi.includes("bottom"))&&(Bi.includes("top")&&yi<0||Bi.includes("bottom")&&yi>0)&&($i.y=yi):J==="x"&&(Bi.includes("left")||Bi.includes("right"))&&(Bi.includes("left")&&qr<0||Bi.includes("right")&&qr>0)&&($i.x=qr),(Math.abs($i.x)>0||Math.abs($i.y)>0)&&et(!0),(yn=ae.current)==null||yn.style.setProperty("--swipe-amount-x",`${$i.x}px`),(ti=ae.current)==null||ti.style.setProperty("--swipe-amount-y",`${$i.y}px`)}},It&&!v.jsx?it.createElement("button",{"aria-label":ee,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!Se?()=>{}:()=>{var at;pt(),(at=v.onDismiss)==null||at.call(v,v)},className:Pl(se?.closeButton,(r=v?.classNames)==null?void 0:r.closeButton)},(s=j?.close)!=null?s:$U):null,v.jsx||X.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:it.createElement(it.Fragment,null,de||v.icon||v.promise?it.createElement("div",{"data-icon":"",className:Pl(se?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||st():null,v.type!=="loading"?v.icon||j?.[de]||WU(de):null):null,it.createElement("div",{"data-content":"",className:Pl(se?.content,(a=v?.classNames)==null?void 0:a.content)},it.createElement("div",{"data-title":"",className:Pl(se?.title,(u=v?.classNames)==null?void 0:u.title)},typeof v.title=="function"?v.title():v.title),v.description?it.createElement("div",{"data-description":"",className:Pl(re,dt,se?.description,(d=v?.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),X.isValidElement(v.cancel)?v.cancel:v.cancel&&$y(v.cancel)?it.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||k,onClick:at=>{var Ut,cn;$y(v.cancel)&&Se&&((cn=(Ut=v.cancel).onClick)==null||cn.call(Ut,at),pt())},className:Pl(se?.cancelButton,(f=v?.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,X.isValidElement(v.action)?v.action:v.action&&$y(v.action)?it.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||Z,onClick:at=>{var Ut,cn;$y(v.action)&&((cn=(Ut=v.action).onClick)==null||cn.call(Ut,at),!at.defaultPrevented&&pt())},className:Pl(se?.actionButton,(p=v?.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function mM(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function m8(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",a=s?l8:a8;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?u(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):u(a)}),n}var g8=X.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:u,mobileOffset:d,theme:f="light",richColors:p,duration:y,style:v,visibleToasts:T=o8,toastOptions:S,dir:b=mM(),gap:E=c8,loadingIcon:R,icons:P,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:G}=t,[V,K]=it.useState([]),H=it.useMemo(()=>Array.from(new Set([i].concat(V.filter(ue=>ue.position).map(ue=>ue.position)))),[V,i]),[z,k]=it.useState([]),[Z,$]=it.useState(!1),[re,ie]=it.useState(!1),[ge,fe]=it.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=it.useRef(null),Y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=it.useRef(null),j=it.useRef(!1),ee=it.useCallback(ue=>{K(J=>{var pe;return(pe=J.find(xe=>xe.id===ue.id))!=null&&pe.delete||Ho.dismiss(ue.id),J.filter(({id:xe})=>xe!==ue.id)})},[]);return it.useEffect(()=>Ho.subscribe(ue=>{if(ue.dismiss){K(J=>J.map(pe=>pe.id===ue.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{KS.flushSync(()=>{K(J=>{let pe=J.findIndex(xe=>xe.id===ue.id);return pe!==-1?[...J.slice(0,pe),{...J[pe],...ue},...J.slice(pe+1)]:[ue,...J]})})})}),[]),it.useEffect(()=>{if(f!=="system"){fe(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;let ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:J})=>{fe(J?"dark":"light")})}catch{ue.addListener(({matches:pe})=>{try{fe(pe?"dark":"light")}catch(xe){console.error(xe)}})}},[f]),it.useEffect(()=>{V.length<=1&&$(!1)},[V]),it.useEffect(()=>{let ue=J=>{var pe,xe;r.every(be=>J[be]||J.code===be)&&($(!0),(pe=he.current)==null||pe.focus()),J.code==="Escape"&&(document.activeElement===he.current||(xe=he.current)!=null&&xe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[r]),it.useEffect(()=>{if(he.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,j.current=!1)}},[he.current]),it.createElement("section",{ref:e,"aria-label":`${D} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((ue,J)=>{var pe;let[xe,be]=ue.split("-");return V.length?it.createElement("ol",{key:ue,dir:b==="auto"?mM():b,tabIndex:-1,ref:he,className:a,"data-sonner-toaster":!0,"data-theme":ge,"data-y-position":xe,"data-lifted":Z&&V.length>1&&!s,"data-x-position":be,style:{"--front-toast-height":`${((pe=z[0])==null?void 0:pe.height)||0}px`,"--width":`${u8}px`,"--gap":`${E}px`,...v,...m8(u,d)},onBlur:Ce=>{j.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(j.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||j.current||(j.current=!0,se.current=Ce.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{re||$(!1)},onDragEnd:()=>$(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},V.filter(Ce=>!Ce.position&&J===0||Ce.position===ue).map((Ce,Xe)=>{var nt,rt;return it.createElement(p8,{key:Ce.id,icons:P,index:Xe,toast:Ce,defaultRichColors:p,duration:(nt=S?.duration)!=null?nt:y,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:n,visibleToasts:T,closeButton:(rt=S?.closeButton)!=null?rt:o,interacting:re,position:ue,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,removeToast:ee,toasts:V.filter(ot=>ot.position==Ce.position),heights:z.filter(ot=>ot.position==Ce.position),setHeights:k,expandByDefault:s,gap:E,loadingIcon:R,expanded:Z,pauseWhenPageIsHidden:G,swipeDirections:t.swipeDirections})})):null}))});const AL=X.createContext(null);function ML({children:t,defaultTheme:e="system",value:n,...i}){const[r,s]=X.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a&&(a==="dark"||a==="light"||a==="system")?a:e}return e});X.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),r==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(u);return}a.classList.add(r)},[r]);const o={theme:r,setTheme:a=>{localStorage.setItem("theme",a),s(a)}};return F.jsx(AL.Provider,{value:o,...i,children:t})}const aw=()=>{const t=X.useContext(AL);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},y8=({...t})=>{const{theme:e}=aw();return F.jsx(g8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var v8=ZS[" useId ".trim().toString()]||(()=>{}),_8=0;function TE(t){const[e,n]=X.useState(v8());return wc(()=>{n(i=>i??String(_8++))},[t]),t||(e?`radix-${e}`:"")}const x8=["top","right","bottom","left"],Hd=Math.min,_a=Math.max,w_=Math.round,Qy=Math.floor,_u=t=>({x:t,y:t}),E8={left:"right",right:"left",bottom:"top",top:"bottom"},T8={start:"end",end:"start"};function Nb(t,e,n){return _a(t,Hd(e,n))}function Cc(t,e){return typeof t=="function"?t(e):t}function Ac(t){return t.split("-")[0]}function cm(t){return t.split("-")[1]}function lw(t){return t==="x"?"y":"x"}function uw(t){return t==="y"?"height":"width"}const b8=new Set(["top","bottom"]);function gu(t){return b8.has(Ac(t))?"y":"x"}function cw(t){return lw(gu(t))}function S8(t,e,n){n===void 0&&(n=!1);const i=cm(t),r=cw(t),s=uw(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=C_(o)),[o,C_(o)]}function w8(t){const e=C_(t);return[Ob(t),e,Ob(e)]}function Ob(t){return t.replace(/start|end/g,e=>T8[e])}const gM=["left","right"],yM=["right","left"],C8=["top","bottom"],A8=["bottom","top"];function M8(t,e,n){switch(t){case"top":case"bottom":return n?e?yM:gM:e?gM:yM;case"left":case"right":return e?C8:A8;default:return[]}}function P8(t,e,n,i){const r=cm(t);let s=M8(Ac(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Ob)))),s}function C_(t){return t.replace(/left|right|bottom|top/g,e=>E8[e])}function R8(t){return{top:0,right:0,bottom:0,left:0,...t}}function PL(t){return typeof t!="number"?R8(t):{top:t,right:t,bottom:t,left:t}}function A_(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function vM(t,e,n){let{reference:i,floating:r}=t;const s=gu(e),o=cw(e),a=uw(o),u=Ac(e),d=s==="y",f=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,y=i[a]/2-r[a]/2;let v;switch(u){case"top":v={x:f,y:i.y-r.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-r.width,y:p};break;default:v={x:i.x,y:i.y}}switch(cm(e)){case"start":v[o]-=y*(n&&d?-1:1);break;case"end":v[o]+=y*(n&&d?-1:1);break}return v}const I8=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:p}=vM(d,i,u),y=i,v={},T=0;for(let S=0;S<a.length;S++){const{name:b,fn:E}=a[S],{x:R,y:P,data:D,reset:G}=await E({x:f,y:p,initialPlacement:i,placement:y,strategy:r,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});f=R??f,p=P??p,v={...v,[b]:{...v[b],...D}},G&&T<=50&&(T++,typeof G=="object"&&(G.placement&&(y=G.placement),G.rects&&(d=G.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):G.rects),{x:f,y:p}=vM(d,y,u)),S=-1)}return{x:f,y:p,placement:y,strategy:r,middlewareData:v}};async function l0(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:y=!1,padding:v=0}=Cc(e,t),T=PL(v),b=a[y?p==="floating"?"reference":"floating":p],E=A_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:u})),R=p==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},G=A_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:R,offsetParent:P,strategy:u}):R);return{top:(E.top-G.top+T.top)/D.y,bottom:(G.bottom-E.bottom+T.bottom)/D.y,left:(E.left-G.left+T.left)/D.x,right:(G.right-E.right+T.right)/D.x}}const L8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:d,padding:f=0}=Cc(t,e)||{};if(d==null)return{};const p=PL(f),y={x:n,y:i},v=cw(r),T=uw(v),S=await o.getDimensions(d),b=v==="y",E=b?"top":"left",R=b?"bottom":"right",P=b?"clientHeight":"clientWidth",D=s.reference[T]+s.reference[v]-y[v]-s.floating[T],G=y[v]-s.reference[v],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let K=V?V[P]:0;(!K||!await(o.isElement==null?void 0:o.isElement(V)))&&(K=a.floating[P]||s.floating[T]);const H=D/2-G/2,z=K/2-S[T]/2-1,k=Hd(p[E],z),Z=Hd(p[R],z),$=k,re=K-S[T]-Z,ie=K/2-S[T]/2+H,ge=Nb($,ie,re),fe=!u.arrow&&cm(r)!=null&&ie!==ge&&s.reference[T]/2-(ie<$?k:Z)-S[T]/2<0,he=fe?ie<$?ie-$:ie-re:0;return{[v]:y[v]+he,data:{[v]:ge,centerOffset:ie-ge-he,...fe&&{alignmentOffset:he}},reset:fe}}}),N8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...b}=Cc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Ac(r),R=gu(a),P=Ac(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(d.floating)),G=y||(P||!S?[C_(a)]:w8(a)),V=T!=="none";!y&&V&&G.push(...P8(a,S,T,D));const K=[a,...G],H=await l0(e,b),z=[];let k=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&z.push(H[E]),p){const ie=S8(r,o,D);z.push(H[ie[0]],H[ie[1]])}if(k=[...k,{placement:r,overflows:z}],!z.every(ie=>ie<=0)){var Z,$;const ie=(((Z=s.flip)==null?void 0:Z.index)||0)+1,ge=K[ie];if(ge&&(!(p==="alignment"?R!==gu(ge):!1)||k.every(Y=>Y.overflows[0]>0&&gu(Y.placement)===R)))return{data:{index:ie,overflows:k},reset:{placement:ge}};let fe=($=k.filter(he=>he.overflows[0]<=0).sort((he,Y)=>he.overflows[1]-Y.overflows[1])[0])==null?void 0:$.placement;if(!fe)switch(v){case"bestFit":{var re;const he=(re=k.filter(Y=>{if(V){const se=gu(Y.placement);return se===R||se==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(se=>se>0).reduce((se,j)=>se+j,0)]).sort((Y,se)=>Y[1]-se[1])[0])==null?void 0:re[0];he&&(fe=he);break}case"initialPlacement":fe=a;break}if(r!==fe)return{reset:{placement:fe}}}return{}}}};function _M(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xM(t){return x8.some(e=>t[e]>=0)}const O8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Cc(t,e);switch(i){case"referenceHidden":{const s=await l0(e,{...r,elementContext:"reference"}),o=_M(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xM(o)}}}case"escaped":{const s=await l0(e,{...r,altBoundary:!0}),o=_M(s,n.floating);return{data:{escapedOffsets:o,escaped:xM(o)}}}default:return{}}}}},RL=new Set(["left","top"]);async function k8(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Ac(n),a=cm(n),u=gu(n)==="y",d=RL.has(o)?-1:1,f=s&&u?-1:1,p=Cc(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:T}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof T=="number"&&(v=a==="end"?T*-1:T),u?{x:v*f,y:y*d}:{x:y*d,y:v*f}}const D8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,u=await k8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:o}}}}},F8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:E,y:R}=b;return{x:E,y:R}}},...u}=Cc(t,e),d={x:n,y:i},f=await l0(e,u),p=gu(Ac(r)),y=lw(p);let v=d[y],T=d[p];if(s){const b=y==="y"?"top":"left",E=y==="y"?"bottom":"right",R=v+f[b],P=v-f[E];v=Nb(R,v,P)}if(o){const b=p==="y"?"top":"left",E=p==="y"?"bottom":"right",R=T+f[b],P=T-f[E];T=Nb(R,T,P)}const S=a.fn({...e,[y]:v,[p]:T});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[y]:s,[p]:o}}}}}},B8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=Cc(t,e),f={x:n,y:i},p=gu(r),y=lw(p);let v=f[y],T=f[p];const S=Cc(a,e),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(u){const P=y==="y"?"height":"width",D=s.reference[y]-s.floating[P]+b.mainAxis,G=s.reference[y]+s.reference[P]-b.mainAxis;v<D?v=D:v>G&&(v=G)}if(d){var E,R;const P=y==="y"?"width":"height",D=RL.has(Ac(r)),G=s.reference[p]-s.floating[P]+(D&&((E=o.offset)==null?void 0:E[p])||0)+(D?0:b.crossAxis),V=s.reference[p]+s.reference[P]+(D?0:((R=o.offset)==null?void 0:R[p])||0)-(D?b.crossAxis:0);T<G?T=G:T>V&&(T=V)}return{[y]:v,[p]:T}}}},U8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...d}=Cc(t,e),f=await l0(e,d),p=Ac(r),y=cm(r),v=gu(r)==="y",{width:T,height:S}=s.floating;let b,E;p==="top"||p==="bottom"?(b=p,E=y===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,b=y==="end"?"top":"bottom");const R=S-f.top-f.bottom,P=T-f.left-f.right,D=Hd(S-f[b],R),G=Hd(T-f[E],P),V=!e.middlewareData.shift;let K=D,H=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(H=P),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(K=R),V&&!y){const k=_a(f.left,0),Z=_a(f.right,0),$=_a(f.top,0),re=_a(f.bottom,0);v?H=T-2*(k!==0||Z!==0?k+Z:_a(f.left,f.right)):K=S-2*($!==0||re!==0?$+re:_a(f.top,f.bottom))}await u({...e,availableWidth:H,availableHeight:K});const z=await o.getDimensions(a.floating);return T!==z.width||S!==z.height?{reset:{rects:!0}}:{}}}};function Bx(){return typeof window<"u"}function dm(t){return IL(t)?(t.nodeName||"").toLowerCase():"#document"}function Ea(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pu(t){var e;return(e=(IL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IL(t){return Bx()?t instanceof Node||t instanceof Ea(t).Node:!1}function Ul(t){return Bx()?t instanceof Element||t instanceof Ea(t).Element:!1}function Cu(t){return Bx()?t instanceof HTMLElement||t instanceof Ea(t).HTMLElement:!1}function EM(t){return!Bx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ea(t).ShadowRoot}const z8=new Set(["inline","contents"]);function Y0(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=zl(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!z8.has(r)}const H8=new Set(["table","td","th"]);function V8(t){return H8.has(dm(t))}const j8=[":popover-open",":modal"];function Ux(t){return j8.some(e=>{try{return t.matches(e)}catch{return!1}})}const W8=["transform","translate","scale","rotate","perspective"],G8=["transform","translate","scale","rotate","perspective","filter"],Y8=["paint","layout","strict","content"];function dw(t){const e=hw(),n=Ul(t)?zl(t):t;return W8.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||G8.some(i=>(n.willChange||"").includes(i))||Y8.some(i=>(n.contain||"").includes(i))}function X8(t){let e=Vd(t);for(;Cu(e)&&!Gp(e);){if(dw(e))return e;if(Ux(e))return null;e=Vd(e)}return null}function hw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q8=new Set(["html","body","#document"]);function Gp(t){return q8.has(dm(t))}function zl(t){return Ea(t).getComputedStyle(t)}function zx(t){return Ul(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vd(t){if(dm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EM(t)&&t.host||Pu(t);return EM(e)?e.host:e}function LL(t){const e=Vd(t);return Gp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cu(e)&&Y0(e)?e:LL(e)}function u0(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=LL(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Ea(r);if(s){const a=kb(o);return e.concat(o,o.visualViewport||[],Y0(r)?r:[],a&&n?u0(a):[])}return e.concat(r,u0(r,[],n))}function kb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NL(t){const e=zl(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Cu(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=w_(n)!==s||w_(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function fw(t){return Ul(t)?t:t.contextElement}function Fp(t){const e=fw(t);if(!Cu(e))return _u(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=NL(e);let o=(s?w_(n.width):n.width)/i,a=(s?w_(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Z8=_u(0);function OL(t){const e=Ea(t);return!hw()||!e.visualViewport?Z8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ea(t)?!1:e}function hf(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=fw(t);let o=_u(1);e&&(i?Ul(i)&&(o=Fp(i)):o=Fp(t));const a=K8(s,n,i)?OL(s):_u(0);let u=(r.left+a.x)/o.x,d=(r.top+a.y)/o.y,f=r.width/o.x,p=r.height/o.y;if(s){const y=Ea(s),v=i&&Ul(i)?Ea(i):i;let T=y,S=kb(T);for(;S&&i&&v!==T;){const b=Fp(S),E=S.getBoundingClientRect(),R=zl(S),P=E.left+(S.clientLeft+parseFloat(R.paddingLeft))*b.x,D=E.top+(S.clientTop+parseFloat(R.paddingTop))*b.y;u*=b.x,d*=b.y,f*=b.x,p*=b.y,u+=P,d+=D,T=Ea(S),S=kb(T)}}return A_({width:f,height:p,x:u,y:d})}function pw(t,e){const n=zx(t).scrollLeft;return e?e.left+n:hf(Pu(t)).left+n}function kL(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:pw(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function $8(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=Pu(i),a=e?Ux(e.floating):!1;if(i===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},d=_u(1);const f=_u(0),p=Cu(i);if((p||!p&&!s)&&((dm(i)!=="body"||Y0(o))&&(u=zx(i)),Cu(i))){const v=hf(i);d=Fp(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const y=o&&!p&&!s?kL(o,u,!0):_u(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+y.x,y:n.y*d.y-u.scrollTop*d.y+f.y+y.y}}function Q8(t){return Array.from(t.getClientRects())}function J8(t){const e=Pu(t),n=zx(t),i=t.ownerDocument.body,r=_a(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=_a(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+pw(t);const a=-n.scrollTop;return zl(i).direction==="rtl"&&(o+=_a(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function ez(t,e){const n=Ea(t),i=Pu(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,u=0;if(r){s=r.width,o=r.height;const d=hw();(!d||d&&e==="fixed")&&(a=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:a,y:u}}const tz=new Set(["absolute","fixed"]);function nz(t,e){const n=hf(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Cu(t)?Fp(t):_u(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=r*s.x,d=i*s.y;return{width:o,height:a,x:u,y:d}}function TM(t,e,n){let i;if(e==="viewport")i=ez(t,n);else if(e==="document")i=J8(Pu(t));else if(Ul(e))i=nz(e,n);else{const r=OL(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return A_(i)}function DL(t,e){const n=Vd(t);return n===e||!Ul(n)||Gp(n)?!1:zl(n).position==="fixed"||DL(n,e)}function iz(t,e){const n=e.get(t);if(n)return n;let i=u0(t,[],!1).filter(a=>Ul(a)&&dm(a)!=="body"),r=null;const s=zl(t).position==="fixed";let o=s?Vd(t):t;for(;Ul(o)&&!Gp(o);){const a=zl(o),u=dw(o);!u&&a.position==="fixed"&&(r=null),(s?!u&&!r:!u&&a.position==="static"&&!!r&&tz.has(r.position)||Y0(o)&&!u&&DL(t,o))?i=i.filter(f=>f!==o):r=a,o=Vd(o)}return e.set(t,i),i}function rz(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?Ux(e)?[]:iz(e,this._c):[].concat(n),i],a=o[0],u=o.reduce((d,f)=>{const p=TM(e,f,r);return d.top=_a(p.top,d.top),d.right=Hd(p.right,d.right),d.bottom=Hd(p.bottom,d.bottom),d.left=_a(p.left,d.left),d},TM(e,a,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sz(t){const{width:e,height:n}=NL(t);return{width:e,height:n}}function oz(t,e,n){const i=Cu(e),r=Pu(e),s=n==="fixed",o=hf(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=_u(0);function d(){u.x=pw(r)}if(i||!i&&!s)if((dm(e)!=="body"||Y0(r))&&(a=zx(e)),i){const v=hf(e,!0,s,e);u.x=v.x+e.clientLeft,u.y=v.y+e.clientTop}else r&&d();s&&!i&&r&&d();const f=r&&!i&&!s?kL(r,a):_u(0),p=o.left+a.scrollLeft-u.x-f.x,y=o.top+a.scrollTop-u.y-f.y;return{x:p,y,width:o.width,height:o.height}}function bE(t){return zl(t).position==="static"}function bM(t,e){if(!Cu(t)||zl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pu(t)===n&&(n=n.ownerDocument.body),n}function FL(t,e){const n=Ea(t);if(Ux(t))return n;if(!Cu(t)){let r=Vd(t);for(;r&&!Gp(r);){if(Ul(r)&&!bE(r))return r;r=Vd(r)}return n}let i=bM(t,e);for(;i&&V8(i)&&bE(i);)i=bM(i,e);return i&&Gp(i)&&bE(i)&&!dw(i)?n:i||X8(t)||n}const az=async function(t){const e=this.getOffsetParent||FL,n=this.getDimensions,i=await n(t.floating);return{reference:oz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function lz(t){return zl(t).direction==="rtl"}const uz={convertOffsetParentRelativeRectToViewportRelativeRect:$8,getDocumentElement:Pu,getClippingRect:rz,getOffsetParent:FL,getElementRects:az,getClientRects:Q8,getDimensions:sz,getScale:Fp,isElement:Ul,isRTL:lz};function BL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cz(t,e){let n=null,i;const r=Pu(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:f,top:p,width:y,height:v}=d;if(a||e(),!y||!v)return;const T=Qy(p),S=Qy(r.clientWidth-(f+y)),b=Qy(r.clientHeight-(p+v)),E=Qy(f),P={rootMargin:-T+"px "+-S+"px "+-b+"px "+-E+"px",threshold:_a(0,Hd(1,u))||1};let D=!0;function G(V){const K=V[0].intersectionRatio;if(K!==u){if(!D)return o();K?o(!1,K):i=setTimeout(()=>{o(!1,1e-7)},1e3)}K===1&&!BL(d,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(G,{...P,root:r.ownerDocument})}catch{n=new IntersectionObserver(G,P)}n.observe(t)}return o(!0),s}function dz(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=fw(t),f=r||s?[...d?u0(d):[],...u0(e)]:[];f.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const p=d&&a?cz(d,n):null;let y=-1,v=null;o&&(v=new ResizeObserver(E=>{let[R]=E;R&&R.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(e)})),n()}),d&&!u&&v.observe(d),v.observe(e));let T,S=u?hf(t):null;u&&b();function b(){const E=hf(t);S&&!BL(S,E)&&n(),S=E,T=requestAnimationFrame(b)}return n(),()=>{var E;f.forEach(R=>{r&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),p?.(),(E=v)==null||E.disconnect(),v=null,u&&cancelAnimationFrame(T)}}const hz=D8,fz=F8,pz=N8,mz=U8,gz=O8,SM=L8,yz=B8,vz=(t,e,n)=>{const i=new Map,r={platform:uz,...n},s={...r.platform,_c:i};return I8(t,e,{...r,platform:s})};var _z=typeof document<"u",xz=function(){},a_=_z?X.useLayoutEffect:xz;function M_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!M_(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!M_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function UL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wM(t,e){const n=UL(t);return Math.round(e*n)/n}function SE(t){const e=X.useRef(t);return a_(()=>{e.current=t}),e}function Ez(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=t,[f,p]=X.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=X.useState(i);M_(y,i)||v(i);const[T,S]=X.useState(null),[b,E]=X.useState(null),R=X.useCallback(Y=>{Y!==V.current&&(V.current=Y,S(Y))},[]),P=X.useCallback(Y=>{Y!==K.current&&(K.current=Y,E(Y))},[]),D=s||T,G=o||b,V=X.useRef(null),K=X.useRef(null),H=X.useRef(f),z=u!=null,k=SE(u),Z=SE(r),$=SE(d),re=X.useCallback(()=>{if(!V.current||!K.current)return;const Y={placement:e,strategy:n,middleware:y};Z.current&&(Y.platform=Z.current),vz(V.current,K.current,Y).then(se=>{const j={...se,isPositioned:$.current!==!1};ie.current&&!M_(H.current,j)&&(H.current=j,j0.flushSync(()=>{p(j)}))})},[y,e,n,Z,$]);a_(()=>{d===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[d]);const ie=X.useRef(!1);a_(()=>(ie.current=!0,()=>{ie.current=!1}),[]),a_(()=>{if(D&&(V.current=D),G&&(K.current=G),D&&G){if(k.current)return k.current(D,G,re);re()}},[D,G,re,k,z]);const ge=X.useMemo(()=>({reference:V,floating:K,setReference:R,setFloating:P}),[R,P]),fe=X.useMemo(()=>({reference:D,floating:G}),[D,G]),he=X.useMemo(()=>{const Y={position:n,left:0,top:0};if(!fe.floating)return Y;const se=wM(fe.floating,f.x),j=wM(fe.floating,f.y);return a?{...Y,transform:"translate("+se+"px, "+j+"px)",...UL(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:j}},[n,a,fe.floating,f.x,f.y]);return X.useMemo(()=>({...f,update:re,refs:ge,elements:fe,floatingStyles:he}),[f,re,ge,fe,he])}const Tz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?SM({element:i.current,padding:r}).fn(n):{}:i?SM({element:i,padding:r}).fn(n):{}}}},bz=(t,e)=>({...hz(t),options:[t,e]}),Sz=(t,e)=>({...fz(t),options:[t,e]}),wz=(t,e)=>({...yz(t),options:[t,e]}),Cz=(t,e)=>({...pz(t),options:[t,e]}),Az=(t,e)=>({...mz(t),options:[t,e]}),Mz=(t,e)=>({...gz(t),options:[t,e]}),Pz=(t,e)=>({...Tz(t),options:[t,e]});var Rz="Arrow",zL=X.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return F.jsx(Dr.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});zL.displayName=Rz;var Iz=zL;function Lz(t){const[e,n]=X.useState(void 0);return wc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var HL="Popper",[VL,jL]=W0(HL),[Ohe,WL]=VL(HL),GL="PopperAnchor",YL=X.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=WL(GL,n),o=X.useRef(null),a=xo(e,o);return X.useEffect(()=>{s.onAnchorChange(i?.current||o.current)}),i?null:F.jsx(Dr.div,{...r,ref:a})});YL.displayName=GL;var mw="PopperContent",[Nz,Oz]=VL(mw),XL=X.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:T,...S}=t,b=WL(mw,n),[E,R]=X.useState(null),P=xo(e,Ce=>R(Ce)),[D,G]=X.useState(null),V=Lz(D),K=V?.width??0,H=V?.height??0,z=i+(s!=="center"?"-"+s:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(d)?d:[d],$=Z.length>0,re={padding:k,boundary:Z.filter(Dz),altBoundary:$},{refs:ie,floatingStyles:ge,placement:fe,isPositioned:he,middlewareData:Y}=Ez({strategy:"fixed",placement:z,whileElementsMounted:(...Ce)=>dz(...Ce,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[bz({mainAxis:r+H,alignmentAxis:o}),u&&Sz({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?wz():void 0,...re}),u&&Cz({...re}),Az({...re,apply:({elements:Ce,rects:Xe,availableWidth:nt,availableHeight:rt})=>{const{width:ot,height:_t}=Xe.reference,yt=Ce.floating.style;yt.setProperty("--radix-popper-available-width",`${nt}px`),yt.setProperty("--radix-popper-available-height",`${rt}px`),yt.setProperty("--radix-popper-anchor-width",`${ot}px`),yt.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),D&&Pz({element:D,padding:a}),Fz({arrowWidth:K,arrowHeight:H}),y&&Mz({strategy:"referenceHidden",...re})]}),[se,j]=KL(fe),ee=wu(T);wc(()=>{he&&ee?.()},[he,ee]);const ue=Y.arrow?.x,J=Y.arrow?.y,pe=Y.arrow?.centerOffset!==0,[xe,be]=X.useState();return wc(()=>{E&&be(window.getComputedStyle(E).zIndex)},[E]),F.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:he?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:F.jsx(Nz,{scope:n,placedSide:se,onArrowChange:G,arrowX:ue,arrowY:J,shouldHideArrow:pe,children:F.jsx(Dr.div,{"data-side":se,"data-align":j,...S,ref:P,style:{...S.style,animation:he?void 0:"none"}})})})});XL.displayName=mw;var qL="PopperArrow",kz={top:"bottom",right:"left",bottom:"top",left:"right"},ZL=X.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=Oz(qL,i),o=kz[s.placedSide];return F.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:F.jsx(Iz,{...r,ref:n,style:{...r.style,display:"block"}})})});ZL.displayName=qL;function Dz(t){return t!==null}var Fz=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=KL(n),p={start:"0%",center:"50%",end:"100%"}[f],y=(r.arrow?.x??0)+a/2,v=(r.arrow?.y??0)+u/2;let T="",S="";return d==="bottom"?(T=o?p:`${y}px`,S=`${-u}px`):d==="top"?(T=o?p:`${y}px`,S=`${i.floating.height+u}px`):d==="right"?(T=`${-u}px`,S=o?p:`${v}px`):d==="left"&&(T=`${i.floating.width+u}px`,S=o?p:`${v}px`),{data:{x:T,y:S}}}});function KL(t){const[e,n="center"]=t.split("-");return[e,n]}var Bz=YL,Uz=XL,zz=ZL,[Hx,khe]=W0("Tooltip",[jL]),gw=jL(),$L="TooltipProvider",Hz=700,CM="tooltip.open",[Vz,QL]=Hx($L),JL=t=>{const{__scopeTooltip:e,delayDuration:n=Hz,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=X.useRef(!0),a=X.useRef(!1),u=X.useRef(0);return X.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),F.jsx(Vz,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:X.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:X.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:X.useCallback(d=>{a.current=d},[]),disableHoverableContent:r,children:s})};JL.displayName=$L;var eN="Tooltip",[Dhe,Vx]=Hx(eN),Db="TooltipTrigger",jz=X.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=Vx(Db,n),s=QL(Db,n),o=gw(n),a=X.useRef(null),u=xo(e,a,r.onTriggerChange),d=X.useRef(!1),f=X.useRef(!1),p=X.useCallback(()=>d.current=!1,[]);return X.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),F.jsx(Bz,{asChild:!0,...o,children:F.jsx(Dr.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:u,onPointerMove:Zi(t.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Zi(t.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Zi(t.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Zi(t.onFocus,()=>{d.current||r.onOpen()}),onBlur:Zi(t.onBlur,r.onClose),onClick:Zi(t.onClick,r.onClose)})})});jz.displayName=Db;var Wz="TooltipPortal",[Fhe,Gz]=Hx(Wz,{forceMount:void 0}),Yp="TooltipContent",tN=X.forwardRef((t,e)=>{const n=Gz(Yp,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=Vx(Yp,t.__scopeTooltip);return F.jsx(lm,{present:i||o.open,children:o.disableHoverableContent?F.jsx(nN,{side:r,...s,ref:e}):F.jsx(Yz,{side:r,...s,ref:e})})}),Yz=X.forwardRef((t,e)=>{const n=Vx(Yp,t.__scopeTooltip),i=QL(Yp,t.__scopeTooltip),r=X.useRef(null),s=xo(e,r),[o,a]=X.useState(null),{trigger:u,onClose:d}=n,f=r.current,{onPointerInTransitChange:p}=i,y=X.useCallback(()=>{a(null),p(!1)},[p]),v=X.useCallback((T,S)=>{const b=T.currentTarget,E={x:T.clientX,y:T.clientY},R=$z(E,b.getBoundingClientRect()),P=Qz(E,R),D=Jz(S.getBoundingClientRect()),G=t9([...P,...D]);a(G),p(!0)},[p]);return X.useEffect(()=>()=>y(),[y]),X.useEffect(()=>{if(u&&f){const T=b=>v(b,f),S=b=>v(b,u);return u.addEventListener("pointerleave",T),f.addEventListener("pointerleave",S),()=>{u.removeEventListener("pointerleave",T),f.removeEventListener("pointerleave",S)}}},[u,f,v,y]),X.useEffect(()=>{if(o){const T=S=>{const b=S.target,E={x:S.clientX,y:S.clientY},R=u?.contains(b)||f?.contains(b),P=!e9(E,o);R?y():P&&(y(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,f,o,d,y]),F.jsx(nN,{...t,ref:s})}),[Xz,qz]=Hx(eN,{isInside:!1}),Zz=GF("TooltipContent"),nN=X.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=Vx(Yp,n),d=gw(n),{onClose:f}=u;return X.useEffect(()=>(document.addEventListener(CM,f),()=>document.removeEventListener(CM,f)),[f]),X.useEffect(()=>{if(u.trigger){const p=y=>{y.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),F.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:F.jsxs(Uz,{"data-state":u.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[F.jsx(Zz,{children:i}),F.jsx(Xz,{scope:n,isInside:!0,children:F.jsx(mB,{id:u.contentId,role:"tooltip",children:r||i})})]})})});tN.displayName=Yp;var iN="TooltipArrow",Kz=X.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=gw(n);return qz(iN,n).isInside?null:F.jsx(zz,{...r,...i,ref:e})});Kz.displayName=iN;function $z(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Qz(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function Jz(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function e9(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],u=e[o],d=a.x,f=a.y,p=u.x,y=u.y;f>i!=y>i&&n<(p-d)*(i-f)/(y-f)+d&&(r=!r)}return r}function t9(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),n9(e)}function n9(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var i9=JL,rN=tN;const r9=i9,s9=X.forwardRef(({className:t,sideOffset:e=4,...n},i)=>F.jsx(rN,{ref:i,sideOffset:e,className:Fi("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));s9.displayName=rN.displayName;var jx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wx=typeof window>"u"||"Deno"in globalThis;function Ol(){}function o9(t,e){return typeof t=="function"?t(e):t}function a9(t){return typeof t=="number"&&t>=0&&t!==1/0}function l9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fb(t,e){return typeof t=="function"?t(e):t}function u9(t,e){return typeof t=="function"?t(e):t}function AM(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==yw(o,e.options))return!1}else if(!d0(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function MM(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(c0(e.options.mutationKey)!==c0(s))return!1}else if(!d0(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function yw(t,e){return(e?.queryKeyHashFn||c0)(t)}function c0(t){return JSON.stringify(t,(e,n)=>Bb(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function d0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>d0(t[n],e[n])):!1}function sN(t,e){if(t===e)return t;const n=PM(t)&&PM(e);if(n||Bb(t)&&Bb(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},u=new Set(i);let d=0;for(let f=0;f<o;f++){const p=n?f:s[f];(!n&&u.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,d++):(a[p]=sN(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&d++)}return r===o&&d===r?t:a}return e}function PM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bb(t){if(!RM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RM(t){return Object.prototype.toString.call(t)==="[object Object]"}function c9(t){return new Promise(e=>{setTimeout(e,t)})}function d9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sN(t,e):e}function h9(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function f9(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var vw=Symbol();function oN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===vw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var p9=class extends jx{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Wx&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},aN=new p9,m9=class extends jx{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Wx&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},P_=new m9;function g9(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function y9(t){return Math.min(1e3*2**t,3e4)}function lN(t){return(t??"online")==="online"?P_.isOnline():!0}var uN=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function wE(t){return t instanceof uN}function cN(t){let e=!1,n=0,i=!1,r;const s=g9(),o=S=>{i||(y(new uN(S)),t.abort?.())},a=()=>{e=!0},u=()=>{e=!1},d=()=>aN.isFocused()&&(t.networkMode==="always"||P_.isOnline())&&t.canRun(),f=()=>lN(t.networkMode)&&t.canRun(),p=S=>{i||(i=!0,t.onSuccess?.(S),r?.(),s.resolve(S))},y=S=>{i||(i=!0,t.onError?.(S),r?.(),s.reject(S))},v=()=>new Promise(S=>{r=b=>{(i||d())&&S(b)},t.onPause?.()}).then(()=>{r=void 0,i||t.onContinue?.()}),T=()=>{if(i)return;let S;const b=n===0?t.initialPromise:void 0;try{S=b??t.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(p).catch(E=>{if(i)return;const R=t.retry??(Wx?0:3),P=t.retryDelay??y9,D=typeof P=="function"?P(n,E):P,G=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,E);if(e||!G){y(E);return}n++,t.onFail?.(n,E),c9(D).then(()=>d()?void 0:v()).then(()=>{e?y(E):T()})})};return{promise:s,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?T():v().then(T),s)}}var v9=t=>setTimeout(t,0);function _9(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=v9;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var go=_9(),dN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a9(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wx?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},x9=class extends dN{#e;#t;#n;#r;#i;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=T9(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=d9(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Ol).catch(Ol):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>u9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fb(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!l9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},r=()=>{const u=oN(this.options,e),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(p),p})();return this.#a=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(u),u})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const a=u=>{wE(u)&&u.silent||this.#s({type:"error",error:u}),wE(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=cN({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){a(d);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...E9(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return wE(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),go.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function E9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var b9=class extends jx{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??yw(i,e);let s=this.get(r);return s||(s=new x9({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){go.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>AM(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>AM(t,n)):e}notify(t){go.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){go.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){go.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},S9=class extends dN{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||w9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=cN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",i=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:i})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),go.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function w9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C9=class extends jx{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new S9({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=Jy(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Jy(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Jy(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Jy(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){go.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>MM(e,n))}findAll(t={}){return this.getAll().filter(e=>MM(t,e))}notify(t){go.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return go.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ol))))}};function Jy(t){return t.options.scope?.id}function IM(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const p=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},y=oN(e.options,e.fetchOptions),v=async(T,S,b)=>{if(f)return Promise.reject();if(S==null&&T.pages.length)return Promise.resolve(T);const R=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:S,direction:b?"backward":"forward",meta:e.options.meta};return p(V),V})(),P=await y(R),{maxPages:D}=e.options,G=b?f9:h9;return{pages:G(T.pages,P,D),pageParams:G(T.pageParams,S,D)}};if(r&&s.length){const T=r==="backward",S=T?A9:LM,b={pages:s,pageParams:o},E=S(i,b);a=await v(b,E,T)}else{const T=t??s.length;do{const S=u===0?o[0]??i.initialPageParam:LM(i,a);if(u>0&&S==null)break;a=await v(a,S),u++}while(u<T)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function LM(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function A9(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var M9=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new b9,this.#t=t.mutationCache||new C9,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=aN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=P_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,o=o9(e,s);if(o!==void 0)return this.#e.build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return go.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;go.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return go.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=go.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Ol).catch(Ol)}invalidateQueries(t,e={}){return go.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=go.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ol)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Ol)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Fb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ol).catch(Ol)}fetchInfiniteQuery(t){return t.behavior=IM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ol).catch(Ol)}ensureInfiniteQueryData(t){return t.behavior=IM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return P_.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(c0(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{d0(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(c0(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{d0(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},P9=X.createContext(void 0),R9=({client:t,children:e})=>(X.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),F.jsx(P9.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h0.apply(this,arguments)}var Fd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fd||(Fd={}));const NM="popstate";function I9(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Ub("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:R_(r)}return N9(e,n,null,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L9(){return Math.random().toString(36).substr(2,8)}function OM(t,e){return{usr:t.state,key:t.key,idx:e}}function Ub(t,e,n,i){return n===void 0&&(n=null),h0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hm(e):e,{state:n,key:e&&e.key||i||L9()})}function R_(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function N9(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Fd.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(h0({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=Fd.Pop;let b=f(),E=b==null?null:b-d;d=b,u&&u({action:a,location:S.location,delta:E})}function y(b,E){a=Fd.Push;let R=Ub(S.location,b,E);d=f()+1;let P=OM(R,d),D=S.createHref(R);try{o.pushState(P,"",D)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;r.location.assign(D)}s&&u&&u({action:a,location:S.location,delta:1})}function v(b,E){a=Fd.Replace;let R=Ub(S.location,b,E);d=f();let P=OM(R,d),D=S.createHref(R);o.replaceState(P,"",D),s&&u&&u({action:a,location:S.location,delta:0})}function T(b){let E=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof b=="string"?b:R_(b);return R=R.replace(/ $/,"%20"),kr(E,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,E)}let S={get action(){return a},get location(){return t(r,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(NM,p),u=b,()=>{r.removeEventListener(NM,p),u=null}},createHref(b){return e(r,b)},createURL:T,encodeLocation(b){let E=T(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:v,go(b){return o.go(b)}};return S}var kM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kM||(kM={}));function O9(t,e,n){return n===void 0&&(n="/"),k9(t,e,n)}function k9(t,e,n,i){let r=typeof e=="string"?hm(e):e,s=_w(r.pathname||"/",n);if(s==null)return null;let o=fN(t);D9(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=q9(s);a=G9(o[u],d)}return a}function fN(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(kr(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=zd([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),fN(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:j9(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let u of pN(s.path))r(s,o,u)}),e}function pN(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=pN(i.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function D9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W9(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const F9=/^:[\w-]+$/,B9=3,U9=2,z9=1,H9=10,V9=-2,DM=t=>t==="*";function j9(t,e){let n=t.split("/"),i=n.length;return n.some(DM)&&(i+=V9),e&&(i+=U9),n.filter(r=>!DM(r)).reduce((r,s)=>r+(F9.test(s)?B9:s===""?z9:H9),i)}function W9(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function G9(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let u=i[a],d=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Y9({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:zd([s,p.pathname]),pathnameBase:Q9(zd([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=zd([s,p.pathnameBase]))}return o}function Y9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=X9(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((d,f,p)=>{let{paramName:y,isOptional:v}=f;if(y==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const T=a[p];return v&&!T?d[y]=void 0:d[y]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function X9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(i.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function q9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _w(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Z9(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?hm(t):t;return{pathname:n?n.startsWith("/")?n:K9(n,e):e,search:J9(i),hash:eH(r)}}function K9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function CE(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mN(t,e){let n=$9(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function gN(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=hm(t):(r=h0({},t),kr(!r.pathname||!r.pathname.includes("?"),CE("?","pathname","search",r)),kr(!r.pathname||!r.pathname.includes("#"),CE("#","pathname","hash",r)),kr(!r.search||!r.search.includes("#"),CE("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}a=p>=0?e[p]:"/"}let u=Z9(r,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const zd=t=>t.join("/").replace(/\/\/+/g,"/"),Q9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yN=["post","put","patch","delete"];new Set(yN);const nH=["get",...yN];new Set(nH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f0.apply(this,arguments)}const xw=X.createContext(null),iH=X.createContext(null),vf=X.createContext(null),Gx=X.createContext(null),Xd=X.createContext({outlet:null,matches:[],isDataRoute:!1}),vN=X.createContext(null);function rH(t,e){let{relative:n}=e===void 0?{}:e;X0()||kr(!1);let{basename:i,navigator:r}=X.useContext(vf),{hash:s,pathname:o,search:a}=EN(t,{relative:n}),u=o;return i!=="/"&&(u=o==="/"?i:zd([i,o])),r.createHref({pathname:u,search:a,hash:s})}function X0(){return X.useContext(Gx)!=null}function _f(){return X0()||kr(!1),X.useContext(Gx).location}function _N(t){X.useContext(vf).static||X.useLayoutEffect(t)}function xN(){let{isDataRoute:t}=X.useContext(Xd);return t?vH():sH()}function sH(){X0()||kr(!1);let t=X.useContext(xw),{basename:e,future:n,navigator:i}=X.useContext(vf),{matches:r}=X.useContext(Xd),{pathname:s}=_f(),o=JSON.stringify(mN(r,n.v7_relativeSplatPath)),a=X.useRef(!1);return _N(()=>{a.current=!0}),X.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){i.go(d);return}let p=gN(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zd([e,p.pathname])),(f.replace?i.replace:i.push)(p,f.state,f)},[e,i,o,s,t])}function oH(){let{matches:t}=X.useContext(Xd),e=t[t.length-1];return e?e.params:{}}function EN(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=X.useContext(vf),{matches:r}=X.useContext(Xd),{pathname:s}=_f(),o=JSON.stringify(mN(r,i.v7_relativeSplatPath));return X.useMemo(()=>gN(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function aH(t,e){return lH(t,e)}function lH(t,e,n,i){X0()||kr(!1);let{navigator:r}=X.useContext(vf),{matches:s}=X.useContext(Xd),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=_f(),f;if(e){var p;let b=typeof e=="string"?hm(e):e;u==="/"||(p=b.pathname)!=null&&p.startsWith(u)||kr(!1),f=b}else f=d;let y=f.pathname||"/",v=y;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=O9(t,{pathname:v}),S=fH(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:zd([u,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:zd([u,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,i);return e&&S?X.createElement(Gx.Provider,{value:{location:f0({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Fd.Pop}},S):S}function uH(){let t=yH(),e=tH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:r},n):null,null)}const cH=X.createElement(uH,null);class dH extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(Xd.Provider,{value:this.props.routeContext},X.createElement(vN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hH(t){let{routeContext:e,match:n,children:i}=t,r=X.useContext(xw);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Xd.Provider,{value:e},i)}function fH(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);f>=0||kr(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:v}=n,T=p.route.loader&&y[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let v,T=!1,S=null,b=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||cH,u&&(d<0&&y===0?(_H("route-fallback"),T=!0,b=null):d===y&&(T=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,y+1)),R=()=>{let P;return v?P=S:T?P=b:p.route.Component?P=X.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,X.createElement(hH,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?X.createElement(dH,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):R()},null)}var TN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TN||{}),bN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bN||{});function pH(t){let e=X.useContext(xw);return e||kr(!1),e}function mH(t){let e=X.useContext(iH);return e||kr(!1),e}function gH(t){let e=X.useContext(Xd);return e||kr(!1),e}function SN(t){let e=gH(),n=e.matches[e.matches.length-1];return n.route.id||kr(!1),n.route.id}function yH(){var t;let e=X.useContext(vN),n=mH(),i=SN();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function vH(){let{router:t}=pH(TN.UseNavigateStable),e=SN(bN.UseNavigateStable),n=X.useRef(!1);return _N(()=>{n.current=!0}),X.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,f0({fromRouteId:e},s)))},[t,e])}const FM={};function _H(t,e,n){FM[t]||(FM[t]=!0)}function xH(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Md(t){kr(!1)}function EH(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Fd.Pop,navigator:s,static:o=!1,future:a}=t;X0()&&kr(!1);let u=e.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:u,navigator:s,static:o,future:f0({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof i=="string"&&(i=hm(i));let{pathname:f="/",search:p="",hash:y="",state:v=null,key:T="default"}=i,S=X.useMemo(()=>{let b=_w(f,u);return b==null?null:{location:{pathname:b,search:p,hash:y,state:v,key:T},navigationType:r}},[u,f,p,y,v,T,r]);return S==null?null:X.createElement(vf.Provider,{value:d},X.createElement(Gx.Provider,{children:n,value:S}))}function TH(t){let{children:e,location:n}=t;return aH(zb(e),n)}new Promise(()=>{});function zb(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(i,r)=>{if(!X.isValidElement(i))return;let s=[...e,r];if(i.type===X.Fragment){n.push.apply(n,zb(i.props.children,s));return}i.type!==Md&&kr(!1),!i.props.index||!i.props.children||kr(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=zb(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hb.apply(this,arguments)}function bH(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function SH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wH(t,e){return t.button===0&&(!e||e==="_self")&&!SH(t)}const CH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AH="6";try{window.__reactRouterVersion=AH}catch{}const MH="startTransition",BM=ZS[MH];function PH(t){let{basename:e,children:n,future:i,window:r}=t,s=X.useRef();s.current==null&&(s.current=I9({window:r,v5Compat:!0}));let o=s.current,[a,u]=X.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},f=X.useCallback(p=>{d&&BM?BM(()=>u(p)):u(p)},[u,d]);return X.useLayoutEffect(()=>o.listen(f),[o,f]),X.useEffect(()=>xH(i),[i]),X.createElement(EH,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const RH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xp=X.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,y=bH(e,CH),{basename:v}=X.useContext(vf),T,S=!1;if(typeof d=="string"&&IH.test(d)&&(T=d,RH))try{let P=new URL(window.location.href),D=d.startsWith("//")?new URL(P.protocol+d):new URL(d),G=_w(D.pathname,v);D.origin===P.origin&&G!=null?d=G+D.search+D.hash:S=!0}catch{}let b=rH(d,{relative:r}),E=LH(d,{replace:o,state:a,target:u,preventScrollReset:f,relative:r,viewTransition:p});function R(P){i&&i(P),P.defaultPrevented||E(P)}return X.createElement("a",Hb({},y,{href:T||b,onClick:S||s?i:R,ref:n,target:u}))});var UM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(UM||(UM={}));var zM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zM||(zM={}));function LH(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=xN(),d=_f(),f=EN(t,{relative:o});return X.useCallback(p=>{if(wH(p,n)){p.preventDefault();let y=i!==void 0?i:R_(d)===R_(f);u(t,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[d,u,f,i,r,n,t,s,o,a])}var AE={exports:{}},ME,HM;function NH(){if(HM)return ME;HM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ME=t,ME}var PE,VM;function OH(){if(VM)return PE;VM=1;var t=NH();function e(){}function n(){}return n.resetWarningCache=e,PE=function(){function i(o,a,u,d,f,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},PE}var jM;function kH(){return jM||(jM=1,AE.exports=OH()()),AE.exports}var DH=kH();const Yi=qa(DH);var RE,WM;function FH(){if(WM)return RE;WM=1;function t(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var e=am(),n=t(e);function i(a,u,d){return u in a?Object.defineProperty(a,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[u]=d,a}function r(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,u,d){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],T;function S(){T=a(v.map(function(E){return E.props})),b.canUseDOM?u(T):d&&(T=d(T))}var b=function(E){r(R,E);function R(){return E.apply(this,arguments)||this}R.peek=function(){return T},R.rewind=function(){if(R.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var G=T;return T=void 0,v=[],G};var P=R.prototype;return P.UNSAFE_componentWillMount=function(){v.push(this),S()},P.componentDidUpdate=function(){S()},P.componentWillUnmount=function(){var G=v.indexOf(this);v.splice(G,1),S()},P.render=function(){return n.createElement(y,this.props)},R}(e.PureComponent);return i(b,"displayName","SideEffect("+f(y)+")"),i(b,"canUseDOM",s),b}}return RE=o,RE}var BH=FH();const UH=qa(BH);var IE,GM;function zH(){if(GM)return IE;GM=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,u,d;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!r(s[u],o[u]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;for(f=s.entries();!(u=f.next()).done;)if(!r(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(u=f.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(u=a;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(d=Object.keys(s),a=d.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[u]))return!1;if(t&&s instanceof Element)return!1;for(u=a;u--!==0;)if(!((d[u]==="_owner"||d[u]==="__v"||d[u]==="__o")&&s.$$typeof)&&!r(s[d[u]],o[d[u]]))return!1;return!0}return s!==s&&o!==o}return IE=function(o,a){try{return r(o,a)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},IE}var HH=zH();const VH=qa(HH);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var LE,YM;function jH(){if(YM)return LE;YM=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return LE=r()?Object.assign:function(s,o){for(var a,u=i(s),d,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)e.call(a,p)&&(u[p]=a[p]);if(t){d=t(a);for(var y=0;y<d.length;y++)n.call(a,d[y])&&(u[d[y]]=a[d[y]])}}return u},LE}var WH=jH();const GH=qa(WH);var tf={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},kn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(kn).map(function(t){return kn[t]});var qi={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},I_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},p0={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},YH=Object.keys(I_).reduce(function(t,e){return t[I_[e]]=e,t},{}),XH=[kn.NOSCRIPT,kn.SCRIPT,kn.STYLE],Fl="data-react-helmet",qH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZH=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},KH=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Bo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$H=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},XM=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},QH=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Vb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},JH=function(e){var n=Bp(e,kn.TITLE),i=Bp(e,p0.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Bp(e,p0.DEFAULT_TITLE);return n||r||void 0},e7=function(e){return Bp(e,p0.ON_CHANGE_CLIENT_STATE)||function(){}},NE=function(e,n){return n.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Bo({},i,r)},{})},t7=function(e,n){return n.filter(function(i){return typeof i[kn.BASE]<"u"}).map(function(i){return i[kn.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var s=Object.keys(r),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(e.indexOf(u)!==-1&&r[u])return i.concat(r)}return i},[])},og=function(e,n,i){var r={};return i.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&s7("Helmet: "+e+' should be of type "Array". Instead found type "'+qH(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(y){for(var v=void 0,T=Object.keys(y),S=0;S<T.length;S++){var b=T[S],E=b.toLowerCase();n.indexOf(E)!==-1&&!(v===qi.REL&&y[v].toLowerCase()==="canonical")&&!(E===qi.REL&&y[E].toLowerCase()==="stylesheet")&&(v=E),n.indexOf(b)!==-1&&(b===qi.INNER_HTML||b===qi.CSS_TEXT||b===qi.ITEM_PROP)&&(v=b)}if(!v||!y[v])return!1;var R=y[v].toLowerCase();return r[v]||(r[v]={}),a[v]||(a[v]={}),r[v][R]?!1:(a[v][R]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var u=Object.keys(a),d=0;d<u.length;d++){var f=u[d],p=GH({},r[f],a[f]);r[f]=p}return s},[]).reverse()},Bp=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},n7=function(e){return{baseTag:t7([qi.HREF,qi.TARGET],e),bodyAttributes:NE(tf.BODY,e),defer:Bp(e,p0.DEFER),encode:Bp(e,p0.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:NE(tf.HTML,e),linkTags:og(kn.LINK,[qi.REL,qi.HREF],e),metaTags:og(kn.META,[qi.NAME,qi.CHARSET,qi.HTTPEQUIV,qi.PROPERTY,qi.ITEM_PROP],e),noscriptTags:og(kn.NOSCRIPT,[qi.INNER_HTML],e),onChangeClientState:e7(e),scriptTags:og(kn.SCRIPT,[qi.SRC,qi.INNER_HTML],e),styleTags:og(kn.STYLE,[qi.CSS_TEXT],e),title:JH(e),titleAttributes:NE(tf.TITLE,e)}},jb=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){jb(e)},0)}}(),qM=function(e){return clearTimeout(e)},i7=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||jb:global.requestAnimationFrame||jb,r7=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||qM:global.cancelAnimationFrame||qM,s7=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ag=null,o7=function(e){ag&&r7(ag),e.defer?ag=i7(function(){ZM(e,function(){ag=null})}):(ZM(e),ag=null)},ZM=function(e,n){var i=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,d=e.onChangeClientState,f=e.scriptTags,p=e.styleTags,y=e.title,v=e.titleAttributes;Wb(kn.BODY,r),Wb(kn.HTML,s),a7(y,v);var T={baseTag:Kf(kn.BASE,i),linkTags:Kf(kn.LINK,o),metaTags:Kf(kn.META,a),noscriptTags:Kf(kn.NOSCRIPT,u),scriptTags:Kf(kn.SCRIPT,f),styleTags:Kf(kn.STYLE,p)},S={},b={};Object.keys(T).forEach(function(E){var R=T[E],P=R.newTags,D=R.oldTags;P.length&&(S[E]=P),D.length&&(b[E]=T[E].oldTags)}),n&&n(),d(e,S,b)},wN=function(e){return Array.isArray(e)?e.join(""):e},a7=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=wN(e)),Wb(kn.TITLE,n)},Wb=function(e,n){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(Fl),s=r?r.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var d=a[u],f=n[d]||"";i.getAttribute(d)!==f&&i.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);var p=o.indexOf(d);p!==-1&&o.splice(p,1)}for(var y=o.length-1;y>=0;y--)i.removeAttribute(o[y]);s.length===o.length?i.removeAttribute(Fl):i.getAttribute(Fl)!==a.join(",")&&i.setAttribute(Fl,a.join(","))}},Kf=function(e,n){var i=document.head||document.querySelector(kn.HEAD),r=i.querySelectorAll(e+"["+Fl+"]"),s=Array.prototype.slice.call(r),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var d=document.createElement(e);for(var f in u)if(u.hasOwnProperty(f))if(f===qi.INNER_HTML)d.innerHTML=u.innerHTML;else if(f===qi.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];d.setAttribute(f,p)}d.setAttribute(Fl,"true"),s.some(function(y,v){return a=v,d.isEqualNode(y)})?s.splice(a,1):o.push(d)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return i.appendChild(u)}),{oldTags:s,newTags:o}},CN=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},l7=function(e,n,i,r){var s=CN(i),o=wN(n);return s?"<"+e+" "+Fl+'="true" '+s+">"+Vb(o,r)+"</"+e+">":"<"+e+" "+Fl+'="true">'+Vb(o,r)+"</"+e+">"},u7=function(e,n,i){return n.reduce(function(r,s){var o=Object.keys(s).filter(function(d){return!(d===qi.INNER_HTML||d===qi.CSS_TEXT)}).reduce(function(d,f){var p=typeof s[f]>"u"?f:f+'="'+Vb(s[f],i)+'"';return d?d+" "+p:p},""),a=s.innerHTML||s.cssText||"",u=XH.indexOf(e)===-1;return r+"<"+e+" "+Fl+'="true" '+o+(u?"/>":">"+a+"</"+e+">")},"")},AN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[I_[r]||r]=e[r],i},n)},c7=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[YH[r]||r]=e[r],i},n)},d7=function(e,n,i){var r,s=(r={key:n},r[Fl]=!0,r),o=AN(i,s);return[it.createElement(kn.TITLE,o,n)]},h7=function(e,n){return n.map(function(i,r){var s,o=(s={key:r},s[Fl]=!0,s);return Object.keys(i).forEach(function(a){var u=I_[a]||a;if(u===qi.INNER_HTML||u===qi.CSS_TEXT){var d=i.innerHTML||i.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[u]=i[a]}),it.createElement(e,o)})},dc=function(e,n,i){switch(e){case kn.TITLE:return{toComponent:function(){return d7(e,n.title,n.titleAttributes)},toString:function(){return l7(e,n.title,n.titleAttributes,i)}};case tf.BODY:case tf.HTML:return{toComponent:function(){return AN(n)},toString:function(){return CN(n)}};default:return{toComponent:function(){return h7(e,n)},toString:function(){return u7(e,n,i)}}}},MN=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,d=e.scriptTags,f=e.styleTags,p=e.title,y=p===void 0?"":p,v=e.titleAttributes;return{base:dc(kn.BASE,n,r),bodyAttributes:dc(tf.BODY,i,r),htmlAttributes:dc(tf.HTML,s,r),link:dc(kn.LINK,o,r),meta:dc(kn.META,a,r),noscript:dc(kn.NOSCRIPT,u,r),script:dc(kn.SCRIPT,d,r),style:dc(kn.STYLE,f,r),title:dc(kn.TITLE,{title:y,titleAttributes:v},r)}},f7=function(e){var n,i;return i=n=function(r){$H(s,r);function s(){return ZH(this,s),QH(this,r.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!VH(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case kn.SCRIPT:case kn.NOSCRIPT:return{innerHTML:u};case kn.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,d=a.child,f=a.arrayTypeChildren,p=a.newChildProps,y=a.nestedChildren;return Bo({},f,(u={},u[d.type]=[].concat(f[d.type]||[],[Bo({},p,this.mapNestedChildrenToProps(d,y))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,d,f=a.child,p=a.newProps,y=a.newChildProps,v=a.nestedChildren;switch(f.type){case kn.TITLE:return Bo({},p,(u={},u[f.type]=v,u.titleAttributes=Bo({},y),u));case kn.BODY:return Bo({},p,{bodyAttributes:Bo({},y)});case kn.HTML:return Bo({},p,{htmlAttributes:Bo({},y)})}return Bo({},p,(d={},d[f.type]=Bo({},y),d))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var d=Bo({},u);return Object.keys(a).forEach(function(f){var p;d=Bo({},d,(p={},p[f]=a[f],p))}),d},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var d=this,f={};return it.Children.forEach(a,function(p){if(!(!p||!p.props)){var y=p.props,v=y.children,T=XM(y,["children"]),S=c7(T);switch(d.warnOnInvalidChildren(p,v),p.type){case kn.LINK:case kn.META:case kn.NOSCRIPT:case kn.SCRIPT:case kn.STYLE:f=d.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:S,nestedChildren:v});break;default:u=d.mapObjectTypeChildren({child:p,newProps:u,newChildProps:S,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},s.prototype.render=function(){var a=this.props,u=a.children,d=XM(a,["children"]),f=Bo({},d);return u&&(f=this.mapChildrenToProps(u,f)),it.createElement(e,f)},KH(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(it.Component),n.propTypes={base:Yi.object,bodyAttributes:Yi.object,children:Yi.oneOfType([Yi.arrayOf(Yi.node),Yi.node]),defaultTitle:Yi.string,defer:Yi.bool,encodeSpecialCharacters:Yi.bool,htmlAttributes:Yi.object,link:Yi.arrayOf(Yi.object),meta:Yi.arrayOf(Yi.object),noscript:Yi.arrayOf(Yi.object),onChangeClientState:Yi.func,script:Yi.arrayOf(Yi.object),style:Yi.arrayOf(Yi.object),title:Yi.string,titleAttributes:Yi.object,titleTemplate:Yi.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=MN({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},p7=function(){return null},m7=UH(n7,o7,MN)(p7),m0=f7(m7);m0.renderStatic=m0.rewind;const g7={sidebarOpen:!1,toggleSidebar:()=>{}},y7=X.createContext(g7),v7=({children:t})=>{const[e,n]=X.useState(!1),i=()=>{n(r=>!r)};return F.jsx(y7.Provider,{value:{sidebarOpen:e,toggleSidebar:i},children:t})},_7=tw("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tc=X.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const o=i?F3:"button";return F.jsx(o,{className:Fi(_7({variant:e,size:n,className:t})),ref:s,...r})});Tc.displayName="Button";const OE=768;function x7(){const[t,e]=X.useState(void 0);return X.useEffect(()=>{const n=window.matchMedia(`(max-width: ${OE-1}px)`),i=()=>{e(window.innerWidth<OE)};return n.addEventListener("change",i),e(window.innerWidth<OE),()=>n.removeEventListener("change",i)},[]),!!t}var kE="focusScope.autoFocusOnMount",DE="focusScope.autoFocusOnUnmount",KM={bubbles:!1,cancelable:!0},E7="FocusScope",PN=X.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[a,u]=X.useState(null),d=wu(r),f=wu(s),p=X.useRef(null),y=xo(e,S=>u(S)),v=X.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;X.useEffect(()=>{if(i){let S=function(P){if(v.paused||!a)return;const D=P.target;a.contains(D)?p.current=D:Pd(p.current,{select:!0})},b=function(P){if(v.paused||!a)return;const D=P.relatedTarget;D!==null&&(a.contains(D)||Pd(p.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const G of P)G.removedNodes.length>0&&Pd(a)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const R=new MutationObserver(E);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),R.disconnect()}}},[i,a,v.paused]),X.useEffect(()=>{if(a){QM.add(v);const S=document.activeElement;if(!a.contains(S)){const E=new CustomEvent(kE,KM);a.addEventListener(kE,d),a.dispatchEvent(E),E.defaultPrevented||(T7(A7(RN(a)),{select:!0}),document.activeElement===S&&Pd(a))}return()=>{a.removeEventListener(kE,d),setTimeout(()=>{const E=new CustomEvent(DE,KM);a.addEventListener(DE,f),a.dispatchEvent(E),E.defaultPrevented||Pd(S??document.body,{select:!0}),a.removeEventListener(DE,f),QM.remove(v)},0)}}},[a,d,f,v]);const T=X.useCallback(S=>{if(!n&&!i||v.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,E=document.activeElement;if(b&&E){const R=S.currentTarget,[P,D]=b7(R);P&&D?!S.shiftKey&&E===D?(S.preventDefault(),n&&Pd(P,{select:!0})):S.shiftKey&&E===P&&(S.preventDefault(),n&&Pd(D,{select:!0})):E===R&&S.preventDefault()}},[n,i,v.paused]);return F.jsx(Dr.div,{tabIndex:-1,...o,ref:y,onKeyDown:T})});PN.displayName=E7;function T7(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Pd(i,{select:e}),document.activeElement!==n)return}function b7(t){const e=RN(t),n=$M(e,t),i=$M(e.reverse(),t);return[n,i]}function RN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $M(t,e){for(const n of t)if(!S7(n,{upTo:e}))return n}function S7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function w7(t){return t instanceof HTMLInputElement&&"select"in t}function Pd(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&w7(t)&&e&&t.select()}}var QM=C7();function C7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=JM(t,e),t.unshift(e)},remove(e){t=JM(t,e),t[0]?.resume()}}}function JM(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function A7(t){return t.filter(e=>e.tagName!=="A")}var FE=0;function M7(){X.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??e2()),document.body.insertAdjacentElement("beforeend",t[1]??e2()),FE++,()=>{FE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),FE--}},[])}function e2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fu=function(){return fu=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fu.apply(this,arguments)};function IN(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function P7(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var l_="right-scroll-bar-position",u_="width-before-scroll-bar",R7="with-scroll-bars-hidden",I7="--removed-body-scroll-bar-size";function BE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function L7(t,e){var n=X.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var N7=typeof window<"u"?X.useLayoutEffect:X.useEffect,t2=new WeakMap;function O7(t,e){var n=L7(null,function(i){return t.forEach(function(r){return BE(r,i)})});return N7(function(){var i=t2.get(n);if(i){var r=new Set(i),s=new Set(t),o=n.current;r.forEach(function(a){s.has(a)||BE(a,null)}),s.forEach(function(a){r.has(a)||BE(a,o)})}t2.set(n,t)},[t]),n}function k7(t){return t}function D7(t,e){e===void 0&&(e=k7);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,i);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){i=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return r}function F7(t){t===void 0&&(t={});var e=D7(null);return e.options=fu({async:!0,ssr:!1},t),e}var LN=function(t){var e=t.sideCar,n=IN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return X.createElement(i,fu({},n))};LN.isSideCarExport=!0;function B7(t,e){return t.useMedium(e),LN}var NN=F7(),UE=function(){},Yx=X.forwardRef(function(t,e){var n=X.useRef(null),i=X.useState({onScrollCapture:UE,onWheelCapture:UE,onTouchMoveCapture:UE}),r=i[0],s=i[1],o=t.forwardProps,a=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,y=t.sideCar,v=t.noRelative,T=t.noIsolation,S=t.inert,b=t.allowPinchZoom,E=t.as,R=E===void 0?"div":E,P=t.gapMode,D=IN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=y,V=O7([n,e]),K=fu(fu({},D),r);return X.createElement(X.Fragment,null,f&&X.createElement(G,{sideCar:NN,removeScrollBar:d,shards:p,noRelative:v,noIsolation:T,inert:S,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:P}),o?X.cloneElement(X.Children.only(a),fu(fu({},K),{ref:V})):X.createElement(R,fu({},K,{className:u,ref:V}),a))});Yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yx.classNames={fullWidth:u_,zeroRight:l_};var U7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=U7();return e&&t.setAttribute("nonce",e),t}function H7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function V7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=z7())&&(H7(e,n),V7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},W7=function(){var t=j7();return function(e,n){X.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ON=function(){var t=W7(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},G7={left:0,top:0,right:0,gap:0},zE=function(t){return parseInt(t||"",10)||0},Y7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[zE(n),zE(i),zE(r)]},X7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return G7;var e=Y7(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},q7=ON(),Up="data-scroll-locked",Z7=function(t,e,n,i){var r=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(Up,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(l_,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(u_,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(l_," .").concat(l_,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(u_," .").concat(u_,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Up,`] {
    `).concat(I7,": ").concat(a,`px;
  }
`)},n2=function(){var t=parseInt(document.body.getAttribute(Up)||"0",10);return isFinite(t)?t:0},K7=function(){X.useEffect(function(){return document.body.setAttribute(Up,(n2()+1).toString()),function(){var t=n2()-1;t<=0?document.body.removeAttribute(Up):document.body.setAttribute(Up,t.toString())}},[])},$7=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;K7();var s=X.useMemo(function(){return X7(r)},[r]);return X.createElement(q7,{styles:Z7(s,!e,r,n?"":"!important")})},Gb=!1;if(typeof window<"u")try{var ev=Object.defineProperty({},"passive",{get:function(){return Gb=!0,!0}});window.addEventListener("test",ev,ev),window.removeEventListener("test",ev,ev)}catch{Gb=!1}var $f=Gb?{passive:!1}:!1,Q7=function(t){return t.tagName==="TEXTAREA"},kN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Q7(t)&&n[e]==="visible")},J7=function(t){return kN(t,"overflowY")},eV=function(t){return kN(t,"overflowX")},i2=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=DN(t,i);if(r){var s=FN(t,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},tV=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},nV=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},DN=function(t,e){return t==="v"?J7(e):eV(e)},FN=function(t,e){return t==="v"?tV(e):nV(e)},iV=function(t,e){return t==="h"&&e==="rtl"?-1:1},rV=function(t,e,n,i,r){var s=iV(t,window.getComputedStyle(e).direction),o=s*i,a=n.target,u=e.contains(a),d=!1,f=o>0,p=0,y=0;do{if(!a)break;var v=FN(t,a),T=v[0],S=v[1],b=v[2],E=S-b-s*T;(T||E)&&DN(t,a)&&(p+=E,y+=T);var R=a.parentNode;a=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(f&&Math.abs(p)<1||!f&&Math.abs(y)<1)&&(d=!0),d},tv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},r2=function(t){return[t.deltaX,t.deltaY]},s2=function(t){return t&&"current"in t?t.current:t},sV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aV=0,Qf=[];function lV(t){var e=X.useRef([]),n=X.useRef([0,0]),i=X.useRef(),r=X.useState(aV++)[0],s=X.useState(ON)[0],o=X.useRef(t);X.useEffect(function(){o.current=t},[t]),X.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var S=P7([t.lockRef.current],(t.shards||[]).map(s2),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var a=X.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var E=tv(S),R=n.current,P="deltaX"in S?S.deltaX:R[0]-E[0],D="deltaY"in S?S.deltaY:R[1]-E[1],G,V=S.target,K=Math.abs(P)>Math.abs(D)?"h":"v";if("touches"in S&&K==="h"&&V.type==="range")return!1;var H=i2(K,V);if(!H)return!0;if(H?G=K:(G=K==="v"?"h":"v",H=i2(K,V)),!H)return!1;if(!i.current&&"changedTouches"in S&&(P||D)&&(i.current=G),!G)return!0;var z=i.current||G;return rV(z,b,S,z==="h"?P:D)},[]),u=X.useCallback(function(S){var b=S;if(!(!Qf.length||Qf[Qf.length-1]!==s)){var E="deltaY"in b?r2(b):tv(b),R=e.current.filter(function(G){return G.name===b.type&&(G.target===b.target||b.target===G.shadowParent)&&sV(G.delta,E)})[0];if(R&&R.should){b.cancelable&&b.preventDefault();return}if(!R){var P=(o.current.shards||[]).map(s2).filter(Boolean).filter(function(G){return G.contains(b.target)}),D=P.length>0?a(b,P[0]):!o.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),d=X.useCallback(function(S,b,E,R){var P={name:S,delta:b,target:E,should:R,shadowParent:uV(E)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(D){return D!==P})},1)},[]),f=X.useCallback(function(S){n.current=tv(S),i.current=void 0},[]),p=X.useCallback(function(S){d(S.type,r2(S),S.target,a(S,t.lockRef.current))},[]),y=X.useCallback(function(S){d(S.type,tv(S),S.target,a(S,t.lockRef.current))},[]);X.useEffect(function(){return Qf.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",u,$f),document.addEventListener("touchmove",u,$f),document.addEventListener("touchstart",f,$f),function(){Qf=Qf.filter(function(S){return S!==s}),document.removeEventListener("wheel",u,$f),document.removeEventListener("touchmove",u,$f),document.removeEventListener("touchstart",f,$f)}},[]);var v=t.removeScrollBar,T=t.inert;return X.createElement(X.Fragment,null,T?X.createElement(s,{styles:oV(r)}):null,v?X.createElement($7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cV=B7(NN,lV);var BN=X.forwardRef(function(t,e){return X.createElement(Yx,fu({},t,{ref:e,sideCar:cV}))});BN.classNames=Yx.classNames;var dV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Jf=new WeakMap,nv=new WeakMap,iv={},HE=0,UN=function(t){return t&&(t.host||UN(t.parentNode))},hV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=UN(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fV=function(t,e,n,i){var r=hV(e,Array.isArray(t)?t:[t]);iv[n]||(iv[n]=new WeakMap);var s=iv[n],o=[],a=new Set,u=new Set(r),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};r.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(y){if(a.has(y))f(y);else try{var v=y.getAttribute(i),T=v!==null&&v!=="false",S=(Jf.get(y)||0)+1,b=(s.get(y)||0)+1;Jf.set(y,S),s.set(y,b),o.push(y),S===1&&T&&nv.set(y,!0),b===1&&y.setAttribute(n,"true"),T||y.setAttribute(i,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return f(e),a.clear(),HE++,function(){o.forEach(function(p){var y=Jf.get(p)-1,v=s.get(p)-1;Jf.set(p,y),s.set(p,v),y||(nv.has(p)||p.removeAttribute(i),nv.delete(p)),v||p.removeAttribute(n)}),HE--,HE||(Jf=new WeakMap,Jf=new WeakMap,nv=new WeakMap,iv={})}},pV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=dV(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),fV(i,r,n,"aria-hidden")):function(){return null}},Xx="Dialog",[zN,Bhe]=W0(Xx),[mV,Hl]=zN(Xx),HN=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=t,a=X.useRef(null),u=X.useRef(null),[d,f]=j3({prop:i,defaultProp:r??!1,onChange:s,caller:Xx});return F.jsx(mV,{scope:e,triggerRef:a,contentRef:u,contentId:TE(),titleId:TE(),descriptionId:TE(),open:d,onOpenChange:f,onOpenToggle:X.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};HN.displayName=Xx;var VN="DialogTrigger",jN=X.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Hl(VN,n),s=xo(e,r.triggerRef);return F.jsx(Dr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":bw(r.open),...i,ref:s,onClick:Zi(t.onClick,r.onOpenToggle)})});jN.displayName=VN;var Ew="DialogPortal",[gV,WN]=zN(Ew,{forceMount:void 0}),GN=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:r}=t,s=Hl(Ew,e);return F.jsx(gV,{scope:e,forceMount:n,children:X.Children.map(i,o=>F.jsx(lm,{present:n||s.open,children:F.jsx($S,{asChild:!0,container:r,children:o})}))})};GN.displayName=Ew;var L_="DialogOverlay",YN=X.forwardRef((t,e)=>{const n=WN(L_,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Hl(L_,t.__scopeDialog);return s.modal?F.jsx(lm,{present:i||s.open,children:F.jsx(vV,{...r,ref:e})}):null});YN.displayName=L_;var yV=a0("DialogOverlay.RemoveScroll"),vV=X.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Hl(L_,n);return F.jsx(BN,{as:yV,allowPinchZoom:!0,shards:[r.contentRef],children:F.jsx(Dr.div,{"data-state":bw(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),ff="DialogContent",XN=X.forwardRef((t,e)=>{const n=WN(ff,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Hl(ff,t.__scopeDialog);return F.jsx(lm,{present:i||s.open,children:s.modal?F.jsx(_V,{...r,ref:e}):F.jsx(xV,{...r,ref:e})})});XN.displayName=ff;var _V=X.forwardRef((t,e)=>{const n=Hl(ff,t.__scopeDialog),i=X.useRef(null),r=xo(e,n.contentRef,i);return X.useEffect(()=>{const s=i.current;if(s)return pV(s)},[]),F.jsx(qN,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Zi(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Zi(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Zi(t.onFocusOutside,s=>s.preventDefault())})}),xV=X.forwardRef((t,e)=>{const n=Hl(ff,t.__scopeDialog),i=X.useRef(!1),r=X.useRef(!1);return F.jsx(qN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(i.current||n.triggerRef.current?.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),qN=X.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=t,a=Hl(ff,n),u=X.useRef(null),d=xo(e,u);return M7(),F.jsxs(F.Fragment,{children:[F.jsx(PN,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:F.jsx(Ox,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),F.jsxs(F.Fragment,{children:[F.jsx(EV,{titleId:a.titleId}),F.jsx(bV,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Tw="DialogTitle",ZN=X.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Hl(Tw,n);return F.jsx(Dr.h2,{id:r.titleId,...i,ref:e})});ZN.displayName=Tw;var KN="DialogDescription",$N=X.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Hl(KN,n);return F.jsx(Dr.p,{id:r.descriptionId,...i,ref:e})});$N.displayName=KN;var QN="DialogClose",JN=X.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Hl(QN,n);return F.jsx(Dr.button,{type:"button",...i,ref:e,onClick:Zi(t.onClick,()=>r.onOpenChange(!1))})});JN.displayName=QN;function bw(t){return t?"open":"closed"}var eO="DialogTitleWarning",[Uhe,tO]=VF(eO,{contentName:ff,titleName:Tw,docsSlug:"dialog"}),EV=({titleId:t})=>{const e=tO(eO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return X.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TV="DialogDescriptionWarning",bV=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tO(TV).contentName}}.`;return X.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},SV=HN,wV=jN,CV=GN,nO=YN,iO=XN,rO=ZN,sO=$N,AV=JN;const MV=SV,PV=wV,RV=CV,oO=X.forwardRef(({className:t,...e},n)=>F.jsx(nO,{className:Fi("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));oO.displayName=nO.displayName;const IV=tw("fixed z-50 gap-4 bg-card border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b rounded-b-xl data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t rounded-t-xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aO=X.forwardRef(({side:t="right",className:e,children:n,...i},r)=>F.jsxs(RV,{children:[F.jsx(oO,{}),F.jsxs(iO,{ref:r,className:Fi(IV({side:t}),e),...i,children:[n,F.jsxs(AV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none",children:[F.jsx(gL,{className:"h-8 w-8"}),F.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aO.displayName=iO.displayName;const LV=X.forwardRef(({className:t,...e},n)=>F.jsx(rO,{ref:n,className:Fi("text-lg font-semibold text-primary/90",t),...e}));LV.displayName=rO.displayName;const NV=X.forwardRef(({className:t,...e},n)=>F.jsx(sO,{ref:n,className:Fi("text-sm text-muted-foreground mt-2",t),...e}));NV.displayName=sO.displayName;const OV=({isScrolled:t})=>{const[e,n]=X.useState(!1),{theme:i,setTheme:r}=aw(),s=()=>{r(i==="dark"?"light":"dark")},o=xN(),a=u=>{n(!1),o(u)};return F.jsxs(MV,{open:e,onOpenChange:n,children:[F.jsx(PV,{asChild:!0,children:F.jsx(Tc,{variant:"ghost",size:"lg",className:"md:hidden",children:F.jsx(JB,{className:"h-5 w-5"})})}),F.jsx(aO,{side:"right",className:"w-full h-full p-0 border-none bg-white dark:bg-gray-900",children:F.jsx("div",{className:"relative w-full h-full flex flex-col",children:F.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8 px-8",children:[F.jsx("button",{onClick:()=>a("/#services"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Services"}),F.jsx("button",{onClick:()=>a("/about"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"About"}),F.jsx("button",{onClick:()=>a("/certificates"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Certificates"}),F.jsx("button",{onClick:()=>a("/#testimonies"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Testimonies"}),F.jsx("button",{onClick:()=>a("/regions"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Served Regions"}),F.jsx("button",{onClick:()=>a("/gallery"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Gallery"}),F.jsx("button",{onClick:()=>a("/#contact"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Contact"}),F.jsxs("div",{className:"pt-8 flex flex-col items-center space-y-4",children:[F.jsxs("div",{className:"flex justify-center items-center gap-6",children:[F.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:F.jsx(Fx,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),F.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:F.jsx(iw,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})}),F.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",children:F.jsx(sw,{className:"w-7 h-7 text-red-600 hover:text-red-700 transition"})})]}),F.jsxs(Tc,{variant:"outline",onClick:s,className:"px-6 py-3 text-lg",children:[i==="dark"?F.jsx(mL,{className:"h-5 w-5 mr-2"}):F.jsx(pL,{className:"h-5 w-5 mr-2"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})})})]})},kV="/assets/tpc_00-BYwvNTtA.jpg",DV=()=>{const{theme:t,setTheme:e}=aw(),[n,i]=X.useState(!1),r=x7(),s=()=>{e(t==="dark"?"light":"dark")};return X.useEffect(()=>{const o=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),F.jsx("header",{className:`
      transition-all duration-300 border-b border-gray-200 dark:border-gray-700
      md:fixed md:top-0 md:left-0 md:right-0 md:z-50
      ${n?"md:bg-white/80 md:dark:bg-gray-900/80 md:backdrop-blur-md md:shadow-lg":"bg-white dark:bg-gray-900 shadow-sm"}
    `,children:F.jsx("div",{className:"w-full px-6 max-w-full xl:max-w-none",children:F.jsxs("div",{className:"flex items-center justify-between w-full",children:[F.jsx("div",{className:"flex items-center space-x-2",children:F.jsxs("a",{href:"/",className:"flex items-center space-x-2",children:[F.jsx("img",{src:kV,alt:"Torres Pest Control Logo",className:"h-20- w-20 rounded-full"}),F.jsxs("div",{children:[F.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[F.jsx("span",{className:"text-red-600",children:"TORRES"})," ",F.jsx("span",{className:"text-blue-600",children:"PEST CONTROL"})]}),F.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",style:{paddingLeft:"0.25rem"},children:"Your Trusted Pest Control Specialist"})]})]})}),!r&&F.jsxs("nav",{className:"hidden md:flex items-center space-x-6 mx-auto",children:[F.jsx("a",{href:"/#services",className:"nav-link",children:"Services"}),F.jsx("a",{href:"/about",className:"nav-link",children:"About"}),F.jsx("a",{href:"/certificates",className:"nav-link",children:"Certificates"}),F.jsx("a",{href:"/#testimonies",className:"nav-link",children:"Testimonies"}),F.jsx("a",{href:"/regions",className:"nav-link",children:"Served Regions"}),F.jsx("a",{href:"/gallery",className:"nav-link",children:"Gallery"}),F.jsx("a",{href:"/#contact",className:"nav-link",children:"Contact"})]}),!r&&F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx(Tc,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:t==="dark"?F.jsx(mL,{className:"h-5 w-5"}):F.jsx(pL,{className:"h-5 w-5"})}),F.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:F.jsx(Fx,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),F.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:F.jsx(iw,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})}),F.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",children:F.jsx(sw,{className:"w-7 h-7 text-red-600 hover:text-red-700 transition"})})]}),r&&F.jsx(OV,{isScrolled:n})]})})})},FV=()=>F.jsx("footer",{className:"bg-gray-900 dark:bg-black text-white py-12",children:F.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[F.jsxs("div",{children:[F.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Torres Pest Control"}),F.jsx("p",{className:"text-gray-300",children:"Professional pest control services in Davao with 14-15 years of experience."})]}),F.jsxs("div",{children:[F.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),F.jsxs("ul",{className:"space-y-2 text-gray-300",children:[F.jsx("li",{children:"Cockroach Control"}),F.jsx("li",{children:"Termite Treatment"}),F.jsx("li",{children:"Rodent Removal"}),F.jsx("li",{children:"Dengue Fogging"})]})]}),F.jsxs("div",{children:[F.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),F.jsx("p",{className:"text-gray-300",children:"Phone: +63 917 139 1908"}),F.jsxs("p",{className:"text-gray-300",children:["B11A L65 Martylville Subdivision",F.jsx("br",{}),"San Lorenzo Purok 13 Brgy Ula,",F.jsx("br",{}),"Tugbok, Davao City, Davao Del Sur, Philippines"]}),F.jsxs("div",{className:"mt-8 flex justify-left items-center gap-6",children:[F.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:F.jsx(Fx,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),F.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:F.jsx(iw,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})}),F.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",children:F.jsx(sw,{className:"w-7 h-7 text-red-600 hover:text-red-700 transition"})})]})]})]}),F.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:F.jsxs("p",{className:"text-gray-400",children:[" ",new Date().getFullYear()," Torres Pest Control. All rights reserved."]})})]})}),BV=()=>{const[t,e]=X.useState(!1);X.useEffect(()=>{const i=()=>{e(window.scrollY>300)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return F.jsx("button",{onClick:n,className:`fixed bottom-6 right-6 z-50 p-3 rounded-full transition-opacity duration-300 shadow-lg
        bg-green-600 text-white hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-400
        ${t?"opacity-100":"opacity-0 pointer-events-none"}
      `,"aria-label":"Scroll to Top",children:F.jsx(VB,{className:"w-6 h-6"})})},fm=({children:t})=>F.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[F.jsx(DV,{}),t,F.jsx(BV,{}),F.jsx(FV,{})]});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qx="178",UV={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},zV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lO=0,Yb=1,uO=2,HV=3,cO=0,Zx=1,Bg=2,kl=3,Mc=0,_o=1,pu=2,bc=0,nf=1,Xb=2,qb=3,Zb=4,dO=5,Dd=100,hO=101,fO=102,pO=103,mO=104,gO=200,yO=201,vO=202,_O=203,N_=204,O_=205,xO=206,EO=207,TO=208,bO=209,SO=210,wO=211,CO=212,AO=213,MO=214,k_=0,D_=1,F_=2,pf=3,B_=4,U_=5,z_=6,H_=7,q0=0,PO=1,RO=2,xu=0,IO=1,LO=2,NO=3,Sw=4,OO=5,kO=6,DO=7,Kb="attached",FO="detached",Kx=300,Pc=301,jd=302,g0=303,y0=304,pm=306,v0=1e3,ja=1001,_0=1002,Rs=1003,ww=1004,VV=1004,wp=1005,jV=1005,Nr=1006,Ug=1007,WV=1007,yu=1008,GV=1008,Ya=1009,Cw=1010,Aw=1011,qp=1012,$x=1013,Rc=1014,Wo=1015,mm=1016,Qx=1017,Jx=1018,Zp=1020,Mw=35902,Pw=1021,Rw=1022,Ys=1023,Kp=1026,$p=1027,e1=1028,Z0=1029,Iw=1030,t1=1031,YV=1032,n1=1033,zg=33776,Hg=33777,Vg=33778,jg=33779,V_=35840,j_=35841,W_=35842,G_=35843,Y_=36196,X_=37492,q_=37496,Z_=37808,K_=37809,$_=37810,Q_=37811,J_=37812,ex=37813,tx=37814,nx=37815,ix=37816,rx=37817,sx=37818,ox=37819,ax=37820,lx=37821,Wg=36492,ux=36494,cx=36495,Lw=36283,dx=36284,hx=36285,fx=36286,BO=2200,UO=2201,zO=2202,x0=2300,px=2301,c_=2302,Zh=2400,Kh=2401,E0=2402,i1=2500,Nw=2501,XV=0,qV=1,ZV=2,HO=3200,VO=3201,KV=3202,$V=3203,qd=0,jO=1,_c="",Vo="srgb",mf="srgb-linear",T0="linear",gi="srgb",QV=0,Gh=7680,JV=7681,ej=7682,tj=7683,nj=34055,ij=34056,rj=5386,sj=512,oj=513,aj=514,lj=515,uj=516,cj=517,dj=518,$b=519,WO=512,GO=513,YO=514,Ow=515,XO=516,qO=517,ZO=518,KO=519,b0=35044,hj=35048,fj=35040,pj=35045,mj=35049,gj=35041,yj=35046,vj=35050,_j=35042,xj="100",Qb="300 es",Wa=2e3,S0=2001,Ej={COMPUTE:"compute",RENDER:"render"},Tj={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},bj={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Ru{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const js=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let o2=1234567;const rf=Math.PI/180,Qp=180/Math.PI;function Ta(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(js[t&255]+js[t>>8&255]+js[t>>16&255]+js[t>>24&255]+"-"+js[e&255]+js[e>>8&255]+"-"+js[e>>16&15|64]+js[e>>24&255]+"-"+js[n&63|128]+js[n>>8&255]+"-"+js[n>>16&255]+js[n>>24&255]+js[i&255]+js[i>>8&255]+js[i>>16&255]+js[i>>24&255]).toLowerCase()}function In(t,e,n){return Math.max(e,Math.min(n,t))}function kw(t,e){return(t%e+e)%e}function Sj(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function wj(t,e,n){return t!==e?(n-t)/(e-t):0}function Gg(t,e,n){return(1-n)*t+n*e}function Cj(t,e,n,i){return Gg(t,e,1-Math.exp(-n*i))}function Aj(t,e=1){return e-Math.abs(kw(t,e*2)-e)}function Mj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Pj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Rj(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Ij(t,e){return t+Math.random()*(e-t)}function Lj(t){return t*(.5-Math.random())}function Nj(t){t!==void 0&&(o2=t);let e=o2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Oj(t){return t*rf}function kj(t){return t*Qp}function Dj(t){return(t&t-1)===0&&t!==0}function Fj(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Bj(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Uj(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),u=o(n/2),d=s((e+i)/2),f=o((e+i)/2),p=s((e-i)/2),y=o((e-i)/2),v=s((i-e)/2),T=o((i-e)/2);switch(r){case"XYX":t.set(a*f,u*p,u*y,a*d);break;case"YZY":t.set(u*y,a*f,u*p,a*d);break;case"ZXZ":t.set(u*p,u*y,a*f,a*d);break;case"XZX":t.set(a*f,u*T,u*v,a*d);break;case"YXY":t.set(u*v,a*f,u*T,a*d);break;case"ZYZ":t.set(u*T,u*v,a*f,a*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function yo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Un(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const zj={DEG2RAD:rf,RAD2DEG:Qp,generateUUID:Ta,clamp:In,euclideanModulo:kw,mapLinear:Sj,inverseLerp:wj,lerp:Gg,damp:Cj,pingpong:Aj,smoothstep:Mj,smootherstep:Pj,randInt:Rj,randFloat:Ij,randFloatSpread:Lj,seededRandom:Nj,degToRad:Oj,radToDeg:kj,isPowerOfTwo:Dj,ceilPowerOfTwo:Fj,floorPowerOfTwo:Bj,setQuaternionFromProperEuler:Uj,normalize:Un,denormalize:yo};class ft{constructor(e=0,n=0){ft.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=In(this.x,e.x,n.x),this.y=In(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=In(this.x,e,n),this.y=In(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(In(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(In(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yo{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let u=i[r+0],d=i[r+1],f=i[r+2],p=i[r+3];const y=s[o+0],v=s[o+1],T=s[o+2],S=s[o+3];if(a===0){e[n+0]=u,e[n+1]=d,e[n+2]=f,e[n+3]=p;return}if(a===1){e[n+0]=y,e[n+1]=v,e[n+2]=T,e[n+3]=S;return}if(p!==S||u!==y||d!==v||f!==T){let b=1-a;const E=u*y+d*v+f*T+p*S,R=E>=0?1:-1,P=1-E*E;if(P>Number.EPSILON){const G=Math.sqrt(P),V=Math.atan2(G,E*R);b=Math.sin(b*V)/G,a=Math.sin(a*V)/G}const D=a*R;if(u=u*b+y*D,d=d*b+v*D,f=f*b+T*D,p=p*b+S*D,b===1-a){const G=1/Math.sqrt(u*u+d*d+f*f+p*p);u*=G,d*=G,f*=G,p*=G}}e[n]=u,e[n+1]=d,e[n+2]=f,e[n+3]=p}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],u=i[r+1],d=i[r+2],f=i[r+3],p=s[o],y=s[o+1],v=s[o+2],T=s[o+3];return e[n]=a*T+f*p+u*v-d*y,e[n+1]=u*T+f*y+d*p-a*v,e[n+2]=d*T+f*v+a*y-u*p,e[n+3]=f*T-a*p-u*y-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,d=a(i/2),f=a(r/2),p=a(s/2),y=u(i/2),v=u(r/2),T=u(s/2);switch(o){case"XYZ":this._x=y*f*p+d*v*T,this._y=d*v*p-y*f*T,this._z=d*f*T+y*v*p,this._w=d*f*p-y*v*T;break;case"YXZ":this._x=y*f*p+d*v*T,this._y=d*v*p-y*f*T,this._z=d*f*T-y*v*p,this._w=d*f*p+y*v*T;break;case"ZXY":this._x=y*f*p-d*v*T,this._y=d*v*p+y*f*T,this._z=d*f*T+y*v*p,this._w=d*f*p-y*v*T;break;case"ZYX":this._x=y*f*p-d*v*T,this._y=d*v*p+y*f*T,this._z=d*f*T-y*v*p,this._w=d*f*p+y*v*T;break;case"YZX":this._x=y*f*p+d*v*T,this._y=d*v*p+y*f*T,this._z=d*f*T-y*v*p,this._w=d*f*p-y*v*T;break;case"XZY":this._x=y*f*p-d*v*T,this._y=d*v*p-y*f*T,this._z=d*f*T+y*v*p,this._w=d*f*p+y*v*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],u=n[9],d=n[2],f=n[6],p=n[10],y=i+a+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(f-u)*v,this._y=(s-d)*v,this._z=(o-r)*v}else if(i>a&&i>p){const v=2*Math.sqrt(1+i-a-p);this._w=(f-u)/v,this._x=.25*v,this._y=(r+o)/v,this._z=(s+d)/v}else if(a>p){const v=2*Math.sqrt(1+a-i-p);this._w=(s-d)/v,this._x=(r+o)/v,this._y=.25*v,this._z=(u+f)/v}else{const v=2*Math.sqrt(1+p-i-a);this._w=(o-r)/v,this._x=(s+d)/v,this._y=(u+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(In(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,u=n._y,d=n._z,f=n._w;return this._x=i*f+o*a+r*d-s*u,this._y=r*f+o*u+s*a-i*d,this._z=s*f+o*d+i*u-r*a,this._w=o*f-i*a-r*u-s*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*i+n*this._x,this._y=v*r+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const d=Math.sqrt(u),f=Math.atan2(d,a),p=Math.sin((1-n)*f)/d,y=Math.sin(n*f)/d;return this._w=o*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=s*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,n=0,i=0){me.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(a2.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(a2.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,u=e.w,d=2*(o*r-a*i),f=2*(a*n-s*r),p=2*(s*i-o*n);return this.x=n+u*d+o*p-a*f,this.y=i+u*f+a*d-s*p,this.z=r+u*p+s*f-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=In(this.x,e.x,n.x),this.y=In(this.y,e.y,n.y),this.z=In(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=In(this.x,e,n),this.y=In(this.y,e,n),this.z=In(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(In(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,u=n.z;return this.x=r*u-s*a,this.y=s*o-i*u,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return VE.copy(this).projectOnVector(e),this.sub(VE)}reflect(e){return this.sub(VE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(In(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const VE=new me,a2=new Yo;class On{constructor(e,n,i,r,s,o,a,u,d){On.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,u,d)}set(e,n,i,r,s,o,a,u,d){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=n,f[4]=s,f[5]=u,f[6]=i,f[7]=o,f[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],u=i[6],d=i[1],f=i[4],p=i[7],y=i[2],v=i[5],T=i[8],S=r[0],b=r[3],E=r[6],R=r[1],P=r[4],D=r[7],G=r[2],V=r[5],K=r[8];return s[0]=o*S+a*R+u*G,s[3]=o*b+a*P+u*V,s[6]=o*E+a*D+u*K,s[1]=d*S+f*R+p*G,s[4]=d*b+f*P+p*V,s[7]=d*E+f*D+p*K,s[2]=y*S+v*R+T*G,s[5]=y*b+v*P+T*V,s[8]=y*E+v*D+T*K,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],d=e[7],f=e[8];return n*o*f-n*a*d-i*s*f+i*a*u+r*s*d-r*o*u}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],d=e[7],f=e[8],p=f*o-a*d,y=a*u-f*s,v=d*s-o*u,T=n*p+i*y+r*v;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/T;return e[0]=p*S,e[1]=(r*d-f*i)*S,e[2]=(a*i-r*o)*S,e[3]=y*S,e[4]=(f*n-r*u)*S,e[5]=(r*s-a*n)*S,e[6]=v*S,e[7]=(i*u-d*n)*S,e[8]=(o*n-i*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const u=Math.cos(s),d=Math.sin(s);return this.set(i*u,i*d,-i*(u*o+d*a)+o+e,-r*d,r*u,-r*(-d*o+u*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(jE.makeScale(e,n)),this}rotate(e){return this.premultiply(jE.makeRotation(-e)),this}translate(e,n){return this.premultiply(jE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jE=new On;function $O(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Hj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cp(t,e){return new Hj[t](e)}function w0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function QO(){const t=w0("canvas");return t.style.display="block",t}const l2={};function zp(t){t in l2||(l2[t]=!0,console.warn(t))}function Vj(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}function jj(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Wj(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const u2=new On().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),c2=new On().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Gj(){const t={enabled:!0,workingColorSpace:mf,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===gi&&(r.r=Sc(r.r),r.g=Sc(r.g),r.b=Sc(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===gi&&(r.r=Hp(r.r),r.g=Hp(r.g),r.b=Hp(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===_c?T0:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return zp("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return zp("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[mf]:{primaries:e,whitePoint:i,transfer:T0,toXYZ:u2,fromXYZ:c2,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Vo},outputColorSpaceConfig:{drawingBufferColorSpace:Vo}},[Vo]:{primaries:e,whitePoint:i,transfer:gi,toXYZ:u2,fromXYZ:c2,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Vo}}}),t}const ei=Gj();function Sc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Hp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ep;class JO{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{ep===void 0&&(ep=w0("canvas")),ep.width=e.width,ep.height=e.height;const r=ep.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=ep}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=w0("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Sc(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Sc(n[i]/255)*255):n[i]=Sc(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Yj=0;class Bd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Yj++}),this.uuid=Ta(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(WE(r[o].image)):s.push(WE(r[o]))}else s=WE(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function WE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?JO.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Xj=0;const GE=new me;class rr extends Ru{constructor(e=rr.DEFAULT_IMAGE,n=rr.DEFAULT_MAPPING,i=ja,r=ja,s=Nr,o=yu,a=Ys,u=Ya,d=rr.DEFAULT_ANISOTROPY,f=_c){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Xj++}),this.uuid=Ta(),this.name="",this.source=new Bd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=d,this.format=a,this.internalFormat=null,this.type=u,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new On,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(GE).x}get height(){return this.source.getSize(GE).y}get depth(){return this.source.getSize(GE).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Kx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case v0:e.x=e.x-Math.floor(e.x);break;case ja:e.x=e.x<0?0:1;break;case _0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case v0:e.y=e.y-Math.floor(e.y);break;case ja:e.y=e.y<0?0:1;break;case _0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}rr.DEFAULT_IMAGE=null;rr.DEFAULT_MAPPING=Kx;rr.DEFAULT_ANISOTROPY=1;class ri{constructor(e=0,n=0,i=0,r=1){ri.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const u=e.elements,d=u[0],f=u[4],p=u[8],y=u[1],v=u[5],T=u[9],S=u[2],b=u[6],E=u[10];if(Math.abs(f-y)<.01&&Math.abs(p-S)<.01&&Math.abs(T-b)<.01){if(Math.abs(f+y)<.1&&Math.abs(p+S)<.1&&Math.abs(T+b)<.1&&Math.abs(d+v+E-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const P=(d+1)/2,D=(v+1)/2,G=(E+1)/2,V=(f+y)/4,K=(p+S)/4,H=(T+b)/4;return P>D&&P>G?P<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(P),r=V/i,s=K/i):D>G?D<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(D),i=V/r,s=H/r):G<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(G),i=K/s,r=H/s),this.set(i,r,s,n),this}let R=Math.sqrt((b-T)*(b-T)+(p-S)*(p-S)+(y-f)*(y-f));return Math.abs(R)<.001&&(R=1),this.x=(b-T)/R,this.y=(p-S)/R,this.z=(y-f)/R,this.w=Math.acos((d+v+E-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=In(this.x,e.x,n.x),this.y=In(this.y,e.y,n.y),this.z=In(this.z,e.z,n.z),this.w=In(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=In(this.x,e,n),this.y=In(this.y,e,n),this.z=In(this.z,e,n),this.w=In(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(In(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dw extends Ru{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Nr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new ri(0,0,e,n),this.scissorTest=!1,this.viewport=new ri(0,0,e,n);const r={width:e,height:n,depth:i.depth},s=new rr(r);this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Nr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new Bd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Au extends Dw{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class r1 extends rr{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Rs,this.minFilter=Rs,this.wrapR=ja,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qj extends Au{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new r1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class s1 extends rr{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Rs,this.minFilter=Rs,this.wrapR=ja,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zj extends Au{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new s1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class qs{constructor(e=new me(1/0,1/0,1/0),n=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Rl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Rl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Rl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Rl):Rl.fromBufferAttribute(s,o),Rl.applyMatrix4(e.matrixWorld),this.expandByPoint(Rl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),rv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),rv.copy(i.boundingBox)),rv.applyMatrix4(e.matrixWorld),this.union(rv)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Rl),Rl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lg),sv.subVectors(this.max,lg),tp.subVectors(e.a,lg),np.subVectors(e.b,lg),ip.subVectors(e.c,lg),_d.subVectors(np,tp),xd.subVectors(ip,np),Rh.subVectors(tp,ip);let n=[0,-_d.z,_d.y,0,-xd.z,xd.y,0,-Rh.z,Rh.y,_d.z,0,-_d.x,xd.z,0,-xd.x,Rh.z,0,-Rh.x,-_d.y,_d.x,0,-xd.y,xd.x,0,-Rh.y,Rh.x,0];return!YE(n,tp,np,ip,sv)||(n=[1,0,0,0,1,0,0,0,1],!YE(n,tp,np,ip,sv))?!1:(ov.crossVectors(_d,xd),n=[ov.x,ov.y,ov.z],YE(n,tp,np,ip,sv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Rl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Rl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(hc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const hc=[new me,new me,new me,new me,new me,new me,new me,new me],Rl=new me,rv=new qs,tp=new me,np=new me,ip=new me,_d=new me,xd=new me,Rh=new me,lg=new me,sv=new me,ov=new me,Ih=new me;function YE(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Ih.fromArray(t,s);const a=r.x*Math.abs(Ih.x)+r.y*Math.abs(Ih.y)+r.z*Math.abs(Ih.z),u=e.dot(Ih),d=n.dot(Ih),f=i.dot(Ih);if(Math.max(-Math.max(u,d,f),Math.min(u,d,f))>a)return!1}return!0}const Kj=new qs,ug=new me,XE=new me;class Is{constructor(e=new me,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Kj.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ug.subVectors(e,this.center);const n=ug.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(ug,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(XE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ug.copy(e.center).add(XE)),this.expandByPoint(ug.copy(e.center).sub(XE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const fc=new me,qE=new me,av=new me,Ed=new me,ZE=new me,lv=new me,KE=new me;class gm{constructor(e=new me,n=new me(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,fc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=fc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(fc.copy(this.origin).addScaledVector(this.direction,n),fc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){qE.copy(e).add(n).multiplyScalar(.5),av.copy(n).sub(e).normalize(),Ed.copy(this.origin).sub(qE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(av),a=Ed.dot(this.direction),u=-Ed.dot(av),d=Ed.lengthSq(),f=Math.abs(1-o*o);let p,y,v,T;if(f>0)if(p=o*u-a,y=o*a-u,T=s*f,p>=0)if(y>=-T)if(y<=T){const S=1/f;p*=S,y*=S,v=p*(p+o*y+2*a)+y*(o*p+y+2*u)+d}else y=s,p=Math.max(0,-(o*y+a)),v=-p*p+y*(y+2*u)+d;else y=-s,p=Math.max(0,-(o*y+a)),v=-p*p+y*(y+2*u)+d;else y<=-T?(p=Math.max(0,-(-o*s+a)),y=p>0?-s:Math.min(Math.max(-s,-u),s),v=-p*p+y*(y+2*u)+d):y<=T?(p=0,y=Math.min(Math.max(-s,-u),s),v=y*(y+2*u)+d):(p=Math.max(0,-(o*s+a)),y=p>0?s:Math.min(Math.max(-s,-u),s),v=-p*p+y*(y+2*u)+d);else y=o>0?-s:s,p=Math.max(0,-(o*y+a)),v=-p*p+y*(y+2*u)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(qE).addScaledVector(av,y),v}intersectSphere(e,n){fc.subVectors(e.center,this.origin);const i=fc.dot(this.direction),r=fc.dot(fc)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,u=i+o;return u<0?null:a<0?this.at(u,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,u;const d=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,y=this.origin;return d>=0?(i=(e.min.x-y.x)*d,r=(e.max.x-y.x)*d):(i=(e.max.x-y.x)*d,r=(e.min.x-y.x)*d),f>=0?(s=(e.min.y-y.y)*f,o=(e.max.y-y.y)*f):(s=(e.max.y-y.y)*f,o=(e.min.y-y.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),p>=0?(a=(e.min.z-y.z)*p,u=(e.max.z-y.z)*p):(a=(e.max.z-y.z)*p,u=(e.min.z-y.z)*p),i>u||a>r)||((a>i||i!==i)&&(i=a),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,fc)!==null}intersectTriangle(e,n,i,r,s){ZE.subVectors(n,e),lv.subVectors(i,e),KE.crossVectors(ZE,lv);let o=this.direction.dot(KE),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ed.subVectors(this.origin,e);const u=a*this.direction.dot(lv.crossVectors(Ed,lv));if(u<0)return null;const d=a*this.direction.dot(ZE.cross(Ed));if(d<0||u+d>o)return null;const f=-a*Ed.dot(KE);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vn{constructor(e,n,i,r,s,o,a,u,d,f,p,y,v,T,S,b){vn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,u,d,f,p,y,v,T,S,b)}set(e,n,i,r,s,o,a,u,d,f,p,y,v,T,S,b){const E=this.elements;return E[0]=e,E[4]=n,E[8]=i,E[12]=r,E[1]=s,E[5]=o,E[9]=a,E[13]=u,E[2]=d,E[6]=f,E[10]=p,E[14]=y,E[3]=v,E[7]=T,E[11]=S,E[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/rp.setFromMatrixColumn(e,0).length(),s=1/rp.setFromMatrixColumn(e,1).length(),o=1/rp.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),u=Math.cos(r),d=Math.sin(r),f=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const y=o*f,v=o*p,T=a*f,S=a*p;n[0]=u*f,n[4]=-u*p,n[8]=d,n[1]=v+T*d,n[5]=y-S*d,n[9]=-a*u,n[2]=S-y*d,n[6]=T+v*d,n[10]=o*u}else if(e.order==="YXZ"){const y=u*f,v=u*p,T=d*f,S=d*p;n[0]=y+S*a,n[4]=T*a-v,n[8]=o*d,n[1]=o*p,n[5]=o*f,n[9]=-a,n[2]=v*a-T,n[6]=S+y*a,n[10]=o*u}else if(e.order==="ZXY"){const y=u*f,v=u*p,T=d*f,S=d*p;n[0]=y-S*a,n[4]=-o*p,n[8]=T+v*a,n[1]=v+T*a,n[5]=o*f,n[9]=S-y*a,n[2]=-o*d,n[6]=a,n[10]=o*u}else if(e.order==="ZYX"){const y=o*f,v=o*p,T=a*f,S=a*p;n[0]=u*f,n[4]=T*d-v,n[8]=y*d+S,n[1]=u*p,n[5]=S*d+y,n[9]=v*d-T,n[2]=-d,n[6]=a*u,n[10]=o*u}else if(e.order==="YZX"){const y=o*u,v=o*d,T=a*u,S=a*d;n[0]=u*f,n[4]=S-y*p,n[8]=T*p+v,n[1]=p,n[5]=o*f,n[9]=-a*f,n[2]=-d*f,n[6]=v*p+T,n[10]=y-S*p}else if(e.order==="XZY"){const y=o*u,v=o*d,T=a*u,S=a*d;n[0]=u*f,n[4]=-p,n[8]=d*f,n[1]=y*p+S,n[5]=o*f,n[9]=v*p-T,n[2]=T*p-v,n[6]=a*f,n[10]=S*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose($j,e,Qj)}lookAt(e,n,i){const r=this.elements;return ma.subVectors(e,n),ma.lengthSq()===0&&(ma.z=1),ma.normalize(),Td.crossVectors(i,ma),Td.lengthSq()===0&&(Math.abs(i.z)===1?ma.x+=1e-4:ma.z+=1e-4,ma.normalize(),Td.crossVectors(i,ma)),Td.normalize(),uv.crossVectors(ma,Td),r[0]=Td.x,r[4]=uv.x,r[8]=ma.x,r[1]=Td.y,r[5]=uv.y,r[9]=ma.y,r[2]=Td.z,r[6]=uv.z,r[10]=ma.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],u=i[8],d=i[12],f=i[1],p=i[5],y=i[9],v=i[13],T=i[2],S=i[6],b=i[10],E=i[14],R=i[3],P=i[7],D=i[11],G=i[15],V=r[0],K=r[4],H=r[8],z=r[12],k=r[1],Z=r[5],$=r[9],re=r[13],ie=r[2],ge=r[6],fe=r[10],he=r[14],Y=r[3],se=r[7],j=r[11],ee=r[15];return s[0]=o*V+a*k+u*ie+d*Y,s[4]=o*K+a*Z+u*ge+d*se,s[8]=o*H+a*$+u*fe+d*j,s[12]=o*z+a*re+u*he+d*ee,s[1]=f*V+p*k+y*ie+v*Y,s[5]=f*K+p*Z+y*ge+v*se,s[9]=f*H+p*$+y*fe+v*j,s[13]=f*z+p*re+y*he+v*ee,s[2]=T*V+S*k+b*ie+E*Y,s[6]=T*K+S*Z+b*ge+E*se,s[10]=T*H+S*$+b*fe+E*j,s[14]=T*z+S*re+b*he+E*ee,s[3]=R*V+P*k+D*ie+G*Y,s[7]=R*K+P*Z+D*ge+G*se,s[11]=R*H+P*$+D*fe+G*j,s[15]=R*z+P*re+D*he+G*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],u=e[9],d=e[13],f=e[2],p=e[6],y=e[10],v=e[14],T=e[3],S=e[7],b=e[11],E=e[15];return T*(+s*u*p-r*d*p-s*a*y+i*d*y+r*a*v-i*u*v)+S*(+n*u*v-n*d*y+s*o*y-r*o*v+r*d*f-s*u*f)+b*(+n*d*p-n*a*v-s*o*p+i*o*v+s*a*f-i*d*f)+E*(-r*a*f-n*u*p+n*a*y+r*o*p-i*o*y+i*u*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],d=e[7],f=e[8],p=e[9],y=e[10],v=e[11],T=e[12],S=e[13],b=e[14],E=e[15],R=p*b*d-S*y*d+S*u*v-a*b*v-p*u*E+a*y*E,P=T*y*d-f*b*d-T*u*v+o*b*v+f*u*E-o*y*E,D=f*S*d-T*p*d+T*a*v-o*S*v-f*a*E+o*p*E,G=T*p*u-f*S*u-T*a*y+o*S*y+f*a*b-o*p*b,V=n*R+i*P+r*D+s*G;if(V===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const K=1/V;return e[0]=R*K,e[1]=(S*y*s-p*b*s-S*r*v+i*b*v+p*r*E-i*y*E)*K,e[2]=(a*b*s-S*u*s+S*r*d-i*b*d-a*r*E+i*u*E)*K,e[3]=(p*u*s-a*y*s-p*r*d+i*y*d+a*r*v-i*u*v)*K,e[4]=P*K,e[5]=(f*b*s-T*y*s+T*r*v-n*b*v-f*r*E+n*y*E)*K,e[6]=(T*u*s-o*b*s-T*r*d+n*b*d+o*r*E-n*u*E)*K,e[7]=(o*y*s-f*u*s+f*r*d-n*y*d-o*r*v+n*u*v)*K,e[8]=D*K,e[9]=(T*p*s-f*S*s-T*i*v+n*S*v+f*i*E-n*p*E)*K,e[10]=(o*S*s-T*a*s+T*i*d-n*S*d-o*i*E+n*a*E)*K,e[11]=(f*a*s-o*p*s-f*i*d+n*p*d+o*i*v-n*a*v)*K,e[12]=G*K,e[13]=(f*S*r-T*p*r+T*i*y-n*S*y-f*i*b+n*p*b)*K,e[14]=(T*a*r-o*S*r-T*i*u+n*S*u+o*i*b-n*a*b)*K,e[15]=(o*p*r-f*a*r+f*i*u-n*p*u-o*i*y+n*a*y)*K,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,u=e.z,d=s*o,f=s*a;return this.set(d*o+i,d*a-r*u,d*u+r*a,0,d*a+r*u,f*a+i,f*u-r*o,0,d*u-r*a,f*u+r*o,s*u*u+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,u=n._w,d=s+s,f=o+o,p=a+a,y=s*d,v=s*f,T=s*p,S=o*f,b=o*p,E=a*p,R=u*d,P=u*f,D=u*p,G=i.x,V=i.y,K=i.z;return r[0]=(1-(S+E))*G,r[1]=(v+D)*G,r[2]=(T-P)*G,r[3]=0,r[4]=(v-D)*V,r[5]=(1-(y+E))*V,r[6]=(b+R)*V,r[7]=0,r[8]=(T+P)*K,r[9]=(b-R)*K,r[10]=(1-(y+S))*K,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=rp.set(r[0],r[1],r[2]).length();const o=rp.set(r[4],r[5],r[6]).length(),a=rp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Il.copy(this);const d=1/s,f=1/o,p=1/a;return Il.elements[0]*=d,Il.elements[1]*=d,Il.elements[2]*=d,Il.elements[4]*=f,Il.elements[5]*=f,Il.elements[6]*=f,Il.elements[8]*=p,Il.elements[9]*=p,Il.elements[10]*=p,n.setFromRotationMatrix(Il),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Wa){const u=this.elements,d=2*s/(n-e),f=2*s/(i-r),p=(n+e)/(n-e),y=(i+r)/(i-r);let v,T;if(a===Wa)v=-(o+s)/(o-s),T=-2*o*s/(o-s);else if(a===S0)v=-o/(o-s),T=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=d,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=f,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=T,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Wa){const u=this.elements,d=1/(n-e),f=1/(i-r),p=1/(o-s),y=(n+e)*d,v=(i+r)*f;let T,S;if(a===Wa)T=(o+s)*p,S=-2*p;else if(a===S0)T=s*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-y,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-v,u[2]=0,u[6]=0,u[10]=S,u[14]=-T,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const rp=new me,Il=new vn,$j=new me(0,0,0),Qj=new me(1,1,1),Td=new me,uv=new me,ma=new me,d2=new vn,h2=new Yo;class ba{constructor(e=0,n=0,i=0,r=ba.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],u=r[1],d=r[5],f=r[9],p=r[2],y=r[6],v=r[10];switch(n){case"XYZ":this._y=Math.asin(In(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-In(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(In(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-In(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(In(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-f,d),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-In(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return d2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d2,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return h2.setFromEuler(this),this.setFromQuaternion(h2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ba.DEFAULT_ORDER="XYZ";class sf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Jj=0;const f2=new me,sp=new Yo,pc=new vn,cv=new me,cg=new me,eW=new me,tW=new Yo,p2=new me(1,0,0),m2=new me(0,1,0),g2=new me(0,0,1),y2={type:"added"},nW={type:"removed"},op={type:"childadded",child:null},$E={type:"childremoved",child:null};class si extends Ru{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Jj++}),this.uuid=Ta(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=si.DEFAULT_UP.clone();const e=new me,n=new ba,i=new Yo,r=new me(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vn},normalMatrix:{value:new On}}),this.matrix=new vn,this.matrixWorld=new vn,this.matrixAutoUpdate=si.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new sf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return sp.setFromAxisAngle(e,n),this.quaternion.multiply(sp),this}rotateOnWorldAxis(e,n){return sp.setFromAxisAngle(e,n),this.quaternion.premultiply(sp),this}rotateX(e){return this.rotateOnAxis(p2,e)}rotateY(e){return this.rotateOnAxis(m2,e)}rotateZ(e){return this.rotateOnAxis(g2,e)}translateOnAxis(e,n){return f2.copy(e).applyQuaternion(this.quaternion),this.position.add(f2.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(p2,e)}translateY(e){return this.translateOnAxis(m2,e)}translateZ(e){return this.translateOnAxis(g2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?cv.copy(e):cv.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),cg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pc.lookAt(cg,cv,this.up):pc.lookAt(cv,cg,this.up),this.quaternion.setFromRotationMatrix(pc),r&&(pc.extractRotation(r.matrixWorld),sp.setFromRotationMatrix(pc),this.quaternion.premultiply(sp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(y2),op.child=e,this.dispatchEvent(op),op.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(nW),$E.child=e,this.dispatchEvent($E),$E.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),pc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),pc.multiply(e.parent.matrixWorld)),e.applyMatrix4(pc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(y2),op.child=e,this.dispatchEvent(op),op.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cg,e,eW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cg,tW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let d=0,f=u.length;d<f;d++){const p=u[d];s(e.shapes,p)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,d=this.material.length;u<d;u++)a.push(s(e.materials,this.material[u]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];r.animations.push(s(e.animations,u))}}if(n){const a=o(e.geometries),u=o(e.materials),d=o(e.textures),f=o(e.images),p=o(e.shapes),y=o(e.skeletons),v=o(e.animations),T=o(e.nodes);a.length>0&&(i.geometries=a),u.length>0&&(i.materials=u),d.length>0&&(i.textures=d),f.length>0&&(i.images=f),p.length>0&&(i.shapes=p),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),T.length>0&&(i.nodes=T)}return i.object=r,i;function o(a){const u=[];for(const d in a){const f=a[d];delete f.metadata,u.push(f)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}si.DEFAULT_UP=new me(0,1,0);si.DEFAULT_MATRIX_AUTO_UPDATE=!0;si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ll=new me,mc=new me,QE=new me,gc=new me,ap=new me,lp=new me,v2=new me,JE=new me,eT=new me,tT=new me,nT=new ri,iT=new ri,rT=new ri;class jo{constructor(e=new me,n=new me,i=new me){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ll.subVectors(e,n),r.cross(Ll);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ll.subVectors(r,n),mc.subVectors(i,n),QE.subVectors(e,n);const o=Ll.dot(Ll),a=Ll.dot(mc),u=Ll.dot(QE),d=mc.dot(mc),f=mc.dot(QE),p=o*d-a*a;if(p===0)return s.set(0,0,0),null;const y=1/p,v=(d*u-a*f)*y,T=(o*f-a*u)*y;return s.set(1-v-T,T,v)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,gc)===null?!1:gc.x>=0&&gc.y>=0&&gc.x+gc.y<=1}static getInterpolation(e,n,i,r,s,o,a,u){return this.getBarycoord(e,n,i,r,gc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,gc.x),u.addScaledVector(o,gc.y),u.addScaledVector(a,gc.z),u)}static getInterpolatedAttribute(e,n,i,r,s,o){return nT.setScalar(0),iT.setScalar(0),rT.setScalar(0),nT.fromBufferAttribute(e,n),iT.fromBufferAttribute(e,i),rT.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(nT,s.x),o.addScaledVector(iT,s.y),o.addScaledVector(rT,s.z),o}static isFrontFacing(e,n,i,r){return Ll.subVectors(i,n),mc.subVectors(e,n),Ll.cross(mc).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ll.subVectors(this.c,this.b),mc.subVectors(this.a,this.b),Ll.cross(mc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return jo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return jo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return jo.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return jo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return jo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;ap.subVectors(r,i),lp.subVectors(s,i),JE.subVectors(e,i);const u=ap.dot(JE),d=lp.dot(JE);if(u<=0&&d<=0)return n.copy(i);eT.subVectors(e,r);const f=ap.dot(eT),p=lp.dot(eT);if(f>=0&&p<=f)return n.copy(r);const y=u*p-f*d;if(y<=0&&u>=0&&f<=0)return o=u/(u-f),n.copy(i).addScaledVector(ap,o);tT.subVectors(e,s);const v=ap.dot(tT),T=lp.dot(tT);if(T>=0&&v<=T)return n.copy(s);const S=v*d-u*T;if(S<=0&&d>=0&&T<=0)return a=d/(d-T),n.copy(i).addScaledVector(lp,a);const b=f*T-v*p;if(b<=0&&p-f>=0&&v-T>=0)return v2.subVectors(s,r),a=(p-f)/(p-f+(v-T)),n.copy(r).addScaledVector(v2,a);const E=1/(b+S+y);return o=S*E,a=y*E,n.copy(i).addScaledVector(ap,o).addScaledVector(lp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ek={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bd={h:0,s:0,l:0},dv={h:0,s:0,l:0};function sT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Kt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Vo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ei.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=ei.workingColorSpace){return this.r=e,this.g=n,this.b=i,ei.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=ei.workingColorSpace){if(e=kw(e,1),n=In(n,0,1),i=In(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=sT(o,s,e+1/3),this.g=sT(o,s,e),this.b=sT(o,s,e-1/3)}return ei.colorSpaceToWorking(this,r),this}setStyle(e,n=Vo){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Vo){const i=ek[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sc(e.r),this.g=Sc(e.g),this.b=Sc(e.b),this}copyLinearToSRGB(e){return this.r=Hp(e.r),this.g=Hp(e.g),this.b=Hp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vo){return ei.workingToColorSpace(Ws.copy(this),e),Math.round(In(Ws.r*255,0,255))*65536+Math.round(In(Ws.g*255,0,255))*256+Math.round(In(Ws.b*255,0,255))}getHexString(e=Vo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ei.workingColorSpace){ei.workingToColorSpace(Ws.copy(this),n);const i=Ws.r,r=Ws.g,s=Ws.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let u,d;const f=(a+o)/2;if(a===o)u=0,d=0;else{const p=o-a;switch(d=f<=.5?p/(o+a):p/(2-o-a),o){case i:u=(r-s)/p+(r<s?6:0);break;case r:u=(s-i)/p+2;break;case s:u=(i-r)/p+4;break}u/=6}return e.h=u,e.s=d,e.l=f,e}getRGB(e,n=ei.workingColorSpace){return ei.workingToColorSpace(Ws.copy(this),n),e.r=Ws.r,e.g=Ws.g,e.b=Ws.b,e}getStyle(e=Vo){ei.workingToColorSpace(Ws.copy(this),e);const n=Ws.r,i=Ws.g,r=Ws.b;return e!==Vo?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(bd),this.setHSL(bd.h+e,bd.s+n,bd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(bd),e.getHSL(dv);const i=Gg(bd.h,dv.h,n),r=Gg(bd.s,dv.s,n),s=Gg(bd.l,dv.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ws=new Kt;Kt.NAMES=ek;let iW=0;class Ls extends Ru{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iW++}),this.uuid=Ta(),this.name="",this.type="Material",this.blending=nf,this.side=Mc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=N_,this.blendDst=O_,this.blendEquation=Dd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Kt(0,0,0),this.blendAlpha=0,this.depthFunc=pf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=$b,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gh,this.stencilZFail=Gh,this.stencilZPass=Gh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==nf&&(i.blending=this.blending),this.side!==Mc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==N_&&(i.blendSrc=this.blendSrc),this.blendDst!==O_&&(i.blendDst=this.blendDst),this.blendEquation!==Dd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==pf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==$b&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Gh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Gh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Gh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Zd extends Ls{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ba,this.combine=q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xc=rW();function rW(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):d<-14?(i[u]=1024>>-d-14,i[u|256]=1024>>-d-14|32768,r[u]=-d-1,r[u|256]=-d-1):d<=15?(i[u]=d+15<<10,i[u|256]=d+15<<10|32768,r[u]=13,r[u|256]=13):d<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,f=0;for(;(d&8388608)===0;)d<<=1,f-=8388608;d&=-8388609,f+=947912704,s[u]=d|f}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Uo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=In(t,-65504,65504),xc.floatView[0]=t;const e=xc.uint32View[0],n=e>>23&511;return xc.baseTable[n]+((e&8388607)>>xc.shiftTable[n])}function Ig(t){const e=t>>10;return xc.uint32View[0]=xc.mantissaTable[xc.offsetTable[e]+(t&1023)]+xc.exponentTable[e],xc.floatView[0]}class sW{static toHalfFloat(e){return Uo(e)}static fromHalfFloat(e){return Ig(e)}}const Pr=new me,hv=new ft;let oW=0;class Ti{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:oW++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=b0,this.updateRanges=[],this.gpuType=Wo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)hv.fromBufferAttribute(this,n),hv.applyMatrix3(e),this.setXY(n,hv.x,hv.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix3(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix4(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyNormalMatrix(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.transformDirection(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Un(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=yo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=yo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=yo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=yo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==b0&&(e.usage=this.usage),e}}class aW extends Ti{constructor(e,n,i){super(new Int8Array(e),n,i)}}class lW extends Ti{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class uW extends Ti{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class cW extends Ti{constructor(e,n,i){super(new Int16Array(e),n,i)}}class Fw extends Ti{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class dW extends Ti{constructor(e,n,i){super(new Int32Array(e),n,i)}}class Bw extends Ti{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class hW extends Ti{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Ig(this.array[e*this.itemSize]);return this.normalized&&(n=yo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize]=Uo(n),this}getY(e){let n=Ig(this.array[e*this.itemSize+1]);return this.normalized&&(n=yo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+1]=Uo(n),this}getZ(e){let n=Ig(this.array[e*this.itemSize+2]);return this.normalized&&(n=yo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+2]=Uo(n),this}getW(e){let n=Ig(this.array[e*this.itemSize+3]);return this.normalized&&(n=yo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Un(n,this.array)),this.array[e*this.itemSize+3]=Uo(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array)),this.array[e+0]=Uo(n),this.array[e+1]=Uo(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.array[e+0]=Uo(n),this.array[e+1]=Uo(i),this.array[e+2]=Uo(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.array[e+0]=Uo(n),this.array[e+1]=Uo(i),this.array[e+2]=Uo(r),this.array[e+3]=Uo(s),this}}class rn extends Ti{constructor(e,n,i){super(new Float32Array(e),n,i)}}let fW=0;const Fa=new vn,oT=new si,up=new me,ga=new qs,dg=new qs,as=new me;class Dn extends Ru{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fW++}),this.uuid=Ta(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($O(e)?Bw:Fw)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new On().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fa.makeRotationFromQuaternion(e),this.applyMatrix4(Fa),this}rotateX(e){return Fa.makeRotationX(e),this.applyMatrix4(Fa),this}rotateY(e){return Fa.makeRotationY(e),this.applyMatrix4(Fa),this}rotateZ(e){return Fa.makeRotationZ(e),this.applyMatrix4(Fa),this}translate(e,n,i){return Fa.makeTranslation(e,n,i),this.applyMatrix4(Fa),this}scale(e,n,i){return Fa.makeScale(e,n,i),this.applyMatrix4(Fa),this}lookAt(e){return oT.lookAt(e),oT.updateMatrix(),this.applyMatrix4(oT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(up).negate(),this.translate(up.x,up.y,up.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new rn(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];ga.setFromBufferAttribute(s),this.morphTargetsRelative?(as.addVectors(this.boundingBox.min,ga.min),this.boundingBox.expandByPoint(as),as.addVectors(this.boundingBox.max,ga.max),this.boundingBox.expandByPoint(as)):(this.boundingBox.expandByPoint(ga.min),this.boundingBox.expandByPoint(ga.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new me,1/0);return}if(e){const i=this.boundingSphere.center;if(ga.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];dg.setFromBufferAttribute(a),this.morphTargetsRelative?(as.addVectors(ga.min,dg.min),ga.expandByPoint(as),as.addVectors(ga.max,dg.max),ga.expandByPoint(as)):(ga.expandByPoint(dg.min),ga.expandByPoint(dg.max))}ga.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)as.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(as));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],u=this.morphTargetsRelative;for(let d=0,f=a.count;d<f;d++)as.fromBufferAttribute(a,d),u&&(up.fromBufferAttribute(e,d),as.add(up)),r=Math.max(r,i.distanceToSquared(as))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ti(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],u=[];for(let H=0;H<i.count;H++)a[H]=new me,u[H]=new me;const d=new me,f=new me,p=new me,y=new ft,v=new ft,T=new ft,S=new me,b=new me;function E(H,z,k){d.fromBufferAttribute(i,H),f.fromBufferAttribute(i,z),p.fromBufferAttribute(i,k),y.fromBufferAttribute(s,H),v.fromBufferAttribute(s,z),T.fromBufferAttribute(s,k),f.sub(d),p.sub(d),v.sub(y),T.sub(y);const Z=1/(v.x*T.y-T.x*v.y);isFinite(Z)&&(S.copy(f).multiplyScalar(T.y).addScaledVector(p,-v.y).multiplyScalar(Z),b.copy(p).multiplyScalar(v.x).addScaledVector(f,-T.x).multiplyScalar(Z),a[H].add(S),a[z].add(S),a[k].add(S),u[H].add(b),u[z].add(b),u[k].add(b))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let H=0,z=R.length;H<z;++H){const k=R[H],Z=k.start,$=k.count;for(let re=Z,ie=Z+$;re<ie;re+=3)E(e.getX(re+0),e.getX(re+1),e.getX(re+2))}const P=new me,D=new me,G=new me,V=new me;function K(H){G.fromBufferAttribute(r,H),V.copy(G);const z=a[H];P.copy(z),P.sub(G.multiplyScalar(G.dot(z))).normalize(),D.crossVectors(V,z);const Z=D.dot(u[H])<0?-1:1;o.setXYZW(H,P.x,P.y,P.z,Z)}for(let H=0,z=R.length;H<z;++H){const k=R[H],Z=k.start,$=k.count;for(let re=Z,ie=Z+$;re<ie;re+=3)K(e.getX(re+0)),K(e.getX(re+1)),K(e.getX(re+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ti(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new me,s=new me,o=new me,a=new me,u=new me,d=new me,f=new me,p=new me;if(e)for(let y=0,v=e.count;y<v;y+=3){const T=e.getX(y+0),S=e.getX(y+1),b=e.getX(y+2);r.fromBufferAttribute(n,T),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,b),f.subVectors(o,s),p.subVectors(r,s),f.cross(p),a.fromBufferAttribute(i,T),u.fromBufferAttribute(i,S),d.fromBufferAttribute(i,b),a.add(f),u.add(f),d.add(f),i.setXYZ(T,a.x,a.y,a.z),i.setXYZ(S,u.x,u.y,u.z),i.setXYZ(b,d.x,d.y,d.z)}else for(let y=0,v=n.count;y<v;y+=3)r.fromBufferAttribute(n,y+0),s.fromBufferAttribute(n,y+1),o.fromBufferAttribute(n,y+2),f.subVectors(o,s),p.subVectors(r,s),f.cross(p),i.setXYZ(y+0,f.x,f.y,f.z),i.setXYZ(y+1,f.x,f.y,f.z),i.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)as.fromBufferAttribute(e,n),as.normalize(),e.setXYZ(n,as.x,as.y,as.z)}toNonIndexed(){function e(a,u){const d=a.array,f=a.itemSize,p=a.normalized,y=new d.constructor(u.length*f);let v=0,T=0;for(let S=0,b=u.length;S<b;S++){a.isInterleavedBufferAttribute?v=u[S]*a.data.stride+a.offset:v=u[S]*f;for(let E=0;E<f;E++)y[T++]=d[v++]}return new Ti(y,f,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Dn,i=this.index.array,r=this.attributes;for(const a in r){const u=r[a],d=e(u,i);n.setAttribute(a,d)}const s=this.morphAttributes;for(const a in s){const u=[],d=s[a];for(let f=0,p=d.length;f<p;f++){const y=d[f],v=e(y,i);u.push(v)}n.morphAttributes[a]=u}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const d=o[a];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(e[d]=u[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const u in i){const d=i[u];e.data.attributes[u]=d.toJSON(e.data)}const r={};let s=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],f=[];for(let p=0,y=d.length;p<y;p++){const v=d[p];f.push(v.toJSON(e.data))}f.length>0&&(r[u]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const d in r){const f=r[d];this.setAttribute(d,f.clone(n))}const s=e.morphAttributes;for(const d in s){const f=[],p=s[d];for(let y=0,v=p.length;y<v;y++)f.push(p[y].clone(n));this.morphAttributes[d]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,f=o.length;d<f;d++){const p=o[d];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _2=new vn,Lh=new gm,fv=new Is,x2=new me,pv=new me,mv=new me,gv=new me,aT=new me,yv=new me,E2=new me,vv=new me;class Or extends si{constructor(e=new Dn,n=new Zd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){yv.set(0,0,0);for(let u=0,d=s.length;u<d;u++){const f=a[u],p=s[u];f!==0&&(aT.fromBufferAttribute(p,e),o?yv.addScaledVector(aT,f):yv.addScaledVector(aT.sub(n),f))}n.add(yv)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),fv.copy(i.boundingSphere),fv.applyMatrix4(s),Lh.copy(e.ray).recast(e.near),!(fv.containsPoint(Lh.origin)===!1&&(Lh.intersectSphere(fv,x2)===null||Lh.origin.distanceToSquared(x2)>(e.far-e.near)**2))&&(_2.copy(s).invert(),Lh.copy(e.ray).applyMatrix4(_2),!(i.boundingBox!==null&&Lh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Lh)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,u=s.attributes.position,d=s.attributes.uv,f=s.attributes.uv1,p=s.attributes.normal,y=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let T=0,S=y.length;T<S;T++){const b=y[T],E=o[b.materialIndex],R=Math.max(b.start,v.start),P=Math.min(a.count,Math.min(b.start+b.count,v.start+v.count));for(let D=R,G=P;D<G;D+=3){const V=a.getX(D),K=a.getX(D+1),H=a.getX(D+2);r=_v(this,E,e,i,d,f,p,V,K,H),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=b.materialIndex,n.push(r))}}else{const T=Math.max(0,v.start),S=Math.min(a.count,v.start+v.count);for(let b=T,E=S;b<E;b+=3){const R=a.getX(b),P=a.getX(b+1),D=a.getX(b+2);r=_v(this,o,e,i,d,f,p,R,P,D),r&&(r.faceIndex=Math.floor(b/3),n.push(r))}}else if(u!==void 0)if(Array.isArray(o))for(let T=0,S=y.length;T<S;T++){const b=y[T],E=o[b.materialIndex],R=Math.max(b.start,v.start),P=Math.min(u.count,Math.min(b.start+b.count,v.start+v.count));for(let D=R,G=P;D<G;D+=3){const V=D,K=D+1,H=D+2;r=_v(this,E,e,i,d,f,p,V,K,H),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=b.materialIndex,n.push(r))}}else{const T=Math.max(0,v.start),S=Math.min(u.count,v.start+v.count);for(let b=T,E=S;b<E;b+=3){const R=b,P=b+1,D=b+2;r=_v(this,o,e,i,d,f,p,R,P,D),r&&(r.faceIndex=Math.floor(b/3),n.push(r))}}}}function pW(t,e,n,i,r,s,o,a){let u;if(e.side===_o?u=i.intersectTriangle(o,s,r,!0,a):u=i.intersectTriangle(r,s,o,e.side===Mc,a),u===null)return null;vv.copy(a),vv.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(vv);return d<n.near||d>n.far?null:{distance:d,point:vv.clone(),object:t}}function _v(t,e,n,i,r,s,o,a,u,d){t.getVertexPosition(a,pv),t.getVertexPosition(u,mv),t.getVertexPosition(d,gv);const f=pW(t,e,n,i,pv,mv,gv,E2);if(f){const p=new me;jo.getBarycoord(E2,pv,mv,gv,p),r&&(f.uv=jo.getInterpolatedAttribute(r,a,u,d,p,new ft)),s&&(f.uv1=jo.getInterpolatedAttribute(s,a,u,d,p,new ft)),o&&(f.normal=jo.getInterpolatedAttribute(o,a,u,d,p,new me),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const y={a,b:u,c:d,normal:new me,materialIndex:0};jo.getNormal(pv,mv,gv,y.normal),f.face=y,f.barycoord=p}return f}class xf extends Dn{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const u=[],d=[],f=[],p=[];let y=0,v=0;T("z","y","x",-1,-1,i,n,e,o,s,0),T("z","y","x",1,-1,i,n,-e,o,s,1),T("x","z","y",1,1,e,i,n,r,o,2),T("x","z","y",1,-1,e,i,-n,r,o,3),T("x","y","z",1,-1,e,n,i,r,s,4),T("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new rn(d,3)),this.setAttribute("normal",new rn(f,3)),this.setAttribute("uv",new rn(p,2));function T(S,b,E,R,P,D,G,V,K,H,z){const k=D/K,Z=G/H,$=D/2,re=G/2,ie=V/2,ge=K+1,fe=H+1;let he=0,Y=0;const se=new me;for(let j=0;j<fe;j++){const ee=j*Z-re;for(let ue=0;ue<ge;ue++){const J=ue*k-$;se[S]=J*R,se[b]=ee*P,se[E]=ie,d.push(se.x,se.y,se.z),se[S]=0,se[b]=0,se[E]=V>0?1:-1,f.push(se.x,se.y,se.z),p.push(ue/K),p.push(1-j/H),he+=1}}for(let j=0;j<H;j++)for(let ee=0;ee<K;ee++){const ue=y+ee+ge*j,J=y+ee+ge*(j+1),pe=y+(ee+1)+ge*(j+1),xe=y+(ee+1)+ge*j;u.push(ue,J,xe),u.push(J,pe,xe),Y+=6}a.addGroup(v,Y,z),v+=Y,y+=he}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jp(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function mo(t){const e={};for(let n=0;n<t.length;n++){const i=Jp(t[n]);for(const r in i)e[r]=i[r]}return e}function mW(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function tk(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ei.workingColorSpace}const nk={clone:Jp,merge:mo};var gW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xa extends Ls{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gW,this.fragmentShader=yW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jp(e.uniforms),this.uniformsGroups=mW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class K0 extends si{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vn,this.projectionMatrix=new vn,this.projectionMatrixInverse=new vn,this.coordinateSystem=Wa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sd=new me,T2=new ft,b2=new ft;class us extends K0{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Qp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Qp*2*Math.atan(Math.tan(rf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Sd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Sd.x,Sd.y).multiplyScalar(-e/Sd.z),Sd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Sd.x,Sd.y).multiplyScalar(-e/Sd.z)}getViewSize(e,n){return this.getViewBounds(e,T2,b2),n.subVectors(b2,T2)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(rf*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,d=o.fullHeight;s+=o.offsetX*r/u,n-=o.offsetY*i/d,r*=o.width/u,i*=o.height/d}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const cp=-90,dp=1;class ik extends si{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new us(cp,dp,e,n);r.layers=this.layers,this.add(r);const s=new us(cp,dp,e,n);s.layers=this.layers,this.add(s);const o=new us(cp,dp,e,n);o.layers=this.layers,this.add(o);const a=new us(cp,dp,e,n);a.layers=this.layers,this.add(a);const u=new us(cp,dp,e,n);u.layers=this.layers,this.add(u);const d=new us(cp,dp,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,u]=n;for(const d of n)this.remove(d);if(e===Wa)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===S0)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,u,d,f]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),T=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,u),e.setRenderTarget(i,4,r),e.render(n,d),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(n,f),e.setRenderTarget(p,y,v),e.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class $0 extends rr{constructor(e=[],n=Pc,i,r,s,o,a,u,d,f){super(e,n,i,r,s,o,a,u,d,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rk extends Au{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new $0(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new xf(5,5,5),s=new Xa({name:"CubemapFromEquirect",uniforms:Jp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:_o,blending:bc});s.uniforms.tEquirect.value=n;const o=new Or(r,s),a=n.minFilter;return n.minFilter===yu&&(n.minFilter=Nr),new ik(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}class Ap extends si{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vW={type:"move"};class d_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ap,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ap,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ap,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,u=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const S of e.hand.values()){const b=n.getJointPose(S,i),E=this._getHandJoint(d,S);b!==null&&(E.matrix.fromArray(b.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=b.radius),E.visible=b!==null}const f=d.joints["index-finger-tip"],p=d.joints["thumb-tip"],y=f.position.distanceTo(p.position),v=.02,T=.005;d.inputState.pinching&&y>v+T?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=v-T&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vW)))}return a!==null&&(a.visible=r!==null),u!==null&&(u.visible=s!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Ap;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class o1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Kt(e),this.density=n}clone(){return new o1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class a1{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Kt(e),this.near=n,this.far=i}clone(){return new a1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class mx extends si{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ba,this.environmentIntensity=1,this.environmentRotation=new ba,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class l1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=b0,this.updateRanges=[],this.version=0,this.uuid=Ta()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ta()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ta()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const po=new me;class gf{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)po.fromBufferAttribute(this,n),po.applyMatrix4(e),this.setXYZ(n,po.x,po.y,po.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)po.fromBufferAttribute(this,n),po.applyNormalMatrix(e),this.setXYZ(n,po.x,po.y,po.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)po.fromBufferAttribute(this,n),po.transformDirection(e),this.setXYZ(n,po.x,po.y,po.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Un(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Un(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Un(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Un(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Un(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=yo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=yo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=yo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=yo(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Un(n,this.array),i=Un(i,this.array),r=Un(r,this.array),s=Un(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Ti(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Uw extends Ls{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let hp;const hg=new me,fp=new me,pp=new me,mp=new ft,fg=new ft,sk=new vn,xv=new me,pg=new me,Ev=new me,S2=new ft,lT=new ft,w2=new ft;class ok extends si{constructor(e=new Uw){if(super(),this.isSprite=!0,this.type="Sprite",hp===void 0){hp=new Dn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new l1(n,5);hp.setIndex([0,1,2,0,2,3]),hp.setAttribute("position",new gf(i,3,0,!1)),hp.setAttribute("uv",new gf(i,2,3,!1))}this.geometry=hp,this.material=e,this.center=new ft(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fp.setFromMatrixScale(this.matrixWorld),sk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),pp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fp.multiplyScalar(-pp.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Tv(xv.set(-.5,-.5,0),pp,o,fp,r,s),Tv(pg.set(.5,-.5,0),pp,o,fp,r,s),Tv(Ev.set(.5,.5,0),pp,o,fp,r,s),S2.set(0,0),lT.set(1,0),w2.set(1,1);let a=e.ray.intersectTriangle(xv,pg,Ev,!1,hg);if(a===null&&(Tv(pg.set(-.5,.5,0),pp,o,fp,r,s),lT.set(0,1),a=e.ray.intersectTriangle(xv,Ev,pg,!1,hg),a===null))return;const u=e.ray.origin.distanceTo(hg);u<e.near||u>e.far||n.push({distance:u,point:hg.clone(),uv:jo.getInterpolation(hg,xv,pg,Ev,S2,lT,w2,new ft),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Tv(t,e,n,i,r,s){mp.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(fg.x=s*mp.x-r*mp.y,fg.y=r*mp.x+s*mp.y):fg.copy(mp),t.copy(e),t.x+=fg.x,t.y+=fg.y,t.applyMatrix4(sk)}const bv=new me,C2=new me;class ak extends si{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){bv.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(bv);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){bv.setFromMatrixPosition(e.matrixWorld),C2.setFromMatrixPosition(this.matrixWorld);const i=bv.distanceTo(C2)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const A2=new me,M2=new ri,P2=new ri,_W=new me,R2=new vn,Sv=new me,uT=new Is,I2=new vn,cT=new gm;class lk extends Or{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Kb,this.bindMatrix=new vn,this.bindMatrixInverse=new vn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new qs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Sv),this.boundingBox.expandByPoint(Sv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Is),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Sv),this.boundingSphere.expandByPoint(Sv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uT.copy(this.boundingSphere),uT.applyMatrix4(r),e.ray.intersectsSphere(uT)!==!1&&(I2.copy(r).invert(),cT.copy(e.ray).applyMatrix4(I2),!(this.boundingBox!==null&&cT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,cT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ri,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Kb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===FO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;M2.fromBufferAttribute(r.attributes.skinIndex,e),P2.fromBufferAttribute(r.attributes.skinWeight,e),A2.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=P2.getComponent(s);if(o!==0){const a=M2.getComponent(s);R2.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(_W.copy(A2).applyMatrix4(R2),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class zw extends si{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Eu extends rr{constructor(e=null,n=1,i=1,r,s,o,a,u,d=Rs,f=Rs,p,y){super(null,o,a,u,d,f,r,s,p,y),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const L2=new vn,xW=new vn;class u1{constructor(e=[],n=[]){this.uuid=Ta(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new vn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new vn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:xW;L2.multiplyMatrices(a,n[s]),L2.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new u1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Eu(n,e,e,Ys,Wo);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new zw),this.bones.push(o),this.boneInverses.push(new vn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class em extends Ti{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const gp=new vn,N2=new vn,wv=[],O2=new qs,EW=new vn,mg=new Or,gg=new Is;class uk extends Or{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new em(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,EW)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new qs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,gp),O2.copy(e.boundingBox).applyMatrix4(gp),this.boundingBox.union(O2)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Is),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,gp),gg.copy(e.boundingSphere).applyMatrix4(gp),this.boundingSphere.union(gg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(mg.geometry=this.geometry,mg.material=this.material,mg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gg.copy(this.boundingSphere),gg.applyMatrix4(i),e.ray.intersectsSphere(gg)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,gp),N2.multiplyMatrices(i,gp),mg.matrixWorld=N2,mg.raycast(e,wv);for(let o=0,a=wv.length;o<a;o++){const u=wv[o];u.instanceId=s,u.object=this,n.push(u)}wv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new em(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Eu(new Float32Array(r*this.count),r,this.count,e1,Wo));const s=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const a=this.geometry.morphTargetsRelative?1:1-o,u=r*e;s[u]=a,s.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const dT=new me,TW=new me,bW=new On;class Od{constructor(e=new me(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=dT.subVectors(i,n).cross(TW.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(dT),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||bW.getNormalMatrix(e),r=this.coplanarPoint(dT).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Nh=new Is,SW=new ft(.5,.5),Cv=new me;class ym{constructor(e=new Od,n=new Od,i=new Od,r=new Od,s=new Od,o=new Od){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Wa){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],f=r[5],p=r[6],y=r[7],v=r[8],T=r[9],S=r[10],b=r[11],E=r[12],R=r[13],P=r[14],D=r[15];if(i[0].setComponents(u-s,y-d,b-v,D-E).normalize(),i[1].setComponents(u+s,y+d,b+v,D+E).normalize(),i[2].setComponents(u+o,y+f,b+T,D+R).normalize(),i[3].setComponents(u-o,y-f,b-T,D-R).normalize(),i[4].setComponents(u-a,y-p,b-S,D-P).normalize(),n===Wa)i[5].setComponents(u+a,y+p,b+S,D+P).normalize();else if(n===S0)i[5].setComponents(a,p,S,P).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Nh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Nh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Nh)}intersectsSprite(e){Nh.center.set(0,0,0);const n=SW.distanceTo(e.center);return Nh.radius=.7071067811865476+n,Nh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Nh)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Cv.x=r.normal.x>0?e.max.x:e.min.x,Cv.y=r.normal.y>0?e.max.y:e.min.y,Cv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const uu=new vn,cu=new ym;class c1{constructor(){this.coordinateSystem=Wa}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(uu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),cu.setFromProjectionMatrix(uu,this.coordinateSystem),cu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(uu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),cu.setFromProjectionMatrix(uu,this.coordinateSystem),cu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(uu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),cu.setFromProjectionMatrix(uu,this.coordinateSystem),cu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(uu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),cu.setFromProjectionMatrix(uu,this.coordinateSystem),cu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(uu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),cu.setFromProjectionMatrix(uu,this.coordinateSystem),cu.containsPoint(e))return!0}return!1}clone(){return new c1}}function hT(t,e){return t-e}function wW(t,e){return t.z-e.z}function CW(t,e){return e.z-t.z}class AW{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=i,a.index=r}reset(){this.list.length=0,this.index=0}}const Do=new vn,MW=new Kt(1,1,1),k2=new ym,PW=new c1,Av=new qs,Oh=new Is,yg=new me,D2=new me,RW=new me,fT=new AW,Gs=new Or,Mv=[];function IW(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function kh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class ck extends Or{constructor(e,n,i=n*2,r){super(new Dn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Eu(n,e,e,Ys,Wo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Eu(n,e,e,Z0,Rc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Eu(n,e,e,Ys,Wo);i.colorSpace=ei.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:u,normalized:d}=o,f=new a.constructor(i*u),p=new Ti(f,u,d);n.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Ti(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qs);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,Do),this.getBoundingBoxAt(s,Av).applyMatrix4(Do),e.union(Av)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Is);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,Do),this.getBoundingSphereAt(s,Oh).applyMatrix4(Do),e.union(Oh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(hT),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Do.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(MW.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(hT),u=this._availableGeometryIds.shift(),s[u]=r):(u=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=a.vertexStart,d=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const f in i.attributes){const p=n.getAttribute(f),y=i.getAttribute(f);IW(p,y,u);const v=p.itemSize;for(let T=p.count,S=d;T<S;T++){const b=u+T;for(let E=0;E<v;E++)y.setComponent(b,E,0)}y.needsUpdate=!0,y.addUpdateRange(u*v,d*v)}if(r){const f=a.indexStart,p=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let y=0;y<o.count;y++)s.setX(f+y,u+o.getX(y));for(let y=o.count,v=p;y<v;y++)s.setX(f+y,u);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((o,a)=>a).sort((o,a)=>i[o].vertexStart-i[a].vertexStart),s=this.geometry;for(let o=0,a=i.length;o<a;o++){const u=r[o],d=i[u];if(d.active!==!1){if(s.index!==null){if(d.indexStart!==n){const{indexStart:f,vertexStart:p,reservedIndexCount:y}=d,v=s.index,T=v.array,S=e-p;for(let b=f;b<f+y;b++)T[b]=T[b]+S;v.array.copyWithin(n,f,f+y),v.addUpdateRange(n,y),d.indexStart=n}n+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:f,reservedVertexCount:p}=d,y=s.attributes;for(const v in y){const T=y[v],{array:S,itemSize:b}=T;S.copyWithin(e*b,f*b,(f+p)*b),T.addUpdateRange(e*b,p*b)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=s.index?d.indexStart:d.vertexStart,this._nextIndexStart=s.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new qs,o=i.index,a=i.attributes.position;for(let u=r.start,d=r.start+r.count;u<d;u++){let f=u;o&&(f=o.getX(f)),s.expandByPoint(yg.fromBufferAttribute(a,f))}r.boundingBox=s}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Is;this.getBoundingBoxAt(e,Av),Av.getCenter(s.center);const o=i.index,a=i.attributes.position;let u=0;for(let d=r.start,f=r.start+r.count;d<f;d++){let p=d;o&&(p=o.getX(p)),yg.fromBufferAttribute(a,p),u=Math.max(u,s.center.distanceToSquared(yg))}s.radius=Math.sqrt(u),r.boundingSphere=s}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(hT);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);kh(this._multiDrawCounts,r),kh(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),kh(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),kh(a.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),kh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...i.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Dn,this._initializeGeometry(s));const o=this.geometry;s.index&&kh(s.index.array,o.index.array);for(const a in s.attributes)kh(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Gs.material=this.material,Gs.geometry.index=o.index,Gs.geometry.attributes=o.attributes,Gs.geometry.boundingBox===null&&(Gs.geometry.boundingBox=new qs),Gs.geometry.boundingSphere===null&&(Gs.geometry.boundingSphere=new Is);for(let a=0,u=i.length;a<u;a++){if(!i[a].visible||!i[a].active)continue;const d=i[a].geometryIndex,f=r[d];Gs.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,Gs.matrixWorld).premultiply(s),this.getBoundingBoxAt(d,Gs.geometry.boundingBox),this.getBoundingSphereAt(d,Gs.geometry.boundingSphere),Gs.raycast(e,Mv);for(let p=0,y=Mv.length;p<y;p++){const v=Mv[p];v.object=this,v.batchId=a,n.push(v)}Mv.length=0}Gs.material=null,Gs.geometry.index=null,Gs.geometry.attributes={},Gs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,f=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,T=v.image.data,S=i.isArrayCamera?PW:k2;y&&!i.isArrayCamera&&(Do.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),k2.setFromProjectionMatrix(Do,e.coordinateSystem));let b=0;if(this.sortObjects){Do.copy(this.matrixWorld).invert(),yg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Do),D2.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Do);for(let P=0,D=u.length;P<D;P++)if(u[P].visible&&u[P].active){const G=u[P].geometryIndex;this.getMatrixAt(P,Do),this.getBoundingSphereAt(G,Oh).applyMatrix4(Do);let V=!1;if(y&&(V=!S.intersectsSphere(Oh,i)),!V){const K=p[G],H=RW.subVectors(Oh.center,yg).dot(D2);fT.push(K.start,K.count,H,P)}}const E=fT.list,R=this.customSort;R===null?E.sort(s.transparent?CW:wW):R.call(this,E,i);for(let P=0,D=E.length;P<D;P++){const G=E[P];d[b]=G.start*a,f[b]=G.count,T[b]=G.index,b++}fT.reset()}else for(let E=0,R=u.length;E<R;E++)if(u[E].visible&&u[E].active){const P=u[E].geometryIndex;let D=!1;if(y&&(this.getMatrixAt(E,Do),this.getBoundingSphereAt(P,Oh).applyMatrix4(Do),D=!S.intersectsSphere(Oh,i)),!D){const G=p[P];d[b]=G.start*a,f[b]=G.count,T[b]=E,b++}}v.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Eo extends Ls{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Kt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const gx=new me,yx=new me,F2=new vn,vg=new gm,Pv=new Is,pT=new me,B2=new me;class Wd extends si{constructor(e=new Dn,n=new Eo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)gx.fromBufferAttribute(n,r-1),yx.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=gx.distanceTo(yx);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Pv.copy(i.boundingSphere),Pv.applyMatrix4(r),Pv.radius+=s,e.ray.intersectsSphere(Pv)===!1)return;F2.copy(r).invert(),vg.copy(e.ray).applyMatrix4(F2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,d=this.isLineSegments?2:1,f=i.index,y=i.attributes.position;if(f!==null){const v=Math.max(0,o.start),T=Math.min(f.count,o.start+o.count);for(let S=v,b=T-1;S<b;S+=d){const E=f.getX(S),R=f.getX(S+1),P=Rv(this,e,vg,u,E,R,S);P&&n.push(P)}if(this.isLineLoop){const S=f.getX(T-1),b=f.getX(v),E=Rv(this,e,vg,u,S,b,T-1);E&&n.push(E)}}else{const v=Math.max(0,o.start),T=Math.min(y.count,o.start+o.count);for(let S=v,b=T-1;S<b;S+=d){const E=Rv(this,e,vg,u,S,S+1,S);E&&n.push(E)}if(this.isLineLoop){const S=Rv(this,e,vg,u,T-1,v,T-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Rv(t,e,n,i,r,s,o){const a=t.geometry.attributes.position;if(gx.fromBufferAttribute(a,r),yx.fromBufferAttribute(a,s),n.distanceSqToSegment(gx,yx,pT,B2)>i)return;pT.applyMatrix4(t.matrixWorld);const d=e.ray.origin.distanceTo(pT);if(!(d<e.near||d>e.far))return{distance:d,point:B2.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const U2=new me,z2=new me;class Iu extends Wd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)U2.fromBufferAttribute(n,r),z2.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+U2.distanceTo(z2);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dk extends Wd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Hw extends Ls{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const H2=new vn,Jb=new gm,Iv=new Is,Lv=new me;class hk extends si{constructor(e=new Dn,n=new Hw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Iv.copy(i.boundingSphere),Iv.applyMatrix4(r),Iv.radius+=s,e.ray.intersectsSphere(Iv)===!1)return;H2.copy(r).invert(),Jb.copy(e.ray).applyMatrix4(H2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,d=i.index,p=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let T=y,S=v;T<S;T++){const b=d.getX(T);Lv.fromBufferAttribute(p,b),V2(Lv,b,u,r,e,n,this)}}else{const y=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let T=y,S=v;T<S;T++)Lv.fromBufferAttribute(p,T),V2(Lv,T,u,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function V2(t,e,n,i,r,s,o){const a=Jb.distanceSqToPoint(t);if(a<n){const u=new me;Jb.closestPointToPoint(t,u),u.applyMatrix4(i);const d=r.ray.origin.distanceTo(u);if(d<r.near||d>r.far)return;s.push({distance:d,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class fk extends rr{constructor(e,n,i,r,s=Nr,o=Nr,a,u,d){super(e,n,i,r,s,o,a,u,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const f=this;function p(){f.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class LW extends fk{constructor(e,n,i,r,s,o,a,u){super({},e,n,i,r,s,o,a,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class NW extends rr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Rs,this.minFilter=Rs,this.generateMipmaps=!1,this.needsUpdate=!0}}class d1 extends rr{constructor(e,n,i,r,s,o,a,u,d,f,p,y){super(null,o,a,u,d,f,r,s,p,y),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class OW extends d1{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ja,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kW extends d1{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Pc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class DW extends rr{constructor(e,n,i,r,s,o,a,u,d){super(e,n,i,r,s,o,a,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vw extends rr{constructor(e,n,i=Rc,r,s,o,a=Rs,u=Rs,d,f=Kp,p=1){if(f!==Kp&&f!==$p)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:n,depth:p};super(y,r,s,o,a,u,f,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Bd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class h1 extends Dn{constructor(e=1,n=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:s},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],a=[],u=[],d=[],f=n/2,p=Math.PI/2*e,y=n,v=2*p+y,T=i*2+s,S=r+1,b=new me,E=new me;for(let R=0;R<=T;R++){let P=0,D=0,G=0,V=0;if(R<=i){const z=R/i,k=z*Math.PI/2;D=-f-e*Math.cos(k),G=e*Math.sin(k),V=-e*Math.cos(k),P=z*p}else if(R<=i+s){const z=(R-i)/s;D=-f+z*n,G=e,V=0,P=p+z*y}else{const z=(R-i-s)/i,k=z*Math.PI/2;D=f+e*Math.sin(k),G=e*Math.cos(k),V=e*Math.sin(k),P=p+y+z*p}const K=Math.max(0,Math.min(1,P/v));let H=0;R===0?H=.5/r:R===T&&(H=-.5/r);for(let z=0;z<=r;z++){const k=z/r,Z=k*Math.PI*2,$=Math.sin(Z),re=Math.cos(Z);E.x=-G*re,E.y=D,E.z=G*$,a.push(E.x,E.y,E.z),b.set(-G*re,V,G*$),b.normalize(),u.push(b.x,b.y,b.z),d.push(k+H,K)}if(R>0){const z=(R-1)*S;for(let k=0;k<r;k++){const Z=z+k,$=z+k+1,re=R*S+k,ie=R*S+k+1;o.push(Z,$,re),o.push($,ie,re)}}}this.setIndex(o),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class f1 extends Dn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],u=[],d=new me,f=new ft;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let p=0,y=3;p<=n;p++,y+=3){const v=i+p/n*r;d.x=e*Math.cos(v),d.y=e*Math.sin(v),o.push(d.x,d.y,d.z),a.push(0,0,1),f.x=(o[y]/e+1)/2,f.y=(o[y+1]/e+1)/2,u.push(f.x,f.y)}for(let p=1;p<=n;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new rn(o,3)),this.setAttribute("normal",new rn(a,3)),this.setAttribute("uv",new rn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Q0 extends Dn{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const d=this;r=Math.floor(r),s=Math.floor(s);const f=[],p=[],y=[],v=[];let T=0;const S=[],b=i/2;let E=0;R(),o===!1&&(e>0&&P(!0),n>0&&P(!1)),this.setIndex(f),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(y,3)),this.setAttribute("uv",new rn(v,2));function R(){const D=new me,G=new me;let V=0;const K=(n-e)/i;for(let H=0;H<=s;H++){const z=[],k=H/s,Z=k*(n-e)+e;for(let $=0;$<=r;$++){const re=$/r,ie=re*u+a,ge=Math.sin(ie),fe=Math.cos(ie);G.x=Z*ge,G.y=-k*i+b,G.z=Z*fe,p.push(G.x,G.y,G.z),D.set(ge,K,fe).normalize(),y.push(D.x,D.y,D.z),v.push(re,1-k),z.push(T++)}S.push(z)}for(let H=0;H<r;H++)for(let z=0;z<s;z++){const k=S[z][H],Z=S[z+1][H],$=S[z+1][H+1],re=S[z][H+1];(e>0||z!==0)&&(f.push(k,Z,re),V+=3),(n>0||z!==s-1)&&(f.push(Z,$,re),V+=3)}d.addGroup(E,V,0),E+=V}function P(D){const G=T,V=new ft,K=new me;let H=0;const z=D===!0?e:n,k=D===!0?1:-1;for(let $=1;$<=r;$++)p.push(0,b*k,0),y.push(0,k,0),v.push(.5,.5),T++;const Z=T;for(let $=0;$<=r;$++){const ie=$/r*u+a,ge=Math.cos(ie),fe=Math.sin(ie);K.x=z*fe,K.y=b*k,K.z=z*ge,p.push(K.x,K.y,K.z),y.push(0,k,0),V.x=ge*.5+.5,V.y=fe*.5*k+.5,v.push(V.x,V.y),T++}for(let $=0;$<r;$++){const re=G+$,ie=Z+$;D===!0?f.push(ie,ie+1,re):f.push(ie+1,ie,re),H+=3}d.addGroup(E,H,D===!0?1:2),E+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class J0 extends Q0{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new J0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kd extends Dn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),d(i),f(),this.setAttribute("position",new rn(s,3)),this.setAttribute("normal",new rn(s.slice(),3)),this.setAttribute("uv",new rn(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(R){const P=new me,D=new me,G=new me;for(let V=0;V<n.length;V+=3)v(n[V+0],P),v(n[V+1],D),v(n[V+2],G),u(P,D,G,R)}function u(R,P,D,G){const V=G+1,K=[];for(let H=0;H<=V;H++){K[H]=[];const z=R.clone().lerp(D,H/V),k=P.clone().lerp(D,H/V),Z=V-H;for(let $=0;$<=Z;$++)$===0&&H===V?K[H][$]=z:K[H][$]=z.clone().lerp(k,$/Z)}for(let H=0;H<V;H++)for(let z=0;z<2*(V-H)-1;z++){const k=Math.floor(z/2);z%2===0?(y(K[H][k+1]),y(K[H+1][k]),y(K[H][k])):(y(K[H][k+1]),y(K[H+1][k+1]),y(K[H+1][k]))}}function d(R){const P=new me;for(let D=0;D<s.length;D+=3)P.x=s[D+0],P.y=s[D+1],P.z=s[D+2],P.normalize().multiplyScalar(R),s[D+0]=P.x,s[D+1]=P.y,s[D+2]=P.z}function f(){const R=new me;for(let P=0;P<s.length;P+=3){R.x=s[P+0],R.y=s[P+1],R.z=s[P+2];const D=b(R)/2/Math.PI+.5,G=E(R)/Math.PI+.5;o.push(D,1-G)}T(),p()}function p(){for(let R=0;R<o.length;R+=6){const P=o[R+0],D=o[R+2],G=o[R+4],V=Math.max(P,D,G),K=Math.min(P,D,G);V>.9&&K<.1&&(P<.2&&(o[R+0]+=1),D<.2&&(o[R+2]+=1),G<.2&&(o[R+4]+=1))}}function y(R){s.push(R.x,R.y,R.z)}function v(R,P){const D=R*3;P.x=e[D+0],P.y=e[D+1],P.z=e[D+2]}function T(){const R=new me,P=new me,D=new me,G=new me,V=new ft,K=new ft,H=new ft;for(let z=0,k=0;z<s.length;z+=9,k+=6){R.set(s[z+0],s[z+1],s[z+2]),P.set(s[z+3],s[z+4],s[z+5]),D.set(s[z+6],s[z+7],s[z+8]),V.set(o[k+0],o[k+1]),K.set(o[k+2],o[k+3]),H.set(o[k+4],o[k+5]),G.copy(R).add(P).add(D).divideScalar(3);const Z=b(G);S(V,k+0,R,Z),S(K,k+2,P,Z),S(H,k+4,D,Z)}}function S(R,P,D,G){G<0&&R.x===1&&(o[P]=R.x-1),D.x===0&&D.z===0&&(o[P]=G/2/Math.PI+.5)}function b(R){return Math.atan2(R.z,-R.x)}function E(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kd(e.vertices,e.indices,e.radius,e.details)}}class p1 extends Kd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new p1(e.radius,e.detail)}}const Nv=new me,Ov=new me,mT=new me,kv=new jo;class pk extends Dn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(rf*n),o=e.getIndex(),a=e.getAttribute("position"),u=o?o.count:a.count,d=[0,0,0],f=["a","b","c"],p=new Array(3),y={},v=[];for(let T=0;T<u;T+=3){o?(d[0]=o.getX(T),d[1]=o.getX(T+1),d[2]=o.getX(T+2)):(d[0]=T,d[1]=T+1,d[2]=T+2);const{a:S,b,c:E}=kv;if(S.fromBufferAttribute(a,d[0]),b.fromBufferAttribute(a,d[1]),E.fromBufferAttribute(a,d[2]),kv.getNormal(mT),p[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,p[2]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let R=0;R<3;R++){const P=(R+1)%3,D=p[R],G=p[P],V=kv[f[R]],K=kv[f[P]],H=`${D}_${G}`,z=`${G}_${D}`;z in y&&y[z]?(mT.dot(y[z].normal)<=s&&(v.push(V.x,V.y,V.z),v.push(K.x,K.y,K.z)),y[z]=null):H in y||(y[H]={index0:d[R],index1:d[P],normal:mT.clone()})}}for(const T in y)if(y[T]){const{index0:S,index1:b}=y[T];Nv.fromBufferAttribute(a,S),Ov.fromBufferAttribute(a,b),v.push(Nv.x,Nv.y,Nv.z),v.push(Ov.x,Ov.y,Ov.z)}this.setAttribute("position",new rn(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Vl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,u=s-1,d;for(;a<=u;)if(r=Math.floor(a+(u-a)/2),d=i[r]-o,d<0)a=r+1;else if(d>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(s-1);const f=i[r],y=i[r+1]-f,v=(o-f)/y;return(r+v)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),u=n||(o.isVector2?new ft:new me);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new me,r=[],s=[],o=[],a=new me,u=new vn;for(let v=0;v<=e;v++){const T=v/e;r[v]=this.getTangentAt(T,new me)}s[0]=new me,o[0]=new me;let d=Number.MAX_VALUE;const f=Math.abs(r[0].x),p=Math.abs(r[0].y),y=Math.abs(r[0].z);f<=d&&(d=f,i.set(1,0,0)),p<=d&&(d=p,i.set(0,1,0)),y<=d&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(r[v-1],r[v]),a.length()>Number.EPSILON){a.normalize();const T=Math.acos(In(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(u.makeRotationAxis(a,T))}o[v].crossVectors(r[v],s[v])}if(n===!0){let v=Math.acos(In(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let T=1;T<=e;T++)s[T].applyMatrix4(u.makeRotationAxis(r[T],v*T)),o[T].crossVectors(r[T],s[T])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class m1 extends Vl{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,n=new ft){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),d=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=u-this.aX,v=d-this.aY;u=y*f-v*p+this.aX,d=y*p+v*f+this.aY}return i.set(u,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mk extends m1{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function jw(){let t=0,e=0,n=0,i=0;function r(s,o,a,u){t=s,e=a,n=-3*s+3*o-2*a-u,i=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,d){r(o,a,d*(a-s),d*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,d,f,p){let y=(o-s)/d-(a-s)/(d+f)+(a-o)/f,v=(a-o)/f-(u-o)/(f+p)+(u-a)/p;y*=f,v*=f,r(o,a,y,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const Dv=new me,gT=new jw,yT=new jw,vT=new jw;class gk extends Vl{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new me){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let d,f;this.closed||a>0?d=r[(a-1)%s]:(Dv.subVectors(r[0],r[1]).add(r[0]),d=Dv);const p=r[a%s],y=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(Dv.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=Dv),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let T=Math.pow(d.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(y),v),b=Math.pow(y.distanceToSquared(f),v);S<1e-4&&(S=1),T<1e-4&&(T=S),b<1e-4&&(b=S),gT.initNonuniformCatmullRom(d.x,p.x,y.x,f.x,T,S,b),yT.initNonuniformCatmullRom(d.y,p.y,y.y,f.y,T,S,b),vT.initNonuniformCatmullRom(d.z,p.z,y.z,f.z,T,S,b)}else this.curveType==="catmullrom"&&(gT.initCatmullRom(d.x,p.x,y.x,f.x,this.tension),yT.initCatmullRom(d.y,p.y,y.y,f.y,this.tension),vT.initCatmullRom(d.z,p.z,y.z,f.z,this.tension));return i.set(gT.calc(u),yT.calc(u),vT.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new me().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function j2(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,u=t*a;return(2*n-2*i+s+o)*u+(-3*n+3*i-2*s-o)*a+s*t+n}function FW(t,e){const n=1-t;return n*n*e}function BW(t,e){return 2*(1-t)*t*e}function UW(t,e){return t*t*e}function Yg(t,e,n,i){return FW(t,e)+BW(t,n)+UW(t,i)}function zW(t,e){const n=1-t;return n*n*n*e}function HW(t,e){const n=1-t;return 3*n*n*t*e}function VW(t,e){return 3*(1-t)*t*t*e}function jW(t,e){return t*t*t*e}function Xg(t,e,n,i,r){return zW(t,e)+HW(t,n)+VW(t,i)+jW(t,r)}class Ww extends Vl{constructor(e=new ft,n=new ft,i=new ft,r=new ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ft){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Xg(e,r.x,s.x,o.x,a.x),Xg(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yk extends Vl{constructor(e=new me,n=new me,i=new me,r=new me){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new me){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Xg(e,r.x,s.x,o.x,a.x),Xg(e,r.y,s.y,o.y,a.y),Xg(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gw extends Vl{constructor(e=new ft,n=new ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ft){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ft){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vk extends Vl{constructor(e=new me,n=new me){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new me){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yw extends Vl{constructor(e=new ft,n=new ft,i=new ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ft){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Yg(e,r.x,s.x,o.x),Yg(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xw extends Vl{constructor(e=new me,n=new me,i=new me){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new me){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Yg(e,r.x,s.x,o.x),Yg(e,r.y,s.y,o.y),Yg(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qw extends Vl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ft){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,u=r[o===0?o:o-1],d=r[o],f=r[o>r.length-2?r.length-1:o+1],p=r[o>r.length-3?r.length-1:o+2];return i.set(j2(a,u.x,d.x,f.x,p.x),j2(a,u.y,d.y,f.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ft().fromArray(r))}return this}}var vx=Object.freeze({__proto__:null,ArcCurve:mk,CatmullRomCurve3:gk,CubicBezierCurve:Ww,CubicBezierCurve3:yk,EllipseCurve:m1,LineCurve:Gw,LineCurve3:vk,QuadraticBezierCurve:Yw,QuadraticBezierCurve3:Xw,SplineCurve:qw});class _k extends Vl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new vx[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],u=a.getLength(),d=u===0?0:1-o/u;return a.getPointAt(d,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let d=0;d<u.length;d++){const f=u[d];i&&i.equals(f)||(n.push(f),i=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new vx[r.type]().fromJSON(r))}return this}}class _x extends _k{constructor(e){super(),this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Gw(this.currentPoint.clone(),new ft(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new Yw(this.currentPoint.clone(),new ft(e,n),new ft(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new Ww(this.currentPoint.clone(),new ft(e,n),new ft(i,r),new ft(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new qw(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,n+u,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,u){const d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+d,n+f,i,r,s,o,a,u),this}absellipse(e,n,i,r,s,o,a,u){const d=new m1(e,n,i,r,s,o,a,u);if(this.curves.length>0){const p=d.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(d);const f=d.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class of extends _x{constructor(e){super(e),this.uuid=Ta(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new _x().fromJSON(r))}return this}}function WW(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=xk(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,d;if(i&&(s=ZW(t,e,s,n)),t.length>80*n){a=1/0,u=1/0;let f=-1/0,p=-1/0;for(let y=n;y<r;y+=n){const v=t[y],T=t[y+1];v<a&&(a=v),T<u&&(u=T),v>f&&(f=v),T>p&&(p=T)}d=Math.max(f-a,p-u),d=d!==0?32767/d:0}return C0(s,o,n,a,u,d,0),o}function xk(t,e,n,i,r){let s;if(r===oG(t,e,n,i)>0)for(let o=e;o<n;o+=i)s=W2(o/i|0,t[o],t[o+1],s);else for(let o=n-i;o>=e;o-=i)s=W2(o/i|0,t[o],t[o+1],s);return s&&tm(s,s.next)&&(M0(s),s=s.next),s}function yf(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(tm(n,n.next)||nr(n.prev,n,n.next)===0)){if(M0(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function C0(t,e,n,i,r,s,o){if(!t)return;!o&&s&&eG(t,i,r,s);let a=t;for(;t.prev!==t.next;){const u=t.prev,d=t.next;if(s?YW(t,i,r,s):GW(t)){e.push(u.i,t.i,d.i),M0(t),t=d.next,a=d.next;continue}if(t=d,t===a){o?o===1?(t=XW(yf(t),e),C0(t,e,n,i,r,s,2)):o===2&&qW(t,e,n,i,r,s):C0(yf(t),e,n,i,r,s,1);break}}}function GW(t){const e=t.prev,n=t,i=t.next;if(nr(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,u=n.y,d=i.y,f=Math.min(r,s,o),p=Math.min(a,u,d),y=Math.max(r,s,o),v=Math.max(a,u,d);let T=i.next;for(;T!==e;){if(T.x>=f&&T.x<=y&&T.y>=p&&T.y<=v&&Lg(r,a,s,u,o,d,T.x,T.y)&&nr(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function YW(t,e,n,i){const r=t.prev,s=t,o=t.next;if(nr(r,s,o)>=0)return!1;const a=r.x,u=s.x,d=o.x,f=r.y,p=s.y,y=o.y,v=Math.min(a,u,d),T=Math.min(f,p,y),S=Math.max(a,u,d),b=Math.max(f,p,y),E=eS(v,T,e,n,i),R=eS(S,b,e,n,i);let P=t.prevZ,D=t.nextZ;for(;P&&P.z>=E&&D&&D.z<=R;){if(P.x>=v&&P.x<=S&&P.y>=T&&P.y<=b&&P!==r&&P!==o&&Lg(a,f,u,p,d,y,P.x,P.y)&&nr(P.prev,P,P.next)>=0||(P=P.prevZ,D.x>=v&&D.x<=S&&D.y>=T&&D.y<=b&&D!==r&&D!==o&&Lg(a,f,u,p,d,y,D.x,D.y)&&nr(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;P&&P.z>=E;){if(P.x>=v&&P.x<=S&&P.y>=T&&P.y<=b&&P!==r&&P!==o&&Lg(a,f,u,p,d,y,P.x,P.y)&&nr(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;D&&D.z<=R;){if(D.x>=v&&D.x<=S&&D.y>=T&&D.y<=b&&D!==r&&D!==o&&Lg(a,f,u,p,d,y,D.x,D.y)&&nr(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function XW(t,e){let n=t;do{const i=n.prev,r=n.next.next;!tm(i,r)&&Tk(i,n,n.next,r)&&A0(i,r)&&A0(r,i)&&(e.push(i.i,n.i,r.i),M0(n),M0(n.next),n=t=r),n=n.next}while(n!==t);return yf(n)}function qW(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&iG(o,a)){let u=bk(o,a);o=yf(o,o.next),u=yf(u,u.next),C0(o,e,n,i,r,s,0),C0(u,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function ZW(t,e,n,i){const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*i,u=s<o-1?e[s+1]*i:t.length,d=xk(t,a,u,i,!1);d===d.next&&(d.steiner=!0),r.push(nG(d))}r.sort(KW);for(let s=0;s<r.length;s++)n=$W(r[s],n);return n}function KW(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function $W(t,e){const n=QW(t,e);if(!n)return e;const i=bk(n,t);return yf(i,i.next),yf(n,n.next)}function QW(t,e){let n=e;const i=t.x,r=t.y;let s=-1/0,o;if(tm(t,n))return n;do{if(tm(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const p=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=i&&p>s&&(s=p,o=n.x<n.next.x?n:n.next,p===i))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,u=o.x,d=o.y;let f=1/0;n=o;do{if(i>=n.x&&n.x>=u&&i!==n.x&&Ek(r<d?i:s,r,u,d,r<d?s:i,r,n.x,n.y)){const p=Math.abs(r-n.y)/(i-n.x);A0(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&JW(o,n)))&&(o=n,f=p)}n=n.next}while(n!==a);return o}function JW(t,e){return nr(t.prev,t,e.prev)<0&&nr(e.next,t,t.next)<0}function eG(t,e,n,i){let r=t;do r.z===0&&(r.z=eS(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,tG(r)}function tG(t){let e,n=1;do{let i=t,r;t=null;let s=null;for(e=0;i;){e++;let o=i,a=0;for(let d=0;d<n&&(a++,o=o.nextZ,!!o);d++);let u=n;for(;a>0||u>0&&o;)a!==0&&(u===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,a--):(r=o,o=o.nextZ,u--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=o}s.nextZ=null,n*=2}while(e>1);return t}function eS(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function nG(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ek(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function Lg(t,e,n,i,r,s,o,a){return!(t===o&&e===a)&&Ek(t,e,n,i,r,s,o,a)}function iG(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!rG(t,e)&&(A0(t,e)&&A0(e,t)&&sG(t,e)&&(nr(t.prev,t,e.prev)||nr(t,e.prev,e))||tm(t,e)&&nr(t.prev,t,t.next)>0&&nr(e.prev,e,e.next)>0)}function nr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function tm(t,e){return t.x===e.x&&t.y===e.y}function Tk(t,e,n,i){const r=Bv(nr(t,e,n)),s=Bv(nr(t,e,i)),o=Bv(nr(n,i,t)),a=Bv(nr(n,i,e));return!!(r!==s&&o!==a||r===0&&Fv(t,n,e)||s===0&&Fv(t,i,e)||o===0&&Fv(n,t,i)||a===0&&Fv(n,e,i))}function Fv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Bv(t){return t>0?1:t<0?-1:0}function rG(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Tk(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function A0(t,e){return nr(t.prev,t,t.next)<0?nr(t,e,t.next)>=0&&nr(t,t.prev,e)>=0:nr(t,e,t.prev)<0||nr(t,t.next,e)<0}function sG(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function bk(t,e){const n=tS(t.i,t.x,t.y),i=tS(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function W2(t,e,n,i){const r=tS(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function M0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tS(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function oG(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class aG{static triangulate(e,n,i=2){return WW(e,n,i)}}class Bl{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Bl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];G2(e),Y2(i,e);let o=e.length;n.forEach(G2);for(let u=0;u<n.length;u++)r.push(o),o+=n[u].length,Y2(i,n[u]);const a=aG.triangulate(i,r);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function G2(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Y2(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class g1 extends Dn{constructor(e=new of([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,u=e.length;a<u;a++){const d=e[a];o(d)}this.setAttribute("position",new rn(r,3)),this.setAttribute("uv",new rn(s,2)),this.computeVertexNormals();function o(a){const u=[],d=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,T=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const E=n.extrudePath,R=n.UVGenerator!==void 0?n.UVGenerator:lG;let P,D=!1,G,V,K,H;E&&(P=E.getSpacedPoints(f),D=!0,y=!1,G=E.computeFrenetFrames(f,!1),V=new me,K=new me,H=new me),y||(b=0,v=0,T=0,S=0);const z=a.extractPoints(d);let k=z.shape;const Z=z.holes;if(!Bl.isClockWise(k)){k=k.reverse();for(let le=0,ut=Z.length;le<ut;le++){const et=Z[le];Bl.isClockWise(et)&&(Z[le]=et.reverse())}}function re(le){const et=10000000000000001e-36;let Ye=le[0];for(let Ne=1;Ne<=le.length;Ne++){const Qe=Ne%le.length,Ie=le[Qe],Ke=Ie.x-Ye.x,ct=Ie.y-Ye.y,ae=Ke*Ke+ct*ct,Q=Math.max(Math.abs(Ie.x),Math.abs(Ie.y),Math.abs(Ye.x),Math.abs(Ye.y)),Me=et*Q*Q;if(ae<=Me){le.splice(Qe,1),Ne--;continue}Ye=Ie}}re(k),Z.forEach(re);const ie=Z.length,ge=k;for(let le=0;le<ie;le++){const ut=Z[le];k=k.concat(ut)}function fe(le,ut,et){return ut||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().addScaledVector(ut,et)}const he=k.length;function Y(le,ut,et){let Ye,Ne,Qe;const Ie=le.x-ut.x,Ke=le.y-ut.y,ct=et.x-le.x,ae=et.y-le.y,Q=Ie*Ie+Ke*Ke,Me=Ie*ae-Ke*ct;if(Math.abs(Me)>Number.EPSILON){const de=Math.sqrt(Q),Se=Math.sqrt(ct*ct+ae*ae),Le=ut.x-Ke/de,dt=ut.y+Ie/de,Je=et.x-ae/Se,It=et.y+ct/Se,St=((Je-Le)*ae-(It-dt)*ct)/(Ie*ae-Ke*ct);Ye=Le+Ie*St-le.x,Ne=dt+Ke*St-le.y;const tt=Ye*Ye+Ne*Ne;if(tt<=2)return new ft(Ye,Ne);Qe=Math.sqrt(tt/2)}else{let de=!1;Ie>Number.EPSILON?ct>Number.EPSILON&&(de=!0):Ie<-Number.EPSILON?ct<-Number.EPSILON&&(de=!0):Math.sign(Ke)===Math.sign(ae)&&(de=!0),de?(Ye=-Ke,Ne=Ie,Qe=Math.sqrt(Q)):(Ye=Ie,Ne=Ke,Qe=Math.sqrt(Q/2))}return new ft(Ye/Qe,Ne/Qe)}const se=[];for(let le=0,ut=ge.length,et=ut-1,Ye=le+1;le<ut;le++,et++,Ye++)et===ut&&(et=0),Ye===ut&&(Ye=0),se[le]=Y(ge[le],ge[et],ge[Ye]);const j=[];let ee,ue=se.concat();for(let le=0,ut=ie;le<ut;le++){const et=Z[le];ee=[];for(let Ye=0,Ne=et.length,Qe=Ne-1,Ie=Ye+1;Ye<Ne;Ye++,Qe++,Ie++)Qe===Ne&&(Qe=0),Ie===Ne&&(Ie=0),ee[Ye]=Y(et[Ye],et[Qe],et[Ie]);j.push(ee),ue=ue.concat(ee)}let J;if(b===0)J=Bl.triangulateShape(ge,Z);else{const le=[],ut=[];for(let et=0;et<b;et++){const Ye=et/b,Ne=v*Math.cos(Ye*Math.PI/2),Qe=T*Math.sin(Ye*Math.PI/2)+S;for(let Ie=0,Ke=ge.length;Ie<Ke;Ie++){const ct=fe(ge[Ie],se[Ie],Qe);nt(ct.x,ct.y,-Ne),Ye===0&&le.push(ct)}for(let Ie=0,Ke=ie;Ie<Ke;Ie++){const ct=Z[Ie];ee=j[Ie];const ae=[];for(let Q=0,Me=ct.length;Q<Me;Q++){const de=fe(ct[Q],ee[Q],Qe);nt(de.x,de.y,-Ne),Ye===0&&ae.push(de)}Ye===0&&ut.push(ae)}}J=Bl.triangulateShape(le,ut)}const pe=J.length,xe=T+S;for(let le=0;le<he;le++){const ut=y?fe(k[le],ue[le],xe):k[le];D?(K.copy(G.normals[0]).multiplyScalar(ut.x),V.copy(G.binormals[0]).multiplyScalar(ut.y),H.copy(P[0]).add(K).add(V),nt(H.x,H.y,H.z)):nt(ut.x,ut.y,0)}for(let le=1;le<=f;le++)for(let ut=0;ut<he;ut++){const et=y?fe(k[ut],ue[ut],xe):k[ut];D?(K.copy(G.normals[le]).multiplyScalar(et.x),V.copy(G.binormals[le]).multiplyScalar(et.y),H.copy(P[le]).add(K).add(V),nt(H.x,H.y,H.z)):nt(et.x,et.y,p/f*le)}for(let le=b-1;le>=0;le--){const ut=le/b,et=v*Math.cos(ut*Math.PI/2),Ye=T*Math.sin(ut*Math.PI/2)+S;for(let Ne=0,Qe=ge.length;Ne<Qe;Ne++){const Ie=fe(ge[Ne],se[Ne],Ye);nt(Ie.x,Ie.y,p+et)}for(let Ne=0,Qe=Z.length;Ne<Qe;Ne++){const Ie=Z[Ne];ee=j[Ne];for(let Ke=0,ct=Ie.length;Ke<ct;Ke++){const ae=fe(Ie[Ke],ee[Ke],Ye);D?nt(ae.x,ae.y+P[f-1].y,P[f-1].x+et):nt(ae.x,ae.y,p+et)}}}be(),Ce();function be(){const le=r.length/3;if(y){let ut=0,et=he*ut;for(let Ye=0;Ye<pe;Ye++){const Ne=J[Ye];rt(Ne[2]+et,Ne[1]+et,Ne[0]+et)}ut=f+b*2,et=he*ut;for(let Ye=0;Ye<pe;Ye++){const Ne=J[Ye];rt(Ne[0]+et,Ne[1]+et,Ne[2]+et)}}else{for(let ut=0;ut<pe;ut++){const et=J[ut];rt(et[2],et[1],et[0])}for(let ut=0;ut<pe;ut++){const et=J[ut];rt(et[0]+he*f,et[1]+he*f,et[2]+he*f)}}i.addGroup(le,r.length/3-le,0)}function Ce(){const le=r.length/3;let ut=0;Xe(ge,ut),ut+=ge.length;for(let et=0,Ye=Z.length;et<Ye;et++){const Ne=Z[et];Xe(Ne,ut),ut+=Ne.length}i.addGroup(le,r.length/3-le,1)}function Xe(le,ut){let et=le.length;for(;--et>=0;){const Ye=et;let Ne=et-1;Ne<0&&(Ne=le.length-1);for(let Qe=0,Ie=f+b*2;Qe<Ie;Qe++){const Ke=he*Qe,ct=he*(Qe+1),ae=ut+Ye+Ke,Q=ut+Ne+Ke,Me=ut+Ne+ct,de=ut+Ye+ct;ot(ae,Q,Me,de)}}}function nt(le,ut,et){u.push(le),u.push(ut),u.push(et)}function rt(le,ut,et){_t(le),_t(ut),_t(et);const Ye=r.length/3,Ne=R.generateTopUV(i,r,Ye-3,Ye-2,Ye-1);yt(Ne[0]),yt(Ne[1]),yt(Ne[2])}function ot(le,ut,et,Ye){_t(le),_t(ut),_t(Ye),_t(ut),_t(et),_t(Ye);const Ne=r.length/3,Qe=R.generateSideWallUV(i,r,Ne-6,Ne-3,Ne-2,Ne-1);yt(Qe[0]),yt(Qe[1]),yt(Qe[3]),yt(Qe[1]),yt(Qe[2]),yt(Qe[3])}function _t(le){r.push(u[le*3+0]),r.push(u[le*3+1]),r.push(u[le*3+2])}function yt(le){s.push(le.x),s.push(le.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return uG(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new vx[r.type]().fromJSON(r)),new g1(i,e.options)}}const lG={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],u=e[i*3+1],d=e[r*3],f=e[r*3+1];return[new ft(s,o),new ft(a,u),new ft(d,f)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],u=e[n*3+2],d=e[i*3],f=e[i*3+1],p=e[i*3+2],y=e[r*3],v=e[r*3+1],T=e[r*3+2],S=e[s*3],b=e[s*3+1],E=e[s*3+2];return Math.abs(a-f)<Math.abs(o-d)?[new ft(o,1-u),new ft(d,1-p),new ft(y,1-T),new ft(S,1-E)]:[new ft(a,1-u),new ft(f,1-p),new ft(v,1-T),new ft(b,1-E)]}};function uG(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class y1 extends Kd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y1(e.radius,e.detail)}}class v1 extends Dn{constructor(e=[new ft(0,-.5),new ft(.5,0),new ft(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=In(r,0,Math.PI*2);const s=[],o=[],a=[],u=[],d=[],f=1/n,p=new me,y=new ft,v=new me,T=new me,S=new me;let b=0,E=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:b=e[R+1].x-e[R].x,E=e[R+1].y-e[R].y,v.x=E*1,v.y=-b,v.z=E*0,S.copy(v),v.normalize(),u.push(v.x,v.y,v.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:b=e[R+1].x-e[R].x,E=e[R+1].y-e[R].y,v.x=E*1,v.y=-b,v.z=E*0,T.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),u.push(v.x,v.y,v.z),S.copy(T)}for(let R=0;R<=n;R++){const P=i+R*f*r,D=Math.sin(P),G=Math.cos(P);for(let V=0;V<=e.length-1;V++){p.x=e[V].x*D,p.y=e[V].y,p.z=e[V].x*G,o.push(p.x,p.y,p.z),y.x=R/n,y.y=V/(e.length-1),a.push(y.x,y.y);const K=u[3*V+0]*D,H=u[3*V+1],z=u[3*V+0]*G;d.push(K,H,z)}}for(let R=0;R<n;R++)for(let P=0;P<e.length-1;P++){const D=P+R*e.length,G=D,V=D+e.length,K=D+e.length+1,H=D+1;s.push(G,V,H),s.push(K,H,V)}this.setIndex(s),this.setAttribute("position",new rn(o,3)),this.setAttribute("uv",new rn(a,2)),this.setAttribute("normal",new rn(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v1(e.points,e.segments,e.phiStart,e.phiLength)}}class ey extends Kd{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ey(e.radius,e.detail)}}class vm extends Dn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),u=Math.floor(r),d=a+1,f=u+1,p=e/a,y=n/u,v=[],T=[],S=[],b=[];for(let E=0;E<f;E++){const R=E*y-o;for(let P=0;P<d;P++){const D=P*p-s;T.push(D,-R,0),S.push(0,0,1),b.push(P/a),b.push(1-E/u)}}for(let E=0;E<u;E++)for(let R=0;R<a;R++){const P=R+d*E,D=R+d*(E+1),G=R+1+d*(E+1),V=R+1+d*E;v.push(P,D,V),v.push(D,G,V)}this.setIndex(v),this.setAttribute("position",new rn(T,3)),this.setAttribute("normal",new rn(S,3)),this.setAttribute("uv",new rn(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vm(e.width,e.height,e.widthSegments,e.heightSegments)}}class _1 extends Dn{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],u=[],d=[],f=[];let p=e;const y=(n-e)/r,v=new me,T=new ft;for(let S=0;S<=r;S++){for(let b=0;b<=i;b++){const E=s+b/i*o;v.x=p*Math.cos(E),v.y=p*Math.sin(E),u.push(v.x,v.y,v.z),d.push(0,0,1),T.x=(v.x/n+1)/2,T.y=(v.y/n+1)/2,f.push(T.x,T.y)}p+=y}for(let S=0;S<r;S++){const b=S*(i+1);for(let E=0;E<i;E++){const R=E+b,P=R,D=R+i+1,G=R+i+2,V=R+1;a.push(P,D,V),a.push(D,G,V)}}this.setIndex(a),this.setAttribute("position",new rn(u,3)),this.setAttribute("normal",new rn(d,3)),this.setAttribute("uv",new rn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class x1 extends Dn{constructor(e=new of([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)d(e);else for(let f=0;f<e.length;f++)d(e[f]),this.addGroup(a,u,f),a+=u,u=0;this.setIndex(i),this.setAttribute("position",new rn(r,3)),this.setAttribute("normal",new rn(s,3)),this.setAttribute("uv",new rn(o,2));function d(f){const p=r.length/3,y=f.extractPoints(n);let v=y.shape;const T=y.holes;Bl.isClockWise(v)===!1&&(v=v.reverse());for(let b=0,E=T.length;b<E;b++){const R=T[b];Bl.isClockWise(R)===!0&&(T[b]=R.reverse())}const S=Bl.triangulateShape(v,T);for(let b=0,E=T.length;b<E;b++){const R=T[b];v=v.concat(R)}for(let b=0,E=v.length;b<E;b++){const R=v[b];r.push(R.x,R.y,0),s.push(0,0,1),o.push(R.x,R.y)}for(let b=0,E=S.length;b<E;b++){const R=S[b],P=R[0]+p,D=R[1]+p,G=R[2]+p;i.push(P,D,G),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return cG(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new x1(i,e.curveSegments)}}function cG(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class ty extends Dn{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const u=Math.min(o+a,Math.PI);let d=0;const f=[],p=new me,y=new me,v=[],T=[],S=[],b=[];for(let E=0;E<=i;E++){const R=[],P=E/i;let D=0;E===0&&o===0?D=.5/n:E===i&&u===Math.PI&&(D=-.5/n);for(let G=0;G<=n;G++){const V=G/n;p.x=-e*Math.cos(r+V*s)*Math.sin(o+P*a),p.y=e*Math.cos(o+P*a),p.z=e*Math.sin(r+V*s)*Math.sin(o+P*a),T.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),b.push(V+D,1-P),R.push(d++)}f.push(R)}for(let E=0;E<i;E++)for(let R=0;R<n;R++){const P=f[E][R+1],D=f[E][R],G=f[E+1][R],V=f[E+1][R+1];(E!==0||o>0)&&v.push(P,D,V),(E!==i-1||u<Math.PI)&&v.push(D,G,V)}this.setIndex(v),this.setAttribute("position",new rn(T,3)),this.setAttribute("normal",new rn(S,3)),this.setAttribute("uv",new rn(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ty(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class E1 extends Kd{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new E1(e.radius,e.detail)}}class T1 extends Dn{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],u=[],d=[],f=new me,p=new me,y=new me;for(let v=0;v<=i;v++)for(let T=0;T<=r;T++){const S=T/r*s,b=v/i*Math.PI*2;p.x=(e+n*Math.cos(b))*Math.cos(S),p.y=(e+n*Math.cos(b))*Math.sin(S),p.z=n*Math.sin(b),a.push(p.x,p.y,p.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),y.subVectors(p,f).normalize(),u.push(y.x,y.y,y.z),d.push(T/r),d.push(v/i)}for(let v=1;v<=i;v++)for(let T=1;T<=r;T++){const S=(r+1)*v+T-1,b=(r+1)*(v-1)+T-1,E=(r+1)*(v-1)+T,R=(r+1)*v+T;o.push(S,b,R),o.push(b,E,R)}this.setIndex(o),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class b1 extends Dn{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],u=[],d=[],f=[],p=new me,y=new me,v=new me,T=new me,S=new me,b=new me,E=new me;for(let P=0;P<=i;++P){const D=P/i*s*Math.PI*2;R(D,s,o,e,v),R(D+.01,s,o,e,T),b.subVectors(T,v),E.addVectors(T,v),S.crossVectors(b,E),E.crossVectors(S,b),S.normalize(),E.normalize();for(let G=0;G<=r;++G){const V=G/r*Math.PI*2,K=-n*Math.cos(V),H=n*Math.sin(V);p.x=v.x+(K*E.x+H*S.x),p.y=v.y+(K*E.y+H*S.y),p.z=v.z+(K*E.z+H*S.z),u.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),d.push(y.x,y.y,y.z),f.push(P/i),f.push(G/r)}}for(let P=1;P<=i;P++)for(let D=1;D<=r;D++){const G=(r+1)*(P-1)+(D-1),V=(r+1)*P+(D-1),K=(r+1)*P+D,H=(r+1)*(P-1)+D;a.push(G,V,H),a.push(V,K,H)}this.setIndex(a),this.setAttribute("position",new rn(u,3)),this.setAttribute("normal",new rn(d,3)),this.setAttribute("uv",new rn(f,2));function R(P,D,G,V,K){const H=Math.cos(P),z=Math.sin(P),k=G/D*P,Z=Math.cos(k);K.x=V*(2+Z)*.5*H,K.y=V*(2+Z)*z*.5,K.z=V*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class S1 extends Dn{constructor(e=new Xw(new me(-1,-1,0),new me(-1,1,0),new me(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new me,u=new me,d=new ft;let f=new me;const p=[],y=[],v=[],T=[];S(),this.setIndex(T),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(y,3)),this.setAttribute("uv",new rn(v,2));function S(){for(let P=0;P<n;P++)b(P);b(s===!1?n:0),R(),E()}function b(P){f=e.getPointAt(P/n,f);const D=o.normals[P],G=o.binormals[P];for(let V=0;V<=r;V++){const K=V/r*Math.PI*2,H=Math.sin(K),z=-Math.cos(K);u.x=z*D.x+H*G.x,u.y=z*D.y+H*G.y,u.z=z*D.z+H*G.z,u.normalize(),y.push(u.x,u.y,u.z),a.x=f.x+i*u.x,a.y=f.y+i*u.y,a.z=f.z+i*u.z,p.push(a.x,a.y,a.z)}}function E(){for(let P=1;P<=n;P++)for(let D=1;D<=r;D++){const G=(r+1)*(P-1)+(D-1),V=(r+1)*P+(D-1),K=(r+1)*P+D,H=(r+1)*(P-1)+D;T.push(G,V,H),T.push(V,K,H)}}function R(){for(let P=0;P<=n;P++)for(let D=0;D<=r;D++)d.x=P/n,d.y=D/r,v.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new S1(new vx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Sk extends Dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new me,s=new me;if(e.index!==null){const o=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let d=0,f=u.length;d<f;++d){const p=u[d],y=p.start,v=p.count;for(let T=y,S=y+v;T<S;T+=3)for(let b=0;b<3;b++){const E=a.getX(T+b),R=a.getX(T+(b+1)%3);r.fromBufferAttribute(o,E),s.fromBufferAttribute(o,R),X2(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,u=o.count/3;a<u;a++)for(let d=0;d<3;d++){const f=3*a+d,p=3*a+(d+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,p),X2(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new rn(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function X2(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var q2=Object.freeze({__proto__:null,BoxGeometry:xf,CapsuleGeometry:h1,CircleGeometry:f1,ConeGeometry:J0,CylinderGeometry:Q0,DodecahedronGeometry:p1,EdgesGeometry:pk,ExtrudeGeometry:g1,IcosahedronGeometry:y1,LatheGeometry:v1,OctahedronGeometry:ey,PlaneGeometry:vm,PolyhedronGeometry:Kd,RingGeometry:_1,ShapeGeometry:x1,SphereGeometry:ty,TetrahedronGeometry:E1,TorusGeometry:T1,TorusKnotGeometry:b1,TubeGeometry:S1,WireframeGeometry:Sk});class wk extends Ls{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Kt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Ck extends Xa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zw extends Ls{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ba,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ak extends Zw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return In(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Kt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Mk extends Ls{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Kt(16777215),this.specular=new Kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ba,this.combine=q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pk extends Ls{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Kt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Rk extends Ls{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ik extends Ls{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ba,this.combine=q0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Kw extends Ls{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=HO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $w extends Ls{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Lk extends Ls{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Kt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qd,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Nk extends Eo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $h(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Ok(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kk(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function nS(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let u=0;u!==e;++u)r[o++]=t[a+u]}return r}function Qw(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function dG(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const d=s.tracks[u],f=d.getValueSize(),p=[],y=[];for(let v=0;v<d.times.length;++v){const T=d.times[v]*r;if(!(T<n||T>=i)){p.push(d.times[v]);for(let S=0;S<f;++S)y.push(d.values[v*f+S])}}p.length!==0&&(d.times=$h(p,d.times.constructor),d.values=$h(y,d.values.constructor),o.push(d))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s}function hG(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const d=t.tracks.find(function(E){return E.name===a.name&&E.ValueTypeName===u});if(d===void 0)continue;let f=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);let y=0;const v=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const T=a.times.length-1;let S;if(s<=a.times[0]){const E=f,R=p-f;S=a.values.slice(E,R)}else if(s>=a.times[T]){const E=T*p+f,R=E+p-f;S=a.values.slice(E,R)}else{const E=a.createInterpolant(),R=f,P=p-f;E.evaluate(s),S=E.resultBuffer.slice(R,P)}u==="quaternion"&&new Yo().fromArray(S).normalize().conjugate().toArray(S);const b=d.times.length;for(let E=0;E<b;++E){const R=E*v+y;if(u==="quaternion")Yo.multiplyQuaternionsFlat(d.values,R,S,0,d.values,R);else{const P=v-y*2;for(let D=0;D<P;++D)d.values[R+D]-=S[D]}}}return t.blendMode=Nw,t}class fG{static convertArray(e,n){return $h(e,n)}static isTypedArray(e){return Ok(e)}static getKeyframeOrder(e){return kk(e)}static sortedArray(e,n,i){return nS(e,n,i)}static flattenJSON(e,n,i,r){Qw(e,n,i,r)}static subclip(e,n,i,r,s=30){return dG(e,n,i,r,s)}static makeClipAdditive(e,n=0,i=e,r=30){return hG(e,n,i,r)}}class ny{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let u=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Dk extends ny{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zh,endingEnd:Zh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],u=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Kh:s=e,a=2*n-i;break;case E0:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Kh:o=e,u=2*i-n;break;case E0:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=n}const d=(i-n)*.5,f=this.valueSize;this._weightPrev=d/(n-a),this._weightNext=d/(u-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,d=u-a,f=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,v=this._weightNext,T=(i-n)/(r-n),S=T*T,b=S*T,E=-y*b+2*y*S-y*T,R=(1+y)*b+(-1.5-2*y)*S+(-.5+y)*T+1,P=(-1-v)*b+(1.5+v)*S+.5*T,D=v*b-v*S;for(let G=0;G!==a;++G)s[G]=E*o[f+G]+R*o[d+G]+P*o[u+G]+D*o[p+G];return s}}class Jw extends ny{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,d=u-a,f=(i-n)/(r-n),p=1-f;for(let y=0;y!==a;++y)s[y]=o[d+y]*p+o[u+y]*f;return s}}class Fk extends ny{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Za{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$h(n,this.TimeBufferType),this.values=$h(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:$h(e.times,Array),values:$h(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Fk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Jw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Dk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case x0:n=this.InterpolantFactoryMethodDiscrete;break;case px:n=this.InterpolantFactoryMethodLinear;break;case c_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return x0;case this.InterpolantFactoryMethodLinear:return px;case this.InterpolantFactoryMethodSmooth:return c_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=i[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(r!==void 0&&Ok(r))for(let a=0,u=r.length;a!==u;++a){const d=r[a];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===c_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const d=e[a],f=e[a+1];if(d!==f&&(a!==1||d!==e[0]))if(r)u=!0;else{const p=a*i,y=p-i,v=p+i;for(let T=0;T!==i;++T){const S=n[p+T];if(S!==n[y+T]||S!==n[v+T]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const p=a*i,y=o*i;for(let v=0;v!==i;++v)n[y+v]=n[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,u=o*i,d=0;d!==i;++d)n[u+d]=n[a+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Za.prototype.ValueTypeName="";Za.prototype.TimeBufferType=Float32Array;Za.prototype.ValueBufferType=Float32Array;Za.prototype.DefaultInterpolation=px;class Ef extends Za{constructor(e,n,i){super(e,n,i)}}Ef.prototype.ValueTypeName="bool";Ef.prototype.ValueBufferType=Array;Ef.prototype.DefaultInterpolation=x0;Ef.prototype.InterpolantFactoryMethodLinear=void 0;Ef.prototype.InterpolantFactoryMethodSmooth=void 0;class eC extends Za{constructor(e,n,i,r){super(e,n,i,r)}}eC.prototype.ValueTypeName="color";class P0 extends Za{constructor(e,n,i,r){super(e,n,i,r)}}P0.prototype.ValueTypeName="number";class Bk extends ny{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(i-n)/(r-n);let d=e*a;for(let f=d+a;d!==f;d+=4)Yo.slerpFlat(s,0,o,d-a,o,d,u);return s}}class iy extends Za{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new Bk(this.times,this.values,this.getValueSize(),e)}}iy.prototype.ValueTypeName="quaternion";iy.prototype.InterpolantFactoryMethodSmooth=void 0;class Tf extends Za{constructor(e,n,i){super(e,n,i)}}Tf.prototype.ValueTypeName="string";Tf.prototype.ValueBufferType=Array;Tf.prototype.DefaultInterpolation=x0;Tf.prototype.InterpolantFactoryMethodLinear=void 0;Tf.prototype.InterpolantFactoryMethodSmooth=void 0;class R0 extends Za{constructor(e,n,i,r){super(e,n,i,r)}}R0.prototype.ValueTypeName="vector";class I0{constructor(e="",n=-1,i=[],r=i1){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Ta(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(mG(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(Za.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let u=[],d=[];u.push((a+s-1)%s,a,(a+1)%s),d.push(0,1,0);const f=kk(u);u=nS(u,1,f),d=nS(d,1,f),!r&&u[0]===0&&(u.push(s),d.push(d[0])),o.push(new P0(".morphTargetInfluences["+n[a].name+"]",u,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const d=e[a],f=d.name.match(s);if(f&&f.length>1){const p=f[1];let y=r[p];y||(r[p]=y=[]),y.push(d)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,y,v,T,S){if(v.length!==0){const b=[],E=[];Qw(v,b,E,T),b.length!==0&&S.push(new p(y,b,E))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const d=e.hierarchy||[];for(let p=0;p<d.length;p++){const y=d[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let T;for(T=0;T<y.length;T++)if(y[T].morphTargets)for(let S=0;S<y[T].morphTargets.length;S++)v[y[T].morphTargets[S]]=-1;for(const S in v){const b=[],E=[];for(let R=0;R!==y[T].morphTargets.length;++R){const P=y[T];b.push(P.time),E.push(P.morphTarget===S?1:0)}r.push(new P0(".morphTargetInfluence["+S+"]",b,E))}u=v.length*o}else{const v=".bones["+n[p].name+"]";i(R0,v+".position",y,"pos",r),i(iy,v+".quaternion",y,"rot",r),i(R0,v+".scale",y,"scl",r)}}return r.length===0?null:new this(s,u,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pG(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return P0;case"vector":case"vector2":case"vector3":case"vector4":return R0;case"color":return eC;case"quaternion":return iy;case"bool":case"boolean":return Ef;case"string":return Tf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mG(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pG(t.type);if(t.times===void 0){const n=[],i=[];Qw(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const vu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class tC{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,u;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,p){return d.push(f,p),this},this.removeHandler=function(f){const p=d.indexOf(f);return p!==-1&&d.splice(p,2),this},this.getHandler=function(f){for(let p=0,y=d.length;p<y;p+=2){const v=d[p],T=d[p+1];if(v.global&&(v.lastIndex=0),v.test(f))return T}return null}}}const Uk=new tC;class qo{constructor(e){this.manager=e!==void 0?e:Uk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}qo.DEFAULT_MATERIAL_NAME="__DEFAULT";const yc={};class gG extends Error{constructor(e,n){super(e),this.response=n}}class Ic extends qo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=vu.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(yc[e]!==void 0){yc[e].push({onLoad:n,onProgress:i,onError:r});return}yc[e]=[],yc[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const f=yc[e],p=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),v=y?parseInt(y):0,T=v!==0;let S=0;const b=new ReadableStream({start(E){R();function R(){p.read().then(({done:P,value:D})=>{if(P)E.close();else{S+=D.byteLength;const G=new ProgressEvent("progress",{lengthComputable:T,loaded:S,total:v});for(let V=0,K=f.length;V<K;V++){const H=f[V];H.onProgress&&H.onProgress(G)}E.enqueue(D),R()}},P=>{E.error(P)})}}});return new Response(b)}else throw new gG(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return d.json();default:if(a==="")return d.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),y=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(y);return d.arrayBuffer().then(T=>v.decode(T))}}}).then(d=>{vu.add(`file:${e}`,d);const f=yc[e];delete yc[e];for(let p=0,y=f.length;p<y;p++){const v=f[p];v.onLoad&&v.onLoad(d)}}).catch(d=>{const f=yc[e];if(f===void 0)throw this.manager.itemError(e),d;delete yc[e];for(let p=0,y=f.length;p<y;p++){const v=f[p];v.onError&&v.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yG extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ic(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=I0.parse(e[i]);n.push(r)}return n}}class vG extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new d1,u=new Ic(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let d=0;function f(p){u.load(e[p],function(y){const v=s.parse(y,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},d+=1,d===6&&(v.mipmapCount===1&&(a.minFilter=Nr),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)f(p);else u.load(e,function(p){const y=s.parse(p,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let T=0;T<v;T++){o[T]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)o[T].mipmaps.push(y.mipmaps[T*y.mipmapCount+S]),o[T].format=y.format,o[T].width=y.width,o[T].height=y.height}a.image=o}else a.image.width=y.width,a.image.height=y.height,a.mipmaps=y.mipmaps;y.mipmapCount===1&&(a.minFilter=Nr),a.format=y.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}const yp=new WeakMap;class L0 extends qo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vu.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let p=yp.get(o);p===void 0&&(p=[],yp.set(o,p)),p.push({onLoad:n,onError:r})}return o}const a=w0("img");function u(){f(),n&&n(this);const p=yp.get(this)||[];for(let y=0;y<p.length;y++){const v=p[y];v.onLoad&&v.onLoad(this)}yp.delete(this),s.manager.itemEnd(e)}function d(p){f(),r&&r(p),vu.remove(`image:${e}`);const y=yp.get(this)||[];for(let v=0;v<y.length;v++){const T=y[v];T.onError&&T.onError(p)}yp.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",u,!1),a.removeEventListener("error",d,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),vu.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class _G extends qo{constructor(e){super(e)}load(e,n,i,r){const s=new $0;s.colorSpace=Vo;const o=new L0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(d){o.load(e[d],function(f){s.images[d]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let d=0;d<e.length;++d)u(d);return s}}class xG extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Eu,a=new Ic(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){let d;try{d=s.parse(u)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:ja,o.wrapT=d.wrapT!==void 0?d.wrapT:ja,o.magFilter=d.magFilter!==void 0?d.magFilter:Nr,o.minFilter=d.minFilter!==void 0?d.minFilter:Nr,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=yu),d.mipmapCount===1&&(o.minFilter=Nr),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,n&&n(o,d)},i,r),o}}class zk extends qo{constructor(e){super(e)}load(e,n,i,r){const s=new rr,o=new L0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class $d extends si{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Kt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Hk extends $d{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(si.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Kt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const _T=new vn,Z2=new me,K2=new me;class nC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.mapType=Ya,this.map=null,this.mapPass=null,this.matrix=new vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ym,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Z2.setFromMatrixPosition(e.matrixWorld),n.position.copy(Z2),K2.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(K2),n.updateMatrixWorld(),_T.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_T),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(_T)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class EG extends nC{constructor(){super(new us(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Qp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Vk extends $d{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(si.DEFAULT_UP),this.updateMatrix(),this.target=new si,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new EG}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $2=new vn,_g=new me,xT=new me;class TG extends nC{constructor(){super(new us(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ft(4,2),this._viewportCount=6,this._viewports=[new ri(2,1,1,1),new ri(0,1,1,1),new ri(3,1,1,1),new ri(1,1,1,1),new ri(3,0,1,1),new ri(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),_g.setFromMatrixPosition(e.matrixWorld),i.position.copy(_g),xT.copy(i.position),xT.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(xT),i.updateMatrixWorld(),r.makeTranslation(-_g.x,-_g.y,-_g.z),$2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix($2)}}class jk extends $d{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new TG}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ry extends K0{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,u=r-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,o=s+d*this.view.width,a-=f*this.view.offsetY,u=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class bG extends nC{constructor(){super(new ry(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Wk extends $d{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(si.DEFAULT_UP),this.updateMatrix(),this.target=new si,this.shadow=new bG}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Gk extends $d{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Yk extends $d{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Xk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class qk extends $d{constructor(e=new Xk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class w1 extends qo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new Ic(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Kt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Kt().setHex(o.value);break;case"v2":r.uniforms[s].value=new ft().fromArray(o.value);break;case"v3":r.uniforms[s].value=new me().fromArray(o.value);break;case"v4":r.uniforms[s].value=new ri().fromArray(o.value);break;case"m3":r.uniforms[s].value=new On().fromArray(o.value);break;case"m4":r.uniforms[s].value=new vn().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ft().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return w1.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:wk,SpriteMaterial:Uw,RawShaderMaterial:Ck,ShaderMaterial:Xa,PointsMaterial:Hw,MeshPhysicalMaterial:Ak,MeshStandardMaterial:Zw,MeshPhongMaterial:Mk,MeshToonMaterial:Pk,MeshNormalMaterial:Rk,MeshLambertMaterial:Ik,MeshDepthMaterial:Kw,MeshDistanceMaterial:$w,MeshBasicMaterial:Zd,MeshMatcapMaterial:Lk,LineDashedMaterial:Nk,LineBasicMaterial:Eo,Material:Ls};return new n[e]}}class iS{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Zk extends Dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Kk extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ic(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(v,T){if(n[T]!==void 0)return n[T];const b=v.interleavedBuffers[T],E=s(v,b.buffer),R=Cp(b.type,E),P=new l1(R,b.stride);return P.uuid=b.uuid,n[T]=P,P}function s(v,T){if(i[T]!==void 0)return i[T];const b=v.arrayBuffers[T],E=new Uint32Array(b).buffer;return i[T]=E,E}const o=e.isInstancedBufferGeometry?new Zk:new Dn,a=e.data.index;if(a!==void 0){const v=Cp(a.type,a.array);o.setIndex(new Ti(v,1))}const u=e.data.attributes;for(const v in u){const T=u[v];let S;if(T.isInterleavedBufferAttribute){const b=r(e.data,T.data);S=new gf(b,T.itemSize,T.offset,T.normalized)}else{const b=Cp(T.type,T.array),E=T.isInstancedBufferAttribute?em:Ti;S=new E(b,T.itemSize,T.normalized)}T.name!==void 0&&(S.name=T.name),T.usage!==void 0&&S.setUsage(T.usage),o.setAttribute(v,S)}const d=e.data.morphAttributes;if(d)for(const v in d){const T=d[v],S=[];for(let b=0,E=T.length;b<E;b++){const R=T[b];let P;if(R.isInterleavedBufferAttribute){const D=r(e.data,R.data);P=new gf(D,R.itemSize,R.offset,R.normalized)}else{const D=Cp(R.type,R.array);P=new Ti(D,R.itemSize,R.normalized)}R.name!==void 0&&(P.name=R.name),S.push(P)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,T=p.length;v!==T;++v){const S=p[v];o.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Is().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class SG extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?iS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ic(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let d=null;try{d=JSON.parse(u)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const f=d.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?iS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ic(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(d)}),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),d=this.parseObject(e.object,s,u,a,i),f=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,f),this.bindLightTargets(d),n!==void 0){let p=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(d)}return d}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,a,o,n),d=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new of().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new u1().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new Kk;for(let s=0,o=e.length;s<o;s++){let a;const u=e[s];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(u);break;default:u.type in q2?a=q2[u.type].fromJSON(u,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),u.userData!==void 0&&(a.userData=u.userData),i[u.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new w1;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=s.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=I0.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(u){return i.manager.itemStart(u),s.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const d=u,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(f)}else return u.data?{data:Cp(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new tC(n);s=new L0(u),s.setCrossOrigin(this.crossOrigin);for(let d=0,f=e.length;d<f;d++){const p=e[d],y=p.url;if(Array.isArray(y)){const v=[];for(let T=0,S=y.length;T<S;T++){const b=y[T],E=a(b);E!==null&&(E instanceof HTMLImageElement?v.push(E):v.push(new Eu(E.data,E.width,E.height)))}r[p.uuid]=new Bd(v)}else{const v=a(p.url);r[p.uuid]=new Bd(v)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(u)}else return o.data?{data:Cp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new L0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const u=e[o],d=u.url;if(Array.isArray(d)){const f=[];for(let p=0,y=d.length;p<y;p++){const v=d[p],T=await s(v);T!==null&&(T instanceof HTMLImageElement?f.push(T):f.push(new Eu(T.data,T.width,T.height)))}i[u.uuid]=new Bd(f)}else{const f=await s(u.url);i[u.uuid]=new Bd(f)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=n[a.image],d=u.data;let f;Array.isArray(d)?(f=new $0,d.length===6&&(f.needsUpdate=!0)):(d&&d.data?f=new Eu:f=new rr,d&&(f.needsUpdate=!0)),f.source=u,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,wG)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],Q2),f.wrapT=i(a.wrap[1],Q2)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,J2)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,J2)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,n,i,r,s){let o;function a(y){return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),n[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let T=0,S=y.length;T<S;T++){const b=y[T];i[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),v.push(i[b])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function d(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let f,p;switch(e.type){case"Scene":o=new mx,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Kt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new a1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new o1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new us(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ry(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Gk(e.color,e.intensity);break;case"DirectionalLight":o=new Wk(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new jk(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Yk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Vk(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Hk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new qk().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),p=u(e.material),o=new lk(f,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),p=u(e.material),o=new Or(f,p);break;case"InstancedMesh":f=a(e.geometry),p=u(e.material);const y=e.count,v=e.instanceMatrix,T=e.instanceColor;o=new uk(f,p,y),o.instanceMatrix=new em(new Float32Array(v.array),16),T!==void 0&&(o.instanceColor=new em(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":f=a(e.geometry),p=u(e.material),o=new ck(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(S=>{let b=null,E=null;return S.boundingBox!==void 0&&(b=new qs().fromJSON(S.boundingBox)),S.boundingSphere!==void 0&&(E=new Is().fromJSON(S.boundingSphere)),{...S,boundingBox:b,boundingSphere:E}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Is().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new qs().fromJSON(e.boundingBox));break;case"LOD":o=new ak;break;case"Line":o=new Wd(a(e.geometry),u(e.material));break;case"LineLoop":o=new dk(a(e.geometry),u(e.material));break;case"LineSegments":o=new Iu(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new hk(a(e.geometry),u(e.material));break;case"Sprite":o=new ok(u(e.material));break;case"Group":o=new Ap;break;case"Bone":o=new zw;break;default:o=new si}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)o.add(this.parseObject(y[v],n,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const T=y[v];o.animations.push(s[T])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const T=y[v],S=o.getObjectByProperty("uuid",T.object);S!==void 0&&o.addLevel(S,T.distance,T.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new si}})}}const wG={UVMapping:Kx,CubeReflectionMapping:Pc,CubeRefractionMapping:jd,EquirectangularReflectionMapping:g0,EquirectangularRefractionMapping:y0,CubeUVReflectionMapping:pm},Q2={RepeatWrapping:v0,ClampToEdgeWrapping:ja,MirroredRepeatWrapping:_0},J2={NearestFilter:Rs,NearestMipmapNearestFilter:ww,NearestMipmapLinearFilter:wp,LinearFilter:Nr,LinearMipmapNearestFilter:Ug,LinearMipmapLinearFilter:yu},ET=new WeakMap;class CG extends qo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=vu.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(d=>{if(ET.has(o)===!0)r&&r(ET.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(d),s.manager.itemEnd(e),d});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const u=fetch(e,a).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(d){return vu.add(`image-bitmap:${e}`,d),n&&n(d),s.manager.itemEnd(e),d}).catch(function(d){r&&r(d),ET.set(u,d),vu.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});vu.add(`image-bitmap:${e}`,u),s.manager.itemStart(e)}}let Uv;class iC{static getContext(){return Uv===void 0&&(Uv=new(window.AudioContext||window.webkitAudioContext)),Uv}static setContext(e){Uv=e}}class AG extends qo{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Ic(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const d=u.slice(0);iC.getContext().decodeAudioData(d,function(p){n(p)}).catch(a)}catch(d){a(d)}},i,r);function a(u){r?r(u):console.error(u),s.manager.itemError(e)}}}const eP=new vn,tP=new vn,Dh=new vn;class MG{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new us,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new us,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Dh.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(rf*n.fov*.5)/n.zoom;let a,u;tP.elements[12]=-r,eP.elements[12]=r,a=-o*n.aspect+s,u=o*n.aspect+s,Dh.elements[0]=2*n.near/(u-a),Dh.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy(Dh),a=-o*n.aspect-s,u=o*n.aspect-s,Dh.elements[0]=2*n.near/(u-a),Dh.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy(Dh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(tP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(eP)}}class $k extends us{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class rC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Fh=new me,TT=new Yo,PG=new me,Bh=new me,Uh=new me;class RG extends si{constructor(){super(),this.type="AudioListener",this.context=iC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new rC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fh,TT,PG),Bh.set(0,0,-1).applyQuaternion(TT),Uh.set(0,1,0).applyQuaternion(TT),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Fh.x,i),n.positionY.linearRampToValueAtTime(Fh.y,i),n.positionZ.linearRampToValueAtTime(Fh.z,i),n.forwardX.linearRampToValueAtTime(Bh.x,i),n.forwardY.linearRampToValueAtTime(Bh.y,i),n.forwardZ.linearRampToValueAtTime(Bh.z,i),n.upX.linearRampToValueAtTime(Uh.x,i),n.upY.linearRampToValueAtTime(Uh.y,i),n.upZ.linearRampToValueAtTime(Uh.z,i)}else n.setPosition(Fh.x,Fh.y,Fh.z),n.setOrientation(Bh.x,Bh.y,Bh.z,Uh.x,Uh.y,Uh.z)}}class Qk extends si{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const zh=new me,nP=new Yo,IG=new me,Hh=new me;class LG extends Qk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(zh,nP,IG),Hh.set(0,0,1).applyQuaternion(nP);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(zh.x,i),n.positionY.linearRampToValueAtTime(zh.y,i),n.positionZ.linearRampToValueAtTime(zh.z,i),n.orientationX.linearRampToValueAtTime(Hh.x,i),n.orientationY.linearRampToValueAtTime(Hh.y,i),n.orientationZ.linearRampToValueAtTime(Hh.z,i)}else n.setPosition(zh.x,zh.y,zh.z),n.setOrientation(Hh.x,Hh.y,Hh.z)}}class NG{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class Jk{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=n*this._origIndex;this._mixBufferRegion(i,r,u,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let u=n,d=n+n;u!==d;++u)if(i[u]!==i[u+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){Yo.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;Yo.multiplyQuaternionsFlat(e,o,e,n,e,i),Yo.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const u=n+a;e[u]=e[u]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const sC="\\[\\]\\.:\\/",OG=new RegExp("["+sC+"]","g"),oC="[^"+sC+"]",kG="[^"+sC.replace("\\.","")+"]",DG=/((?:WC+[\/:])*)/.source.replace("WC",oC),FG=/(WCOD+)?/.source.replace("WCOD",kG),BG=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oC),UG=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oC),zG=new RegExp("^"+DG+FG+BG+UG+"$"),HG=["material","materials","bones","map"];class VG{constructor(e,n,i){const r=i||ii.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class ii{constructor(e,n,i){this.path=n,this.parsedPath=i||ii.parseTrackName(n),this.node=ii.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new ii.Composite(e,n,i):new ii(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(OG,"")}static parseTrackName(e){const n=zG.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);HG.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const u=i(a.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=ii.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===d){d=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[r];if(o===void 0){const d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ii.Composite=VG;ii.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ii.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ii.prototype.GetterByBindingType=[ii.prototype._getValue_direct,ii.prototype._getValue_array,ii.prototype._getValue_arrayElement,ii.prototype._getValue_toArray];ii.prototype.SetterByBindingTypeAndVersioning=[[ii.prototype._setValue_direct,ii.prototype._setValue_direct_setNeedsUpdate,ii.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_array,ii.prototype._setValue_array_setNeedsUpdate,ii.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_arrayElement,ii.prototype._setValue_arrayElement_setNeedsUpdate,ii.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ii.prototype._setValue_fromArray,ii.prototype._setValue_fromArray_setNeedsUpdate,ii.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jG{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ta(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,u=e.length,d=this.nCachedObjects_;for(let f=0,p=arguments.length;f!==p;++f){const y=arguments[f],v=y.uuid;let T=n[v];if(T===void 0){T=u++,n[v]=T,e.push(y);for(let S=0,b=o;S!==b;++S)s[S].push(new ii(y,i[S],r[S]))}else if(T<d){a=e[T];const S=--d,b=e[S];n[b.uuid]=T,e[T]=b,n[v]=S,e[S]=y;for(let E=0,R=o;E!==R;++E){const P=s[E],D=P[S];let G=P[T];P[T]=D,G===void 0&&(G=new ii(y,i[E],r[E])),P[S]=G}}else e[T]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const u=arguments[o],d=u.uuid,f=n[d];if(f!==void 0&&f>=s){const p=s++,y=e[p];n[y.uuid]=f,e[f]=y,n[d]=p,e[p]=u;for(let v=0,T=r;v!==T;++v){const S=i[v],b=S[p],E=S[f];S[f]=b,S[p]=E}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,u=arguments.length;a!==u;++a){const d=arguments[a],f=d.uuid,p=n[f];if(p!==void 0)if(delete n[f],p<s){const y=--s,v=e[y],T=--o,S=e[T];n[v.uuid]=p,e[p]=v,n[S.uuid]=y,e[y]=S,e.pop();for(let b=0,E=r;b!==E;++b){const R=i[b],P=R[y],D=R[T];R[p]=P,R[y]=D,R.pop()}}else{const y=--o,v=e[y];y>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let T=0,S=r;T!==S;++T){const b=i[T];b[p]=b[y],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,u=this._objects,d=u.length,f=this.nCachedObjects_,p=new Array(d);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(p);for(let y=f,v=u.length;y!==v;++y){const T=u[y];p[y]=new ii(T,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,u=o[a],d=e[a];n[d]=i,o[i]=u,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class eD{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),u={endingStart:Zh,endingEnd:Zh};for(let d=0;d!==o;++d){const f=s[d].createInterpolant(null);a[d]=f,f.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,d=a.sampleValues;return u[0]=s,u[1]=s+i,d[0]=e/o,d[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*i;u<0||i===0?n=0:(this._startTime=null,n=i*u)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Nw:for(let f=0,p=u.length;f!==p;++f)u[f].evaluate(o),d[f].accumulateAdditive(a);break;case i1:default:for(let f=0,p=u.length;f!==p;++f)u[f].evaluate(o),d[f].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===zO;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===BO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Kh,r.endingEnd=Kh):(e?r.endingStart=this.zeroSlopeAtStart?Kh:Zh:r.endingStart=E0,n?r.endingEnd=this.zeroSlopeAtEnd?Kh:Zh:r.endingEnd=E0)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=n,a[1]=s+e,u[1]=i,this}}const WG=new Float32Array(1);class GG extends Ru{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,u=i.uuid,d=this._bindingsByRootAndName;let f=d[u];f===void 0&&(f={},d[u]=f);for(let p=0;p!==s;++p){const y=r[p],v=y.name;let T=f[v];if(T!==void 0)++T.referenceCount,o[p]=T;else{if(T=o[p],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,u,v));continue}const S=n&&n._propertyBindings[p].binding.parsedPath;T=new Jk(ii.create(i,v,S),y.ValueTypeName,y.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,u,v),o[p]=T}a[p].resultBuffer=T.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,d=u[u.length-1],f=e._byClipCacheIndex;d._byClipCacheIndex=f,u[f]=d,u.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],u=n[n.length-1],d=e._cacheIndex;u._cacheIndex=d,n[d]=u,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new Jw(new Float32Array(2),new Float32Array(2),1,WG),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?I0.findByName(r,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=i1),u!==void 0){const p=u.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;d=u.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const f=new eD(this,o,n,i);return this._bindAction(f,d),this._addInactiveAction(f,a,s),f}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?I0.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)n[d]._update(r,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)a[d].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const d=o[a];this._deactivateAction(d);const f=d._cacheIndex,p=n[n.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,p._cacheIndex=f,n[f]=p,n.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,u=a[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class YG extends Dw{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new s1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class aC{constructor(e){this.value=e}clone(){return new aC(this.value.clone===void 0?this.value:this.value.clone())}}let XG=0;class qG extends Ru{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:XG++}),this.name="",this.usage=b0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class ZG extends l1{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class KG{constructor(e,n,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const iP=new vn;class tD{constructor(e,n,i=0,r=1/0){this.ray=new gm(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new sf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return iP.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(iP),this}intersectObject(e,n=!0,i=[]){return rS(e,this,i,n),i.sort(rP),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)rS(e[r],this,i,n);return i.sort(rP),i}}function rP(t,e){return t.distance-e.distance}function rS(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)rS(s[o],e,n,!0)}}class $G{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=In(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(In(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class QG{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class lC{constructor(e,n,i,r){lC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const sP=new ft;class JG{constructor(e=new ft(1/0,1/0),n=new ft(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=sP.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const oP=new me,zv=new me;class eY{constructor(e=new me,n=new me){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){oP.subVectors(e,this.start),zv.subVectors(this.end,this.start);const i=zv.dot(zv);let s=zv.dot(oP)/i;return n&&(s=In(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const aP=new me;class tY extends si{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Dn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const d=o/u*Math.PI*2,f=a/u*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new rn(r,3));const s=new Eo({fog:!1,toneMapped:!1});this.cone=new Iu(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),aP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wd=new me,Hv=new vn,bT=new vn;class nY extends Iu{constructor(e){const n=nD(e),i=new Dn,r=[],s=[],o=new Kt(0,0,1),a=new Kt(0,1,0);for(let d=0;d<n.length;d++){const f=n[d];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new rn(r,3)),i.setAttribute("color",new rn(s,3));const u=new Eo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");bT.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Hv.multiplyMatrices(bT,a.matrixWorld),wd.setFromMatrixPosition(Hv),r.setXYZ(o,wd.x,wd.y,wd.z),Hv.multiplyMatrices(bT,a.parent.matrixWorld),wd.setFromMatrixPosition(Hv),r.setXYZ(o+1,wd.x,wd.y,wd.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function nD(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...nD(t.children[n]));return e}class iY extends Or{constructor(e,n,i){const r=new ty(n,4,2),s=new Zd({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rY=new me,lP=new Kt,uP=new Kt;class sY extends si{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new ey(n);r.rotateY(Math.PI*.5),this.material=new Zd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ti(o,3)),this.add(new Or(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");lP.copy(this.light.color),uP.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?lP:uP;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(rY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class oY extends Iu{constructor(e=10,n=10,i=4473924,r=8947848){i=new Kt(i),r=new Kt(r);const s=n/2,o=e/n,a=e/2,u=[],d=[];for(let y=0,v=0,T=-a;y<=n;y++,T+=o){u.push(-a,0,T,a,0,T),u.push(T,0,-a,T,0,a);const S=y===s?i:r;S.toArray(d,v),v+=3,S.toArray(d,v),v+=3,S.toArray(d,v),v+=3,S.toArray(d,v),v+=3}const f=new Dn;f.setAttribute("position",new rn(u,3)),f.setAttribute("color",new rn(d,3));const p=new Eo({vertexColors:!0,toneMapped:!1});super(f,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class aY extends Iu{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Kt(s),o=new Kt(o);const a=[],u=[];if(n>1)for(let p=0;p<n;p++){const y=p/n*(Math.PI*2),v=Math.sin(y)*e,T=Math.cos(y)*e;a.push(0,0,0),a.push(v,0,T);const S=p&1?s:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let p=0;p<i;p++){const y=p&1?s:o,v=e-e/i*p;for(let T=0;T<r;T++){let S=T/r*(Math.PI*2),b=Math.sin(S)*v,E=Math.cos(S)*v;a.push(b,0,E),u.push(y.r,y.g,y.b),S=(T+1)/r*(Math.PI*2),b=Math.sin(S)*v,E=Math.cos(S)*v,a.push(b,0,E),u.push(y.r,y.g,y.b)}}const d=new Dn;d.setAttribute("position",new rn(a,3)),d.setAttribute("color",new rn(u,3));const f=new Eo({vertexColors:!0,toneMapped:!1});super(d,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const cP=new me,Vv=new me,dP=new me;class lY extends si{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new Dn;r.setAttribute("position",new rn([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Eo({fog:!1,toneMapped:!1});this.lightPlane=new Wd(r,s),this.add(this.lightPlane),r=new Dn,r.setAttribute("position",new rn([0,0,0,0,0,1],3)),this.targetLine=new Wd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),cP.setFromMatrixPosition(this.light.matrixWorld),Vv.setFromMatrixPosition(this.light.target.matrixWorld),dP.subVectors(Vv,cP),this.lightPlane.lookAt(Vv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vv),this.targetLine.scale.z=dP.length()}}const jv=new me,dr=new K0;class uY extends Iu{constructor(e){const n=new Dn,i=new Eo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(T,S){u(T),u(S)}function u(T){r.push(0,0,0),s.push(0,0,0),o[T]===void 0&&(o[T]=[]),o[T].push(r.length/3-1)}n.setAttribute("position",new rn(r,3)),n.setAttribute("color",new rn(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new Kt(16755200),f=new Kt(16711680),p=new Kt(43775),y=new Kt(16777215),v=new Kt(3355443);this.setColors(d,f,p,y,v)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;dr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Wa?-1:0;xr("c",n,e,dr,0,0,s),xr("t",n,e,dr,0,0,1),xr("n1",n,e,dr,-i,-r,s),xr("n2",n,e,dr,i,-r,s),xr("n3",n,e,dr,-i,r,s),xr("n4",n,e,dr,i,r,s),xr("f1",n,e,dr,-i,-r,1),xr("f2",n,e,dr,i,-r,1),xr("f3",n,e,dr,-i,r,1),xr("f4",n,e,dr,i,r,1),xr("u1",n,e,dr,i*.7,r*1.1,s),xr("u2",n,e,dr,-i*.7,r*1.1,s),xr("u3",n,e,dr,0,r*2,s),xr("cf1",n,e,dr,-i,0,1),xr("cf2",n,e,dr,i,0,1),xr("cf3",n,e,dr,0,-r,1),xr("cf4",n,e,dr,0,r,1),xr("cn1",n,e,dr,-i,0,s),xr("cn2",n,e,dr,i,0,s),xr("cn3",n,e,dr,0,-r,s),xr("cn4",n,e,dr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xr(t,e,n,i,r,s,o){jv.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const u=n.getAttribute("position");for(let d=0,f=a.length;d<f;d++)u.setXYZ(a[d],jv.x,jv.y,jv.z)}}const Wv=new qs;class cY extends Iu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Dn;s.setIndex(new Ti(i,1)),s.setAttribute("position",new Ti(r,3)),super(s,new Eo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Wv.setFromObject(this.object),Wv.isEmpty())return;const e=Wv.min,n=Wv.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dY extends Iu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Dn;s.setIndex(new Ti(i,1)),s.setAttribute("position",new rn(r,3)),super(s,new Eo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hY extends Wd{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Dn;o.setAttribute("position",new rn(s,3)),o.computeBoundingSphere(),super(o,new Eo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Dn;u.setAttribute("position",new rn(a,3)),u.computeBoundingSphere(),this.add(new Or(u,new Zd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hP=new me;let Gv,ST;class fY extends si{constructor(e=new me(0,0,1),n=new me(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Gv===void 0&&(Gv=new Dn,Gv.setAttribute("position",new rn([0,0,0,0,1,0],3)),ST=new J0(.5,1,5,1),ST.translate(0,-.5,0)),this.position.copy(n),this.line=new Wd(Gv,new Eo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Or(ST,new Zd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hP.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hP,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class pY extends Iu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Dn;r.setAttribute("position",new rn(n,3)),r.setAttribute("color",new rn(i,3));const s=new Eo({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Kt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mY{constructor(){this.type="ShapePath",this.color=new Kt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new _x,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(E){const R=[];for(let P=0,D=E.length;P<D;P++){const G=E[P],V=new of;V.curves=G.curves,R.push(V)}return R}function i(E,R){const P=R.length;let D=!1;for(let G=P-1,V=0;V<P;G=V++){let K=R[G],H=R[V],z=H.x-K.x,k=H.y-K.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(K=R[V],z=-z,H=R[G],k=-k),E.y<K.y||E.y>H.y)continue;if(E.y===K.y){if(E.x===K.x)return!0}else{const Z=k*(E.x-K.x)-z*(E.y-K.y);if(Z===0)return!0;if(Z<0)continue;D=!D}}else{if(E.y!==K.y)continue;if(H.x<=E.x&&E.x<=K.x||K.x<=E.x&&E.x<=H.x)return!0}}return D}const r=Bl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,u;const d=[];if(s.length===1)return a=s[0],u=new of,u.curves=a.curves,d.push(u),d;let f=!r(s[0].getPoints());f=e?!f:f;const p=[],y=[];let v=[],T=0,S;y[T]=void 0,v[T]=[];for(let E=0,R=s.length;E<R;E++)a=s[E],S=a.getPoints(),o=r(S),o=e?!o:o,o?(!f&&y[T]&&T++,y[T]={s:new of,p:S},y[T].s.curves=a.curves,f&&T++,v[T]=[]):v[T].push({h:a,p:S[0]});if(!y[0])return n(s);if(y.length>1){let E=!1,R=0;for(let P=0,D=y.length;P<D;P++)p[P]=[];for(let P=0,D=y.length;P<D;P++){const G=v[P];for(let V=0;V<G.length;V++){const K=G[V];let H=!0;for(let z=0;z<y.length;z++)i(K.p,y[z].p)&&(P!==z&&R++,H?(H=!1,p[z].push(K)):E=!0);H&&p[P].push(K)}}R>0&&E===!1&&(v=p)}let b;for(let E=0,R=y.length;E<R;E++){u=y[E].s,d.push(u),b=v[E];for(let P=0,D=b.length;P<D;P++)u.holes.push(b[P].h)}return d}}class gY extends Ru{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function yY(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function vY(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function _Y(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function sS(t,e,n,i){const r=xY(i);switch(n){case Pw:return t*e;case e1:return t*e/r.components*r.byteLength;case Z0:return t*e/r.components*r.byteLength;case Iw:return t*e*2/r.components*r.byteLength;case t1:return t*e*2/r.components*r.byteLength;case Rw:return t*e*3/r.components*r.byteLength;case Ys:return t*e*4/r.components*r.byteLength;case n1:return t*e*4/r.components*r.byteLength;case zg:case Hg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Vg:case jg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case j_:case G_:return Math.max(t,16)*Math.max(e,8)/4;case V_:case W_:return Math.max(t,8)*Math.max(e,8)/2;case Y_:case X_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case q_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Z_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case K_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case $_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Q_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case J_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case ex:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case tx:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case nx:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case ix:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case rx:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case sx:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case ox:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case ax:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case lx:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Wg:case ux:case cx:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Lw:case dx:return Math.ceil(t/4)*Math.ceil(e/4)*8;case hx:case fx:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function xY(t){switch(t){case Ya:case Cw:return{byteLength:1,components:1};case qp:case Aw:case mm:return{byteLength:2,components:1};case Qx:case Jx:return{byteLength:2,components:4};case Rc:case $x:case Wo:return{byteLength:4,components:1};case Mw:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class EY{static contain(e,n){return yY(e,n)}static cover(e,n){return vY(e,n)}static fill(e){return _Y(e)}static getByteLength(e,n,i,r){return sS(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function iD(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function TY(t){const e=new WeakMap;function n(a,u){const d=a.array,f=a.usage,p=d.byteLength,y=t.createBuffer();t.bindBuffer(u,y),t.bufferData(u,d,f),a.onUploadCallback();let v;if(d instanceof Float32Array)v=t.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)v=t.HALF_FLOAT;else if(d instanceof Uint16Array)a.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=t.SHORT;else if(d instanceof Uint32Array)v=t.UNSIGNED_INT;else if(d instanceof Int32Array)v=t.INT;else if(d instanceof Int8Array)v=t.BYTE;else if(d instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:a.version,size:p}}function i(a,u,d){const f=u.array,p=u.updateRanges;if(t.bindBuffer(d,a),p.length===0)t.bufferSubData(d,0,f);else{p.sort((v,T)=>v.start-T.start);let y=0;for(let v=1;v<p.length;v++){const T=p[y],S=p[v];S.start<=T.start+T.count+1?T.count=Math.max(T.count,S.start+S.count-T.start):(++y,p[y]=S)}p.length=y+1;for(let v=0,T=p.length;v<T;v++){const S=p[v];t.bufferSubData(d,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const u=e.get(a);u&&(t.deleteBuffer(u.buffer),e.delete(a))}function o(a,u){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const d=e.get(a);if(d===void 0)e.set(a,n(a,u));else if(d.version<a.version){if(d.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,a,u),d.version=a.version}}return{get:r,remove:s,update:o}}var bY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,SY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,wY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,CY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,AY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,MY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,PY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,RY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,LY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,NY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,OY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,DY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,FY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,UY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,VY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,GY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,YY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,XY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$Y=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JY="gl_FragColor = linearToOutputTexel( gl_FragColor );",eX=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,tX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,iX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,rX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,oX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,uX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,cX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,fX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,pX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,mX=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,gX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,vX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_X=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,xX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,EX=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,TX=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,bX=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,SX=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,wX=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CX=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,AX=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,MX=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,PX=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,RX=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,IX=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,LX=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NX=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OX=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kX=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,DX=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,FX=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,BX=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,UX=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zX=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,HX=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,VX=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jX=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WX=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,GX=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,YX=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,XX=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,qX=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ZX=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KX=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$X=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,QX=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JX=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,sq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,uq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,vq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_q=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Eq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Tq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,bq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Aq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Pq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Rq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Iq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Lq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Nq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Oq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Fq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Hq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Wq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Xq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$q=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qq=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,eZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jn={alphahash_fragment:bY,alphahash_pars_fragment:SY,alphamap_fragment:wY,alphamap_pars_fragment:CY,alphatest_fragment:AY,alphatest_pars_fragment:MY,aomap_fragment:PY,aomap_pars_fragment:RY,batching_pars_vertex:IY,batching_vertex:LY,begin_vertex:NY,beginnormal_vertex:OY,bsdfs:kY,iridescence_fragment:DY,bumpmap_pars_fragment:FY,clipping_planes_fragment:BY,clipping_planes_pars_fragment:UY,clipping_planes_pars_vertex:zY,clipping_planes_vertex:HY,color_fragment:VY,color_pars_fragment:jY,color_pars_vertex:WY,color_vertex:GY,common:YY,cube_uv_reflection_fragment:XY,defaultnormal_vertex:qY,displacementmap_pars_vertex:ZY,displacementmap_vertex:KY,emissivemap_fragment:$Y,emissivemap_pars_fragment:QY,colorspace_fragment:JY,colorspace_pars_fragment:eX,envmap_fragment:tX,envmap_common_pars_fragment:nX,envmap_pars_fragment:iX,envmap_pars_vertex:rX,envmap_physical_pars_fragment:mX,envmap_vertex:sX,fog_vertex:oX,fog_pars_vertex:aX,fog_fragment:lX,fog_pars_fragment:uX,gradientmap_pars_fragment:cX,lightmap_pars_fragment:dX,lights_lambert_fragment:hX,lights_lambert_pars_fragment:fX,lights_pars_begin:pX,lights_toon_fragment:gX,lights_toon_pars_fragment:yX,lights_phong_fragment:vX,lights_phong_pars_fragment:_X,lights_physical_fragment:xX,lights_physical_pars_fragment:EX,lights_fragment_begin:TX,lights_fragment_maps:bX,lights_fragment_end:SX,logdepthbuf_fragment:wX,logdepthbuf_pars_fragment:CX,logdepthbuf_pars_vertex:AX,logdepthbuf_vertex:MX,map_fragment:PX,map_pars_fragment:RX,map_particle_fragment:IX,map_particle_pars_fragment:LX,metalnessmap_fragment:NX,metalnessmap_pars_fragment:OX,morphinstance_vertex:kX,morphcolor_vertex:DX,morphnormal_vertex:FX,morphtarget_pars_vertex:BX,morphtarget_vertex:UX,normal_fragment_begin:zX,normal_fragment_maps:HX,normal_pars_fragment:VX,normal_pars_vertex:jX,normal_vertex:WX,normalmap_pars_fragment:GX,clearcoat_normal_fragment_begin:YX,clearcoat_normal_fragment_maps:XX,clearcoat_pars_fragment:qX,iridescence_pars_fragment:ZX,opaque_fragment:KX,packing:$X,premultiplied_alpha_fragment:QX,project_vertex:JX,dithering_fragment:eq,dithering_pars_fragment:tq,roughnessmap_fragment:nq,roughnessmap_pars_fragment:iq,shadowmap_pars_fragment:rq,shadowmap_pars_vertex:sq,shadowmap_vertex:oq,shadowmask_pars_fragment:aq,skinbase_vertex:lq,skinning_pars_vertex:uq,skinning_vertex:cq,skinnormal_vertex:dq,specularmap_fragment:hq,specularmap_pars_fragment:fq,tonemapping_fragment:pq,tonemapping_pars_fragment:mq,transmission_fragment:gq,transmission_pars_fragment:yq,uv_pars_fragment:vq,uv_pars_vertex:_q,uv_vertex:xq,worldpos_vertex:Eq,background_vert:Tq,background_frag:bq,backgroundCube_vert:Sq,backgroundCube_frag:wq,cube_vert:Cq,cube_frag:Aq,depth_vert:Mq,depth_frag:Pq,distanceRGBA_vert:Rq,distanceRGBA_frag:Iq,equirect_vert:Lq,equirect_frag:Nq,linedashed_vert:Oq,linedashed_frag:kq,meshbasic_vert:Dq,meshbasic_frag:Fq,meshlambert_vert:Bq,meshlambert_frag:Uq,meshmatcap_vert:zq,meshmatcap_frag:Hq,meshnormal_vert:Vq,meshnormal_frag:jq,meshphong_vert:Wq,meshphong_frag:Gq,meshphysical_vert:Yq,meshphysical_frag:Xq,meshtoon_vert:qq,meshtoon_frag:Zq,points_vert:Kq,points_frag:$q,shadow_vert:Qq,shadow_frag:Jq,sprite_vert:eZ,sprite_frag:tZ},Vt={common:{diffuse:{value:new Kt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new On}},envmap:{envMap:{value:null},envMapRotation:{value:new On},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new On}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new On}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new On},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new On},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new On},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new On}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new On}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new On}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0},uvTransform:{value:new On}},sprite:{diffuse:{value:new Kt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}}},Dl={basic:{uniforms:mo([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:mo([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new Kt(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:mo([Vt.common,Vt.specularmap,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,Vt.lights,{emissive:{value:new Kt(0)},specular:{value:new Kt(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:mo([Vt.common,Vt.envmap,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.roughnessmap,Vt.metalnessmap,Vt.fog,Vt.lights,{emissive:{value:new Kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},toon:{uniforms:mo([Vt.common,Vt.aomap,Vt.lightmap,Vt.emissivemap,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.gradientmap,Vt.fog,Vt.lights,{emissive:{value:new Kt(0)}}]),vertexShader:jn.meshtoon_vert,fragmentShader:jn.meshtoon_frag},matcap:{uniforms:mo([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,Vt.fog,{matcap:{value:null}}]),vertexShader:jn.meshmatcap_vert,fragmentShader:jn.meshmatcap_frag},points:{uniforms:mo([Vt.points,Vt.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:mo([Vt.common,Vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:mo([Vt.common,Vt.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:mo([Vt.common,Vt.bumpmap,Vt.normalmap,Vt.displacementmap,{opacity:{value:1}}]),vertexShader:jn.meshnormal_vert,fragmentShader:jn.meshnormal_frag},sprite:{uniforms:mo([Vt.sprite,Vt.fog]),vertexShader:jn.sprite_vert,fragmentShader:jn.sprite_frag},background:{uniforms:{uvTransform:{value:new On},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jn.background_vert,fragmentShader:jn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new On}},vertexShader:jn.backgroundCube_vert,fragmentShader:jn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:mo([Vt.common,Vt.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag},shadow:{uniforms:mo([Vt.lights,Vt.fog,{color:{value:new Kt(0)},opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}};Dl.physical={uniforms:mo([Dl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new On},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new On},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new On},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new On},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new On},sheen:{value:0},sheenColor:{value:new Kt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new On},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new On},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new On},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new On},attenuationDistance:{value:0},attenuationColor:{value:new Kt(0)},specularColor:{value:new Kt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new On},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new On},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new On}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag};const Yv={r:0,b:0,g:0},Vh=new ba,nZ=new vn;function iZ(t,e,n,i,r,s,o){const a=new Kt(0);let u=s===!0?0:1,d,f,p=null,y=0,v=null;function T(P){let D=P.isScene===!0?P.background:null;return D&&D.isTexture&&(D=(P.backgroundBlurriness>0?n:e).get(D)),D}function S(P){let D=!1;const G=T(P);G===null?E(a,u):G&&G.isColor&&(E(G,1),D=!0);const V=t.xr.getEnvironmentBlendMode();V==="additive"?i.buffers.color.setClear(0,0,0,1,o):V==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function b(P,D){const G=T(D);G&&(G.isCubeTexture||G.mapping===pm)?(f===void 0&&(f=new Or(new xf(1,1,1),new Xa({name:"BackgroundCubeMaterial",uniforms:Jp(Dl.backgroundCube.uniforms),vertexShader:Dl.backgroundCube.vertexShader,fragmentShader:Dl.backgroundCube.fragmentShader,side:_o,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(V,K,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),Vh.copy(D.backgroundRotation),Vh.x*=-1,Vh.y*=-1,Vh.z*=-1,G.isCubeTexture&&G.isRenderTargetTexture===!1&&(Vh.y*=-1,Vh.z*=-1),f.material.uniforms.envMap.value=G,f.material.uniforms.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(nZ.makeRotationFromEuler(Vh)),f.material.toneMapped=ei.getTransfer(G.colorSpace)!==gi,(p!==G||y!==G.version||v!==t.toneMapping)&&(f.material.needsUpdate=!0,p=G,y=G.version,v=t.toneMapping),f.layers.enableAll(),P.unshift(f,f.geometry,f.material,0,0,null)):G&&G.isTexture&&(d===void 0&&(d=new Or(new vm(2,2),new Xa({name:"BackgroundMaterial",uniforms:Jp(Dl.background.uniforms),vertexShader:Dl.background.vertexShader,fragmentShader:Dl.background.fragmentShader,side:Mc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=G,d.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,d.material.toneMapped=ei.getTransfer(G.colorSpace)!==gi,G.matrixAutoUpdate===!0&&G.updateMatrix(),d.material.uniforms.uvTransform.value.copy(G.matrix),(p!==G||y!==G.version||v!==t.toneMapping)&&(d.material.needsUpdate=!0,p=G,y=G.version,v=t.toneMapping),d.layers.enableAll(),P.unshift(d,d.geometry,d.material,0,0,null))}function E(P,D){P.getRGB(Yv,tk(t)),i.buffers.color.setClear(Yv.r,Yv.g,Yv.b,D,o)}function R(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return a},setClearColor:function(P,D=1){a.set(P),u=D,E(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(P){u=P,E(a,u)},render:S,addToRenderList:b,dispose:R}}function rZ(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,o=!1;function a(k,Z,$,re,ie){let ge=!1;const fe=p(re,$,Z);s!==fe&&(s=fe,d(s.object)),ge=v(k,re,$,ie),ge&&T(k,re,$,ie),ie!==null&&e.update(ie,t.ELEMENT_ARRAY_BUFFER),(ge||o)&&(o=!1,D(k,Z,$,re),ie!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ie).buffer))}function u(){return t.createVertexArray()}function d(k){return t.bindVertexArray(k)}function f(k){return t.deleteVertexArray(k)}function p(k,Z,$){const re=$.wireframe===!0;let ie=i[k.id];ie===void 0&&(ie={},i[k.id]=ie);let ge=ie[Z.id];ge===void 0&&(ge={},ie[Z.id]=ge);let fe=ge[re];return fe===void 0&&(fe=y(u()),ge[re]=fe),fe}function y(k){const Z=[],$=[],re=[];for(let ie=0;ie<n;ie++)Z[ie]=0,$[ie]=0,re[ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:$,attributeDivisors:re,object:k,attributes:{},index:null}}function v(k,Z,$,re){const ie=s.attributes,ge=Z.attributes;let fe=0;const he=$.getAttributes();for(const Y in he)if(he[Y].location>=0){const j=ie[Y];let ee=ge[Y];if(ee===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(ee=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(ee=k.instanceColor)),j===void 0||j.attribute!==ee||ee&&j.data!==ee.data)return!0;fe++}return s.attributesNum!==fe||s.index!==re}function T(k,Z,$,re){const ie={},ge=Z.attributes;let fe=0;const he=$.getAttributes();for(const Y in he)if(he[Y].location>=0){let j=ge[Y];j===void 0&&(Y==="instanceMatrix"&&k.instanceMatrix&&(j=k.instanceMatrix),Y==="instanceColor"&&k.instanceColor&&(j=k.instanceColor));const ee={};ee.attribute=j,j&&j.data&&(ee.data=j.data),ie[Y]=ee,fe++}s.attributes=ie,s.attributesNum=fe,s.index=re}function S(){const k=s.newAttributes;for(let Z=0,$=k.length;Z<$;Z++)k[Z]=0}function b(k){E(k,0)}function E(k,Z){const $=s.newAttributes,re=s.enabledAttributes,ie=s.attributeDivisors;$[k]=1,re[k]===0&&(t.enableVertexAttribArray(k),re[k]=1),ie[k]!==Z&&(t.vertexAttribDivisor(k,Z),ie[k]=Z)}function R(){const k=s.newAttributes,Z=s.enabledAttributes;for(let $=0,re=Z.length;$<re;$++)Z[$]!==k[$]&&(t.disableVertexAttribArray($),Z[$]=0)}function P(k,Z,$,re,ie,ge,fe){fe===!0?t.vertexAttribIPointer(k,Z,$,ie,ge):t.vertexAttribPointer(k,Z,$,re,ie,ge)}function D(k,Z,$,re){S();const ie=re.attributes,ge=$.getAttributes(),fe=Z.defaultAttributeValues;for(const he in ge){const Y=ge[he];if(Y.location>=0){let se=ie[he];if(se===void 0&&(he==="instanceMatrix"&&k.instanceMatrix&&(se=k.instanceMatrix),he==="instanceColor"&&k.instanceColor&&(se=k.instanceColor)),se!==void 0){const j=se.normalized,ee=se.itemSize,ue=e.get(se);if(ue===void 0)continue;const J=ue.buffer,pe=ue.type,xe=ue.bytesPerElement,be=pe===t.INT||pe===t.UNSIGNED_INT||se.gpuType===$x;if(se.isInterleavedBufferAttribute){const Ce=se.data,Xe=Ce.stride,nt=se.offset;if(Ce.isInstancedInterleavedBuffer){for(let rt=0;rt<Y.locationSize;rt++)E(Y.location+rt,Ce.meshPerAttribute);k.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let rt=0;rt<Y.locationSize;rt++)b(Y.location+rt);t.bindBuffer(t.ARRAY_BUFFER,J);for(let rt=0;rt<Y.locationSize;rt++)P(Y.location+rt,ee/Y.locationSize,pe,j,Xe*xe,(nt+ee/Y.locationSize*rt)*xe,be)}else{if(se.isInstancedBufferAttribute){for(let Ce=0;Ce<Y.locationSize;Ce++)E(Y.location+Ce,se.meshPerAttribute);k.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Ce=0;Ce<Y.locationSize;Ce++)b(Y.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,J);for(let Ce=0;Ce<Y.locationSize;Ce++)P(Y.location+Ce,ee/Y.locationSize,pe,j,ee*xe,ee/Y.locationSize*Ce*xe,be)}}else if(fe!==void 0){const j=fe[he];if(j!==void 0)switch(j.length){case 2:t.vertexAttrib2fv(Y.location,j);break;case 3:t.vertexAttrib3fv(Y.location,j);break;case 4:t.vertexAttrib4fv(Y.location,j);break;default:t.vertexAttrib1fv(Y.location,j)}}}}R()}function G(){H();for(const k in i){const Z=i[k];for(const $ in Z){const re=Z[$];for(const ie in re)f(re[ie].object),delete re[ie];delete Z[$]}delete i[k]}}function V(k){if(i[k.id]===void 0)return;const Z=i[k.id];for(const $ in Z){const re=Z[$];for(const ie in re)f(re[ie].object),delete re[ie];delete Z[$]}delete i[k.id]}function K(k){for(const Z in i){const $=i[Z];if($[k.id]===void 0)continue;const re=$[k.id];for(const ie in re)f(re[ie].object),delete re[ie];delete $[k.id]}}function H(){z(),o=!0,s!==r&&(s=r,d(s.object))}function z(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:H,resetDefaultState:z,dispose:G,releaseStatesOfGeometry:V,releaseStatesOfProgram:K,initAttributes:S,enableAttribute:b,disableUnusedAttributes:R}}function sZ(t,e,n){let i;function r(d){i=d}function s(d,f){t.drawArrays(i,d,f),n.update(f,i,1)}function o(d,f,p){p!==0&&(t.drawArraysInstanced(i,d,f,p),n.update(f,i,p))}function a(d,f,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,f,0,p);let v=0;for(let T=0;T<p;T++)v+=f[T];n.update(v,i,1)}function u(d,f,p,y){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let T=0;T<d.length;T++)o(d[T],f[T],y[T]);else{v.multiDrawArraysInstancedWEBGL(i,d,0,f,0,y,0,p);let T=0;for(let S=0;S<p;S++)T+=f[S]*y[S];n.update(T,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=u}function oZ(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const K=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(K.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(K){return!(K!==Ys&&i.convert(K)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(K){const H=K===mm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(K!==Ya&&i.convert(K)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&K!==Wo&&!H)}function u(K){if(K==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";K="mediump"}return K==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=n.precision!==void 0?n.precision:"highp";const f=u(d);f!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",f,"instead."),d=f);const p=n.logarithmicDepthBuffer===!0,y=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),T=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),E=t.getParameter(t.MAX_VERTEX_ATTRIBS),R=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),P=t.getParameter(t.MAX_VARYING_VECTORS),D=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),G=T>0,V=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:a,precision:d,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:T,maxTextureSize:S,maxCubemapSize:b,maxAttributes:E,maxVertexUniforms:R,maxVaryings:P,maxFragmentUniforms:D,vertexTextures:G,maxSamples:V}}function aZ(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Od,a=new On,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const v=p.length!==0||y||i!==0||r;return r=y,i=p.length,v},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,y){n=f(p,y,0)},this.setState=function(p,y,v){const T=p.clippingPlanes,S=p.clipIntersection,b=p.clipShadows,E=t.get(p);if(!r||T===null||T.length===0||s&&!b)s?f(null):d();else{const R=s?0:i,P=R*4;let D=E.clippingState||null;u.value=D,D=f(T,y,P,v);for(let G=0;G!==P;++G)D[G]=n[G];E.clippingState=D,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=R}};function d(){u.value!==n&&(u.value=n,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(p,y,v,T){const S=p!==null?p.length:0;let b=null;if(S!==0){if(b=u.value,T!==!0||b===null){const E=v+S*4,R=y.matrixWorldInverse;a.getNormalMatrix(R),(b===null||b.length<E)&&(b=new Float32Array(E));for(let P=0,D=v;P!==S;++P,D+=4)o.copy(p[P]).applyMatrix4(R,a),o.normal.toArray(b,D),b[D+3]=o.constant}u.value=b,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,b}}function lZ(t){let e=new WeakMap;function n(o,a){return a===g0?o.mapping=Pc:a===y0&&(o.mapping=jd),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===g0||a===y0)if(e.has(o)){const u=e.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const d=new rk(u.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",r),n(d.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const Mp=4,fP=[.125,.215,.35,.446,.526,.582],qh=20,wT=new ry,pP=new Kt;let CT=null,AT=0,MT=0,PT=!1;const Yh=(1+Math.sqrt(5))/2,vp=1/Yh,mP=[new me(-Yh,vp,0),new me(Yh,vp,0),new me(-vp,0,Yh),new me(vp,0,Yh),new me(0,Yh,-vp),new me(0,Yh,vp),new me(-1,1,-1),new me(1,1,-1),new me(-1,1,1),new me(1,1,1)],uZ=new me;class oS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,s={}){const{size:o=256,position:a=uZ}=s;CT=this._renderer.getRenderTarget(),AT=this._renderer.getActiveCubeFace(),MT=this._renderer.getActiveMipmapLevel(),PT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,a),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(CT,AT,MT),this._renderer.xr.enabled=PT,e.scissorTest=!1,Xv(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Pc||e.mapping===jd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),CT=this._renderer.getRenderTarget(),AT=this._renderer.getActiveCubeFace(),MT=this._renderer.getActiveMipmapLevel(),PT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Nr,minFilter:Nr,generateMipmaps:!1,type:mm,format:Ys,colorSpace:mf,depthBuffer:!1},r=gP(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gP(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=cZ(s)),this._blurMaterial=dZ(s,e,n)}return r}_compileMaterial(e){const n=new Or(this._lodPlanes[0],e);this._renderer.compile(n,wT)}_sceneToCubeUV(e,n,i,r,s){const u=new us(90,1,n,i),d=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,v=p.toneMapping;p.getClearColor(pP),p.toneMapping=xu,p.autoClear=!1;const T=new Zd({name:"PMREM.Background",side:_o,depthWrite:!1,depthTest:!1}),S=new Or(new xf,T);let b=!1;const E=e.background;E?E.isColor&&(T.color.copy(E),e.background=null,b=!0):(T.color.copy(pP),b=!0);for(let R=0;R<6;R++){const P=R%3;P===0?(u.up.set(0,d[R],0),u.position.set(s.x,s.y,s.z),u.lookAt(s.x+f[R],s.y,s.z)):P===1?(u.up.set(0,0,d[R]),u.position.set(s.x,s.y,s.z),u.lookAt(s.x,s.y+f[R],s.z)):(u.up.set(0,d[R],0),u.position.set(s.x,s.y,s.z),u.lookAt(s.x,s.y,s.z+f[R]));const D=this._cubeSize;Xv(r,P*D,R>2?D:0,D,D),p.setRenderTarget(r),b&&p.render(S,u),p.render(e,u)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=v,p.autoClear=y,e.background=E}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Pc||e.mapping===jd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=vP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yP());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;Xv(n,0,0,3*u,2*u),i.setRenderTarget(n),i.render(o,wT)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=mP[(r-s-1)%mP.length];this._blur(e,s-1,s,o,a)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const u=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,p=new Or(this._lodPlanes[r],d),y=d.uniforms,v=this._sizeLods[i]-1,T=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*qh-1),S=s/T,b=isFinite(s)?1+Math.floor(f*S):qh;b>qh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${qh}`);const E=[];let R=0;for(let K=0;K<qh;++K){const H=K/S,z=Math.exp(-H*H/2);E.push(z),K===0?R+=z:K<b&&(R+=2*z)}for(let K=0;K<E.length;K++)E[K]=E[K]/R;y.envMap.value=e.texture,y.samples.value=b,y.weights.value=E,y.latitudinal.value=o==="latitudinal",a&&(y.poleAxis.value=a);const{_lodMax:P}=this;y.dTheta.value=T,y.mipInt.value=P-i;const D=this._sizeLods[r],G=3*D*(r>P-Mp?r-P+Mp:0),V=4*(this._cubeSize-D);Xv(n,G,V,3*D,2*D),u.setRenderTarget(n),u.render(p,wT)}}function cZ(t){const e=[],n=[],i=[];let r=t;const s=t-Mp+1+fP.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let u=1/a;o>t-Mp?u=fP[o-t+Mp-1]:o===0&&(u=0),i.push(u);const d=1/(a-2),f=-d,p=1+d,y=[f,f,p,f,p,p,f,f,p,p,f,p],v=6,T=6,S=3,b=2,E=1,R=new Float32Array(S*T*v),P=new Float32Array(b*T*v),D=new Float32Array(E*T*v);for(let V=0;V<v;V++){const K=V%3*2/3-1,H=V>2?0:-1,z=[K,H,0,K+2/3,H,0,K+2/3,H+1,0,K,H,0,K+2/3,H+1,0,K,H+1,0];R.set(z,S*T*V),P.set(y,b*T*V);const k=[V,V,V,V,V,V];D.set(k,E*T*V)}const G=new Dn;G.setAttribute("position",new Ti(R,S)),G.setAttribute("uv",new Ti(P,b)),G.setAttribute("faceIndex",new Ti(D,E)),e.push(G),r>Mp&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function gP(t,e,n){const i=new Au(t,e,n);return i.texture.mapping=pm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Xv(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function dZ(t,e,n){const i=new Float32Array(qh),r=new me(0,1,0);return new Xa({name:"SphericalGaussianBlur",defines:{n:qh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:uC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function yP(){return new Xa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:uC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function vP(){return new Xa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:uC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function uC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hZ(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const u=a.mapping,d=u===g0||u===y0,f=u===Pc||u===jd;if(d||f){let p=e.get(a);const y=p!==void 0?p.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==y)return n===null&&(n=new oS(t)),p=d?n.fromEquirectangular(a,p):n.fromCubemap(a,p),p.texture.pmremVersion=a.pmremVersion,e.set(a,p),p.texture;if(p!==void 0)return p.texture;{const v=a.image;return d&&v&&v.height>0||f&&v&&r(v)?(n===null&&(n=new oS(t)),p=d?n.fromEquirectangular(a):n.fromCubemap(a),p.texture.pmremVersion=a.pmremVersion,e.set(a,p),a.addEventListener("dispose",s),p.texture):null}}}return a}function r(a){let u=0;const d=6;for(let f=0;f<d;f++)a[f]!==void 0&&u++;return u===d}function s(a){const u=a.target;u.removeEventListener("dispose",s);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function fZ(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&zp("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function pZ(t,e,n,i){const r={},s=new WeakMap;function o(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const T in y.attributes)e.remove(y.attributes[T]);y.removeEventListener("dispose",o),delete r[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function a(p,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,n.memory.geometries++),y}function u(p){const y=p.attributes;for(const v in y)e.update(y[v],t.ARRAY_BUFFER)}function d(p){const y=[],v=p.index,T=p.attributes.position;let S=0;if(v!==null){const R=v.array;S=v.version;for(let P=0,D=R.length;P<D;P+=3){const G=R[P+0],V=R[P+1],K=R[P+2];y.push(G,V,V,K,K,G)}}else if(T!==void 0){const R=T.array;S=T.version;for(let P=0,D=R.length/3-1;P<D;P+=3){const G=P+0,V=P+1,K=P+2;y.push(G,V,V,K,K,G)}}else return;const b=new($O(y)?Bw:Fw)(y,1);b.version=S;const E=s.get(p);E&&e.remove(E),s.set(p,b)}function f(p){const y=s.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&d(p)}else d(p);return s.get(p)}return{get:a,update:u,getWireframeAttribute:f}}function mZ(t,e,n){let i;function r(y){i=y}let s,o;function a(y){s=y.type,o=y.bytesPerElement}function u(y,v){t.drawElements(i,v,s,y*o),n.update(v,i,1)}function d(y,v,T){T!==0&&(t.drawElementsInstanced(i,v,s,y*o,T),n.update(v,i,T))}function f(y,v,T){if(T===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,y,0,T);let b=0;for(let E=0;E<T;E++)b+=v[E];n.update(b,i,1)}function p(y,v,T,S){if(T===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let E=0;E<y.length;E++)d(y[E]/o,v[E],S[E]);else{b.multiDrawElementsInstancedWEBGL(i,v,0,s,y,0,S,0,T);let E=0;for(let R=0;R<T;R++)E+=v[R]*S[R];n.update(E,i,1)}}this.setMode=r,this.setIndex=a,this.render=u,this.renderInstances=d,this.renderMultiDraw=f,this.renderMultiDrawInstances=p}function gZ(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function yZ(t,e,n){const i=new WeakMap,r=new ri;function s(o,a,u){const d=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,p=f!==void 0?f.length:0;let y=i.get(a);if(y===void 0||y.count!==p){let k=function(){H.dispose(),i.delete(a),a.removeEventListener("dispose",k)};var v=k;y!==void 0&&y.texture.dispose();const T=a.morphAttributes.position!==void 0,S=a.morphAttributes.normal!==void 0,b=a.morphAttributes.color!==void 0,E=a.morphAttributes.position||[],R=a.morphAttributes.normal||[],P=a.morphAttributes.color||[];let D=0;T===!0&&(D=1),S===!0&&(D=2),b===!0&&(D=3);let G=a.attributes.position.count*D,V=1;G>e.maxTextureSize&&(V=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const K=new Float32Array(G*V*4*p),H=new r1(K,G,V,p);H.type=Wo,H.needsUpdate=!0;const z=D*4;for(let Z=0;Z<p;Z++){const $=E[Z],re=R[Z],ie=P[Z],ge=G*V*4*Z;for(let fe=0;fe<$.count;fe++){const he=fe*z;T===!0&&(r.fromBufferAttribute($,fe),K[ge+he+0]=r.x,K[ge+he+1]=r.y,K[ge+he+2]=r.z,K[ge+he+3]=0),S===!0&&(r.fromBufferAttribute(re,fe),K[ge+he+4]=r.x,K[ge+he+5]=r.y,K[ge+he+6]=r.z,K[ge+he+7]=0),b===!0&&(r.fromBufferAttribute(ie,fe),K[ge+he+8]=r.x,K[ge+he+9]=r.y,K[ge+he+10]=r.z,K[ge+he+11]=ie.itemSize===4?r.w:1)}}y={count:p,texture:H,size:new ft(G,V)},i.set(a,y),a.addEventListener("dispose",k)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let T=0;for(let b=0;b<d.length;b++)T+=d[b];const S=a.morphTargetsRelative?1:1-T;u.getUniforms().setValue(t,"morphTargetBaseInfluence",S),u.getUniforms().setValue(t,"morphTargetInfluences",d)}u.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}return{update:s}}function vZ(t,e,n,i){let r=new WeakMap;function s(u){const d=i.render.frame,f=u.geometry,p=e.get(u,f);if(r.get(p)!==d&&(e.update(p),r.set(p,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),r.get(u)!==d&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),r.set(u,d))),u.isSkinnedMesh){const y=u.skeleton;r.get(y)!==d&&(y.update(),r.set(y,d))}return p}function o(){r=new WeakMap}function a(u){const d=u.target;d.removeEventListener("dispose",a),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:s,dispose:o}}const rD=new rr,_P=new Vw(1,1),sD=new r1,oD=new s1,aD=new $0,xP=[],EP=[],TP=new Float32Array(16),bP=new Float32Array(9),SP=new Float32Array(4);function _m(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=xP[r];if(s===void 0&&(s=new Float32Array(r),xP[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Yr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Xr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function C1(t,e){let n=EP[e];n===void 0&&(n=new Int32Array(e),EP[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function _Z(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function xZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yr(n,e))return;t.uniform2fv(this.addr,e),Xr(n,e)}}function EZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Yr(n,e))return;t.uniform3fv(this.addr,e),Xr(n,e)}}function TZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yr(n,e))return;t.uniform4fv(this.addr,e),Xr(n,e)}}function bZ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Xr(n,e)}else{if(Yr(n,i))return;SP.set(i),t.uniformMatrix2fv(this.addr,!1,SP),Xr(n,i)}}function SZ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Xr(n,e)}else{if(Yr(n,i))return;bP.set(i),t.uniformMatrix3fv(this.addr,!1,bP),Xr(n,i)}}function wZ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Xr(n,e)}else{if(Yr(n,i))return;TP.set(i),t.uniformMatrix4fv(this.addr,!1,TP),Xr(n,i)}}function CZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function AZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yr(n,e))return;t.uniform2iv(this.addr,e),Xr(n,e)}}function MZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yr(n,e))return;t.uniform3iv(this.addr,e),Xr(n,e)}}function PZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yr(n,e))return;t.uniform4iv(this.addr,e),Xr(n,e)}}function RZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function IZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yr(n,e))return;t.uniform2uiv(this.addr,e),Xr(n,e)}}function LZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yr(n,e))return;t.uniform3uiv(this.addr,e),Xr(n,e)}}function NZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yr(n,e))return;t.uniform4uiv(this.addr,e),Xr(n,e)}}function OZ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(_P.compareFunction=Ow,s=_P):s=rD,n.setTexture2D(e||s,r)}function kZ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||oD,r)}function DZ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||aD,r)}function FZ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||sD,r)}function BZ(t){switch(t){case 5126:return _Z;case 35664:return xZ;case 35665:return EZ;case 35666:return TZ;case 35674:return bZ;case 35675:return SZ;case 35676:return wZ;case 5124:case 35670:return CZ;case 35667:case 35671:return AZ;case 35668:case 35672:return MZ;case 35669:case 35673:return PZ;case 5125:return RZ;case 36294:return IZ;case 36295:return LZ;case 36296:return NZ;case 35678:case 36198:case 36298:case 36306:case 35682:return OZ;case 35679:case 36299:case 36307:return kZ;case 35680:case 36300:case 36308:case 36293:return DZ;case 36289:case 36303:case 36311:case 36292:return FZ}}function UZ(t,e){t.uniform1fv(this.addr,e)}function zZ(t,e){const n=_m(e,this.size,2);t.uniform2fv(this.addr,n)}function HZ(t,e){const n=_m(e,this.size,3);t.uniform3fv(this.addr,n)}function VZ(t,e){const n=_m(e,this.size,4);t.uniform4fv(this.addr,n)}function jZ(t,e){const n=_m(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function WZ(t,e){const n=_m(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function GZ(t,e){const n=_m(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function YZ(t,e){t.uniform1iv(this.addr,e)}function XZ(t,e){t.uniform2iv(this.addr,e)}function qZ(t,e){t.uniform3iv(this.addr,e)}function ZZ(t,e){t.uniform4iv(this.addr,e)}function KZ(t,e){t.uniform1uiv(this.addr,e)}function $Z(t,e){t.uniform2uiv(this.addr,e)}function QZ(t,e){t.uniform3uiv(this.addr,e)}function JZ(t,e){t.uniform4uiv(this.addr,e)}function eK(t,e,n){const i=this.cache,r=e.length,s=C1(n,r);Yr(i,s)||(t.uniform1iv(this.addr,s),Xr(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||rD,s[o])}function tK(t,e,n){const i=this.cache,r=e.length,s=C1(n,r);Yr(i,s)||(t.uniform1iv(this.addr,s),Xr(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||oD,s[o])}function nK(t,e,n){const i=this.cache,r=e.length,s=C1(n,r);Yr(i,s)||(t.uniform1iv(this.addr,s),Xr(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||aD,s[o])}function iK(t,e,n){const i=this.cache,r=e.length,s=C1(n,r);Yr(i,s)||(t.uniform1iv(this.addr,s),Xr(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||sD,s[o])}function rK(t){switch(t){case 5126:return UZ;case 35664:return zZ;case 35665:return HZ;case 35666:return VZ;case 35674:return jZ;case 35675:return WZ;case 35676:return GZ;case 5124:case 35670:return YZ;case 35667:case 35671:return XZ;case 35668:case 35672:return qZ;case 35669:case 35673:return ZZ;case 5125:return KZ;case 36294:return $Z;case 36295:return QZ;case 36296:return JZ;case 35678:case 36198:case 36298:case 36306:case 35682:return eK;case 35679:case 36299:case 36307:return tK;case 35680:case 36300:case 36308:case 36293:return nK;case 36289:case 36303:case 36311:case 36292:return iK}}class sK{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=BZ(n.type)}}class oK{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=rK(n.type)}}class aK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const RT=/(\w+)(\])?(\[|\.)?/g;function wP(t,e){t.seq.push(e),t.map[e.id]=e}function lK(t,e,n){const i=t.name,r=i.length;for(RT.lastIndex=0;;){const s=RT.exec(i),o=RT.lastIndex;let a=s[1];const u=s[2]==="]",d=s[3];if(u&&(a=a|0),d===void 0||d==="["&&o+2===r){wP(n,d===void 0?new sK(a,t,e):new oK(a,t,e));break}else{let p=n.map[a];p===void 0&&(p=new aK(a),wP(n,p)),n=p}}}class h_{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);lK(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],u=i[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function CP(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const uK=37297;let cK=0;function dK(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}const AP=new On;function hK(t){ei._getMatrix(AP,ei.workingColorSpace,t);const e=`mat3( ${AP.elements.map(n=>n.toFixed(4))} )`;switch(ei.getTransfer(t)){case T0:return[e,"LinearTransferOETF"];case gi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function MP(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+dK(t.getShaderSource(e),o)}else return r}function fK(t,e){const n=hK(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function pK(t,e){let n;switch(e){case IO:n="Linear";break;case LO:n="Reinhard";break;case NO:n="Cineon";break;case Sw:n="ACESFilmic";break;case kO:n="AgX";break;case DO:n="Neutral";break;case OO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const qv=new me;function mK(){ei.getLuminanceCoefficients(qv);const t=qv.x.toFixed(4),e=qv.y.toFixed(4),n=qv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function gK(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ng).join(`
`)}function yK(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function vK(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ng(t){return t!==""}function PP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function RP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _K=/^[ \t]*#include +<([\w\d./]+)>/gm;function aS(t){return t.replace(_K,EK)}const xK=new Map;function EK(t,e){let n=jn[e];if(n===void 0){const i=xK.get(e);if(i!==void 0)n=jn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return aS(n)}const TK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function IP(t){return t.replace(TK,bK)}function bK(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function LP(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SK(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Zx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Bg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===kl&&(e="SHADOWMAP_TYPE_VSM"),e}function wK(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Pc:case jd:e="ENVMAP_TYPE_CUBE";break;case pm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function CK(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case jd:e="ENVMAP_MODE_REFRACTION";break}return e}function AK(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case q0:e="ENVMAP_BLENDING_MULTIPLY";break;case PO:e="ENVMAP_BLENDING_MIX";break;case RO:e="ENVMAP_BLENDING_ADD";break}return e}function MK(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function PK(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const u=SK(n),d=wK(n),f=CK(n),p=AK(n),y=MK(n),v=gK(n),T=yK(s),S=r.createProgram();let b,E,R=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T].filter(Ng).join(`
`),b.length>0&&(b+=`
`),E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T].filter(Ng).join(`
`),E.length>0&&(E+=`
`)):(b=[LP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ng).join(`
`),E=[LP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,T,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==xu?"#define TONE_MAPPING":"",n.toneMapping!==xu?jn.tonemapping_pars_fragment:"",n.toneMapping!==xu?pK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",jn.colorspace_pars_fragment,fK("linearToOutputTexel",n.outputColorSpace),mK(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ng).join(`
`)),o=aS(o),o=PP(o,n),o=RP(o,n),a=aS(a),a=PP(a,n),a=RP(a,n),o=IP(o),a=IP(a),n.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,b=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,E=["#define varying in",n.glslVersion===Qb?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Qb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const P=R+b+o,D=R+E+a,G=CP(r,r.VERTEX_SHADER,P),V=CP(r,r.FRAGMENT_SHADER,D);r.attachShader(S,G),r.attachShader(S,V),n.index0AttributeName!==void 0?r.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function K(Z){if(t.debug.checkShaderErrors){const $=r.getProgramInfoLog(S).trim(),re=r.getShaderInfoLog(G).trim(),ie=r.getShaderInfoLog(V).trim();let ge=!0,fe=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(ge=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,S,G,V);else{const he=MP(r,G,"vertex"),Y=MP(r,V,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+Z.name+`
Material Type: `+Z.type+`

Program Info Log: `+$+`
`+he+`
`+Y)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(re===""||ie==="")&&(fe=!1);fe&&(Z.diagnostics={runnable:ge,programLog:$,vertexShader:{log:re,prefix:b},fragmentShader:{log:ie,prefix:E}})}r.deleteShader(G),r.deleteShader(V),H=new h_(r,S),z=vK(r,S)}let H;this.getUniforms=function(){return H===void 0&&K(this),H};let z;this.getAttributes=function(){return z===void 0&&K(this),z};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=r.getProgramParameter(S,uK)),k},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=cK++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=G,this.fragmentShader=V,this}let RK=0;class IK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new LK(e),n.set(e,i)),i}}class LK{constructor(e){this.id=RK++,this.code=e,this.usedTimes=0}}function NK(t,e,n,i,r,s,o){const a=new sf,u=new IK,d=new Set,f=[],p=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(z){return d.add(z),z===0?"uv":`uv${z}`}function b(z,k,Z,$,re){const ie=$.fog,ge=re.geometry,fe=z.isMeshStandardMaterial?$.environment:null,he=(z.isMeshStandardMaterial?n:e).get(z.envMap||fe),Y=he&&he.mapping===pm?he.image.height:null,se=T[z.type];z.precision!==null&&(v=r.getMaxPrecision(z.precision),v!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",v,"instead."));const j=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,ee=j!==void 0?j.length:0;let ue=0;ge.morphAttributes.position!==void 0&&(ue=1),ge.morphAttributes.normal!==void 0&&(ue=2),ge.morphAttributes.color!==void 0&&(ue=3);let J,pe,xe,be;if(se){const yn=Dl[se];J=yn.vertexShader,pe=yn.fragmentShader}else J=z.vertexShader,pe=z.fragmentShader,u.update(z),xe=u.getVertexShaderID(z),be=u.getFragmentShaderID(z);const Ce=t.getRenderTarget(),Xe=t.state.buffers.depth.getReversed(),nt=re.isInstancedMesh===!0,rt=re.isBatchedMesh===!0,ot=!!z.map,_t=!!z.matcap,yt=!!he,le=!!z.aoMap,ut=!!z.lightMap,et=!!z.bumpMap,Ye=!!z.normalMap,Ne=!!z.displacementMap,Qe=!!z.emissiveMap,Ie=!!z.metalnessMap,Ke=!!z.roughnessMap,ct=z.anisotropy>0,ae=z.clearcoat>0,Q=z.dispersion>0,Me=z.iridescence>0,de=z.sheen>0,Se=z.transmission>0,Le=ct&&!!z.anisotropyMap,dt=ae&&!!z.clearcoatMap,Je=ae&&!!z.clearcoatNormalMap,It=ae&&!!z.clearcoatRoughnessMap,St=Me&&!!z.iridescenceMap,tt=Me&&!!z.iridescenceThicknessMap,Pt=de&&!!z.sheenColorMap,Yt=de&&!!z.sheenRoughnessMap,kt=!!z.specularMap,Et=!!z.specularColorMap,tn=!!z.specularIntensityMap,Ae=Se&&!!z.transmissionMap,Lt=Se&&!!z.thicknessMap,ht=!!z.gradientMap,Bt=!!z.alphaMap,pt=z.alphaTest>0,st=!!z.alphaHash,at=!!z.extensions;let Ut=xu;z.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(Ut=t.toneMapping);const cn={shaderID:se,shaderType:z.type,shaderName:z.name,vertexShader:J,fragmentShader:pe,defines:z.defines,customVertexShaderID:xe,customFragmentShaderID:be,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:v,batching:rt,batchingColor:rt&&re._colorsTexture!==null,instancing:nt,instancingColor:nt&&re.instanceColor!==null,instancingMorph:nt&&re.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Ce===null?t.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:mf,alphaToCoverage:!!z.alphaToCoverage,map:ot,matcap:_t,envMap:yt,envMapMode:yt&&he.mapping,envMapCubeUVHeight:Y,aoMap:le,lightMap:ut,bumpMap:et,normalMap:Ye,displacementMap:y&&Ne,emissiveMap:Qe,normalMapObjectSpace:Ye&&z.normalMapType===jO,normalMapTangentSpace:Ye&&z.normalMapType===qd,metalnessMap:Ie,roughnessMap:Ke,anisotropy:ct,anisotropyMap:Le,clearcoat:ae,clearcoatMap:dt,clearcoatNormalMap:Je,clearcoatRoughnessMap:It,dispersion:Q,iridescence:Me,iridescenceMap:St,iridescenceThicknessMap:tt,sheen:de,sheenColorMap:Pt,sheenRoughnessMap:Yt,specularMap:kt,specularColorMap:Et,specularIntensityMap:tn,transmission:Se,transmissionMap:Ae,thicknessMap:Lt,gradientMap:ht,opaque:z.transparent===!1&&z.blending===nf&&z.alphaToCoverage===!1,alphaMap:Bt,alphaTest:pt,alphaHash:st,combine:z.combine,mapUv:ot&&S(z.map.channel),aoMapUv:le&&S(z.aoMap.channel),lightMapUv:ut&&S(z.lightMap.channel),bumpMapUv:et&&S(z.bumpMap.channel),normalMapUv:Ye&&S(z.normalMap.channel),displacementMapUv:Ne&&S(z.displacementMap.channel),emissiveMapUv:Qe&&S(z.emissiveMap.channel),metalnessMapUv:Ie&&S(z.metalnessMap.channel),roughnessMapUv:Ke&&S(z.roughnessMap.channel),anisotropyMapUv:Le&&S(z.anisotropyMap.channel),clearcoatMapUv:dt&&S(z.clearcoatMap.channel),clearcoatNormalMapUv:Je&&S(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:It&&S(z.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&S(z.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&S(z.iridescenceThicknessMap.channel),sheenColorMapUv:Pt&&S(z.sheenColorMap.channel),sheenRoughnessMapUv:Yt&&S(z.sheenRoughnessMap.channel),specularMapUv:kt&&S(z.specularMap.channel),specularColorMapUv:Et&&S(z.specularColorMap.channel),specularIntensityMapUv:tn&&S(z.specularIntensityMap.channel),transmissionMapUv:Ae&&S(z.transmissionMap.channel),thicknessMapUv:Lt&&S(z.thicknessMap.channel),alphaMapUv:Bt&&S(z.alphaMap.channel),vertexTangents:!!ge.attributes.tangent&&(Ye||ct),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,pointsUvs:re.isPoints===!0&&!!ge.attributes.uv&&(ot||Bt),fog:!!ie,useFog:z.fog===!0,fogExp2:!!ie&&ie.isFogExp2,flatShading:z.flatShading===!0&&z.wireframe===!1,sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Xe,skinning:re.isSkinnedMesh===!0,morphTargets:ge.morphAttributes.position!==void 0,morphNormals:ge.morphAttributes.normal!==void 0,morphColors:ge.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:ue,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:z.dithering,shadowMapEnabled:t.shadowMap.enabled&&Z.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ut,decodeVideoTexture:ot&&z.map.isVideoTexture===!0&&ei.getTransfer(z.map.colorSpace)===gi,decodeVideoTextureEmissive:Qe&&z.emissiveMap.isVideoTexture===!0&&ei.getTransfer(z.emissiveMap.colorSpace)===gi,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===pu,flipSided:z.side===_o,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:at&&z.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(at&&z.extensions.multiDraw===!0||rt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return cn.vertexUv1s=d.has(1),cn.vertexUv2s=d.has(2),cn.vertexUv3s=d.has(3),d.clear(),cn}function E(z){const k=[];if(z.shaderID?k.push(z.shaderID):(k.push(z.customVertexShaderID),k.push(z.customFragmentShaderID)),z.defines!==void 0)for(const Z in z.defines)k.push(Z),k.push(z.defines[Z]);return z.isRawShaderMaterial===!1&&(R(k,z),P(k,z),k.push(t.outputColorSpace)),k.push(z.customProgramCacheKey),k.join()}function R(z,k){z.push(k.precision),z.push(k.outputColorSpace),z.push(k.envMapMode),z.push(k.envMapCubeUVHeight),z.push(k.mapUv),z.push(k.alphaMapUv),z.push(k.lightMapUv),z.push(k.aoMapUv),z.push(k.bumpMapUv),z.push(k.normalMapUv),z.push(k.displacementMapUv),z.push(k.emissiveMapUv),z.push(k.metalnessMapUv),z.push(k.roughnessMapUv),z.push(k.anisotropyMapUv),z.push(k.clearcoatMapUv),z.push(k.clearcoatNormalMapUv),z.push(k.clearcoatRoughnessMapUv),z.push(k.iridescenceMapUv),z.push(k.iridescenceThicknessMapUv),z.push(k.sheenColorMapUv),z.push(k.sheenRoughnessMapUv),z.push(k.specularMapUv),z.push(k.specularColorMapUv),z.push(k.specularIntensityMapUv),z.push(k.transmissionMapUv),z.push(k.thicknessMapUv),z.push(k.combine),z.push(k.fogExp2),z.push(k.sizeAttenuation),z.push(k.morphTargetsCount),z.push(k.morphAttributeCount),z.push(k.numDirLights),z.push(k.numPointLights),z.push(k.numSpotLights),z.push(k.numSpotLightMaps),z.push(k.numHemiLights),z.push(k.numRectAreaLights),z.push(k.numDirLightShadows),z.push(k.numPointLightShadows),z.push(k.numSpotLightShadows),z.push(k.numSpotLightShadowsWithMaps),z.push(k.numLightProbes),z.push(k.shadowMapType),z.push(k.toneMapping),z.push(k.numClippingPlanes),z.push(k.numClipIntersection),z.push(k.depthPacking)}function P(z,k){a.disableAll(),k.supportsVertexTextures&&a.enable(0),k.instancing&&a.enable(1),k.instancingColor&&a.enable(2),k.instancingMorph&&a.enable(3),k.matcap&&a.enable(4),k.envMap&&a.enable(5),k.normalMapObjectSpace&&a.enable(6),k.normalMapTangentSpace&&a.enable(7),k.clearcoat&&a.enable(8),k.iridescence&&a.enable(9),k.alphaTest&&a.enable(10),k.vertexColors&&a.enable(11),k.vertexAlphas&&a.enable(12),k.vertexUv1s&&a.enable(13),k.vertexUv2s&&a.enable(14),k.vertexUv3s&&a.enable(15),k.vertexTangents&&a.enable(16),k.anisotropy&&a.enable(17),k.alphaHash&&a.enable(18),k.batching&&a.enable(19),k.dispersion&&a.enable(20),k.batchingColor&&a.enable(21),k.gradientMap&&a.enable(22),z.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.reverseDepthBuffer&&a.enable(4),k.skinning&&a.enable(5),k.morphTargets&&a.enable(6),k.morphNormals&&a.enable(7),k.morphColors&&a.enable(8),k.premultipliedAlpha&&a.enable(9),k.shadowMapEnabled&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.transmission&&a.enable(15),k.sheen&&a.enable(16),k.opaque&&a.enable(17),k.pointsUvs&&a.enable(18),k.decodeVideoTexture&&a.enable(19),k.decodeVideoTextureEmissive&&a.enable(20),k.alphaToCoverage&&a.enable(21),z.push(a.mask)}function D(z){const k=T[z.type];let Z;if(k){const $=Dl[k];Z=nk.clone($.uniforms)}else Z=z.uniforms;return Z}function G(z,k){let Z;for(let $=0,re=f.length;$<re;$++){const ie=f[$];if(ie.cacheKey===k){Z=ie,++Z.usedTimes;break}}return Z===void 0&&(Z=new PK(t,k,z,s),f.push(Z)),Z}function V(z){if(--z.usedTimes===0){const k=f.indexOf(z);f[k]=f[f.length-1],f.pop(),z.destroy()}}function K(z){u.remove(z)}function H(){u.dispose()}return{getParameters:b,getProgramCacheKey:E,getUniforms:D,acquireProgram:G,releaseProgram:V,releaseShaderCache:K,programs:f,dispose:H}}function OK(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function r(o,a,u){t.get(o)[a]=u}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function kK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function NP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function OP(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(p,y,v,T,S,b){let E=t[e];return E===void 0?(E={id:p.id,object:p,geometry:y,material:v,groupOrder:T,renderOrder:p.renderOrder,z:S,group:b},t[e]=E):(E.id=p.id,E.object=p,E.geometry=y,E.material=v,E.groupOrder=T,E.renderOrder=p.renderOrder,E.z=S,E.group=b),e++,E}function a(p,y,v,T,S,b){const E=o(p,y,v,T,S,b);v.transmission>0?i.push(E):v.transparent===!0?r.push(E):n.push(E)}function u(p,y,v,T,S,b){const E=o(p,y,v,T,S,b);v.transmission>0?i.unshift(E):v.transparent===!0?r.unshift(E):n.unshift(E)}function d(p,y){n.length>1&&n.sort(p||kK),i.length>1&&i.sort(y||NP),r.length>1&&r.sort(y||NP)}function f(){for(let p=e,y=t.length;p<y;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:u,finish:f,sort:d}}function DK(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new OP,t.set(i,[o])):r>=s.length?(o=new OP,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function FK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new me,color:new Kt};break;case"SpotLight":n={position:new me,direction:new me,color:new Kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new me,color:new Kt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new me,skyColor:new Kt,groundColor:new Kt};break;case"RectAreaLight":n={color:new Kt,position:new me,halfWidth:new me,halfHeight:new me};break}return t[e.id]=n,n}}}function BK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let UK=0;function zK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function HK(t){const e=new FK,n=BK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new me);const r=new me,s=new vn,o=new vn;function a(d){let f=0,p=0,y=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let v=0,T=0,S=0,b=0,E=0,R=0,P=0,D=0,G=0,V=0,K=0;d.sort(zK);for(let z=0,k=d.length;z<k;z++){const Z=d[z],$=Z.color,re=Z.intensity,ie=Z.distance,ge=Z.shadow&&Z.shadow.map?Z.shadow.map.texture:null;if(Z.isAmbientLight)f+=$.r*re,p+=$.g*re,y+=$.b*re;else if(Z.isLightProbe){for(let fe=0;fe<9;fe++)i.probe[fe].addScaledVector(Z.sh.coefficients[fe],re);K++}else if(Z.isDirectionalLight){const fe=e.get(Z);if(fe.color.copy(Z.color).multiplyScalar(Z.intensity),Z.castShadow){const he=Z.shadow,Y=n.get(Z);Y.shadowIntensity=he.intensity,Y.shadowBias=he.bias,Y.shadowNormalBias=he.normalBias,Y.shadowRadius=he.radius,Y.shadowMapSize=he.mapSize,i.directionalShadow[v]=Y,i.directionalShadowMap[v]=ge,i.directionalShadowMatrix[v]=Z.shadow.matrix,R++}i.directional[v]=fe,v++}else if(Z.isSpotLight){const fe=e.get(Z);fe.position.setFromMatrixPosition(Z.matrixWorld),fe.color.copy($).multiplyScalar(re),fe.distance=ie,fe.coneCos=Math.cos(Z.angle),fe.penumbraCos=Math.cos(Z.angle*(1-Z.penumbra)),fe.decay=Z.decay,i.spot[S]=fe;const he=Z.shadow;if(Z.map&&(i.spotLightMap[G]=Z.map,G++,he.updateMatrices(Z),Z.castShadow&&V++),i.spotLightMatrix[S]=he.matrix,Z.castShadow){const Y=n.get(Z);Y.shadowIntensity=he.intensity,Y.shadowBias=he.bias,Y.shadowNormalBias=he.normalBias,Y.shadowRadius=he.radius,Y.shadowMapSize=he.mapSize,i.spotShadow[S]=Y,i.spotShadowMap[S]=ge,D++}S++}else if(Z.isRectAreaLight){const fe=e.get(Z);fe.color.copy($).multiplyScalar(re),fe.halfWidth.set(Z.width*.5,0,0),fe.halfHeight.set(0,Z.height*.5,0),i.rectArea[b]=fe,b++}else if(Z.isPointLight){const fe=e.get(Z);if(fe.color.copy(Z.color).multiplyScalar(Z.intensity),fe.distance=Z.distance,fe.decay=Z.decay,Z.castShadow){const he=Z.shadow,Y=n.get(Z);Y.shadowIntensity=he.intensity,Y.shadowBias=he.bias,Y.shadowNormalBias=he.normalBias,Y.shadowRadius=he.radius,Y.shadowMapSize=he.mapSize,Y.shadowCameraNear=he.camera.near,Y.shadowCameraFar=he.camera.far,i.pointShadow[T]=Y,i.pointShadowMap[T]=ge,i.pointShadowMatrix[T]=Z.shadow.matrix,P++}i.point[T]=fe,T++}else if(Z.isHemisphereLight){const fe=e.get(Z);fe.skyColor.copy(Z.color).multiplyScalar(re),fe.groundColor.copy(Z.groundColor).multiplyScalar(re),i.hemi[E]=fe,E++}}b>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Vt.LTC_FLOAT_1,i.rectAreaLTC2=Vt.LTC_FLOAT_2):(i.rectAreaLTC1=Vt.LTC_HALF_1,i.rectAreaLTC2=Vt.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=p,i.ambient[2]=y;const H=i.hash;(H.directionalLength!==v||H.pointLength!==T||H.spotLength!==S||H.rectAreaLength!==b||H.hemiLength!==E||H.numDirectionalShadows!==R||H.numPointShadows!==P||H.numSpotShadows!==D||H.numSpotMaps!==G||H.numLightProbes!==K)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=b,i.point.length=T,i.hemi.length=E,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=D+G-V,i.spotLightMap.length=G,i.numSpotLightShadowsWithMaps=V,i.numLightProbes=K,H.directionalLength=v,H.pointLength=T,H.spotLength=S,H.rectAreaLength=b,H.hemiLength=E,H.numDirectionalShadows=R,H.numPointShadows=P,H.numSpotShadows=D,H.numSpotMaps=G,H.numLightProbes=K,i.version=UK++)}function u(d,f){let p=0,y=0,v=0,T=0,S=0;const b=f.matrixWorldInverse;for(let E=0,R=d.length;E<R;E++){const P=d[E];if(P.isDirectionalLight){const D=i.directional[p];D.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(b),p++}else if(P.isSpotLight){const D=i.spot[v];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(b),D.direction.setFromMatrixPosition(P.matrixWorld),r.setFromMatrixPosition(P.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(b),v++}else if(P.isRectAreaLight){const D=i.rectArea[T];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(b),o.identity(),s.copy(P.matrixWorld),s.premultiply(b),o.extractRotation(s),D.halfWidth.set(P.width*.5,0,0),D.halfHeight.set(0,P.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),T++}else if(P.isPointLight){const D=i.point[y];D.position.setFromMatrixPosition(P.matrixWorld),D.position.applyMatrix4(b),y++}else if(P.isHemisphereLight){const D=i.hemi[S];D.direction.setFromMatrixPosition(P.matrixWorld),D.direction.transformDirection(b),S++}}}return{setup:a,setupView:u,state:i}}function kP(t){const e=new HK(t),n=[],i=[];function r(f){d.camera=f,n.length=0,i.length=0}function s(f){n.push(f)}function o(f){i.push(f)}function a(){e.setup(n)}function u(f){e.setupView(n,f)}const d={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:a,setupLightsView:u,pushLight:s,pushShadow:o}}function VK(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new kP(t),e.set(r,[a])):s>=o.length?(a=new kP(t),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:n,dispose:i}}const jK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,WK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function GK(t,e,n){let i=new ym;const r=new ft,s=new ft,o=new ri,a=new Kw({depthPacking:VO}),u=new $w,d={},f=n.maxTextureSize,p={[Mc]:_o,[_o]:Mc,[pu]:pu},y=new Xa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:jK,fragmentShader:WK}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const T=new Dn;T.setAttribute("position",new Ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Or(T,y),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zx;let E=this.type;this.render=function(V,K,H){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||V.length===0)return;const z=t.getRenderTarget(),k=t.getActiveCubeFace(),Z=t.getActiveMipmapLevel(),$=t.state;$.setBlending(bc),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const re=E!==kl&&this.type===kl,ie=E===kl&&this.type!==kl;for(let ge=0,fe=V.length;ge<fe;ge++){const he=V[ge],Y=he.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;r.copy(Y.mapSize);const se=Y.getFrameExtents();if(r.multiply(se),s.copy(Y.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/se.x),r.x=s.x*se.x,Y.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/se.y),r.y=s.y*se.y,Y.mapSize.y=s.y)),Y.map===null||re===!0||ie===!0){const ee=this.type!==kl?{minFilter:Rs,magFilter:Rs}:{};Y.map!==null&&Y.map.dispose(),Y.map=new Au(r.x,r.y,ee),Y.map.texture.name=he.name+".shadowMap",Y.camera.updateProjectionMatrix()}t.setRenderTarget(Y.map),t.clear();const j=Y.getViewportCount();for(let ee=0;ee<j;ee++){const ue=Y.getViewport(ee);o.set(s.x*ue.x,s.y*ue.y,s.x*ue.z,s.y*ue.w),$.viewport(o),Y.updateMatrices(he,ee),i=Y.getFrustum(),D(K,H,Y.camera,he,this.type)}Y.isPointLightShadow!==!0&&this.type===kl&&R(Y,H),Y.needsUpdate=!1}E=this.type,b.needsUpdate=!1,t.setRenderTarget(z,k,Z)};function R(V,K){const H=e.update(S);y.defines.VSM_SAMPLES!==V.blurSamples&&(y.defines.VSM_SAMPLES=V.blurSamples,v.defines.VSM_SAMPLES=V.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),V.mapPass===null&&(V.mapPass=new Au(r.x,r.y)),y.uniforms.shadow_pass.value=V.map.texture,y.uniforms.resolution.value=V.mapSize,y.uniforms.radius.value=V.radius,t.setRenderTarget(V.mapPass),t.clear(),t.renderBufferDirect(K,null,H,y,S,null),v.uniforms.shadow_pass.value=V.mapPass.texture,v.uniforms.resolution.value=V.mapSize,v.uniforms.radius.value=V.radius,t.setRenderTarget(V.map),t.clear(),t.renderBufferDirect(K,null,H,v,S,null)}function P(V,K,H,z){let k=null;const Z=H.isPointLight===!0?V.customDistanceMaterial:V.customDepthMaterial;if(Z!==void 0)k=Z;else if(k=H.isPointLight===!0?u:a,t.localClippingEnabled&&K.clipShadows===!0&&Array.isArray(K.clippingPlanes)&&K.clippingPlanes.length!==0||K.displacementMap&&K.displacementScale!==0||K.alphaMap&&K.alphaTest>0||K.map&&K.alphaTest>0||K.alphaToCoverage===!0){const $=k.uuid,re=K.uuid;let ie=d[$];ie===void 0&&(ie={},d[$]=ie);let ge=ie[re];ge===void 0&&(ge=k.clone(),ie[re]=ge,K.addEventListener("dispose",G)),k=ge}if(k.visible=K.visible,k.wireframe=K.wireframe,z===kl?k.side=K.shadowSide!==null?K.shadowSide:K.side:k.side=K.shadowSide!==null?K.shadowSide:p[K.side],k.alphaMap=K.alphaMap,k.alphaTest=K.alphaToCoverage===!0?.5:K.alphaTest,k.map=K.map,k.clipShadows=K.clipShadows,k.clippingPlanes=K.clippingPlanes,k.clipIntersection=K.clipIntersection,k.displacementMap=K.displacementMap,k.displacementScale=K.displacementScale,k.displacementBias=K.displacementBias,k.wireframeLinewidth=K.wireframeLinewidth,k.linewidth=K.linewidth,H.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const $=t.properties.get(k);$.light=H}return k}function D(V,K,H,z,k){if(V.visible===!1)return;if(V.layers.test(K.layers)&&(V.isMesh||V.isLine||V.isPoints)&&(V.castShadow||V.receiveShadow&&k===kl)&&(!V.frustumCulled||i.intersectsObject(V))){V.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,V.matrixWorld);const re=e.update(V),ie=V.material;if(Array.isArray(ie)){const ge=re.groups;for(let fe=0,he=ge.length;fe<he;fe++){const Y=ge[fe],se=ie[Y.materialIndex];if(se&&se.visible){const j=P(V,se,z,k);V.onBeforeShadow(t,V,K,H,re,j,Y),t.renderBufferDirect(H,null,re,j,V,Y),V.onAfterShadow(t,V,K,H,re,j,Y)}}}else if(ie.visible){const ge=P(V,ie,z,k);V.onBeforeShadow(t,V,K,H,re,ge,null),t.renderBufferDirect(H,null,re,ge,V,null),V.onAfterShadow(t,V,K,H,re,ge,null)}}const $=V.children;for(let re=0,ie=$.length;re<ie;re++)D($[re],K,H,z,k)}function G(V){V.target.removeEventListener("dispose",G);for(const H in d){const z=d[H],k=V.target.uuid;k in z&&(z[k].dispose(),delete z[k])}}}const YK={[k_]:D_,[F_]:z_,[B_]:H_,[pf]:U_,[D_]:k_,[z_]:F_,[H_]:B_,[U_]:pf};function XK(t,e){function n(){let Ae=!1;const Lt=new ri;let ht=null;const Bt=new ri(0,0,0,0);return{setMask:function(pt){ht!==pt&&!Ae&&(t.colorMask(pt,pt,pt,pt),ht=pt)},setLocked:function(pt){Ae=pt},setClear:function(pt,st,at,Ut,cn){cn===!0&&(pt*=Ut,st*=Ut,at*=Ut),Lt.set(pt,st,at,Ut),Bt.equals(Lt)===!1&&(t.clearColor(pt,st,at,Ut),Bt.copy(Lt))},reset:function(){Ae=!1,ht=null,Bt.set(-1,0,0,0)}}}function i(){let Ae=!1,Lt=!1,ht=null,Bt=null,pt=null;return{setReversed:function(st){if(Lt!==st){const at=e.get("EXT_clip_control");st?at.clipControlEXT(at.LOWER_LEFT_EXT,at.ZERO_TO_ONE_EXT):at.clipControlEXT(at.LOWER_LEFT_EXT,at.NEGATIVE_ONE_TO_ONE_EXT),Lt=st;const Ut=pt;pt=null,this.setClear(Ut)}},getReversed:function(){return Lt},setTest:function(st){st?Ce(t.DEPTH_TEST):Xe(t.DEPTH_TEST)},setMask:function(st){ht!==st&&!Ae&&(t.depthMask(st),ht=st)},setFunc:function(st){if(Lt&&(st=YK[st]),Bt!==st){switch(st){case k_:t.depthFunc(t.NEVER);break;case D_:t.depthFunc(t.ALWAYS);break;case F_:t.depthFunc(t.LESS);break;case pf:t.depthFunc(t.LEQUAL);break;case B_:t.depthFunc(t.EQUAL);break;case U_:t.depthFunc(t.GEQUAL);break;case z_:t.depthFunc(t.GREATER);break;case H_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Bt=st}},setLocked:function(st){Ae=st},setClear:function(st){pt!==st&&(Lt&&(st=1-st),t.clearDepth(st),pt=st)},reset:function(){Ae=!1,ht=null,Bt=null,pt=null,Lt=!1}}}function r(){let Ae=!1,Lt=null,ht=null,Bt=null,pt=null,st=null,at=null,Ut=null,cn=null;return{setTest:function(yn){Ae||(yn?Ce(t.STENCIL_TEST):Xe(t.STENCIL_TEST))},setMask:function(yn){Lt!==yn&&!Ae&&(t.stencilMask(yn),Lt=yn)},setFunc:function(yn,ti,yi){(ht!==yn||Bt!==ti||pt!==yi)&&(t.stencilFunc(yn,ti,yi),ht=yn,Bt=ti,pt=yi)},setOp:function(yn,ti,yi){(st!==yn||at!==ti||Ut!==yi)&&(t.stencilOp(yn,ti,yi),st=yn,at=ti,Ut=yi)},setLocked:function(yn){Ae=yn},setClear:function(yn){cn!==yn&&(t.clearStencil(yn),cn=yn)},reset:function(){Ae=!1,Lt=null,ht=null,Bt=null,pt=null,st=null,at=null,Ut=null,cn=null}}}const s=new n,o=new i,a=new r,u=new WeakMap,d=new WeakMap;let f={},p={},y=new WeakMap,v=[],T=null,S=!1,b=null,E=null,R=null,P=null,D=null,G=null,V=null,K=new Kt(0,0,0),H=0,z=!1,k=null,Z=null,$=null,re=null,ie=null;const ge=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fe=!1,he=0;const Y=t.getParameter(t.VERSION);Y.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(Y)[1]),fe=he>=1):Y.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),fe=he>=2);let se=null,j={};const ee=t.getParameter(t.SCISSOR_BOX),ue=t.getParameter(t.VIEWPORT),J=new ri().fromArray(ee),pe=new ri().fromArray(ue);function xe(Ae,Lt,ht,Bt){const pt=new Uint8Array(4),st=t.createTexture();t.bindTexture(Ae,st),t.texParameteri(Ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let at=0;at<ht;at++)Ae===t.TEXTURE_3D||Ae===t.TEXTURE_2D_ARRAY?t.texImage3D(Lt,0,t.RGBA,1,1,Bt,0,t.RGBA,t.UNSIGNED_BYTE,pt):t.texImage2D(Lt+at,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,pt);return st}const be={};be[t.TEXTURE_2D]=xe(t.TEXTURE_2D,t.TEXTURE_2D,1),be[t.TEXTURE_CUBE_MAP]=xe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),be[t.TEXTURE_2D_ARRAY]=xe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),be[t.TEXTURE_3D]=xe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Ce(t.DEPTH_TEST),o.setFunc(pf),et(!1),Ye(Yb),Ce(t.CULL_FACE),le(bc);function Ce(Ae){f[Ae]!==!0&&(t.enable(Ae),f[Ae]=!0)}function Xe(Ae){f[Ae]!==!1&&(t.disable(Ae),f[Ae]=!1)}function nt(Ae,Lt){return p[Ae]!==Lt?(t.bindFramebuffer(Ae,Lt),p[Ae]=Lt,Ae===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Lt),Ae===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Lt),!0):!1}function rt(Ae,Lt){let ht=v,Bt=!1;if(Ae){ht=y.get(Lt),ht===void 0&&(ht=[],y.set(Lt,ht));const pt=Ae.textures;if(ht.length!==pt.length||ht[0]!==t.COLOR_ATTACHMENT0){for(let st=0,at=pt.length;st<at;st++)ht[st]=t.COLOR_ATTACHMENT0+st;ht.length=pt.length,Bt=!0}}else ht[0]!==t.BACK&&(ht[0]=t.BACK,Bt=!0);Bt&&t.drawBuffers(ht)}function ot(Ae){return T!==Ae?(t.useProgram(Ae),T=Ae,!0):!1}const _t={[Dd]:t.FUNC_ADD,[hO]:t.FUNC_SUBTRACT,[fO]:t.FUNC_REVERSE_SUBTRACT};_t[pO]=t.MIN,_t[mO]=t.MAX;const yt={[gO]:t.ZERO,[yO]:t.ONE,[vO]:t.SRC_COLOR,[N_]:t.SRC_ALPHA,[SO]:t.SRC_ALPHA_SATURATE,[TO]:t.DST_COLOR,[xO]:t.DST_ALPHA,[_O]:t.ONE_MINUS_SRC_COLOR,[O_]:t.ONE_MINUS_SRC_ALPHA,[bO]:t.ONE_MINUS_DST_COLOR,[EO]:t.ONE_MINUS_DST_ALPHA,[wO]:t.CONSTANT_COLOR,[CO]:t.ONE_MINUS_CONSTANT_COLOR,[AO]:t.CONSTANT_ALPHA,[MO]:t.ONE_MINUS_CONSTANT_ALPHA};function le(Ae,Lt,ht,Bt,pt,st,at,Ut,cn,yn){if(Ae===bc){S===!0&&(Xe(t.BLEND),S=!1);return}if(S===!1&&(Ce(t.BLEND),S=!0),Ae!==dO){if(Ae!==b||yn!==z){if((E!==Dd||D!==Dd)&&(t.blendEquation(t.FUNC_ADD),E=Dd,D=Dd),yn)switch(Ae){case nf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Xb:t.blendFunc(t.ONE,t.ONE);break;case qb:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Zb:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case nf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Xb:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case qb:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Zb:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}R=null,P=null,G=null,V=null,K.set(0,0,0),H=0,b=Ae,z=yn}return}pt=pt||Lt,st=st||ht,at=at||Bt,(Lt!==E||pt!==D)&&(t.blendEquationSeparate(_t[Lt],_t[pt]),E=Lt,D=pt),(ht!==R||Bt!==P||st!==G||at!==V)&&(t.blendFuncSeparate(yt[ht],yt[Bt],yt[st],yt[at]),R=ht,P=Bt,G=st,V=at),(Ut.equals(K)===!1||cn!==H)&&(t.blendColor(Ut.r,Ut.g,Ut.b,cn),K.copy(Ut),H=cn),b=Ae,z=!1}function ut(Ae,Lt){Ae.side===pu?Xe(t.CULL_FACE):Ce(t.CULL_FACE);let ht=Ae.side===_o;Lt&&(ht=!ht),et(ht),Ae.blending===nf&&Ae.transparent===!1?le(bc):le(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),o.setFunc(Ae.depthFunc),o.setTest(Ae.depthTest),o.setMask(Ae.depthWrite),s.setMask(Ae.colorWrite);const Bt=Ae.stencilWrite;a.setTest(Bt),Bt&&(a.setMask(Ae.stencilWriteMask),a.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),a.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),Qe(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?Ce(t.SAMPLE_ALPHA_TO_COVERAGE):Xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function et(Ae){k!==Ae&&(Ae?t.frontFace(t.CW):t.frontFace(t.CCW),k=Ae)}function Ye(Ae){Ae!==lO?(Ce(t.CULL_FACE),Ae!==Z&&(Ae===Yb?t.cullFace(t.BACK):Ae===uO?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Xe(t.CULL_FACE),Z=Ae}function Ne(Ae){Ae!==$&&(fe&&t.lineWidth(Ae),$=Ae)}function Qe(Ae,Lt,ht){Ae?(Ce(t.POLYGON_OFFSET_FILL),(re!==Lt||ie!==ht)&&(t.polygonOffset(Lt,ht),re=Lt,ie=ht)):Xe(t.POLYGON_OFFSET_FILL)}function Ie(Ae){Ae?Ce(t.SCISSOR_TEST):Xe(t.SCISSOR_TEST)}function Ke(Ae){Ae===void 0&&(Ae=t.TEXTURE0+ge-1),se!==Ae&&(t.activeTexture(Ae),se=Ae)}function ct(Ae,Lt,ht){ht===void 0&&(se===null?ht=t.TEXTURE0+ge-1:ht=se);let Bt=j[ht];Bt===void 0&&(Bt={type:void 0,texture:void 0},j[ht]=Bt),(Bt.type!==Ae||Bt.texture!==Lt)&&(se!==ht&&(t.activeTexture(ht),se=ht),t.bindTexture(Ae,Lt||be[Ae]),Bt.type=Ae,Bt.texture=Lt)}function ae(){const Ae=j[se];Ae!==void 0&&Ae.type!==void 0&&(t.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function Q(){try{t.compressedTexImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Me(){try{t.compressedTexImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function de(){try{t.texSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Se(){try{t.texSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Le(){try{t.compressedTexSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function dt(){try{t.compressedTexSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Je(){try{t.texStorage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function It(){try{t.texStorage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function St(){try{t.texImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function tt(){try{t.texImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Pt(Ae){J.equals(Ae)===!1&&(t.scissor(Ae.x,Ae.y,Ae.z,Ae.w),J.copy(Ae))}function Yt(Ae){pe.equals(Ae)===!1&&(t.viewport(Ae.x,Ae.y,Ae.z,Ae.w),pe.copy(Ae))}function kt(Ae,Lt){let ht=d.get(Lt);ht===void 0&&(ht=new WeakMap,d.set(Lt,ht));let Bt=ht.get(Ae);Bt===void 0&&(Bt=t.getUniformBlockIndex(Lt,Ae.name),ht.set(Ae,Bt))}function Et(Ae,Lt){const Bt=d.get(Lt).get(Ae);u.get(Lt)!==Bt&&(t.uniformBlockBinding(Lt,Bt,Ae.__bindingPointIndex),u.set(Lt,Bt))}function tn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},se=null,j={},p={},y=new WeakMap,v=[],T=null,S=!1,b=null,E=null,R=null,P=null,D=null,G=null,V=null,K=new Kt(0,0,0),H=0,z=!1,k=null,Z=null,$=null,re=null,ie=null,J.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:Ce,disable:Xe,bindFramebuffer:nt,drawBuffers:rt,useProgram:ot,setBlending:le,setMaterial:ut,setFlipSided:et,setCullFace:Ye,setLineWidth:Ne,setPolygonOffset:Qe,setScissorTest:Ie,activeTexture:Ke,bindTexture:ct,unbindTexture:ae,compressedTexImage2D:Q,compressedTexImage3D:Me,texImage2D:St,texImage3D:tt,updateUBOMapping:kt,uniformBlockBinding:Et,texStorage2D:Je,texStorage3D:It,texSubImage2D:de,texSubImage3D:Se,compressedTexSubImage2D:Le,compressedTexSubImage3D:dt,scissor:Pt,viewport:Yt,reset:tn}}function qK(t,e,n,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new ft,f=new WeakMap;let p;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(ae,Q){return v?new OffscreenCanvas(ae,Q):w0("canvas")}function S(ae,Q,Me){let de=1;const Se=ct(ae);if((Se.width>Me||Se.height>Me)&&(de=Me/Math.max(Se.width,Se.height)),de<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Le=Math.floor(de*Se.width),dt=Math.floor(de*Se.height);p===void 0&&(p=T(Le,dt));const Je=Q?T(Le,dt):p;return Je.width=Le,Je.height=dt,Je.getContext("2d").drawImage(ae,0,0,Le,dt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Se.width+"x"+Se.height+") to ("+Le+"x"+dt+")."),Je}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Se.width+"x"+Se.height+")."),ae;return ae}function b(ae){return ae.generateMipmaps}function E(ae){t.generateMipmap(ae)}function R(ae){return ae.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?t.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function P(ae,Q,Me,de,Se=!1){if(ae!==null){if(t[ae]!==void 0)return t[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Le=Q;if(Q===t.RED&&(Me===t.FLOAT&&(Le=t.R32F),Me===t.HALF_FLOAT&&(Le=t.R16F),Me===t.UNSIGNED_BYTE&&(Le=t.R8)),Q===t.RED_INTEGER&&(Me===t.UNSIGNED_BYTE&&(Le=t.R8UI),Me===t.UNSIGNED_SHORT&&(Le=t.R16UI),Me===t.UNSIGNED_INT&&(Le=t.R32UI),Me===t.BYTE&&(Le=t.R8I),Me===t.SHORT&&(Le=t.R16I),Me===t.INT&&(Le=t.R32I)),Q===t.RG&&(Me===t.FLOAT&&(Le=t.RG32F),Me===t.HALF_FLOAT&&(Le=t.RG16F),Me===t.UNSIGNED_BYTE&&(Le=t.RG8)),Q===t.RG_INTEGER&&(Me===t.UNSIGNED_BYTE&&(Le=t.RG8UI),Me===t.UNSIGNED_SHORT&&(Le=t.RG16UI),Me===t.UNSIGNED_INT&&(Le=t.RG32UI),Me===t.BYTE&&(Le=t.RG8I),Me===t.SHORT&&(Le=t.RG16I),Me===t.INT&&(Le=t.RG32I)),Q===t.RGB_INTEGER&&(Me===t.UNSIGNED_BYTE&&(Le=t.RGB8UI),Me===t.UNSIGNED_SHORT&&(Le=t.RGB16UI),Me===t.UNSIGNED_INT&&(Le=t.RGB32UI),Me===t.BYTE&&(Le=t.RGB8I),Me===t.SHORT&&(Le=t.RGB16I),Me===t.INT&&(Le=t.RGB32I)),Q===t.RGBA_INTEGER&&(Me===t.UNSIGNED_BYTE&&(Le=t.RGBA8UI),Me===t.UNSIGNED_SHORT&&(Le=t.RGBA16UI),Me===t.UNSIGNED_INT&&(Le=t.RGBA32UI),Me===t.BYTE&&(Le=t.RGBA8I),Me===t.SHORT&&(Le=t.RGBA16I),Me===t.INT&&(Le=t.RGBA32I)),Q===t.RGB&&Me===t.UNSIGNED_INT_5_9_9_9_REV&&(Le=t.RGB9_E5),Q===t.RGBA){const dt=Se?T0:ei.getTransfer(de);Me===t.FLOAT&&(Le=t.RGBA32F),Me===t.HALF_FLOAT&&(Le=t.RGBA16F),Me===t.UNSIGNED_BYTE&&(Le=dt===gi?t.SRGB8_ALPHA8:t.RGBA8),Me===t.UNSIGNED_SHORT_4_4_4_4&&(Le=t.RGBA4),Me===t.UNSIGNED_SHORT_5_5_5_1&&(Le=t.RGB5_A1)}return(Le===t.R16F||Le===t.R32F||Le===t.RG16F||Le===t.RG32F||Le===t.RGBA16F||Le===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function D(ae,Q){let Me;return ae?Q===null||Q===Rc||Q===Zp?Me=t.DEPTH24_STENCIL8:Q===Wo?Me=t.DEPTH32F_STENCIL8:Q===qp&&(Me=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Q===null||Q===Rc||Q===Zp?Me=t.DEPTH_COMPONENT24:Q===Wo?Me=t.DEPTH_COMPONENT32F:Q===qp&&(Me=t.DEPTH_COMPONENT16),Me}function G(ae,Q){return b(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==Rs&&ae.minFilter!==Nr?Math.log2(Math.max(Q.width,Q.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?Q.mipmaps.length:1}function V(ae){const Q=ae.target;Q.removeEventListener("dispose",V),H(Q),Q.isVideoTexture&&f.delete(Q)}function K(ae){const Q=ae.target;Q.removeEventListener("dispose",K),k(Q)}function H(ae){const Q=i.get(ae);if(Q.__webglInit===void 0)return;const Me=ae.source,de=y.get(Me);if(de){const Se=de[Q.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&z(ae),Object.keys(de).length===0&&y.delete(Me)}i.remove(ae)}function z(ae){const Q=i.get(ae);t.deleteTexture(Q.__webglTexture);const Me=ae.source,de=y.get(Me);delete de[Q.__cacheKey],o.memory.textures--}function k(ae){const Q=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let de=0;de<6;de++){if(Array.isArray(Q.__webglFramebuffer[de]))for(let Se=0;Se<Q.__webglFramebuffer[de].length;Se++)t.deleteFramebuffer(Q.__webglFramebuffer[de][Se]);else t.deleteFramebuffer(Q.__webglFramebuffer[de]);Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer[de])}else{if(Array.isArray(Q.__webglFramebuffer))for(let de=0;de<Q.__webglFramebuffer.length;de++)t.deleteFramebuffer(Q.__webglFramebuffer[de]);else t.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let de=0;de<Q.__webglColorRenderbuffer.length;de++)Q.__webglColorRenderbuffer[de]&&t.deleteRenderbuffer(Q.__webglColorRenderbuffer[de]);Q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}const Me=ae.textures;for(let de=0,Se=Me.length;de<Se;de++){const Le=i.get(Me[de]);Le.__webglTexture&&(t.deleteTexture(Le.__webglTexture),o.memory.textures--),i.remove(Me[de])}i.remove(ae)}let Z=0;function $(){Z=0}function re(){const ae=Z;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),Z+=1,ae}function ie(ae){const Q=[];return Q.push(ae.wrapS),Q.push(ae.wrapT),Q.push(ae.wrapR||0),Q.push(ae.magFilter),Q.push(ae.minFilter),Q.push(ae.anisotropy),Q.push(ae.internalFormat),Q.push(ae.format),Q.push(ae.type),Q.push(ae.generateMipmaps),Q.push(ae.premultiplyAlpha),Q.push(ae.flipY),Q.push(ae.unpackAlignment),Q.push(ae.colorSpace),Q.join()}function ge(ae,Q){const Me=i.get(ae);if(ae.isVideoTexture&&Ie(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Me.__version!==ae.version){const de=ae.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{be(Me,ae,Q);return}}n.bindTexture(t.TEXTURE_2D,Me.__webglTexture,t.TEXTURE0+Q)}function fe(ae,Q){const Me=i.get(ae);if(ae.version>0&&Me.__version!==ae.version){be(Me,ae,Q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Me.__webglTexture,t.TEXTURE0+Q)}function he(ae,Q){const Me=i.get(ae);if(ae.version>0&&Me.__version!==ae.version){be(Me,ae,Q);return}n.bindTexture(t.TEXTURE_3D,Me.__webglTexture,t.TEXTURE0+Q)}function Y(ae,Q){const Me=i.get(ae);if(ae.version>0&&Me.__version!==ae.version){Ce(Me,ae,Q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture,t.TEXTURE0+Q)}const se={[v0]:t.REPEAT,[ja]:t.CLAMP_TO_EDGE,[_0]:t.MIRRORED_REPEAT},j={[Rs]:t.NEAREST,[ww]:t.NEAREST_MIPMAP_NEAREST,[wp]:t.NEAREST_MIPMAP_LINEAR,[Nr]:t.LINEAR,[Ug]:t.LINEAR_MIPMAP_NEAREST,[yu]:t.LINEAR_MIPMAP_LINEAR},ee={[WO]:t.NEVER,[KO]:t.ALWAYS,[GO]:t.LESS,[Ow]:t.LEQUAL,[YO]:t.EQUAL,[ZO]:t.GEQUAL,[XO]:t.GREATER,[qO]:t.NOTEQUAL};function ue(ae,Q){if(Q.type===Wo&&e.has("OES_texture_float_linear")===!1&&(Q.magFilter===Nr||Q.magFilter===Ug||Q.magFilter===wp||Q.magFilter===yu||Q.minFilter===Nr||Q.minFilter===Ug||Q.minFilter===wp||Q.minFilter===yu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ae,t.TEXTURE_WRAP_S,se[Q.wrapS]),t.texParameteri(ae,t.TEXTURE_WRAP_T,se[Q.wrapT]),(ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ae,t.TEXTURE_WRAP_R,se[Q.wrapR]),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,j[Q.magFilter]),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,j[Q.minFilter]),Q.compareFunction&&(t.texParameteri(ae,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ae,t.TEXTURE_COMPARE_FUNC,ee[Q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Q.magFilter===Rs||Q.minFilter!==wp&&Q.minFilter!==yu||Q.type===Wo&&e.has("OES_texture_float_linear")===!1)return;if(Q.anisotropy>1||i.get(Q).__currentAnisotropy){const Me=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ae,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,r.getMaxAnisotropy())),i.get(Q).__currentAnisotropy=Q.anisotropy}}}function J(ae,Q){let Me=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,Q.addEventListener("dispose",V));const de=Q.source;let Se=y.get(de);Se===void 0&&(Se={},y.set(de,Se));const Le=ie(Q);if(Le!==ae.__cacheKey){Se[Le]===void 0&&(Se[Le]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Me=!0),Se[Le].usedTimes++;const dt=Se[ae.__cacheKey];dt!==void 0&&(Se[ae.__cacheKey].usedTimes--,dt.usedTimes===0&&z(Q)),ae.__cacheKey=Le,ae.__webglTexture=Se[Le].texture}return Me}function pe(ae,Q,Me){return Math.floor(Math.floor(ae/Me)/Q)}function xe(ae,Q,Me,de){const Le=ae.updateRanges;if(Le.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Q.width,Q.height,Me,de,Q.data);else{Le.sort((tt,Pt)=>tt.start-Pt.start);let dt=0;for(let tt=1;tt<Le.length;tt++){const Pt=Le[dt],Yt=Le[tt],kt=Pt.start+Pt.count,Et=pe(Yt.start,Q.width,4),tn=pe(Pt.start,Q.width,4);Yt.start<=kt+1&&Et===tn&&pe(Yt.start+Yt.count-1,Q.width,4)===Et?Pt.count=Math.max(Pt.count,Yt.start+Yt.count-Pt.start):(++dt,Le[dt]=Yt)}Le.length=dt+1;const Je=t.getParameter(t.UNPACK_ROW_LENGTH),It=t.getParameter(t.UNPACK_SKIP_PIXELS),St=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Q.width);for(let tt=0,Pt=Le.length;tt<Pt;tt++){const Yt=Le[tt],kt=Math.floor(Yt.start/4),Et=Math.ceil(Yt.count/4),tn=kt%Q.width,Ae=Math.floor(kt/Q.width),Lt=Et,ht=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,tn),t.pixelStorei(t.UNPACK_SKIP_ROWS,Ae),n.texSubImage2D(t.TEXTURE_2D,0,tn,Ae,Lt,ht,Me,de,Q.data)}ae.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Je),t.pixelStorei(t.UNPACK_SKIP_PIXELS,It),t.pixelStorei(t.UNPACK_SKIP_ROWS,St)}}function be(ae,Q,Me){let de=t.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(de=t.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(de=t.TEXTURE_3D);const Se=J(ae,Q),Le=Q.source;n.bindTexture(de,ae.__webglTexture,t.TEXTURE0+Me);const dt=i.get(Le);if(Le.version!==dt.__version||Se===!0){n.activeTexture(t.TEXTURE0+Me);const Je=ei.getPrimaries(ei.workingColorSpace),It=Q.colorSpace===_c?null:ei.getPrimaries(Q.colorSpace),St=Q.colorSpace===_c||Je===It?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let tt=S(Q.image,!1,r.maxTextureSize);tt=Ke(Q,tt);const Pt=s.convert(Q.format,Q.colorSpace),Yt=s.convert(Q.type);let kt=P(Q.internalFormat,Pt,Yt,Q.colorSpace,Q.isVideoTexture);ue(de,Q);let Et;const tn=Q.mipmaps,Ae=Q.isVideoTexture!==!0,Lt=dt.__version===void 0||Se===!0,ht=Le.dataReady,Bt=G(Q,tt);if(Q.isDepthTexture)kt=D(Q.format===$p,Q.type),Lt&&(Ae?n.texStorage2D(t.TEXTURE_2D,1,kt,tt.width,tt.height):n.texImage2D(t.TEXTURE_2D,0,kt,tt.width,tt.height,0,Pt,Yt,null));else if(Q.isDataTexture)if(tn.length>0){Ae&&Lt&&n.texStorage2D(t.TEXTURE_2D,Bt,kt,tn[0].width,tn[0].height);for(let pt=0,st=tn.length;pt<st;pt++)Et=tn[pt],Ae?ht&&n.texSubImage2D(t.TEXTURE_2D,pt,0,0,Et.width,Et.height,Pt,Yt,Et.data):n.texImage2D(t.TEXTURE_2D,pt,kt,Et.width,Et.height,0,Pt,Yt,Et.data);Q.generateMipmaps=!1}else Ae?(Lt&&n.texStorage2D(t.TEXTURE_2D,Bt,kt,tt.width,tt.height),ht&&xe(Q,tt,Pt,Yt)):n.texImage2D(t.TEXTURE_2D,0,kt,tt.width,tt.height,0,Pt,Yt,tt.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){Ae&&Lt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Bt,kt,tn[0].width,tn[0].height,tt.depth);for(let pt=0,st=tn.length;pt<st;pt++)if(Et=tn[pt],Q.format!==Ys)if(Pt!==null)if(Ae){if(ht)if(Q.layerUpdates.size>0){const at=sS(Et.width,Et.height,Q.format,Q.type);for(const Ut of Q.layerUpdates){const cn=Et.data.subarray(Ut*at/Et.data.BYTES_PER_ELEMENT,(Ut+1)*at/Et.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,pt,0,0,Ut,Et.width,Et.height,1,Pt,cn)}Q.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,pt,0,0,0,Et.width,Et.height,tt.depth,Pt,Et.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,pt,kt,Et.width,Et.height,tt.depth,0,Et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ae?ht&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,pt,0,0,0,Et.width,Et.height,tt.depth,Pt,Yt,Et.data):n.texImage3D(t.TEXTURE_2D_ARRAY,pt,kt,Et.width,Et.height,tt.depth,0,Pt,Yt,Et.data)}else{Ae&&Lt&&n.texStorage2D(t.TEXTURE_2D,Bt,kt,tn[0].width,tn[0].height);for(let pt=0,st=tn.length;pt<st;pt++)Et=tn[pt],Q.format!==Ys?Pt!==null?Ae?ht&&n.compressedTexSubImage2D(t.TEXTURE_2D,pt,0,0,Et.width,Et.height,Pt,Et.data):n.compressedTexImage2D(t.TEXTURE_2D,pt,kt,Et.width,Et.height,0,Et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?ht&&n.texSubImage2D(t.TEXTURE_2D,pt,0,0,Et.width,Et.height,Pt,Yt,Et.data):n.texImage2D(t.TEXTURE_2D,pt,kt,Et.width,Et.height,0,Pt,Yt,Et.data)}else if(Q.isDataArrayTexture)if(Ae){if(Lt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Bt,kt,tt.width,tt.height,tt.depth),ht)if(Q.layerUpdates.size>0){const pt=sS(tt.width,tt.height,Q.format,Q.type);for(const st of Q.layerUpdates){const at=tt.data.subarray(st*pt/tt.data.BYTES_PER_ELEMENT,(st+1)*pt/tt.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,st,tt.width,tt.height,1,Pt,Yt,at)}Q.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,tt.width,tt.height,tt.depth,Pt,Yt,tt.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,kt,tt.width,tt.height,tt.depth,0,Pt,Yt,tt.data);else if(Q.isData3DTexture)Ae?(Lt&&n.texStorage3D(t.TEXTURE_3D,Bt,kt,tt.width,tt.height,tt.depth),ht&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,tt.width,tt.height,tt.depth,Pt,Yt,tt.data)):n.texImage3D(t.TEXTURE_3D,0,kt,tt.width,tt.height,tt.depth,0,Pt,Yt,tt.data);else if(Q.isFramebufferTexture){if(Lt)if(Ae)n.texStorage2D(t.TEXTURE_2D,Bt,kt,tt.width,tt.height);else{let pt=tt.width,st=tt.height;for(let at=0;at<Bt;at++)n.texImage2D(t.TEXTURE_2D,at,kt,pt,st,0,Pt,Yt,null),pt>>=1,st>>=1}}else if(tn.length>0){if(Ae&&Lt){const pt=ct(tn[0]);n.texStorage2D(t.TEXTURE_2D,Bt,kt,pt.width,pt.height)}for(let pt=0,st=tn.length;pt<st;pt++)Et=tn[pt],Ae?ht&&n.texSubImage2D(t.TEXTURE_2D,pt,0,0,Pt,Yt,Et):n.texImage2D(t.TEXTURE_2D,pt,kt,Pt,Yt,Et);Q.generateMipmaps=!1}else if(Ae){if(Lt){const pt=ct(tt);n.texStorage2D(t.TEXTURE_2D,Bt,kt,pt.width,pt.height)}ht&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Pt,Yt,tt)}else n.texImage2D(t.TEXTURE_2D,0,kt,Pt,Yt,tt);b(Q)&&E(de),dt.__version=Le.version,Q.onUpdate&&Q.onUpdate(Q)}ae.__version=Q.version}function Ce(ae,Q,Me){if(Q.image.length!==6)return;const de=J(ae,Q),Se=Q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+Me);const Le=i.get(Se);if(Se.version!==Le.__version||de===!0){n.activeTexture(t.TEXTURE0+Me);const dt=ei.getPrimaries(ei.workingColorSpace),Je=Q.colorSpace===_c?null:ei.getPrimaries(Q.colorSpace),It=Q.colorSpace===_c||dt===Je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,It);const St=Q.isCompressedTexture||Q.image[0].isCompressedTexture,tt=Q.image[0]&&Q.image[0].isDataTexture,Pt=[];for(let st=0;st<6;st++)!St&&!tt?Pt[st]=S(Q.image[st],!0,r.maxCubemapSize):Pt[st]=tt?Q.image[st].image:Q.image[st],Pt[st]=Ke(Q,Pt[st]);const Yt=Pt[0],kt=s.convert(Q.format,Q.colorSpace),Et=s.convert(Q.type),tn=P(Q.internalFormat,kt,Et,Q.colorSpace),Ae=Q.isVideoTexture!==!0,Lt=Le.__version===void 0||de===!0,ht=Se.dataReady;let Bt=G(Q,Yt);ue(t.TEXTURE_CUBE_MAP,Q);let pt;if(St){Ae&&Lt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Bt,tn,Yt.width,Yt.height);for(let st=0;st<6;st++){pt=Pt[st].mipmaps;for(let at=0;at<pt.length;at++){const Ut=pt[at];Q.format!==Ys?kt!==null?Ae?ht&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at,0,0,Ut.width,Ut.height,kt,Ut.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at,tn,Ut.width,Ut.height,0,Ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?ht&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at,0,0,Ut.width,Ut.height,kt,Et,Ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at,tn,Ut.width,Ut.height,0,kt,Et,Ut.data)}}}else{if(pt=Q.mipmaps,Ae&&Lt){pt.length>0&&Bt++;const st=ct(Pt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Bt,tn,st.width,st.height)}for(let st=0;st<6;st++)if(tt){Ae?ht&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,Pt[st].width,Pt[st].height,kt,Et,Pt[st].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,tn,Pt[st].width,Pt[st].height,0,kt,Et,Pt[st].data);for(let at=0;at<pt.length;at++){const cn=pt[at].image[st].image;Ae?ht&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at+1,0,0,cn.width,cn.height,kt,Et,cn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at+1,tn,cn.width,cn.height,0,kt,Et,cn.data)}}else{Ae?ht&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,0,0,kt,Et,Pt[st]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0,tn,kt,Et,Pt[st]);for(let at=0;at<pt.length;at++){const Ut=pt[at];Ae?ht&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at+1,0,0,kt,Et,Ut.image[st]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+st,at+1,tn,kt,Et,Ut.image[st])}}}b(Q)&&E(t.TEXTURE_CUBE_MAP),Le.__version=Se.version,Q.onUpdate&&Q.onUpdate(Q)}ae.__version=Q.version}function Xe(ae,Q,Me,de,Se,Le){const dt=s.convert(Me.format,Me.colorSpace),Je=s.convert(Me.type),It=P(Me.internalFormat,dt,Je,Me.colorSpace),St=i.get(Q),tt=i.get(Me);if(tt.__renderTarget=Q,!St.__hasExternalTextures){const Pt=Math.max(1,Q.width>>Le),Yt=Math.max(1,Q.height>>Le);Se===t.TEXTURE_3D||Se===t.TEXTURE_2D_ARRAY?n.texImage3D(Se,Le,It,Pt,Yt,Q.depth,0,dt,Je,null):n.texImage2D(Se,Le,It,Pt,Yt,0,dt,Je,null)}n.bindFramebuffer(t.FRAMEBUFFER,ae),Qe(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,de,Se,tt.__webglTexture,0,Ne(Q)):(Se===t.TEXTURE_2D||Se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,de,Se,tt.__webglTexture,Le),n.bindFramebuffer(t.FRAMEBUFFER,null)}function nt(ae,Q,Me){if(t.bindRenderbuffer(t.RENDERBUFFER,ae),Q.depthBuffer){const de=Q.depthTexture,Se=de&&de.isDepthTexture?de.type:null,Le=D(Q.stencilBuffer,Se),dt=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Je=Ne(Q);Qe(Q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Je,Le,Q.width,Q.height):Me?t.renderbufferStorageMultisample(t.RENDERBUFFER,Je,Le,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,Le,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,dt,t.RENDERBUFFER,ae)}else{const de=Q.textures;for(let Se=0;Se<de.length;Se++){const Le=de[Se],dt=s.convert(Le.format,Le.colorSpace),Je=s.convert(Le.type),It=P(Le.internalFormat,dt,Je,Le.colorSpace),St=Ne(Q);Me&&Qe(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,St,It,Q.width,Q.height):Qe(Q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,St,It,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,It,Q.width,Q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function rt(ae,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ae),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const de=i.get(Q.depthTexture);de.__renderTarget=Q,(!de.__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),ge(Q.depthTexture,0);const Se=de.__webglTexture,Le=Ne(Q);if(Q.depthTexture.format===Kp)Qe(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(Q.depthTexture.format===$p)Qe(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,Le):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function ot(ae){const Q=i.get(ae),Me=ae.isWebGLCubeRenderTarget===!0;if(Q.__boundDepthTexture!==ae.depthTexture){const de=ae.depthTexture;if(Q.__depthDisposeCallback&&Q.__depthDisposeCallback(),de){const Se=()=>{delete Q.__boundDepthTexture,delete Q.__depthDisposeCallback,de.removeEventListener("dispose",Se)};de.addEventListener("dispose",Se),Q.__depthDisposeCallback=Se}Q.__boundDepthTexture=de}if(ae.depthTexture&&!Q.__autoAllocateDepthBuffer){if(Me)throw new Error("target.depthTexture not supported in Cube render targets");const de=ae.texture.mipmaps;de&&de.length>0?rt(Q.__webglFramebuffer[0],ae):rt(Q.__webglFramebuffer,ae)}else if(Me){Q.__webglDepthbuffer=[];for(let de=0;de<6;de++)if(n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer[de]),Q.__webglDepthbuffer[de]===void 0)Q.__webglDepthbuffer[de]=t.createRenderbuffer(),nt(Q.__webglDepthbuffer[de],ae,!1);else{const Se=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=Q.__webglDepthbuffer[de];t.bindRenderbuffer(t.RENDERBUFFER,Le),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,Le)}}else{const de=ae.texture.mipmaps;if(de&&de.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer),Q.__webglDepthbuffer===void 0)Q.__webglDepthbuffer=t.createRenderbuffer(),nt(Q.__webglDepthbuffer,ae,!1);else{const Se=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=Q.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Le),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,Le)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function _t(ae,Q,Me){const de=i.get(ae);Q!==void 0&&Xe(de.__webglFramebuffer,ae,ae.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Me!==void 0&&ot(ae)}function yt(ae){const Q=ae.texture,Me=i.get(ae),de=i.get(Q);ae.addEventListener("dispose",K);const Se=ae.textures,Le=ae.isWebGLCubeRenderTarget===!0,dt=Se.length>1;if(dt||(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=Q.version,o.memory.textures++),Le){Me.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)if(Q.mipmaps&&Q.mipmaps.length>0){Me.__webglFramebuffer[Je]=[];for(let It=0;It<Q.mipmaps.length;It++)Me.__webglFramebuffer[Je][It]=t.createFramebuffer()}else Me.__webglFramebuffer[Je]=t.createFramebuffer()}else{if(Q.mipmaps&&Q.mipmaps.length>0){Me.__webglFramebuffer=[];for(let Je=0;Je<Q.mipmaps.length;Je++)Me.__webglFramebuffer[Je]=t.createFramebuffer()}else Me.__webglFramebuffer=t.createFramebuffer();if(dt)for(let Je=0,It=Se.length;Je<It;Je++){const St=i.get(Se[Je]);St.__webglTexture===void 0&&(St.__webglTexture=t.createTexture(),o.memory.textures++)}if(ae.samples>0&&Qe(ae)===!1){Me.__webglMultisampledFramebuffer=t.createFramebuffer(),Me.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Me.__webglMultisampledFramebuffer);for(let Je=0;Je<Se.length;Je++){const It=Se[Je];Me.__webglColorRenderbuffer[Je]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Me.__webglColorRenderbuffer[Je]);const St=s.convert(It.format,It.colorSpace),tt=s.convert(It.type),Pt=P(It.internalFormat,St,tt,It.colorSpace,ae.isXRRenderTarget===!0),Yt=Ne(ae);t.renderbufferStorageMultisample(t.RENDERBUFFER,Yt,Pt,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,Me.__webglColorRenderbuffer[Je])}t.bindRenderbuffer(t.RENDERBUFFER,null),ae.depthBuffer&&(Me.__webglDepthRenderbuffer=t.createRenderbuffer(),nt(Me.__webglDepthRenderbuffer,ae,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Le){n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture),ue(t.TEXTURE_CUBE_MAP,Q);for(let Je=0;Je<6;Je++)if(Q.mipmaps&&Q.mipmaps.length>0)for(let It=0;It<Q.mipmaps.length;It++)Xe(Me.__webglFramebuffer[Je][It],ae,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,It);else Xe(Me.__webglFramebuffer[Je],ae,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0);b(Q)&&E(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(dt){for(let Je=0,It=Se.length;Je<It;Je++){const St=Se[Je],tt=i.get(St);n.bindTexture(t.TEXTURE_2D,tt.__webglTexture),ue(t.TEXTURE_2D,St),Xe(Me.__webglFramebuffer,ae,St,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,0),b(St)&&E(t.TEXTURE_2D)}n.unbindTexture()}else{let Je=t.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(Je=ae.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Je,de.__webglTexture),ue(Je,Q),Q.mipmaps&&Q.mipmaps.length>0)for(let It=0;It<Q.mipmaps.length;It++)Xe(Me.__webglFramebuffer[It],ae,Q,t.COLOR_ATTACHMENT0,Je,It);else Xe(Me.__webglFramebuffer,ae,Q,t.COLOR_ATTACHMENT0,Je,0);b(Q)&&E(Je),n.unbindTexture()}ae.depthBuffer&&ot(ae)}function le(ae){const Q=ae.textures;for(let Me=0,de=Q.length;Me<de;Me++){const Se=Q[Me];if(b(Se)){const Le=R(ae),dt=i.get(Se).__webglTexture;n.bindTexture(Le,dt),E(Le),n.unbindTexture()}}}const ut=[],et=[];function Ye(ae){if(ae.samples>0){if(Qe(ae)===!1){const Q=ae.textures,Me=ae.width,de=ae.height;let Se=t.COLOR_BUFFER_BIT;const Le=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,dt=i.get(ae),Je=Q.length>1;if(Je)for(let St=0;St<Q.length;St++)n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,dt.__webglMultisampledFramebuffer);const It=ae.texture.mipmaps;It&&It.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglFramebuffer);for(let St=0;St<Q.length;St++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Se|=t.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Se|=t.STENCIL_BUFFER_BIT)),Je){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,dt.__webglColorRenderbuffer[St]);const tt=i.get(Q[St]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,tt,0)}t.blitFramebuffer(0,0,Me,de,0,0,Me,de,Se,t.NEAREST),u===!0&&(ut.length=0,et.length=0,ut.push(t.COLOR_ATTACHMENT0+St),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(ut.push(Le),et.push(Le),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,et)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ut))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Je)for(let St=0;St<Q.length;St++){n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,dt.__webglColorRenderbuffer[St]);const tt=i.get(Q[St]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,dt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,tt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,dt.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&u){const Q=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Q])}}}function Ne(ae){return Math.min(r.maxSamples,ae.samples)}function Qe(ae){const Q=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function Ie(ae){const Q=o.render.frame;f.get(ae)!==Q&&(f.set(ae,Q),ae.update())}function Ke(ae,Q){const Me=ae.colorSpace,de=ae.format,Se=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Me!==mf&&Me!==_c&&(ei.getTransfer(Me)===gi?(de!==Ys||Se!==Ya)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Me)),Q}function ct(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(d.width=ae.naturalWidth||ae.width,d.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(d.width=ae.displayWidth,d.height=ae.displayHeight):(d.width=ae.width,d.height=ae.height),d}this.allocateTextureUnit=re,this.resetTextureUnits=$,this.setTexture2D=ge,this.setTexture2DArray=fe,this.setTexture3D=he,this.setTextureCube=Y,this.rebindTextures=_t,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=le,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=ot,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=Qe}function lD(t,e){function n(i,r=_c){let s;const o=ei.getTransfer(r);if(i===Ya)return t.UNSIGNED_BYTE;if(i===Qx)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Jx)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Mw)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===Cw)return t.BYTE;if(i===Aw)return t.SHORT;if(i===qp)return t.UNSIGNED_SHORT;if(i===$x)return t.INT;if(i===Rc)return t.UNSIGNED_INT;if(i===Wo)return t.FLOAT;if(i===mm)return t.HALF_FLOAT;if(i===Pw)return t.ALPHA;if(i===Rw)return t.RGB;if(i===Ys)return t.RGBA;if(i===Kp)return t.DEPTH_COMPONENT;if(i===$p)return t.DEPTH_STENCIL;if(i===e1)return t.RED;if(i===Z0)return t.RED_INTEGER;if(i===Iw)return t.RG;if(i===t1)return t.RG_INTEGER;if(i===n1)return t.RGBA_INTEGER;if(i===zg||i===Hg||i===Vg||i===jg)if(o===gi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===zg)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Hg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Vg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===jg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===zg)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Hg)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Vg)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===jg)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===V_||i===j_||i===W_||i===G_)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===V_)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===j_)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===W_)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===G_)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Y_||i===X_||i===q_)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Y_||i===X_)return o===gi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===q_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Z_||i===K_||i===$_||i===Q_||i===J_||i===ex||i===tx||i===nx||i===ix||i===rx||i===sx||i===ox||i===ax||i===lx)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Z_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===K_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===$_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Q_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===J_)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===ex)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===tx)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===nx)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===ix)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===rx)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===sx)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===ox)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===ax)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===lx)return o===gi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Wg||i===ux||i===cx)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Wg)return o===gi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===ux)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===cx)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Lw||i===dx||i===hx||i===fx)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Wg)return s.COMPRESSED_RED_RGTC1_EXT;if(i===dx)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===hx)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===fx)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Zp?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const ZK=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,KK=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $K{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new rr,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!==i.depthNear||n.depthFar!==i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Xa({vertexShader:ZK,fragmentShader:KK,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Or(new vm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class QK extends Ru{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",u=1,d=null,f=null,p=null,y=null,v=null,T=null;const S=new $K,b=n.getContextAttributes();let E=null,R=null;const P=[],D=[],G=new ft;let V=null;const K=new us;K.viewport=new ri;const H=new us;H.viewport=new ri;const z=[K,H],k=new $k;let Z=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let xe=P[pe];return xe===void 0&&(xe=new d_,P[pe]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(pe){let xe=P[pe];return xe===void 0&&(xe=new d_,P[pe]=xe),xe.getGripSpace()},this.getHand=function(pe){let xe=P[pe];return xe===void 0&&(xe=new d_,P[pe]=xe),xe.getHandSpace()};function re(pe){const xe=D.indexOf(pe.inputSource);if(xe===-1)return;const be=P[xe];be!==void 0&&(be.update(pe.inputSource,pe.frame,d||o),be.dispatchEvent({type:pe.type,data:pe.inputSource}))}function ie(){r.removeEventListener("select",re),r.removeEventListener("selectstart",re),r.removeEventListener("selectend",re),r.removeEventListener("squeeze",re),r.removeEventListener("squeezestart",re),r.removeEventListener("squeezeend",re),r.removeEventListener("end",ie),r.removeEventListener("inputsourceschange",ge);for(let pe=0;pe<P.length;pe++){const xe=D[pe];xe!==null&&(D[pe]=null,P[pe].disconnect(xe))}Z=null,$=null,S.reset(),e.setRenderTarget(E),v=null,y=null,p=null,r=null,R=null,J.stop(),i.isPresenting=!1,e.setPixelRatio(V),e.setSize(G.width,G.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){s=pe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){a=pe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(pe){d=pe},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return p},this.getFrame=function(){return T},this.getSession=function(){return r},this.setSession=async function(pe){if(r=pe,r!==null){if(E=e.getRenderTarget(),r.addEventListener("select",re),r.addEventListener("selectstart",re),r.addEventListener("selectend",re),r.addEventListener("squeeze",re),r.addEventListener("squeezestart",re),r.addEventListener("squeezeend",re),r.addEventListener("end",ie),r.addEventListener("inputsourceschange",ge),b.xrCompatible!==!0&&await n.makeXRCompatible(),V=e.getPixelRatio(),e.getSize(G),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let be=null,Ce=null,Xe=null;b.depth&&(Xe=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,be=b.stencil?$p:Kp,Ce=b.stencil?Zp:Rc);const nt={colorFormat:n.RGBA8,depthFormat:Xe,scaleFactor:s};p=new XRWebGLBinding(r,n),y=p.createProjectionLayer(nt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),R=new Au(y.textureWidth,y.textureHeight,{format:Ys,type:Ya,depthTexture:new Vw(y.textureWidth,y.textureHeight,Ce,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const be={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,n,be),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),R=new Au(v.framebufferWidth,v.framebufferHeight,{format:Ys,type:Ya,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(u),d=null,o=await r.requestReferenceSpace(a),J.setContext(r),J.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function ge(pe){for(let xe=0;xe<pe.removed.length;xe++){const be=pe.removed[xe],Ce=D.indexOf(be);Ce>=0&&(D[Ce]=null,P[Ce].disconnect(be))}for(let xe=0;xe<pe.added.length;xe++){const be=pe.added[xe];let Ce=D.indexOf(be);if(Ce===-1){for(let nt=0;nt<P.length;nt++)if(nt>=D.length){D.push(be),Ce=nt;break}else if(D[nt]===null){D[nt]=be,Ce=nt;break}if(Ce===-1)break}const Xe=P[Ce];Xe&&Xe.connect(be)}}const fe=new me,he=new me;function Y(pe,xe,be){fe.setFromMatrixPosition(xe.matrixWorld),he.setFromMatrixPosition(be.matrixWorld);const Ce=fe.distanceTo(he),Xe=xe.projectionMatrix.elements,nt=be.projectionMatrix.elements,rt=Xe[14]/(Xe[10]-1),ot=Xe[14]/(Xe[10]+1),_t=(Xe[9]+1)/Xe[5],yt=(Xe[9]-1)/Xe[5],le=(Xe[8]-1)/Xe[0],ut=(nt[8]+1)/nt[0],et=rt*le,Ye=rt*ut,Ne=Ce/(-le+ut),Qe=Ne*-le;if(xe.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(Qe),pe.translateZ(Ne),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert(),Xe[10]===-1)pe.projectionMatrix.copy(xe.projectionMatrix),pe.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Ie=rt+Ne,Ke=ot+Ne,ct=et-Qe,ae=Ye+(Ce-Qe),Q=_t*ot/Ke*Ie,Me=yt*ot/Ke*Ie;pe.projectionMatrix.makePerspective(ct,ae,Q,Me,Ie,Ke),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}}function se(pe,xe){xe===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(xe.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(r===null)return;let xe=pe.near,be=pe.far;S.texture!==null&&(S.depthNear>0&&(xe=S.depthNear),S.depthFar>0&&(be=S.depthFar)),k.near=H.near=K.near=xe,k.far=H.far=K.far=be,(Z!==k.near||$!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),Z=k.near,$=k.far),K.layers.mask=pe.layers.mask|2,H.layers.mask=pe.layers.mask|4,k.layers.mask=K.layers.mask|H.layers.mask;const Ce=pe.parent,Xe=k.cameras;se(k,Ce);for(let nt=0;nt<Xe.length;nt++)se(Xe[nt],Ce);Xe.length===2?Y(k,K,H):k.projectionMatrix.copy(K.projectionMatrix),j(pe,k,Ce)};function j(pe,xe,be){be===null?pe.matrix.copy(xe.matrixWorld):(pe.matrix.copy(be.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(xe.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(xe.projectionMatrix),pe.projectionMatrixInverse.copy(xe.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=Qp*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(y===null&&v===null))return u},this.setFoveation=function(pe){u=pe,y!==null&&(y.fixedFoveation=pe),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=pe)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(k)};let ee=null;function ue(pe,xe){if(f=xe.getViewerPose(d||o),T=xe,f!==null){const be=f.views;v!==null&&(e.setRenderTargetFramebuffer(R,v.framebuffer),e.setRenderTarget(R));let Ce=!1;be.length!==k.cameras.length&&(k.cameras.length=0,Ce=!0);for(let rt=0;rt<be.length;rt++){const ot=be[rt];let _t=null;if(v!==null)_t=v.getViewport(ot);else{const le=p.getViewSubImage(y,ot);_t=le.viewport,rt===0&&(e.setRenderTargetTextures(R,le.colorTexture,le.depthStencilTexture),e.setRenderTarget(R))}let yt=z[rt];yt===void 0&&(yt=new us,yt.layers.enable(rt),yt.viewport=new ri,z[rt]=yt),yt.matrix.fromArray(ot.transform.matrix),yt.matrix.decompose(yt.position,yt.quaternion,yt.scale),yt.projectionMatrix.fromArray(ot.projectionMatrix),yt.projectionMatrixInverse.copy(yt.projectionMatrix).invert(),yt.viewport.set(_t.x,_t.y,_t.width,_t.height),rt===0&&(k.matrix.copy(yt.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),Ce===!0&&k.cameras.push(yt)}const Xe=r.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&p){const rt=p.getDepthInformation(be[0]);rt&&rt.isValid&&rt.texture&&S.init(e,rt,r.renderState)}}for(let be=0;be<P.length;be++){const Ce=D[be],Xe=P[be];Ce!==null&&Xe!==void 0&&Xe.update(Ce,xe,d||o)}ee&&ee(pe,xe),xe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:xe}),T=null}const J=new iD;J.setAnimationLoop(ue),this.setAnimationLoop=function(pe){ee=pe},this.dispose=function(){}}}const jh=new ba,JK=new vn;function e$(t,e){function n(b,E){b.matrixAutoUpdate===!0&&b.updateMatrix(),E.value.copy(b.matrix)}function i(b,E){E.color.getRGB(b.fogColor.value,tk(t)),E.isFog?(b.fogNear.value=E.near,b.fogFar.value=E.far):E.isFogExp2&&(b.fogDensity.value=E.density)}function r(b,E,R,P,D){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(b,E):E.isMeshToonMaterial?(s(b,E),p(b,E)):E.isMeshPhongMaterial?(s(b,E),f(b,E)):E.isMeshStandardMaterial?(s(b,E),y(b,E),E.isMeshPhysicalMaterial&&v(b,E,D)):E.isMeshMatcapMaterial?(s(b,E),T(b,E)):E.isMeshDepthMaterial?s(b,E):E.isMeshDistanceMaterial?(s(b,E),S(b,E)):E.isMeshNormalMaterial?s(b,E):E.isLineBasicMaterial?(o(b,E),E.isLineDashedMaterial&&a(b,E)):E.isPointsMaterial?u(b,E,R,P):E.isSpriteMaterial?d(b,E):E.isShadowMaterial?(b.color.value.copy(E.color),b.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function s(b,E){b.opacity.value=E.opacity,E.color&&b.diffuse.value.copy(E.color),E.emissive&&b.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(b.map.value=E.map,n(E.map,b.mapTransform)),E.alphaMap&&(b.alphaMap.value=E.alphaMap,n(E.alphaMap,b.alphaMapTransform)),E.bumpMap&&(b.bumpMap.value=E.bumpMap,n(E.bumpMap,b.bumpMapTransform),b.bumpScale.value=E.bumpScale,E.side===_o&&(b.bumpScale.value*=-1)),E.normalMap&&(b.normalMap.value=E.normalMap,n(E.normalMap,b.normalMapTransform),b.normalScale.value.copy(E.normalScale),E.side===_o&&b.normalScale.value.negate()),E.displacementMap&&(b.displacementMap.value=E.displacementMap,n(E.displacementMap,b.displacementMapTransform),b.displacementScale.value=E.displacementScale,b.displacementBias.value=E.displacementBias),E.emissiveMap&&(b.emissiveMap.value=E.emissiveMap,n(E.emissiveMap,b.emissiveMapTransform)),E.specularMap&&(b.specularMap.value=E.specularMap,n(E.specularMap,b.specularMapTransform)),E.alphaTest>0&&(b.alphaTest.value=E.alphaTest);const R=e.get(E),P=R.envMap,D=R.envMapRotation;P&&(b.envMap.value=P,jh.copy(D),jh.x*=-1,jh.y*=-1,jh.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(jh.y*=-1,jh.z*=-1),b.envMapRotation.value.setFromMatrix4(JK.makeRotationFromEuler(jh)),b.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=E.reflectivity,b.ior.value=E.ior,b.refractionRatio.value=E.refractionRatio),E.lightMap&&(b.lightMap.value=E.lightMap,b.lightMapIntensity.value=E.lightMapIntensity,n(E.lightMap,b.lightMapTransform)),E.aoMap&&(b.aoMap.value=E.aoMap,b.aoMapIntensity.value=E.aoMapIntensity,n(E.aoMap,b.aoMapTransform))}function o(b,E){b.diffuse.value.copy(E.color),b.opacity.value=E.opacity,E.map&&(b.map.value=E.map,n(E.map,b.mapTransform))}function a(b,E){b.dashSize.value=E.dashSize,b.totalSize.value=E.dashSize+E.gapSize,b.scale.value=E.scale}function u(b,E,R,P){b.diffuse.value.copy(E.color),b.opacity.value=E.opacity,b.size.value=E.size*R,b.scale.value=P*.5,E.map&&(b.map.value=E.map,n(E.map,b.uvTransform)),E.alphaMap&&(b.alphaMap.value=E.alphaMap,n(E.alphaMap,b.alphaMapTransform)),E.alphaTest>0&&(b.alphaTest.value=E.alphaTest)}function d(b,E){b.diffuse.value.copy(E.color),b.opacity.value=E.opacity,b.rotation.value=E.rotation,E.map&&(b.map.value=E.map,n(E.map,b.mapTransform)),E.alphaMap&&(b.alphaMap.value=E.alphaMap,n(E.alphaMap,b.alphaMapTransform)),E.alphaTest>0&&(b.alphaTest.value=E.alphaTest)}function f(b,E){b.specular.value.copy(E.specular),b.shininess.value=Math.max(E.shininess,1e-4)}function p(b,E){E.gradientMap&&(b.gradientMap.value=E.gradientMap)}function y(b,E){b.metalness.value=E.metalness,E.metalnessMap&&(b.metalnessMap.value=E.metalnessMap,n(E.metalnessMap,b.metalnessMapTransform)),b.roughness.value=E.roughness,E.roughnessMap&&(b.roughnessMap.value=E.roughnessMap,n(E.roughnessMap,b.roughnessMapTransform)),E.envMap&&(b.envMapIntensity.value=E.envMapIntensity)}function v(b,E,R){b.ior.value=E.ior,E.sheen>0&&(b.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),b.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(b.sheenColorMap.value=E.sheenColorMap,n(E.sheenColorMap,b.sheenColorMapTransform)),E.sheenRoughnessMap&&(b.sheenRoughnessMap.value=E.sheenRoughnessMap,n(E.sheenRoughnessMap,b.sheenRoughnessMapTransform))),E.clearcoat>0&&(b.clearcoat.value=E.clearcoat,b.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(b.clearcoatMap.value=E.clearcoatMap,n(E.clearcoatMap,b.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,n(E.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(b.clearcoatNormalMap.value=E.clearcoatNormalMap,n(E.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===_o&&b.clearcoatNormalScale.value.negate())),E.dispersion>0&&(b.dispersion.value=E.dispersion),E.iridescence>0&&(b.iridescence.value=E.iridescence,b.iridescenceIOR.value=E.iridescenceIOR,b.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(b.iridescenceMap.value=E.iridescenceMap,n(E.iridescenceMap,b.iridescenceMapTransform)),E.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=E.iridescenceThicknessMap,n(E.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),E.transmission>0&&(b.transmission.value=E.transmission,b.transmissionSamplerMap.value=R.texture,b.transmissionSamplerSize.value.set(R.width,R.height),E.transmissionMap&&(b.transmissionMap.value=E.transmissionMap,n(E.transmissionMap,b.transmissionMapTransform)),b.thickness.value=E.thickness,E.thicknessMap&&(b.thicknessMap.value=E.thicknessMap,n(E.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=E.attenuationDistance,b.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(b.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(b.anisotropyMap.value=E.anisotropyMap,n(E.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=E.specularIntensity,b.specularColor.value.copy(E.specularColor),E.specularColorMap&&(b.specularColorMap.value=E.specularColorMap,n(E.specularColorMap,b.specularColorMapTransform)),E.specularIntensityMap&&(b.specularIntensityMap.value=E.specularIntensityMap,n(E.specularIntensityMap,b.specularIntensityMapTransform))}function T(b,E){E.matcap&&(b.matcap.value=E.matcap)}function S(b,E){const R=e.get(E).light;b.referencePosition.value.setFromMatrixPosition(R.matrixWorld),b.nearDistance.value=R.shadow.camera.near,b.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function t$(t,e,n,i){let r={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,P){const D=P.program;i.uniformBlockBinding(R,D)}function d(R,P){let D=r[R.id];D===void 0&&(T(R),D=f(R),r[R.id]=D,R.addEventListener("dispose",b));const G=P.program;i.updateUBOMapping(R,G);const V=e.render.frame;s[R.id]!==V&&(y(R),s[R.id]=V)}function f(R){const P=p();R.__bindingPointIndex=P;const D=t.createBuffer(),G=R.__size,V=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,D),t.bufferData(t.UNIFORM_BUFFER,G,V),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,P,D),D}function p(){for(let R=0;R<a;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const P=r[R.id],D=R.uniforms,G=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,P);for(let V=0,K=D.length;V<K;V++){const H=Array.isArray(D[V])?D[V]:[D[V]];for(let z=0,k=H.length;z<k;z++){const Z=H[z];if(v(Z,V,z,G)===!0){const $=Z.__offset,re=Array.isArray(Z.value)?Z.value:[Z.value];let ie=0;for(let ge=0;ge<re.length;ge++){const fe=re[ge],he=S(fe);typeof fe=="number"||typeof fe=="boolean"?(Z.__data[0]=fe,t.bufferSubData(t.UNIFORM_BUFFER,$+ie,Z.__data)):fe.isMatrix3?(Z.__data[0]=fe.elements[0],Z.__data[1]=fe.elements[1],Z.__data[2]=fe.elements[2],Z.__data[3]=0,Z.__data[4]=fe.elements[3],Z.__data[5]=fe.elements[4],Z.__data[6]=fe.elements[5],Z.__data[7]=0,Z.__data[8]=fe.elements[6],Z.__data[9]=fe.elements[7],Z.__data[10]=fe.elements[8],Z.__data[11]=0):(fe.toArray(Z.__data,ie),ie+=he.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,Z.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(R,P,D,G){const V=R.value,K=P+"_"+D;if(G[K]===void 0)return typeof V=="number"||typeof V=="boolean"?G[K]=V:G[K]=V.clone(),!0;{const H=G[K];if(typeof V=="number"||typeof V=="boolean"){if(H!==V)return G[K]=V,!0}else if(H.equals(V)===!1)return H.copy(V),!0}return!1}function T(R){const P=R.uniforms;let D=0;const G=16;for(let K=0,H=P.length;K<H;K++){const z=Array.isArray(P[K])?P[K]:[P[K]];for(let k=0,Z=z.length;k<Z;k++){const $=z[k],re=Array.isArray($.value)?$.value:[$.value];for(let ie=0,ge=re.length;ie<ge;ie++){const fe=re[ie],he=S(fe),Y=D%G,se=Y%he.boundary,j=Y+se;D+=se,j!==0&&G-j<he.storage&&(D+=G-j),$.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=D,D+=he.storage}}}const V=D%G;return V>0&&(D+=G-V),R.__size=D,R.__cache={},this}function S(R){const P={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(P.boundary=4,P.storage=4):R.isVector2?(P.boundary=8,P.storage=8):R.isVector3||R.isColor?(P.boundary=16,P.storage=12):R.isVector4?(P.boundary=16,P.storage=16):R.isMatrix3?(P.boundary=48,P.storage=48):R.isMatrix4?(P.boundary=64,P.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),P}function b(R){const P=R.target;P.removeEventListener("dispose",b);const D=o.indexOf(P.__bindingPointIndex);o.splice(D,1),t.deleteBuffer(r[P.id]),delete r[P.id],delete s[P.id]}function E(){for(const R in r)t.deleteBuffer(r[R]);o=[],r={},s={}}return{bind:u,update:d,dispose:E}}class uD{constructor(e={}){const{canvas:n=QO(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=o;const T=new Uint32Array(4),S=new Int32Array(4);let b=null,E=null;const R=[],P=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=xu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let G=!1;this._outputColorSpace=Vo;let V=0,K=0,H=null,z=-1,k=null;const Z=new ri,$=new ri;let re=null;const ie=new Kt(0);let ge=0,fe=n.width,he=n.height,Y=1,se=null,j=null;const ee=new ri(0,0,fe,he),ue=new ri(0,0,fe,he);let J=!1;const pe=new ym;let xe=!1,be=!1;const Ce=new vn,Xe=new vn,nt=new me,rt=new ri,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let _t=!1;function yt(){return H===null?Y:1}let le=i;function ut(oe,De){return n.getContext(oe,De)}try{const oe={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${qx}`),n.addEventListener("webglcontextlost",Bt,!1),n.addEventListener("webglcontextrestored",pt,!1),n.addEventListener("webglcontextcreationerror",st,!1),le===null){const De="webgl2";if(le=ut(De,oe),le===null)throw ut(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let et,Ye,Ne,Qe,Ie,Ke,ct,ae,Q,Me,de,Se,Le,dt,Je,It,St,tt,Pt,Yt,kt,Et,tn,Ae;function Lt(){et=new fZ(le),et.init(),Et=new lD(le,et),Ye=new oZ(le,et,e,Et),Ne=new XK(le,et),Ye.reverseDepthBuffer&&y&&Ne.buffers.depth.setReversed(!0),Qe=new gZ(le),Ie=new OK,Ke=new qK(le,et,Ne,Ie,Ye,Et,Qe),ct=new lZ(D),ae=new hZ(D),Q=new TY(le),tn=new rZ(le,Q),Me=new pZ(le,Q,Qe,tn),de=new vZ(le,Me,Q,Qe),Pt=new yZ(le,Ye,Ke),It=new aZ(Ie),Se=new NK(D,ct,ae,et,Ye,tn,It),Le=new e$(D,Ie),dt=new DK,Je=new VK(et),tt=new iZ(D,ct,ae,Ne,de,v,u),St=new GK(D,de,Ye),Ae=new t$(le,Qe,Ye,Ne),Yt=new sZ(le,et,Qe),kt=new mZ(le,et,Qe),Qe.programs=Se.programs,D.capabilities=Ye,D.extensions=et,D.properties=Ie,D.renderLists=dt,D.shadowMap=St,D.state=Ne,D.info=Qe}Lt();const ht=new QK(D,le);this.xr=ht,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const oe=et.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=et.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(oe){oe!==void 0&&(Y=oe,this.setSize(fe,he,!1))},this.getSize=function(oe){return oe.set(fe,he)},this.setSize=function(oe,De,je=!0){if(ht.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}fe=oe,he=De,n.width=Math.floor(oe*Y),n.height=Math.floor(De*Y),je===!0&&(n.style.width=oe+"px",n.style.height=De+"px"),this.setViewport(0,0,oe,De)},this.getDrawingBufferSize=function(oe){return oe.set(fe*Y,he*Y).floor()},this.setDrawingBufferSize=function(oe,De,je){fe=oe,he=De,Y=je,n.width=Math.floor(oe*je),n.height=Math.floor(De*je),this.setViewport(0,0,oe,De)},this.getCurrentViewport=function(oe){return oe.copy(Z)},this.getViewport=function(oe){return oe.copy(ee)},this.setViewport=function(oe,De,je,Be){oe.isVector4?ee.set(oe.x,oe.y,oe.z,oe.w):ee.set(oe,De,je,Be),Ne.viewport(Z.copy(ee).multiplyScalar(Y).round())},this.getScissor=function(oe){return oe.copy(ue)},this.setScissor=function(oe,De,je,Be){oe.isVector4?ue.set(oe.x,oe.y,oe.z,oe.w):ue.set(oe,De,je,Be),Ne.scissor($.copy(ue).multiplyScalar(Y).round())},this.getScissorTest=function(){return J},this.setScissorTest=function(oe){Ne.setScissorTest(J=oe)},this.setOpaqueSort=function(oe){se=oe},this.setTransparentSort=function(oe){j=oe},this.getClearColor=function(oe){return oe.copy(tt.getClearColor())},this.setClearColor=function(){tt.setClearColor(...arguments)},this.getClearAlpha=function(){return tt.getClearAlpha()},this.setClearAlpha=function(){tt.setClearAlpha(...arguments)},this.clear=function(oe=!0,De=!0,je=!0){let Be=0;if(oe){let Oe=!1;if(H!==null){const xt=H.texture.format;Oe=xt===n1||xt===t1||xt===Z0}if(Oe){const xt=H.texture.type,Ft=xt===Ya||xt===Rc||xt===qp||xt===Zp||xt===Qx||xt===Jx,Xt=tt.getClearColor(),jt=tt.getClearAlpha(),sn=Xt.r,on=Xt.g,wt=Xt.b;Ft?(T[0]=sn,T[1]=on,T[2]=wt,T[3]=jt,le.clearBufferuiv(le.COLOR,0,T)):(S[0]=sn,S[1]=on,S[2]=wt,S[3]=jt,le.clearBufferiv(le.COLOR,0,S))}else Be|=le.COLOR_BUFFER_BIT}De&&(Be|=le.DEPTH_BUFFER_BIT),je&&(Be|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(Be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Bt,!1),n.removeEventListener("webglcontextrestored",pt,!1),n.removeEventListener("webglcontextcreationerror",st,!1),tt.dispose(),dt.dispose(),Je.dispose(),Ie.dispose(),ct.dispose(),ae.dispose(),de.dispose(),tn.dispose(),Ae.dispose(),Se.dispose(),ht.dispose(),ht.removeEventListener("sessionstart",qr),ht.removeEventListener("sessionend",Bi),$i.stop()};function Bt(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),G=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),G=!1;const oe=Qe.autoReset,De=St.enabled,je=St.autoUpdate,Be=St.needsUpdate,Oe=St.type;Lt(),Qe.autoReset=oe,St.enabled=De,St.autoUpdate=je,St.needsUpdate=Be,St.type=Oe}function st(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function at(oe){const De=oe.target;De.removeEventListener("dispose",at),Ut(De)}function Ut(oe){cn(oe),Ie.remove(oe)}function cn(oe){const De=Ie.get(oe).programs;De!==void 0&&(De.forEach(function(je){Se.releaseProgram(je)}),oe.isShaderMaterial&&Se.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,De,je,Be,Oe,xt){De===null&&(De=ot);const Ft=Oe.isMesh&&Oe.matrixWorld.determinant()<0,Xt=$o(oe,De,je,Be,Oe);Ne.setMaterial(Be,Ft);let jt=je.index,sn=1;if(Be.wireframe===!0){if(jt=Me.getWireframeAttribute(je),jt===void 0)return;sn=2}const on=je.drawRange,wt=je.attributes.position;let Gt=on.start*sn,Dt=(on.start+on.count)*sn;xt!==null&&(Gt=Math.max(Gt,xt.start*sn),Dt=Math.min(Dt,(xt.start+xt.count)*sn)),jt!==null?(Gt=Math.max(Gt,0),Dt=Math.min(Dt,jt.count)):wt!=null&&(Gt=Math.max(Gt,0),Dt=Math.min(Dt,wt.count));const en=Dt-Gt;if(en<0||en===1/0)return;tn.setup(Oe,Be,Xt,je,jt);let xn,Cn=Yt;if(jt!==null&&(xn=Q.get(jt),Cn=kt,Cn.setIndex(xn)),Oe.isMesh)Be.wireframe===!0?(Ne.setLineWidth(Be.wireframeLinewidth*yt()),Cn.setMode(le.LINES)):Cn.setMode(le.TRIANGLES);else if(Oe.isLine){let qt=Be.linewidth;qt===void 0&&(qt=1),Ne.setLineWidth(qt*yt()),Oe.isLineSegments?Cn.setMode(le.LINES):Oe.isLineLoop?Cn.setMode(le.LINE_LOOP):Cn.setMode(le.LINE_STRIP)}else Oe.isPoints?Cn.setMode(le.POINTS):Oe.isSprite&&Cn.setMode(le.TRIANGLES);if(Oe.isBatchedMesh)if(Oe._multiDrawInstances!==null)zp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Cn.renderMultiDrawInstances(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount,Oe._multiDrawInstances);else if(et.get("WEBGL_multi_draw"))Cn.renderMultiDraw(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount);else{const qt=Oe._multiDrawStarts,En=Oe._multiDrawCounts,Nt=Oe._multiDrawCount,Ln=jt?Q.get(jt).bytesPerElement:1,Qs=Ie.get(Be).currentProgram.getUniforms();for(let Ii=0;Ii<Nt;Ii++)Qs.setValue(le,"_gl_DrawID",Ii),Cn.render(qt[Ii]/Ln,En[Ii])}else if(Oe.isInstancedMesh)Cn.renderInstances(Gt,en,Oe.count);else if(je.isInstancedBufferGeometry){const qt=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,En=Math.min(je.instanceCount,qt);Cn.renderInstances(Gt,en,En)}else Cn.render(Gt,en)};function yn(oe,De,je){oe.transparent===!0&&oe.side===pu&&oe.forceSinglePass===!1?(oe.side=_o,oe.needsUpdate=!0,$a(oe,De,je),oe.side=Mc,oe.needsUpdate=!0,$a(oe,De,je),oe.side=pu):$a(oe,De,je)}this.compile=function(oe,De,je=null){je===null&&(je=oe),E=Je.get(je),E.init(De),P.push(E),je.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(De.layers)&&(E.pushLight(Oe),Oe.castShadow&&E.pushShadow(Oe))}),oe!==je&&oe.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(De.layers)&&(E.pushLight(Oe),Oe.castShadow&&E.pushShadow(Oe))}),E.setupLights();const Be=new Set;return oe.traverse(function(Oe){if(!(Oe.isMesh||Oe.isPoints||Oe.isLine||Oe.isSprite))return;const xt=Oe.material;if(xt)if(Array.isArray(xt))for(let Ft=0;Ft<xt.length;Ft++){const Xt=xt[Ft];yn(Xt,je,Oe),Be.add(Xt)}else yn(xt,je,Oe),Be.add(xt)}),E=P.pop(),Be},this.compileAsync=function(oe,De,je=null){const Be=this.compile(oe,De,je);return new Promise(Oe=>{function xt(){if(Be.forEach(function(Ft){Ie.get(Ft).currentProgram.isReady()&&Be.delete(Ft)}),Be.size===0){Oe(oe);return}setTimeout(xt,10)}et.get("KHR_parallel_shader_compile")!==null?xt():setTimeout(xt,10)})};let ti=null;function yi(oe){ti&&ti(oe)}function qr(){$i.stop()}function Bi(){$i.start()}const $i=new iD;$i.setAnimationLoop(yi),typeof self<"u"&&$i.setContext(self),this.setAnimationLoop=function(oe){ti=oe,ht.setAnimationLoop(oe),oe===null?$i.stop():$i.start()},ht.addEventListener("sessionstart",qr),ht.addEventListener("sessionend",Bi),this.render=function(oe,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(G===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),ht.enabled===!0&&ht.isPresenting===!0&&(ht.cameraAutoUpdate===!0&&ht.updateCamera(De),De=ht.getCamera()),oe.isScene===!0&&oe.onBeforeRender(D,oe,De,H),E=Je.get(oe,P.length),E.init(De),P.push(E),Xe.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),pe.setFromProjectionMatrix(Xe),be=this.localClippingEnabled,xe=It.init(this.clippingPlanes,be),b=dt.get(oe,R.length),b.init(),R.push(b),ht.enabled===!0&&ht.isPresenting===!0){const xt=D.xr.getDepthSensingMesh();xt!==null&&Ui(xt,De,-1/0,D.sortObjects)}Ui(oe,De,0,D.sortObjects),b.finish(),D.sortObjects===!0&&b.sort(se,j),_t=ht.enabled===!1||ht.isPresenting===!1||ht.hasDepthSensing()===!1,_t&&tt.addToRenderList(b,oe),this.info.render.frame++,xe===!0&&It.beginShadows();const je=E.state.shadowsArray;St.render(je,oe,De),xe===!0&&It.endShadows(),this.info.autoReset===!0&&this.info.reset();const Be=b.opaque,Oe=b.transmissive;if(E.setupLights(),De.isArrayCamera){const xt=De.cameras;if(Oe.length>0)for(let Ft=0,Xt=xt.length;Ft<Xt;Ft++){const jt=xt[Ft];Ns(Be,Oe,oe,jt)}_t&&tt.render(oe);for(let Ft=0,Xt=xt.length;Ft<Xt;Ft++){const jt=xt[Ft];Qt(b,oe,jt,jt.viewport)}}else Oe.length>0&&Ns(Be,Oe,oe,De),_t&&tt.render(oe),Qt(b,oe,De);H!==null&&K===0&&(Ke.updateMultisampleRenderTarget(H),Ke.updateRenderTargetMipmap(H)),oe.isScene===!0&&oe.onAfterRender(D,oe,De),tn.resetDefaultState(),z=-1,k=null,P.pop(),P.length>0?(E=P[P.length-1],xe===!0&&It.setGlobalState(D.clippingPlanes,E.state.camera)):E=null,R.pop(),R.length>0?b=R[R.length-1]:b=null};function Ui(oe,De,je,Be){if(oe.visible===!1)return;if(oe.layers.test(De.layers)){if(oe.isGroup)je=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(De);else if(oe.isLight)E.pushLight(oe),oe.castShadow&&E.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||pe.intersectsSprite(oe)){Be&&rt.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(Xe);const Ft=de.update(oe),Xt=oe.material;Xt.visible&&b.push(oe,Ft,Xt,je,rt.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||pe.intersectsObject(oe))){const Ft=de.update(oe),Xt=oe.material;if(Be&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),rt.copy(oe.boundingSphere.center)):(Ft.boundingSphere===null&&Ft.computeBoundingSphere(),rt.copy(Ft.boundingSphere.center)),rt.applyMatrix4(oe.matrixWorld).applyMatrix4(Xe)),Array.isArray(Xt)){const jt=Ft.groups;for(let sn=0,on=jt.length;sn<on;sn++){const wt=jt[sn],Gt=Xt[wt.materialIndex];Gt&&Gt.visible&&b.push(oe,Ft,Gt,je,rt.z,wt)}}else Xt.visible&&b.push(oe,Ft,Xt,je,rt.z,null)}}const xt=oe.children;for(let Ft=0,Xt=xt.length;Ft<Xt;Ft++)Ui(xt[Ft],De,je,Be)}function Qt(oe,De,je,Be){const Oe=oe.opaque,xt=oe.transmissive,Ft=oe.transparent;E.setupLightsView(je),xe===!0&&It.setGlobalState(D.clippingPlanes,je),Be&&Ne.viewport(Z.copy(Be)),Oe.length>0&&Ko(Oe,De,je),xt.length>0&&Ko(xt,De,je),Ft.length>0&&Ko(Ft,De,je),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Ns(oe,De,je,Be){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[Be.id]===void 0&&(E.state.transmissionRenderTarget[Be.id]=new Au(1,1,{generateMipmaps:!0,type:et.has("EXT_color_buffer_half_float")||et.has("EXT_color_buffer_float")?mm:Ya,minFilter:yu,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ei.workingColorSpace}));const xt=E.state.transmissionRenderTarget[Be.id],Ft=Be.viewport||Z;xt.setSize(Ft.z*D.transmissionResolutionScale,Ft.w*D.transmissionResolutionScale);const Xt=D.getRenderTarget(),jt=D.getActiveCubeFace(),sn=D.getActiveMipmapLevel();D.setRenderTarget(xt),D.getClearColor(ie),ge=D.getClearAlpha(),ge<1&&D.setClearColor(16777215,.5),D.clear(),_t&&tt.render(je);const on=D.toneMapping;D.toneMapping=xu;const wt=Be.viewport;if(Be.viewport!==void 0&&(Be.viewport=void 0),E.setupLightsView(Be),xe===!0&&It.setGlobalState(D.clippingPlanes,Be),Ko(oe,je,Be),Ke.updateMultisampleRenderTarget(xt),Ke.updateRenderTargetMipmap(xt),et.has("WEBGL_multisampled_render_to_texture")===!1){let Gt=!1;for(let Dt=0,en=De.length;Dt<en;Dt++){const xn=De[Dt],Cn=xn.object,qt=xn.geometry,En=xn.material,Nt=xn.group;if(En.side===pu&&Cn.layers.test(Be.layers)){const Ln=En.side;En.side=_o,En.needsUpdate=!0,Nu(Cn,je,Be,qt,En,Nt),En.side=Ln,En.needsUpdate=!0,Gt=!0}}Gt===!0&&(Ke.updateMultisampleRenderTarget(xt),Ke.updateRenderTargetMipmap(xt))}D.setRenderTarget(Xt,jt,sn),D.setClearColor(ie,ge),wt!==void 0&&(Be.viewport=wt),D.toneMapping=on}function Ko(oe,De,je){const Be=De.isScene===!0?De.overrideMaterial:null;for(let Oe=0,xt=oe.length;Oe<xt;Oe++){const Ft=oe[Oe],Xt=Ft.object,jt=Ft.geometry,sn=Ft.group;let on=Ft.material;on.allowOverride===!0&&Be!==null&&(on=Be),Xt.layers.test(je.layers)&&Nu(Xt,De,je,jt,on,sn)}}function Nu(oe,De,je,Be,Oe,xt){oe.onBeforeRender(D,De,je,Be,Oe,xt),oe.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Oe.onBeforeRender(D,De,je,Be,oe,xt),Oe.transparent===!0&&Oe.side===pu&&Oe.forceSinglePass===!1?(Oe.side=_o,Oe.needsUpdate=!0,D.renderBufferDirect(je,De,Be,Oe,oe,xt),Oe.side=Mc,Oe.needsUpdate=!0,D.renderBufferDirect(je,De,Be,Oe,oe,xt),Oe.side=pu):D.renderBufferDirect(je,De,Be,Oe,oe,xt),oe.onAfterRender(D,De,je,Be,Oe,xt)}function $a(oe,De,je){De.isScene!==!0&&(De=ot);const Be=Ie.get(oe),Oe=E.state.lights,xt=E.state.shadowsArray,Ft=Oe.state.version,Xt=Se.getParameters(oe,Oe.state,xt,De,je),jt=Se.getProgramCacheKey(Xt);let sn=Be.programs;Be.environment=oe.isMeshStandardMaterial?De.environment:null,Be.fog=De.fog,Be.envMap=(oe.isMeshStandardMaterial?ae:ct).get(oe.envMap||Be.environment),Be.envMapRotation=Be.environment!==null&&oe.envMap===null?De.environmentRotation:oe.envMapRotation,sn===void 0&&(oe.addEventListener("dispose",at),sn=new Map,Be.programs=sn);let on=sn.get(jt);if(on!==void 0){if(Be.currentProgram===on&&Be.lightsStateVersion===Ft)return $s(oe,Xt),on}else Xt.uniforms=Se.getUniforms(oe),oe.onBeforeCompile(Xt,D),on=Se.acquireProgram(Xt,jt),sn.set(jt,on),Be.uniforms=Xt.uniforms;const wt=Be.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(wt.clippingPlanes=It.uniform),$s(oe,Xt),Be.needsLights=Oc(oe),Be.lightsStateVersion=Ft,Be.needsLights&&(wt.ambientLightColor.value=Oe.state.ambient,wt.lightProbe.value=Oe.state.probe,wt.directionalLights.value=Oe.state.directional,wt.directionalLightShadows.value=Oe.state.directionalShadow,wt.spotLights.value=Oe.state.spot,wt.spotLightShadows.value=Oe.state.spotShadow,wt.rectAreaLights.value=Oe.state.rectArea,wt.ltc_1.value=Oe.state.rectAreaLTC1,wt.ltc_2.value=Oe.state.rectAreaLTC2,wt.pointLights.value=Oe.state.point,wt.pointLightShadows.value=Oe.state.pointShadow,wt.hemisphereLights.value=Oe.state.hemi,wt.directionalShadowMap.value=Oe.state.directionalShadowMap,wt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,wt.spotShadowMap.value=Oe.state.spotShadowMap,wt.spotLightMatrix.value=Oe.state.spotLightMatrix,wt.spotLightMap.value=Oe.state.spotLightMap,wt.pointShadowMap.value=Oe.state.pointShadowMap,wt.pointShadowMatrix.value=Oe.state.pointShadowMatrix),Be.currentProgram=on,Be.uniformsList=null,on}function Wl(oe){if(oe.uniformsList===null){const De=oe.currentProgram.getUniforms();oe.uniformsList=h_.seqWithValue(De.seq,oe.uniforms)}return oe.uniformsList}function $s(oe,De){const je=Ie.get(oe);je.outputColorSpace=De.outputColorSpace,je.batching=De.batching,je.batchingColor=De.batchingColor,je.instancing=De.instancing,je.instancingColor=De.instancingColor,je.instancingMorph=De.instancingMorph,je.skinning=De.skinning,je.morphTargets=De.morphTargets,je.morphNormals=De.morphNormals,je.morphColors=De.morphColors,je.morphTargetsCount=De.morphTargetsCount,je.numClippingPlanes=De.numClippingPlanes,je.numIntersection=De.numClipIntersection,je.vertexAlphas=De.vertexAlphas,je.vertexTangents=De.vertexTangents,je.toneMapping=De.toneMapping}function $o(oe,De,je,Be,Oe){De.isScene!==!0&&(De=ot),Ke.resetTextureUnits();const xt=De.fog,Ft=Be.isMeshStandardMaterial?De.environment:null,Xt=H===null?D.outputColorSpace:H.isXRRenderTarget===!0?H.texture.colorSpace:mf,jt=(Be.isMeshStandardMaterial?ae:ct).get(Be.envMap||Ft),sn=Be.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,on=!!je.attributes.tangent&&(!!Be.normalMap||Be.anisotropy>0),wt=!!je.morphAttributes.position,Gt=!!je.morphAttributes.normal,Dt=!!je.morphAttributes.color;let en=xu;Be.toneMapped&&(H===null||H.isXRRenderTarget===!0)&&(en=D.toneMapping);const xn=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,Cn=xn!==void 0?xn.length:0,qt=Ie.get(Be),En=E.state.lights;if(xe===!0&&(be===!0||oe!==k)){const Wn=oe===k&&Be.id===z;It.setState(Be,oe,Wn)}let Nt=!1;Be.version===qt.__version?(qt.needsLights&&qt.lightsStateVersion!==En.state.version||qt.outputColorSpace!==Xt||Oe.isBatchedMesh&&qt.batching===!1||!Oe.isBatchedMesh&&qt.batching===!0||Oe.isBatchedMesh&&qt.batchingColor===!0&&Oe.colorTexture===null||Oe.isBatchedMesh&&qt.batchingColor===!1&&Oe.colorTexture!==null||Oe.isInstancedMesh&&qt.instancing===!1||!Oe.isInstancedMesh&&qt.instancing===!0||Oe.isSkinnedMesh&&qt.skinning===!1||!Oe.isSkinnedMesh&&qt.skinning===!0||Oe.isInstancedMesh&&qt.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&qt.instancingColor===!1&&Oe.instanceColor!==null||Oe.isInstancedMesh&&qt.instancingMorph===!0&&Oe.morphTexture===null||Oe.isInstancedMesh&&qt.instancingMorph===!1&&Oe.morphTexture!==null||qt.envMap!==jt||Be.fog===!0&&qt.fog!==xt||qt.numClippingPlanes!==void 0&&(qt.numClippingPlanes!==It.numPlanes||qt.numIntersection!==It.numIntersection)||qt.vertexAlphas!==sn||qt.vertexTangents!==on||qt.morphTargets!==wt||qt.morphNormals!==Gt||qt.morphColors!==Dt||qt.toneMapping!==en||qt.morphTargetsCount!==Cn)&&(Nt=!0):(Nt=!0,qt.__version=Be.version);let Ln=qt.currentProgram;Nt===!0&&(Ln=$a(Be,De,Oe));let Qs=!1,Ii=!1,Li=!1;const zn=Ln.getUniforms(),Qi=qt.uniforms;if(Ne.useProgram(Ln.program)&&(Qs=!0,Ii=!0,Li=!0),Be.id!==z&&(z=Be.id,Ii=!0),Qs||k!==oe){Ne.buffers.depth.getReversed()?(Ce.copy(oe.projectionMatrix),jj(Ce),Wj(Ce),zn.setValue(le,"projectionMatrix",Ce)):zn.setValue(le,"projectionMatrix",oe.projectionMatrix),zn.setValue(le,"viewMatrix",oe.matrixWorldInverse);const ai=zn.map.cameraPosition;ai!==void 0&&ai.setValue(le,nt.setFromMatrixPosition(oe.matrixWorld)),Ye.logarithmicDepthBuffer&&zn.setValue(le,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(Be.isMeshPhongMaterial||Be.isMeshToonMaterial||Be.isMeshLambertMaterial||Be.isMeshBasicMaterial||Be.isMeshStandardMaterial||Be.isShaderMaterial)&&zn.setValue(le,"isOrthographic",oe.isOrthographicCamera===!0),k!==oe&&(k=oe,Ii=!0,Li=!0)}if(Oe.isSkinnedMesh){zn.setOptional(le,Oe,"bindMatrix"),zn.setOptional(le,Oe,"bindMatrixInverse");const Wn=Oe.skeleton;Wn&&(Wn.boneTexture===null&&Wn.computeBoneTexture(),zn.setValue(le,"boneTexture",Wn.boneTexture,Ke))}Oe.isBatchedMesh&&(zn.setOptional(le,Oe,"batchingTexture"),zn.setValue(le,"batchingTexture",Oe._matricesTexture,Ke),zn.setOptional(le,Oe,"batchingIdTexture"),zn.setValue(le,"batchingIdTexture",Oe._indirectTexture,Ke),zn.setOptional(le,Oe,"batchingColorTexture"),Oe._colorsTexture!==null&&zn.setValue(le,"batchingColorTexture",Oe._colorsTexture,Ke));const vi=je.morphAttributes;if((vi.position!==void 0||vi.normal!==void 0||vi.color!==void 0)&&Pt.update(Oe,je,Ln),(Ii||qt.receiveShadow!==Oe.receiveShadow)&&(qt.receiveShadow=Oe.receiveShadow,zn.setValue(le,"receiveShadow",Oe.receiveShadow)),Be.isMeshGouraudMaterial&&Be.envMap!==null&&(Qi.envMap.value=jt,Qi.flipEnvMap.value=jt.isCubeTexture&&jt.isRenderTargetTexture===!1?-1:1),Be.isMeshStandardMaterial&&Be.envMap===null&&De.environment!==null&&(Qi.envMapIntensity.value=De.environmentIntensity),Ii&&(zn.setValue(le,"toneMappingExposure",D.toneMappingExposure),qt.needsLights&&Ou(Qi,Li),xt&&Be.fog===!0&&Le.refreshFogUniforms(Qi,xt),Le.refreshMaterialUniforms(Qi,Be,Y,he,E.state.transmissionRenderTarget[oe.id]),h_.upload(le,Wl(qt),Qi,Ke)),Be.isShaderMaterial&&Be.uniformsNeedUpdate===!0&&(h_.upload(le,Wl(qt),Qi,Ke),Be.uniformsNeedUpdate=!1),Be.isSpriteMaterial&&zn.setValue(le,"center",Oe.center),zn.setValue(le,"modelViewMatrix",Oe.modelViewMatrix),zn.setValue(le,"normalMatrix",Oe.normalMatrix),zn.setValue(le,"modelMatrix",Oe.matrixWorld),Be.isShaderMaterial||Be.isRawShaderMaterial){const Wn=Be.uniformsGroups;for(let ai=0,An=Wn.length;ai<An;ai++){const sr=Wn[ai];Ae.update(sr,Ln),Ae.bind(sr,Ln)}}return Ln}function Ou(oe,De){oe.ambientLightColor.needsUpdate=De,oe.lightProbe.needsUpdate=De,oe.directionalLights.needsUpdate=De,oe.directionalLightShadows.needsUpdate=De,oe.pointLights.needsUpdate=De,oe.pointLightShadows.needsUpdate=De,oe.spotLights.needsUpdate=De,oe.spotLightShadows.needsUpdate=De,oe.rectAreaLights.needsUpdate=De,oe.hemisphereLights.needsUpdate=De}function Oc(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return V},this.getActiveMipmapLevel=function(){return K},this.getRenderTarget=function(){return H},this.setRenderTargetTextures=function(oe,De,je){const Be=Ie.get(oe);Be.__autoAllocateDepthBuffer=oe.resolveDepthBuffer===!1,Be.__autoAllocateDepthBuffer===!1&&(Be.__useRenderToTexture=!1),Ie.get(oe.texture).__webglTexture=De,Ie.get(oe.depthTexture).__webglTexture=Be.__autoAllocateDepthBuffer?void 0:je,Be.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(oe,De){const je=Ie.get(oe);je.__webglFramebuffer=De,je.__useDefaultFramebuffer=De===void 0};const kc=le.createFramebuffer();this.setRenderTarget=function(oe,De=0,je=0){H=oe,V=De,K=je;let Be=!0,Oe=null,xt=!1,Ft=!1;if(oe){const jt=Ie.get(oe);if(jt.__useDefaultFramebuffer!==void 0)Ne.bindFramebuffer(le.FRAMEBUFFER,null),Be=!1;else if(jt.__webglFramebuffer===void 0)Ke.setupRenderTarget(oe);else if(jt.__hasExternalTextures)Ke.rebindTextures(oe,Ie.get(oe.texture).__webglTexture,Ie.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const wt=oe.depthTexture;if(jt.__boundDepthTexture!==wt){if(wt!==null&&Ie.has(wt)&&(oe.width!==wt.image.width||oe.height!==wt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ke.setupDepthRenderbuffer(oe)}}const sn=oe.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(Ft=!0);const on=Ie.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(on[De])?Oe=on[De][je]:Oe=on[De],xt=!0):oe.samples>0&&Ke.useMultisampledRTT(oe)===!1?Oe=Ie.get(oe).__webglMultisampledFramebuffer:Array.isArray(on)?Oe=on[je]:Oe=on,Z.copy(oe.viewport),$.copy(oe.scissor),re=oe.scissorTest}else Z.copy(ee).multiplyScalar(Y).floor(),$.copy(ue).multiplyScalar(Y).floor(),re=J;if(je!==0&&(Oe=kc),Ne.bindFramebuffer(le.FRAMEBUFFER,Oe)&&Be&&Ne.drawBuffers(oe,Oe),Ne.viewport(Z),Ne.scissor($),Ne.setScissorTest(re),xt){const jt=Ie.get(oe.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+De,jt.__webglTexture,je)}else if(Ft){const jt=Ie.get(oe.texture),sn=De;le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,jt.__webglTexture,je,sn)}else if(oe!==null&&je!==0){const jt=Ie.get(oe.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,jt.__webglTexture,je)}z=-1},this.readRenderTargetPixels=function(oe,De,je,Be,Oe,xt,Ft,Xt=0){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=Ie.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ft!==void 0&&(jt=jt[Ft]),jt){Ne.bindFramebuffer(le.FRAMEBUFFER,jt);try{const sn=oe.textures[Xt],on=sn.format,wt=sn.type;if(!Ye.textureFormatReadable(on)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=oe.width-Be&&je>=0&&je<=oe.height-Oe&&(oe.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+Xt),le.readPixels(De,je,Be,Oe,Et.convert(on),Et.convert(wt),xt))}finally{const sn=H!==null?Ie.get(H).__webglFramebuffer:null;Ne.bindFramebuffer(le.FRAMEBUFFER,sn)}}},this.readRenderTargetPixelsAsync=async function(oe,De,je,Be,Oe,xt,Ft,Xt=0){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jt=Ie.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Ft!==void 0&&(jt=jt[Ft]),jt)if(De>=0&&De<=oe.width-Be&&je>=0&&je<=oe.height-Oe){Ne.bindFramebuffer(le.FRAMEBUFFER,jt);const sn=oe.textures[Xt],on=sn.format,wt=sn.type;if(!Ye.textureFormatReadable(on))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=le.createBuffer();le.bindBuffer(le.PIXEL_PACK_BUFFER,Gt),le.bufferData(le.PIXEL_PACK_BUFFER,xt.byteLength,le.STREAM_READ),oe.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+Xt),le.readPixels(De,je,Be,Oe,Et.convert(on),Et.convert(wt),0);const Dt=H!==null?Ie.get(H).__webglFramebuffer:null;Ne.bindFramebuffer(le.FRAMEBUFFER,Dt);const en=le.fenceSync(le.SYNC_GPU_COMMANDS_COMPLETE,0);return le.flush(),await Vj(le,en,4),le.bindBuffer(le.PIXEL_PACK_BUFFER,Gt),le.getBufferSubData(le.PIXEL_PACK_BUFFER,0,xt),le.deleteBuffer(Gt),le.deleteSync(en),xt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(oe,De=null,je=0){const Be=Math.pow(2,-je),Oe=Math.floor(oe.image.width*Be),xt=Math.floor(oe.image.height*Be),Ft=De!==null?De.x:0,Xt=De!==null?De.y:0;Ke.setTexture2D(oe,0),le.copyTexSubImage2D(le.TEXTURE_2D,je,0,0,Ft,Xt,Oe,xt),Ne.unbindTexture()};const Dc=le.createFramebuffer(),Fc=le.createFramebuffer();this.copyTextureToTexture=function(oe,De,je=null,Be=null,Oe=0,xt=null){xt===null&&(Oe!==0?(zp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),xt=Oe,Oe=0):xt=0);let Ft,Xt,jt,sn,on,wt,Gt,Dt,en;const xn=oe.isCompressedTexture?oe.mipmaps[xt]:oe.image;if(je!==null)Ft=je.max.x-je.min.x,Xt=je.max.y-je.min.y,jt=je.isBox3?je.max.z-je.min.z:1,sn=je.min.x,on=je.min.y,wt=je.isBox3?je.min.z:0;else{const vi=Math.pow(2,-Oe);Ft=Math.floor(xn.width*vi),Xt=Math.floor(xn.height*vi),oe.isDataArrayTexture?jt=xn.depth:oe.isData3DTexture?jt=Math.floor(xn.depth*vi):jt=1,sn=0,on=0,wt=0}Be!==null?(Gt=Be.x,Dt=Be.y,en=Be.z):(Gt=0,Dt=0,en=0);const Cn=Et.convert(De.format),qt=Et.convert(De.type);let En;De.isData3DTexture?(Ke.setTexture3D(De,0),En=le.TEXTURE_3D):De.isDataArrayTexture||De.isCompressedArrayTexture?(Ke.setTexture2DArray(De,0),En=le.TEXTURE_2D_ARRAY):(Ke.setTexture2D(De,0),En=le.TEXTURE_2D),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,De.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,De.unpackAlignment);const Nt=le.getParameter(le.UNPACK_ROW_LENGTH),Ln=le.getParameter(le.UNPACK_IMAGE_HEIGHT),Qs=le.getParameter(le.UNPACK_SKIP_PIXELS),Ii=le.getParameter(le.UNPACK_SKIP_ROWS),Li=le.getParameter(le.UNPACK_SKIP_IMAGES);le.pixelStorei(le.UNPACK_ROW_LENGTH,xn.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,xn.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,sn),le.pixelStorei(le.UNPACK_SKIP_ROWS,on),le.pixelStorei(le.UNPACK_SKIP_IMAGES,wt);const zn=oe.isDataArrayTexture||oe.isData3DTexture,Qi=De.isDataArrayTexture||De.isData3DTexture;if(oe.isDepthTexture){const vi=Ie.get(oe),Wn=Ie.get(De),ai=Ie.get(vi.__renderTarget),An=Ie.get(Wn.__renderTarget);Ne.bindFramebuffer(le.READ_FRAMEBUFFER,ai.__webglFramebuffer),Ne.bindFramebuffer(le.DRAW_FRAMEBUFFER,An.__webglFramebuffer);for(let sr=0;sr<jt;sr++)zn&&(le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ie.get(oe).__webglTexture,Oe,wt+sr),le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ie.get(De).__webglTexture,xt,en+sr)),le.blitFramebuffer(sn,on,Ft,Xt,Gt,Dt,Ft,Xt,le.DEPTH_BUFFER_BIT,le.NEAREST);Ne.bindFramebuffer(le.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else if(Oe!==0||oe.isRenderTargetTexture||Ie.has(oe)){const vi=Ie.get(oe),Wn=Ie.get(De);Ne.bindFramebuffer(le.READ_FRAMEBUFFER,Dc),Ne.bindFramebuffer(le.DRAW_FRAMEBUFFER,Fc);for(let ai=0;ai<jt;ai++)zn?le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,vi.__webglTexture,Oe,wt+ai):le.framebufferTexture2D(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,vi.__webglTexture,Oe),Qi?le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Wn.__webglTexture,xt,en+ai):le.framebufferTexture2D(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,Wn.__webglTexture,xt),Oe!==0?le.blitFramebuffer(sn,on,Ft,Xt,Gt,Dt,Ft,Xt,le.COLOR_BUFFER_BIT,le.NEAREST):Qi?le.copyTexSubImage3D(En,xt,Gt,Dt,en+ai,sn,on,Ft,Xt):le.copyTexSubImage2D(En,xt,Gt,Dt,sn,on,Ft,Xt);Ne.bindFramebuffer(le.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else Qi?oe.isDataTexture||oe.isData3DTexture?le.texSubImage3D(En,xt,Gt,Dt,en,Ft,Xt,jt,Cn,qt,xn.data):De.isCompressedArrayTexture?le.compressedTexSubImage3D(En,xt,Gt,Dt,en,Ft,Xt,jt,Cn,xn.data):le.texSubImage3D(En,xt,Gt,Dt,en,Ft,Xt,jt,Cn,qt,xn):oe.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,xt,Gt,Dt,Ft,Xt,Cn,qt,xn.data):oe.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,xt,Gt,Dt,xn.width,xn.height,Cn,xn.data):le.texSubImage2D(le.TEXTURE_2D,xt,Gt,Dt,Ft,Xt,Cn,qt,xn);le.pixelStorei(le.UNPACK_ROW_LENGTH,Nt),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,Ln),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Qs),le.pixelStorei(le.UNPACK_SKIP_ROWS,Ii),le.pixelStorei(le.UNPACK_SKIP_IMAGES,Li),xt===0&&De.generateMipmaps&&le.generateMipmap(En),Ne.unbindTexture()},this.copyTextureToTexture3D=function(oe,De,je=null,Be=null,Oe=0){return zp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(oe,De,je,Be,Oe)},this.initRenderTarget=function(oe){Ie.get(oe).__webglFramebuffer===void 0&&Ke.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?Ke.setTextureCube(oe,0):oe.isData3DTexture?Ke.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?Ke.setTexture2DArray(oe,0):Ke.setTexture2D(oe,0),Ne.unbindTexture()},this.resetState=function(){V=0,K=0,H=null,Ne.reset(),tn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Wa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=ei._getDrawingBufferColorSpace(e),n.unpackColorSpace=ei._getUnpackColorSpace()}}const n$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Sw,AddEquation:Dd,AddOperation:RO,AdditiveAnimationBlendMode:Nw,AdditiveBlending:Xb,AgXToneMapping:kO,AlphaFormat:Pw,AlwaysCompare:KO,AlwaysDepth:D_,AlwaysStencilFunc:$b,AmbientLight:Gk,AnimationAction:eD,AnimationClip:I0,AnimationLoader:yG,AnimationMixer:GG,AnimationObjectGroup:jG,AnimationUtils:fG,ArcCurve:mk,ArrayCamera:$k,ArrowHelper:fY,AttachedBindMode:Kb,Audio:Qk,AudioAnalyser:NG,AudioContext:iC,AudioListener:RG,AudioLoader:AG,AxesHelper:pY,BackSide:_o,BasicDepthPacking:HO,BasicShadowMap:cO,BatchedMesh:ck,Bone:zw,BooleanKeyframeTrack:Ef,Box2:JG,Box3:qs,Box3Helper:dY,BoxGeometry:xf,BoxHelper:cY,BufferAttribute:Ti,BufferGeometry:Dn,BufferGeometryLoader:Kk,ByteType:Cw,Cache:vu,Camera:K0,CameraHelper:uY,CanvasTexture:DW,CapsuleGeometry:h1,CatmullRomCurve3:gk,CineonToneMapping:NO,CircleGeometry:f1,ClampToEdgeWrapping:ja,Clock:rC,Color:Kt,ColorKeyframeTrack:eC,ColorManagement:ei,CompressedArrayTexture:OW,CompressedCubeTexture:kW,CompressedTexture:d1,CompressedTextureLoader:vG,ConeGeometry:J0,ConstantAlphaFactor:AO,ConstantColorFactor:wO,Controls:gY,CubeCamera:ik,CubeReflectionMapping:Pc,CubeRefractionMapping:jd,CubeTexture:$0,CubeTextureLoader:_G,CubeUVReflectionMapping:pm,CubicBezierCurve:Ww,CubicBezierCurve3:yk,CubicInterpolant:Dk,CullFaceBack:Yb,CullFaceFront:uO,CullFaceFrontBack:HV,CullFaceNone:lO,Curve:Vl,CurvePath:_k,CustomBlending:dO,CustomToneMapping:OO,CylinderGeometry:Q0,Cylindrical:QG,Data3DTexture:s1,DataArrayTexture:r1,DataTexture:Eu,DataTextureLoader:xG,DataUtils:sW,DecrementStencilOp:tj,DecrementWrapStencilOp:ij,DefaultLoadingManager:Uk,DepthFormat:Kp,DepthStencilFormat:$p,DepthTexture:Vw,DetachedBindMode:FO,DirectionalLight:Wk,DirectionalLightHelper:lY,DiscreteInterpolant:Fk,DodecahedronGeometry:p1,DoubleSide:pu,DstAlphaFactor:xO,DstColorFactor:TO,DynamicCopyUsage:vj,DynamicDrawUsage:hj,DynamicReadUsage:mj,EdgesGeometry:pk,EllipseCurve:m1,EqualCompare:YO,EqualDepth:B_,EqualStencilFunc:aj,EquirectangularReflectionMapping:g0,EquirectangularRefractionMapping:y0,Euler:ba,EventDispatcher:Ru,ExtrudeGeometry:g1,FileLoader:Ic,Float16BufferAttribute:hW,Float32BufferAttribute:rn,FloatType:Wo,Fog:a1,FogExp2:o1,FramebufferTexture:NW,FrontSide:Mc,Frustum:ym,FrustumArray:c1,GLBufferAttribute:KG,GLSL1:xj,GLSL3:Qb,GreaterCompare:XO,GreaterDepth:z_,GreaterEqualCompare:ZO,GreaterEqualDepth:U_,GreaterEqualStencilFunc:dj,GreaterStencilFunc:uj,GridHelper:oY,Group:Ap,HalfFloatType:mm,HemisphereLight:Hk,HemisphereLightHelper:sY,IcosahedronGeometry:y1,ImageBitmapLoader:CG,ImageLoader:L0,ImageUtils:JO,IncrementStencilOp:ej,IncrementWrapStencilOp:nj,InstancedBufferAttribute:em,InstancedBufferGeometry:Zk,InstancedInterleavedBuffer:ZG,InstancedMesh:uk,Int16BufferAttribute:cW,Int32BufferAttribute:dW,Int8BufferAttribute:aW,IntType:$x,InterleavedBuffer:l1,InterleavedBufferAttribute:gf,Interpolant:ny,InterpolateDiscrete:x0,InterpolateLinear:px,InterpolateSmooth:c_,InterpolationSamplingMode:bj,InterpolationSamplingType:Tj,InvertStencilOp:rj,KeepStencilOp:Gh,KeyframeTrack:Za,LOD:ak,LatheGeometry:v1,Layers:sf,LessCompare:GO,LessDepth:F_,LessEqualCompare:Ow,LessEqualDepth:pf,LessEqualStencilFunc:lj,LessStencilFunc:oj,Light:$d,LightProbe:qk,Line:Wd,Line3:eY,LineBasicMaterial:Eo,LineCurve:Gw,LineCurve3:vk,LineDashedMaterial:Nk,LineLoop:dk,LineSegments:Iu,LinearFilter:Nr,LinearInterpolant:Jw,LinearMipMapLinearFilter:GV,LinearMipMapNearestFilter:WV,LinearMipmapLinearFilter:yu,LinearMipmapNearestFilter:Ug,LinearSRGBColorSpace:mf,LinearToneMapping:IO,LinearTransfer:T0,Loader:qo,LoaderUtils:iS,LoadingManager:tC,LoopOnce:BO,LoopPingPong:zO,LoopRepeat:UO,MOUSE:UV,Material:Ls,MaterialLoader:w1,MathUtils:zj,Matrix2:lC,Matrix3:On,Matrix4:vn,MaxEquation:mO,Mesh:Or,MeshBasicMaterial:Zd,MeshDepthMaterial:Kw,MeshDistanceMaterial:$w,MeshLambertMaterial:Ik,MeshMatcapMaterial:Lk,MeshNormalMaterial:Rk,MeshPhongMaterial:Mk,MeshPhysicalMaterial:Ak,MeshStandardMaterial:Zw,MeshToonMaterial:Pk,MinEquation:pO,MirroredRepeatWrapping:_0,MixOperation:PO,MultiplyBlending:Zb,MultiplyOperation:q0,NearestFilter:Rs,NearestMipMapLinearFilter:jV,NearestMipMapNearestFilter:VV,NearestMipmapLinearFilter:wp,NearestMipmapNearestFilter:ww,NeutralToneMapping:DO,NeverCompare:WO,NeverDepth:k_,NeverStencilFunc:sj,NoBlending:bc,NoColorSpace:_c,NoToneMapping:xu,NormalAnimationBlendMode:i1,NormalBlending:nf,NotEqualCompare:qO,NotEqualDepth:H_,NotEqualStencilFunc:cj,NumberKeyframeTrack:P0,Object3D:si,ObjectLoader:SG,ObjectSpaceNormalMap:jO,OctahedronGeometry:ey,OneFactor:yO,OneMinusConstantAlphaFactor:MO,OneMinusConstantColorFactor:CO,OneMinusDstAlphaFactor:EO,OneMinusDstColorFactor:bO,OneMinusSrcAlphaFactor:O_,OneMinusSrcColorFactor:_O,OrthographicCamera:ry,PCFShadowMap:Zx,PCFSoftShadowMap:Bg,PMREMGenerator:oS,Path:_x,PerspectiveCamera:us,Plane:Od,PlaneGeometry:vm,PlaneHelper:hY,PointLight:jk,PointLightHelper:iY,Points:hk,PointsMaterial:Hw,PolarGridHelper:aY,PolyhedronGeometry:Kd,PositionalAudio:LG,PropertyBinding:ii,PropertyMixer:Jk,QuadraticBezierCurve:Yw,QuadraticBezierCurve3:Xw,Quaternion:Yo,QuaternionKeyframeTrack:iy,QuaternionLinearInterpolant:Bk,RED_GREEN_RGTC2_Format:hx,RED_RGTC1_Format:Lw,REVISION:qx,RGBADepthPacking:VO,RGBAFormat:Ys,RGBAIntegerFormat:n1,RGBA_ASTC_10x10_Format:ox,RGBA_ASTC_10x5_Format:ix,RGBA_ASTC_10x6_Format:rx,RGBA_ASTC_10x8_Format:sx,RGBA_ASTC_12x10_Format:ax,RGBA_ASTC_12x12_Format:lx,RGBA_ASTC_4x4_Format:Z_,RGBA_ASTC_5x4_Format:K_,RGBA_ASTC_5x5_Format:$_,RGBA_ASTC_6x5_Format:Q_,RGBA_ASTC_6x6_Format:J_,RGBA_ASTC_8x5_Format:ex,RGBA_ASTC_8x6_Format:tx,RGBA_ASTC_8x8_Format:nx,RGBA_BPTC_Format:Wg,RGBA_ETC2_EAC_Format:q_,RGBA_PVRTC_2BPPV1_Format:G_,RGBA_PVRTC_4BPPV1_Format:W_,RGBA_S3TC_DXT1_Format:Hg,RGBA_S3TC_DXT3_Format:Vg,RGBA_S3TC_DXT5_Format:jg,RGBDepthPacking:KV,RGBFormat:Rw,RGBIntegerFormat:YV,RGB_BPTC_SIGNED_Format:ux,RGB_BPTC_UNSIGNED_Format:cx,RGB_ETC1_Format:Y_,RGB_ETC2_Format:X_,RGB_PVRTC_2BPPV1_Format:j_,RGB_PVRTC_4BPPV1_Format:V_,RGB_S3TC_DXT1_Format:zg,RGDepthPacking:$V,RGFormat:Iw,RGIntegerFormat:t1,RawShaderMaterial:Ck,Ray:gm,Raycaster:tD,RectAreaLight:Yk,RedFormat:e1,RedIntegerFormat:Z0,ReinhardToneMapping:LO,RenderTarget:Dw,RenderTarget3D:YG,RepeatWrapping:v0,ReplaceStencilOp:JV,ReverseSubtractEquation:fO,RingGeometry:_1,SIGNED_RED_GREEN_RGTC2_Format:fx,SIGNED_RED_RGTC1_Format:dx,SRGBColorSpace:Vo,SRGBTransfer:gi,Scene:mx,ShaderChunk:jn,ShaderLib:Dl,ShaderMaterial:Xa,ShadowMaterial:wk,Shape:of,ShapeGeometry:x1,ShapePath:mY,ShapeUtils:Bl,ShortType:Aw,Skeleton:u1,SkeletonHelper:nY,SkinnedMesh:lk,Source:Bd,Sphere:Is,SphereGeometry:ty,Spherical:$G,SphericalHarmonics3:Xk,SplineCurve:qw,SpotLight:Vk,SpotLightHelper:tY,Sprite:ok,SpriteMaterial:Uw,SrcAlphaFactor:N_,SrcAlphaSaturateFactor:SO,SrcColorFactor:vO,StaticCopyUsage:yj,StaticDrawUsage:b0,StaticReadUsage:pj,StereoCamera:MG,StreamCopyUsage:_j,StreamDrawUsage:fj,StreamReadUsage:gj,StringKeyframeTrack:Tf,SubtractEquation:hO,SubtractiveBlending:qb,TOUCH:zV,TangentSpaceNormalMap:qd,TetrahedronGeometry:E1,Texture:rr,TextureLoader:zk,TextureUtils:EY,TimestampQuery:Ej,TorusGeometry:T1,TorusKnotGeometry:b1,Triangle:jo,TriangleFanDrawMode:ZV,TriangleStripDrawMode:qV,TrianglesDrawMode:XV,TubeGeometry:S1,UVMapping:Kx,Uint16BufferAttribute:Fw,Uint32BufferAttribute:Bw,Uint8BufferAttribute:lW,Uint8ClampedBufferAttribute:uW,Uniform:aC,UniformsGroup:qG,UniformsLib:Vt,UniformsUtils:nk,UnsignedByteType:Ya,UnsignedInt248Type:Zp,UnsignedInt5999Type:Mw,UnsignedIntType:Rc,UnsignedShort4444Type:Qx,UnsignedShort5551Type:Jx,UnsignedShortType:qp,VSMShadowMap:kl,Vector2:ft,Vector3:me,Vector4:ri,VectorKeyframeTrack:R0,VideoFrameTexture:LW,VideoTexture:fk,WebGL3DRenderTarget:Zj,WebGLArrayRenderTarget:qj,WebGLCoordinateSystem:Wa,WebGLCubeRenderTarget:rk,WebGLRenderTarget:Au,WebGLRenderer:uD,WebGLUtils:lD,WebGPUCoordinateSystem:S0,WebXRController:d_,WireframeGeometry:Sk,WrapAroundEnding:E0,ZeroCurvatureEnding:Zh,ZeroFactor:gO,ZeroSlopeEnding:Kh,ZeroStencilOp:QV,createCanvasElement:QO},Symbol.toStringTag,{value:"Module"}));var IT={exports:{}},Cd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function i$(){return DP||(DP=1,Cd.ConcurrentRoot=1,Cd.ContinuousEventPriority=4,Cd.DefaultEventPriority=16,Cd.DiscreteEventPriority=1,Cd.IdleEventPriority=536870912,Cd.LegacyRoot=0),Cd}var FP;function r$(){return FP||(FP=1,IT.exports=i$()),IT.exports}var Pp=r$();function s$(t){let e;const n=new Set,i=(d,f)=>{const p=typeof d=="function"?d(e):d;if(p!==e){const y=e;e=f?p:Object.assign({},e,p),n.forEach(v=>v(e,y))}},r=()=>e,s=(d,f=r,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=f(e);function v(){const T=f(e);if(!p(y,T)){const S=y;d(y=T,S)}}return n.add(v),()=>n.delete(v)},u={setState:i,getState:r,subscribe:(d,f,p)=>f||p?s(d,f,p):(n.add(d),()=>n.delete(d)),destroy:()=>n.clear()};return e=t(i,r,u),u}const o$=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),BP=o$?X.useEffect:X.useLayoutEffect;function a$(t){const e=typeof t=="function"?s$(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=X.useReducer(b=>b+1,0),o=e.getState(),a=X.useRef(o),u=X.useRef(i),d=X.useRef(r),f=X.useRef(!1),p=X.useRef();p.current===void 0&&(p.current=i(o));let y,v=!1;(a.current!==o||u.current!==i||d.current!==r||f.current)&&(y=i(o),v=!r(p.current,y)),BP(()=>{v&&(p.current=y),a.current=o,u.current=i,d.current=r,f.current=!1});const T=X.useRef(o);BP(()=>{const b=()=>{try{const R=e.getState(),P=u.current(R);d.current(p.current,P)||(a.current=R,p.current=P,s())}catch{f.current=!0,s()}},E=e.subscribe(b);return e.getState()!==T.current&&b(),E},[]);const S=v?y:p.current;return X.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var LT={exports:{}},NT={exports:{}},OT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function l$(){return UP||(UP=1,function(t){function e(Y,se){var j=Y.length;Y.push(se);e:for(;0<j;){var ee=j-1>>>1,ue=Y[ee];if(0<r(ue,se))Y[ee]=se,Y[j]=ue,j=ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var se=Y[0],j=Y.pop();if(j!==se){Y[0]=j;e:for(var ee=0,ue=Y.length,J=ue>>>1;ee<J;){var pe=2*(ee+1)-1,xe=Y[pe],be=pe+1,Ce=Y[be];if(0>r(xe,j))be<ue&&0>r(Ce,xe)?(Y[ee]=Ce,Y[be]=j,ee=be):(Y[ee]=xe,Y[pe]=j,ee=pe);else if(be<ue&&0>r(Ce,j))Y[ee]=Ce,Y[be]=j,ee=be;else break e}}return se}function r(Y,se){var j=Y.sortIndex-se.sortIndex;return j!==0?j:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],f=1,p=null,y=3,v=!1,T=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Y){for(var se=n(d);se!==null;){if(se.callback===null)i(d);else if(se.startTime<=Y)i(d),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(d)}}function D(Y){if(S=!1,P(Y),!T)if(n(u)!==null)T=!0,fe(G);else{var se=n(d);se!==null&&he(D,se.startTime-Y)}}function G(Y,se){T=!1,S&&(S=!1,E(H),H=-1),v=!0;var j=y;try{for(P(se),p=n(u);p!==null&&(!(p.expirationTime>se)||Y&&!Z());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,y=p.priorityLevel;var ue=ee(p.expirationTime<=se);se=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&i(u),P(se)}else i(u);p=n(u)}if(p!==null)var J=!0;else{var pe=n(d);pe!==null&&he(D,pe.startTime-se),J=!1}return J}finally{p=null,y=j,v=!1}}var V=!1,K=null,H=-1,z=5,k=-1;function Z(){return!(t.unstable_now()-k<z)}function $(){if(K!==null){var Y=t.unstable_now();k=Y;var se=!0;try{se=K(!0,Y)}finally{se?re():(V=!1,K=null)}}else V=!1}var re;if(typeof R=="function")re=function(){R($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ge=ie.port2;ie.port1.onmessage=$,re=function(){ge.postMessage(null)}}else re=function(){b($,0)};function fe(Y){K=Y,V||(V=!0,re())}function he(Y,se){H=b(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,fe(G))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var j=y;y=se;try{return Y()}finally{y=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=y;y=Y;try{return se()}finally{y=j}},t.unstable_scheduleCallback=function(Y,se,j){var ee=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,Y){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,Y={id:f++,callback:se,priorityLevel:Y,startTime:j,expirationTime:ue,sortIndex:-1},j>ee?(Y.sortIndex=j,e(d,Y),n(u)===null&&Y===n(d)&&(S?(E(H),H=-1):S=!0,he(D,j-ee))):(Y.sortIndex=ue,e(u,Y),T||v||(T=!0,fe(G))),Y},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(Y){var se=y;return function(){var j=y;y=se;try{return Y.apply(this,arguments)}finally{y=j}}}}(OT)),OT}var zP;function u$(){return zP||(zP=1,NT.exports=l$()),NT.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT,HP;function c$(){return HP||(HP=1,kT=function(e){var n={},i=am(),r=u$(),s=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,C=1;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),G=Symbol.iterator;function V(m){return m===null||typeof m!="object"?null:(m=G&&m[G]||m["@@iterator"],typeof m=="function"?m:null)}function K(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case f:return"Fragment";case d:return"Portal";case y:return"Profiler";case p:return"StrictMode";case b:return"Suspense";case E:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case T:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case S:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case R:return g=m.displayName||null,g!==null?g:K(m.type)||"Memo";case P:g=m._payload,m=m._init;try{return K(m(g))}catch{}}return null}function H(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(g);case 8:return g===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function z(m){var g=m,C=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(C=g.return),m=g.return;while(m)}return g.tag===3?C:null}function k(m){if(z(m)!==m)throw Error(o(188))}function Z(m){var g=m.alternate;if(!g){if(g=z(m),g===null)throw Error(o(188));return g!==m?null:m}for(var C=m,M=g;;){var B=C.return;if(B===null)break;var q=B.alternate;if(q===null){if(M=B.return,M!==null){C=M;continue}break}if(B.child===q.child){for(q=B.child;q;){if(q===C)return k(B),m;if(q===M)return k(B),g;q=q.sibling}throw Error(o(188))}if(C.return!==M.return)C=B,M=q;else{for(var ve=!1,Re=B.child;Re;){if(Re===C){ve=!0,C=B,M=q;break}if(Re===M){ve=!0,M=B,C=q;break}Re=Re.sibling}if(!ve){for(Re=q.child;Re;){if(Re===C){ve=!0,C=q,M=B;break}if(Re===M){ve=!0,M=q,C=B;break}Re=Re.sibling}if(!ve)throw Error(o(189))}}if(C.alternate!==M)throw Error(o(190))}if(C.tag!==3)throw Error(o(188));return C.stateNode.current===C?m:g}function $(m){return m=Z(m),m!==null?re(m):null}function re(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=re(m);if(g!==null)return g;m=m.sibling}return null}function ie(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=ie(m);if(g!==null)return g}m=m.sibling}return null}var ge=Array.isArray,fe=e.getPublicInstance,he=e.getRootHostContext,Y=e.getChildHostContext,se=e.prepareForCommit,j=e.resetAfterCommit,ee=e.createInstance,ue=e.appendInitialChild,J=e.finalizeInitialChildren,pe=e.prepareUpdate,xe=e.shouldSetTextContent,be=e.createTextInstance,Ce=e.scheduleTimeout,Xe=e.cancelTimeout,nt=e.noTimeout,rt=e.isPrimaryRenderer,ot=e.supportsMutation,_t=e.supportsPersistence,yt=e.supportsHydration,le=e.getInstanceFromNode,ut=e.preparePortalMount,et=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Ne=e.supportsMicrotasks,Qe=e.scheduleMicrotask,Ie=e.supportsTestSelectors,Ke=e.findFiberRoot,ct=e.getBoundingRect,ae=e.getTextContent,Q=e.isHiddenSubtree,Me=e.matchAccessibilityRole,de=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Le=e.appendChild,dt=e.appendChildToContainer,Je=e.commitTextUpdate,It=e.commitMount,St=e.commitUpdate,tt=e.insertBefore,Pt=e.insertInContainerBefore,Yt=e.removeChild,kt=e.removeChildFromContainer,Et=e.resetTextContent,tn=e.hideInstance,Ae=e.hideTextInstance,Lt=e.unhideInstance,ht=e.unhideTextInstance,Bt=e.clearContainer,pt=e.cloneInstance,st=e.createContainerChildSet,at=e.appendChildToContainerChildSet,Ut=e.finalizeContainerChildren,cn=e.replaceContainerChildren,yn=e.cloneHiddenInstance,ti=e.cloneHiddenTextInstance,yi=e.canHydrateInstance,qr=e.canHydrateTextInstance,Bi=e.canHydrateSuspenseInstance,$i=e.isSuspenseInstancePending,Ui=e.isSuspenseInstanceFallback,Qt=e.registerSuspenseInstanceRetry,Ns=e.getNextHydratableSibling,Ko=e.getFirstHydratableChild,Nu=e.getFirstHydratableChildWithinContainer,$a=e.getFirstHydratableChildWithinSuspenseInstance,Wl=e.hydrateInstance,$s=e.hydrateTextInstance,$o=e.hydrateSuspenseInstance,Ou=e.getNextHydratableInstanceAfterSuspenseInstance,Oc=e.commitHydratedContainer,kc=e.commitHydratedSuspenseInstance,Dc=e.clearSuspenseBoundary,Fc=e.clearSuspenseBoundaryFromContainer,oe=e.shouldDeleteUnhydratedTailInstances,De=e.didNotMatchHydratedContainerTextInstance,je=e.didNotMatchHydratedTextInstance,Be;function Oe(m){if(Be===void 0)try{throw Error()}catch(C){var g=C.stack.trim().match(/\n( *(at )?)/);Be=g&&g[1]||""}return`
`+Be+m}var xt=!1;function Ft(m,g){if(!m||xt)return"";xt=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ct){var M=Ct}Reflect.construct(m,[],g)}else{try{g.call()}catch(Ct){M=Ct}m.call(g.prototype)}else{try{throw Error()}catch(Ct){M=Ct}m()}}catch(Ct){if(Ct&&M&&typeof Ct.stack=="string"){for(var B=Ct.stack.split(`
`),q=M.stack.split(`
`),ve=B.length-1,Re=q.length-1;1<=ve&&0<=Re&&B[ve]!==q[Re];)Re--;for(;1<=ve&&0<=Re;ve--,Re--)if(B[ve]!==q[Re]){if(ve!==1||Re!==1)do if(ve--,Re--,0>Re||B[ve]!==q[Re]){var $e=`
`+B[ve].replace(" at new "," at ");return m.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",m.displayName)),$e}while(1<=ve&&0<=Re);break}}}finally{xt=!1,Error.prepareStackTrace=C}return(m=m?m.displayName||m.name:"")?Oe(m):""}var Xt=Object.prototype.hasOwnProperty,jt=[],sn=-1;function on(m){return{current:m}}function wt(m){0>sn||(m.current=jt[sn],jt[sn]=null,sn--)}function Gt(m,g){sn++,jt[sn]=m.current,m.current=g}var Dt={},en=on(Dt),xn=on(!1),Cn=Dt;function qt(m,g){var C=m.type.contextTypes;if(!C)return Dt;var M=m.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===g)return M.__reactInternalMemoizedMaskedChildContext;var B={},q;for(q in C)B[q]=g[q];return M&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=B),B}function En(m){return m=m.childContextTypes,m!=null}function Nt(){wt(xn),wt(en)}function Ln(m,g,C){if(en.current!==Dt)throw Error(o(168));Gt(en,g),Gt(xn,C)}function Qs(m,g,C){var M=m.stateNode;if(g=g.childContextTypes,typeof M.getChildContext!="function")return C;M=M.getChildContext();for(var B in M)if(!(B in g))throw Error(o(108,H(m)||"Unknown",B));return s({},C,M)}function Ii(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Dt,Cn=en.current,Gt(en,m),Gt(xn,xn.current),!0}function Li(m,g,C){var M=m.stateNode;if(!M)throw Error(o(169));C?(m=Qs(m,g,Cn),M.__reactInternalMemoizedMergedChildContext=m,wt(xn),wt(en),Gt(en,m)):wt(xn),Gt(xn,C)}var zn=Math.clz32?Math.clz32:Wn,Qi=Math.log,vi=Math.LN2;function Wn(m){return m>>>=0,m===0?32:31-(Qi(m)/vi|0)|0}var ai=64,An=4194304;function sr(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Qa(m,g){var C=m.pendingLanes;if(C===0)return 0;var M=0,B=m.suspendedLanes,q=m.pingedLanes,ve=C&268435455;if(ve!==0){var Re=ve&~B;Re!==0?M=sr(Re):(q&=ve,q!==0&&(M=sr(q)))}else ve=C&~B,ve!==0?M=sr(ve):q!==0&&(M=sr(q));if(M===0)return 0;if(g!==0&&g!==M&&(g&B)===0&&(B=M&-M,q=g&-g,B>=q||B===16&&(q&4194240)!==0))return g;if((M&4)!==0&&(M|=C&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=M;0<g;)C=31-zn(g),B=1<<C,M|=m[C],g&=~B;return M}function Ja(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(m,g){for(var C=m.suspendedLanes,M=m.pingedLanes,B=m.expirationTimes,q=m.pendingLanes;0<q;){var ve=31-zn(q),Re=1<<ve,$e=B[ve];$e===-1?((Re&C)===0||(Re&M)!==0)&&(B[ve]=Ja(Re,g)):$e<=g&&(m.expiredLanes|=Re),q&=~Re}}function Gl(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function el(m){for(var g=[],C=0;31>C;C++)g.push(m);return g}function Qo(m,g,C){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-zn(g),m[g]=C}function Yl(m,g){var C=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var M=m.eventTimes;for(m=m.expirationTimes;0<C;){var B=31-zn(C),q=1<<B;g[B]=0,M[B]=-1,m[B]=-1,C&=~q}}function ds(m,g){var C=m.entangledLanes|=g;for(m=m.entanglements;C;){var M=31-zn(C),B=1<<M;B&g|m[M]&g&&(m[M]|=g),C&=~B}}var Mn=0;function Js(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var tl=r.unstable_scheduleCallback,mn=r.unstable_cancelCallback,pr=r.unstable_shouldYield,di=r.unstable_requestPaint,zi=r.unstable_now,Jo=r.unstable_ImmediatePriority,eh=r.unstable_UserBlockingPriority,Xl=r.unstable_NormalPriority,To=r.unstable_IdlePriority,nl=null,Zr=null;function Ni(m){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(nl,m,void 0,(m.current.flags&128)===128)}catch{}}function eo(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var br=typeof Object.is=="function"?Object.is:eo,hs=null,Uc=!1,zc=!1;function ql(m){hs===null?hs=[m]:hs.push(m)}function Hc(m){Uc=!0,ql(m)}function fs(){if(!zc&&hs!==null){zc=!0;var m=0,g=Mn;try{var C=hs;for(Mn=1;m<C.length;m++){var M=C[m];do M=M(!0);while(M!==null)}hs=null,Uc=!1}catch(B){throw hs!==null&&(hs=hs.slice(m+1)),tl(Jo,fs),B}finally{Mn=g,zc=!1}}return null}var Gn=a.ReactCurrentBatchConfig;function to(m,g){if(br(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var C=Object.keys(m),M=Object.keys(g);if(C.length!==M.length)return!1;for(M=0;M<C.length;M++){var B=C[M];if(!Xt.call(g,B)||!br(m[B],g[B]))return!1}return!0}function ps(m){switch(m.tag){case 5:return Oe(m.type);case 16:return Oe("Lazy");case 13:return Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 2:case 15:return m=Ft(m.type,!1),m;case 11:return m=Ft(m.type.render,!1),m;case 1:return m=Ft(m.type,!0),m;default:return""}}function or(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var C in m)g[C]===void 0&&(g[C]=m[C]);return g}return g}var Zl=on(null),il=null,no=null,Vc=null;function Sr(){Vc=no=il=null}function rl(m,g,C){rt?(Gt(Zl,g._currentValue),g._currentValue=C):(Gt(Zl,g._currentValue2),g._currentValue2=C)}function ku(m){var g=Zl.current;wt(Zl),rt?m._currentValue=g:m._currentValue2=g}function ea(m,g,C){for(;m!==null;){var M=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,M!==null&&(M.childLanes|=g)):M!==null&&(M.childLanes&g)!==g&&(M.childLanes|=g),m===C)break;m=m.return}}function Kl(m,g){il=m,Vc=no=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(Cr=!0),m.firstContext=null)}function bi(m){var g=rt?m._currentValue:m._currentValue2;if(Vc!==m)if(m={context:m,memoizedValue:g,next:null},no===null){if(il===null)throw Error(o(308));no=m,il.dependencies={lanes:0,firstContext:m}}else no=no.next=m;return g}var Os=null,ms=!1;function gs(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jc(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function bo(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function So(m,g){var C=m.updateQueue;C!==null&&(C=C.shared,tr!==null&&(m.mode&1)!==0&&(Nn&2)===0?(m=C.interleaved,m===null?(g.next=g,Os===null?Os=[C]:Os.push(C)):(g.next=m.next,m.next=g),C.interleaved=g):(m=C.pending,m===null?g.next=g:(g.next=m.next,m.next=g),C.pending=g))}function Wc(m,g,C){if(g=g.updateQueue,g!==null&&(g=g.shared,(C&4194240)!==0)){var M=g.lanes;M&=m.pendingLanes,C|=M,g.lanes=C,ds(m,C)}}function Du(m,g){var C=m.updateQueue,M=m.alternate;if(M!==null&&(M=M.updateQueue,C===M)){var B=null,q=null;if(C=C.firstBaseUpdate,C!==null){do{var ve={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};q===null?B=q=ve:q=q.next=ve,C=C.next}while(C!==null);q===null?B=q=g:q=q.next=g}else B=q=g;C={baseState:M.baseState,firstBaseUpdate:B,lastBaseUpdate:q,shared:M.shared,effects:M.effects},m.updateQueue=C;return}m=C.lastBaseUpdate,m===null?C.firstBaseUpdate=g:m.next=g,C.lastBaseUpdate=g}function Fu(m,g,C,M){var B=m.updateQueue;ms=!1;var q=B.firstBaseUpdate,ve=B.lastBaseUpdate,Re=B.shared.pending;if(Re!==null){B.shared.pending=null;var $e=Re,Ct=$e.next;$e.next=null,ve===null?q=Ct:ve.next=Ct,ve=$e;var $t=m.alternate;$t!==null&&($t=$t.updateQueue,Re=$t.lastBaseUpdate,Re!==ve&&(Re===null?$t.firstBaseUpdate=Ct:Re.next=Ct,$t.lastBaseUpdate=$e))}if(q!==null){var Sn=B.baseState;ve=0,$t=Ct=$e=null,Re=q;do{var hn=Re.lane,Fn=Re.eventTime;if((M&hn)===hn){$t!==null&&($t=$t.next={eventTime:Fn,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var Wt=m,jr=Re;switch(hn=g,Fn=C,jr.tag){case 1:if(Wt=jr.payload,typeof Wt=="function"){Sn=Wt.call(Fn,Sn,hn);break e}Sn=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=jr.payload,hn=typeof Wt=="function"?Wt.call(Fn,Sn,hn):Wt,hn==null)break e;Sn=s({},Sn,hn);break e;case 2:ms=!0}}Re.callback!==null&&Re.lane!==0&&(m.flags|=64,hn=B.effects,hn===null?B.effects=[Re]:hn.push(Re))}else Fn={eventTime:Fn,lane:hn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},$t===null?(Ct=$t=Fn,$e=Sn):$t=$t.next=Fn,ve|=hn;if(Re=Re.next,Re===null){if(Re=B.shared.pending,Re===null)break;hn=Re,Re=hn.next,hn.next=null,B.lastBaseUpdate=hn,B.shared.pending=null}}while(!0);if($t===null&&($e=Sn),B.baseState=$e,B.firstBaseUpdate=Ct,B.lastBaseUpdate=$t,g=B.shared.interleaved,g!==null){B=g;do ve|=B.lane,B=B.next;while(B!==g)}else q===null&&(B.shared.lanes=0);La|=ve,m.lanes=ve,m.memoizedState=Sn}}function Cf(m,g,C){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var M=m[g],B=M.callback;if(B!==null){if(M.callback=null,M=C,typeof B!="function")throw Error(o(191,B));B.call(M)}}}var Af=new i.Component().refs;function Bu(m,g,C,M){g=m.memoizedState,C=C(M,g),C=C==null?g:s({},g,C),m.memoizedState=C,m.lanes===0&&(m.updateQueue.baseState=C)}var Gc={isMounted:function(m){return(m=m._reactInternals)?z(m)===m:!1},enqueueSetState:function(m,g,C){m=m._reactInternals;var M=Jn(),B=ha(m),q=bo(M,B);q.payload=g,C!=null&&(q.callback=C),So(m,q),g=rs(m,B,M),g!==null&&Wc(g,m,B)},enqueueReplaceState:function(m,g,C){m=m._reactInternals;var M=Jn(),B=ha(m),q=bo(M,B);q.tag=1,q.payload=g,C!=null&&(q.callback=C),So(m,q),g=rs(m,B,M),g!==null&&Wc(g,m,B)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var C=Jn(),M=ha(m),B=bo(C,M);B.tag=2,g!=null&&(B.callback=g),So(m,B),g=rs(m,M,C),g!==null&&Wc(g,m,M)}};function Yc(m,g,C,M,B,q,ve){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(M,q,ve):g.prototype&&g.prototype.isPureReactComponent?!to(C,M)||!to(B,q):!0}function th(m,g,C){var M=!1,B=Dt,q=g.contextType;return typeof q=="object"&&q!==null?q=bi(q):(B=En(g)?Cn:en.current,M=g.contextTypes,q=(M=M!=null)?qt(m,B):Dt),g=new g(C,q),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gc,m.stateNode=g,g._reactInternals=m,M&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=B,m.__reactInternalMemoizedMaskedChildContext=q),g}function Uu(m,g,C,M){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(C,M),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(C,M),g.state!==m&&Gc.enqueueReplaceState(g,g.state,null)}function ta(m,g,C,M){var B=m.stateNode;B.props=C,B.state=m.memoizedState,B.refs=Af,gs(m);var q=g.contextType;typeof q=="object"&&q!==null?B.context=bi(q):(q=En(g)?Cn:en.current,B.context=qt(m,q)),B.state=m.memoizedState,q=g.getDerivedStateFromProps,typeof q=="function"&&(Bu(m,g,q,C),B.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&Gc.enqueueReplaceState(B,B.state,null),Fu(m,C,B,M),B.state=m.memoizedState),typeof B.componentDidMount=="function"&&(m.flags|=4194308)}var $l=[],ks=0,Fr=null,zu=0,ys=[],vs=0,na=null,io=1,ia="";function sl(m,g){$l[ks++]=zu,$l[ks++]=Fr,Fr=m,zu=g}function nh(m,g,C){ys[vs++]=io,ys[vs++]=ia,ys[vs++]=na,na=m;var M=io;m=ia;var B=32-zn(M)-1;M&=~(1<<B),C+=1;var q=32-zn(g)+B;if(30<q){var ve=B-B%5;q=(M&(1<<ve)-1).toString(32),M>>=ve,B-=ve,io=1<<32-zn(g)+B|C<<B|M,ia=q+m}else io=1<<q|C<<B|M,ia=m}function ih(m){m.return!==null&&(sl(m,1),nh(m,1,0))}function _s(m){for(;m===Fr;)Fr=$l[--ks],$l[ks]=null,zu=$l[--ks],$l[ks]=null;for(;m===na;)na=ys[--vs],ys[vs]=null,ia=ys[--vs],ys[vs]=null,io=ys[--vs],ys[vs]=null}var Hi=null,mr=null,Zn=!1,Ql=!1,gr=null;function rh(m,g){var C=co(5,null,null,0);C.elementType="DELETED",C.stateNode=g,C.return=m,g=m.deletions,g===null?(m.deletions=[C],m.flags|=16):g.push(C)}function ol(m,g){switch(m.tag){case 5:return g=yi(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,Hi=m,mr=Ko(g),!0):!1;case 6:return g=qr(g,m.pendingProps),g!==null?(m.stateNode=g,Hi=m,mr=null,!0):!1;case 13:if(g=Bi(g),g!==null){var C=na!==null?{id:io,overflow:ia}:null;return m.memoizedState={dehydrated:g,treeContext:C,retryLane:1073741824},C=co(18,null,null,0),C.stateNode=g,C.return=m,m.child=C,Hi=m,mr=null,!0}return!1;default:return!1}}function Hu(m){return(m.mode&1)!==0&&(m.flags&128)===0}function ro(m){if(Zn){var g=mr;if(g){var C=g;if(!ol(m,g)){if(Hu(m))throw Error(o(418));g=Ns(C);var M=Hi;g&&ol(m,g)?rh(M,C):(m.flags=m.flags&-4097|2,Zn=!1,Hi=m)}}else{if(Hu(m))throw Error(o(418));m.flags=m.flags&-4097|2,Zn=!1,Hi=m}}}function Mf(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Hi=m}function Ds(m){if(!yt||m!==Hi)return!1;if(!Zn)return Mf(m),Zn=!0,!1;if(m.tag!==3&&(m.tag!==5||oe(m.type)&&!xe(m.type,m.memoizedProps))){var g=mr;if(g){if(Hu(m)){for(m=mr;m;)m=Ns(m);throw Error(o(418))}for(;g;)rh(m,g),g=Ns(g)}}if(Mf(m),m.tag===13){if(!yt)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));mr=Ou(m)}else mr=Hi?Ns(m.stateNode):null;return!0}function ra(){yt&&(mr=Hi=null,Ql=Zn=!1)}function Xc(m){gr===null?gr=[m]:gr.push(m)}function Sa(m,g,C){if(m=C.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(o(309));var M=C.stateNode}if(!M)throw Error(o(147,m));var B=M,q=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===q?g.ref:(g=function(ve){var Re=B.refs;Re===Af&&(Re=B.refs={}),ve===null?delete Re[q]:Re[q]=ve},g._stringRef=q,g)}if(typeof m!="string")throw Error(o(284));if(!C._owner)throw Error(o(290,m))}return m}function wa(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Kr(m){var g=m._init;return g(m._payload)}function Pf(m){function g(Ve,ke){if(m){var qe=Ve.deletions;qe===null?(Ve.deletions=[ke],Ve.flags|=16):qe.push(ke)}}function C(Ve,ke){if(!m)return null;for(;ke!==null;)g(Ve,ke),ke=ke.sibling;return null}function M(Ve,ke){for(Ve=new Map;ke!==null;)ke.key!==null?Ve.set(ke.key,ke):Ve.set(ke.index,ke),ke=ke.sibling;return Ve}function B(Ve,ke){return Ve=Sl(Ve,ke),Ve.index=0,Ve.sibling=null,Ve}function q(Ve,ke,qe){return Ve.index=qe,m?(qe=Ve.alternate,qe!==null?(qe=qe.index,qe<ke?(Ve.flags|=2,ke):qe):(Ve.flags|=2,ke)):(Ve.flags|=1048576,ke)}function ve(Ve){return m&&Ve.alternate===null&&(Ve.flags|=2),Ve}function Re(Ve,ke,qe,Ht){return ke===null||ke.tag!==6?(ke=Vf(qe,Ve.mode,Ht),ke.return=Ve,ke):(ke=B(ke,qe),ke.return=Ve,ke)}function $e(Ve,ke,qe,Ht){var ln=qe.type;return ln===f?$t(Ve,ke,qe.props.children,Ht,qe.key):ke!==null&&(ke.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&Kr(ln)===ke.type)?(Ht=B(ke,qe.props),Ht.ref=Sa(Ve,ke,qe),Ht.return=Ve,Ht):(Ht=Hf(qe.type,qe.key,qe.props,null,Ve.mode,Ht),Ht.ref=Sa(Ve,ke,qe),Ht.return=Ve,Ht)}function Ct(Ve,ke,qe,Ht){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==qe.containerInfo||ke.stateNode.implementation!==qe.implementation?(ke=jf(qe,Ve.mode,Ht),ke.return=Ve,ke):(ke=B(ke,qe.children||[]),ke.return=Ve,ke)}function $t(Ve,ke,qe,Ht,ln){return ke===null||ke.tag!==7?(ke=ac(qe,Ve.mode,Ht,ln),ke.return=Ve,ke):(ke=B(ke,qe),ke.return=Ve,ke)}function Sn(Ve,ke,qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=Vf(""+ke,Ve.mode,qe),ke.return=Ve,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case u:return qe=Hf(ke.type,ke.key,ke.props,null,Ve.mode,qe),qe.ref=Sa(Ve,null,ke),qe.return=Ve,qe;case d:return ke=jf(ke,Ve.mode,qe),ke.return=Ve,ke;case P:var Ht=ke._init;return Sn(Ve,Ht(ke._payload),qe)}if(ge(ke)||V(ke))return ke=ac(ke,Ve.mode,qe,null),ke.return=Ve,ke;wa(Ve,ke)}return null}function hn(Ve,ke,qe,Ht){var ln=ke!==null?ke.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ln!==null?null:Re(Ve,ke,""+qe,Ht);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case u:return qe.key===ln?$e(Ve,ke,qe,Ht):null;case d:return qe.key===ln?Ct(Ve,ke,qe,Ht):null;case P:return ln=qe._init,hn(Ve,ke,ln(qe._payload),Ht)}if(ge(qe)||V(qe))return ln!==null?null:$t(Ve,ke,qe,Ht,null);wa(Ve,qe)}return null}function Fn(Ve,ke,qe,Ht,ln){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Ve=Ve.get(qe)||null,Re(ke,Ve,""+Ht,ln);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case u:return Ve=Ve.get(Ht.key===null?qe:Ht.key)||null,$e(ke,Ve,Ht,ln);case d:return Ve=Ve.get(Ht.key===null?qe:Ht.key)||null,Ct(ke,Ve,Ht,ln);case P:var Rn=Ht._init;return Fn(Ve,ke,qe,Rn(Ht._payload),ln)}if(ge(Ht)||V(Ht))return Ve=Ve.get(qe)||null,$t(ke,Ve,Ht,ln,null);wa(ke,Ht)}return null}function Wt(Ve,ke,qe,Ht){for(var ln=null,Rn=null,wn=ke,Qn=ke=0,ur=null;wn!==null&&Qn<qe.length;Qn++){wn.index>Qn?(ur=wn,wn=null):ur=wn.sibling;var $n=hn(Ve,wn,qe[Qn],Ht);if($n===null){wn===null&&(wn=ur);break}m&&wn&&$n.alternate===null&&g(Ve,wn),ke=q($n,ke,Qn),Rn===null?ln=$n:Rn.sibling=$n,Rn=$n,wn=ur}if(Qn===qe.length)return C(Ve,wn),Zn&&sl(Ve,Qn),ln;if(wn===null){for(;Qn<qe.length;Qn++)wn=Sn(Ve,qe[Qn],Ht),wn!==null&&(ke=q(wn,ke,Qn),Rn===null?ln=wn:Rn.sibling=wn,Rn=wn);return Zn&&sl(Ve,Qn),ln}for(wn=M(Ve,wn);Qn<qe.length;Qn++)ur=Fn(wn,Ve,Qn,qe[Qn],Ht),ur!==null&&(m&&ur.alternate!==null&&wn.delete(ur.key===null?Qn:ur.key),ke=q(ur,ke,Qn),Rn===null?ln=ur:Rn.sibling=ur,Rn=ur);return m&&wn.forEach(function(wl){return g(Ve,wl)}),Zn&&sl(Ve,Qn),ln}function jr(Ve,ke,qe,Ht){var ln=V(qe);if(typeof ln!="function")throw Error(o(150));if(qe=ln.call(qe),qe==null)throw Error(o(151));for(var Rn=ln=null,wn=ke,Qn=ke=0,ur=null,$n=qe.next();wn!==null&&!$n.done;Qn++,$n=qe.next()){wn.index>Qn?(ur=wn,wn=null):ur=wn.sibling;var wl=hn(Ve,wn,$n.value,Ht);if(wl===null){wn===null&&(wn=ur);break}m&&wn&&wl.alternate===null&&g(Ve,wn),ke=q(wl,ke,Qn),Rn===null?ln=wl:Rn.sibling=wl,Rn=wl,wn=ur}if($n.done)return C(Ve,wn),Zn&&sl(Ve,Qn),ln;if(wn===null){for(;!$n.done;Qn++,$n=qe.next())$n=Sn(Ve,$n.value,Ht),$n!==null&&(ke=q($n,ke,Qn),Rn===null?ln=$n:Rn.sibling=$n,Rn=$n);return Zn&&sl(Ve,Qn),ln}for(wn=M(Ve,wn);!$n.done;Qn++,$n=qe.next())$n=Fn(wn,Ve,Qn,$n.value,Ht),$n!==null&&(m&&$n.alternate!==null&&wn.delete($n.key===null?Qn:$n.key),ke=q($n,ke,Qn),Rn===null?ln=$n:Rn.sibling=$n,Rn=$n);return m&&wn.forEach(function(Km){return g(Ve,Km)}),Zn&&sl(Ve,Qn),ln}function ho(Ve,ke,qe,Ht){if(typeof qe=="object"&&qe!==null&&qe.type===f&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case u:e:{for(var ln=qe.key,Rn=ke;Rn!==null;){if(Rn.key===ln){if(ln=qe.type,ln===f){if(Rn.tag===7){C(Ve,Rn.sibling),ke=B(Rn,qe.props.children),ke.return=Ve,Ve=ke;break e}}else if(Rn.elementType===ln||typeof ln=="object"&&ln!==null&&ln.$$typeof===P&&Kr(ln)===Rn.type){C(Ve,Rn.sibling),ke=B(Rn,qe.props),ke.ref=Sa(Ve,Rn,qe),ke.return=Ve,Ve=ke;break e}C(Ve,Rn);break}else g(Ve,Rn);Rn=Rn.sibling}qe.type===f?(ke=ac(qe.props.children,Ve.mode,Ht,qe.key),ke.return=Ve,Ve=ke):(Ht=Hf(qe.type,qe.key,qe.props,null,Ve.mode,Ht),Ht.ref=Sa(Ve,ke,qe),Ht.return=Ve,Ve=Ht)}return ve(Ve);case d:e:{for(Rn=qe.key;ke!==null;){if(ke.key===Rn)if(ke.tag===4&&ke.stateNode.containerInfo===qe.containerInfo&&ke.stateNode.implementation===qe.implementation){C(Ve,ke.sibling),ke=B(ke,qe.children||[]),ke.return=Ve,Ve=ke;break e}else{C(Ve,ke);break}else g(Ve,ke);ke=ke.sibling}ke=jf(qe,Ve.mode,Ht),ke.return=Ve,Ve=ke}return ve(Ve);case P:return Rn=qe._init,ho(Ve,ke,Rn(qe._payload),Ht)}if(ge(qe))return Wt(Ve,ke,qe,Ht);if(V(qe))return jr(Ve,ke,qe,Ht);wa(Ve,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,ke!==null&&ke.tag===6?(C(Ve,ke.sibling),ke=B(ke,qe),ke.return=Ve,Ve=ke):(C(Ve,ke),ke=Vf(qe,Ve.mode,Ht),ke.return=Ve,Ve=ke),ve(Ve)):C(Ve,ke)}return ho}var $r=Pf(!0),Rf=Pf(!1),Qr={},yr=on(Qr),Ca=on(Qr),sa=on(Qr);function Jr(m){if(m===Qr)throw Error(o(174));return m}function Jl(m,g){Gt(sa,g),Gt(Ca,m),Gt(yr,Qr),m=he(g),wt(yr),Gt(yr,m)}function oa(){wt(yr),wt(Ca),wt(sa)}function al(m){var g=Jr(sa.current),C=Jr(yr.current);g=Y(C,m.type,g),C!==g&&(Gt(Ca,m),Gt(yr,g))}function eu(m){Ca.current===m&&(wt(yr),wt(Ca))}var pi=on(0);function Vu(m){for(var g=m;g!==null;){if(g.tag===13){var C=g.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||$i(C)||Ui(C)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var xs=[];function wo(){for(var m=0;m<xs.length;m++){var g=xs[m];rt?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}xs.length=0}var ju=a.ReactCurrentDispatcher,es=a.ReactCurrentBatchConfig,ll=0,_i=null,ar=null,li=null,ul=!1,Co=!1,Ao=0,Wu=0;function Ji(){throw Error(o(321))}function qc(m,g){if(g===null)return!1;for(var C=0;C<g.length&&C<m.length;C++)if(!br(m[C],g[C]))return!1;return!0}function Mo(m,g,C,M,B,q){if(ll=q,_i=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ju.current=m===null||m.memoizedState===null?dn:Pn,m=C(M,B),Co){q=0;do{if(Co=!1,Ao=0,25<=q)throw Error(o(301));q+=1,li=ar=null,g.updateQueue=null,ju.current=vr,m=C(M,B)}while(Co)}if(ju.current=zt,g=ar!==null&&ar.next!==null,ll=0,li=ar=_i=null,ul=!1,g)throw Error(o(300));return m}function Aa(){var m=Ao!==0;return Ao=0,m}function wr(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?_i.memoizedState=li=m:li=li.next=m,li}function Fs(){if(ar===null){var m=_i.alternate;m=m!==null?m.memoizedState:null}else m=ar.next;var g=li===null?_i.memoizedState:li.next;if(g!==null)li=g,ar=m;else{if(m===null)throw Error(o(310));ar=m,m={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},li===null?_i.memoizedState=li=m:li=li.next=m}return li}function so(m,g){return typeof g=="function"?g(m):g}function Gu(m){var g=Fs(),C=g.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=m;var M=ar,B=M.baseQueue,q=C.pending;if(q!==null){if(B!==null){var ve=B.next;B.next=q.next,q.next=ve}M.baseQueue=B=q,C.pending=null}if(B!==null){q=B.next,M=M.baseState;var Re=ve=null,$e=null,Ct=q;do{var $t=Ct.lane;if((ll&$t)===$t)$e!==null&&($e=$e.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),M=Ct.hasEagerState?Ct.eagerState:m(M,Ct.action);else{var Sn={lane:$t,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};$e===null?(Re=$e=Sn,ve=M):$e=$e.next=Sn,_i.lanes|=$t,La|=$t}Ct=Ct.next}while(Ct!==null&&Ct!==q);$e===null?ve=M:$e.next=Re,br(M,g.memoizedState)||(Cr=!0),g.memoizedState=M,g.baseState=ve,g.baseQueue=$e,C.lastRenderedState=M}if(m=C.interleaved,m!==null){B=m;do q=B.lane,_i.lanes|=q,La|=q,B=B.next;while(B!==m)}else B===null&&(C.lanes=0);return[g.memoizedState,C.dispatch]}function Es(m){var g=Fs(),C=g.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=m;var M=C.dispatch,B=C.pending,q=g.memoizedState;if(B!==null){C.pending=null;var ve=B=B.next;do q=m(q,ve.action),ve=ve.next;while(ve!==B);br(q,g.memoizedState)||(Cr=!0),g.memoizedState=q,g.baseQueue===null&&(g.baseState=q),C.lastRenderedState=q}return[q,M]}function Zc(){}function Kc(m,g){var C=_i,M=Fs(),B=g(),q=!br(M.memoizedState,B);if(q&&(M.memoizedState=B,Cr=!0),M=M.queue,dl(Bs.bind(null,C,M,m),[m]),M.getSnapshot!==g||q||li!==null&&li.memoizedState.tag&1){if(C.flags|=2048,nu(9,sh.bind(null,C,M,B,g),void 0,null),tr===null)throw Error(o(349));(ll&30)!==0||cl(C,g,B)}return B}function cl(m,g,C){m.flags|=16384,m={getSnapshot:g,value:C},g=_i.updateQueue,g===null?(g={lastEffect:null,stores:null},_i.updateQueue=g,g.stores=[m]):(C=g.stores,C===null?g.stores=[m]:C.push(m))}function sh(m,g,C,M){g.value=C,g.getSnapshot=M,Ma(g)&&rs(m,1,-1)}function Bs(m,g,C){return C(function(){Ma(g)&&rs(m,1,-1)})}function Ma(m){var g=m.getSnapshot;m=m.value;try{var C=g();return!br(m,C)}catch{return!0}}function tu(m){var g=wr();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:m},g.queue=m,m=m.dispatch=ne.bind(null,_i,m),[g.memoizedState,m]}function nu(m,g,C,M){return m={tag:m,create:g,destroy:C,deps:M,next:null},g=_i.updateQueue,g===null?(g={lastEffect:null,stores:null},_i.updateQueue=g,g.lastEffect=m.next=m):(C=g.lastEffect,C===null?g.lastEffect=m.next=m:(M=C.next,C.next=m,m.next=M,g.lastEffect=m)),m}function If(){return Fs().memoizedState}function aa(m,g,C,M){var B=wr();_i.flags|=m,B.memoizedState=nu(1|g,C,void 0,M===void 0?null:M)}function Yu(m,g,C,M){var B=Fs();M=M===void 0?null:M;var q=void 0;if(ar!==null){var ve=ar.memoizedState;if(q=ve.destroy,M!==null&&qc(M,ve.deps)){B.memoizedState=nu(g,C,q,M);return}}_i.flags|=m,B.memoizedState=nu(1|g,C,q,M)}function Xu(m,g){return aa(8390656,8,m,g)}function dl(m,g){return Yu(2048,8,m,g)}function ui(m,g){return Yu(4,2,m,g)}function $c(m,g){return Yu(4,4,m,g)}function iu(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function hl(m,g,C){return C=C!=null?C.concat([m]):null,Yu(4,4,iu.bind(null,g,m),C)}function Qc(){}function c(m,g){var C=Fs();g=g===void 0?null:g;var M=C.memoizedState;return M!==null&&g!==null&&qc(g,M[1])?M[0]:(C.memoizedState=[m,g],m)}function _(m,g){var C=Fs();g=g===void 0?null:g;var M=C.memoizedState;return M!==null&&g!==null&&qc(g,M[1])?M[0]:(m=m(),C.memoizedState=[m,g],m)}function w(m,g){var C=Mn;Mn=C!==0&&4>C?C:4,m(!0);var M=es.transition;es.transition={};try{m(!1),g()}finally{Mn=C,es.transition=M}}function N(){return Fs().memoizedState}function W(m,g,C){var M=ha(m);C={lane:M,action:C,hasEagerState:!1,eagerState:null,next:null},Te(m)?Fe(g,C):(We(m,g,C),C=Jn(),m=rs(m,M,C),m!==null&&lt(m,g,M))}function ne(m,g,C){var M=ha(m),B={lane:M,action:C,hasEagerState:!1,eagerState:null,next:null};if(Te(m))Fe(g,B);else{We(m,g,B);var q=m.alternate;if(m.lanes===0&&(q===null||q.lanes===0)&&(q=g.lastRenderedReducer,q!==null))try{var ve=g.lastRenderedState,Re=q(ve,C);if(B.hasEagerState=!0,B.eagerState=Re,br(Re,ve))return}catch{}finally{}C=Jn(),m=rs(m,M,C),m!==null&&lt(m,g,M)}}function Te(m){var g=m.alternate;return m===_i||g!==null&&g===_i}function Fe(m,g){Co=ul=!0;var C=m.pending;C===null?g.next=g:(g.next=C.next,C.next=g),m.pending=g}function We(m,g,C){tr!==null&&(m.mode&1)!==0&&(Nn&2)===0?(m=g.interleaved,m===null?(C.next=C,Os===null?Os=[g]:Os.push(g)):(C.next=m.next,m.next=C),g.interleaved=C):(m=g.pending,m===null?C.next=C:(C.next=m.next,m.next=C),g.pending=C)}function lt(m,g,C){if((C&4194240)!==0){var M=g.lanes;M&=m.pendingLanes,C|=M,g.lanes=C,ds(m,C)}}var zt={readContext:bi,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},dn={readContext:bi,useCallback:function(m,g){return wr().memoizedState=[m,g===void 0?null:g],m},useContext:bi,useEffect:Xu,useImperativeHandle:function(m,g,C){return C=C!=null?C.concat([m]):null,aa(4194308,4,iu.bind(null,g,m),C)},useLayoutEffect:function(m,g){return aa(4194308,4,m,g)},useInsertionEffect:function(m,g){return aa(4,2,m,g)},useMemo:function(m,g){var C=wr();return g=g===void 0?null:g,m=m(),C.memoizedState=[m,g],m},useReducer:function(m,g,C){var M=wr();return g=C!==void 0?C(g):g,M.memoizedState=M.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},M.queue=m,m=m.dispatch=W.bind(null,_i,m),[M.memoizedState,m]},useRef:function(m){var g=wr();return m={current:m},g.memoizedState=m},useState:tu,useDebugValue:Qc,useDeferredValue:function(m){var g=tu(m),C=g[0],M=g[1];return Xu(function(){var B=es.transition;es.transition={};try{M(m)}finally{es.transition=B}},[m]),C},useTransition:function(){var m=tu(!1),g=m[0];return m=w.bind(null,m[1]),wr().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,C){var M=_i,B=wr();if(Zn){if(C===void 0)throw Error(o(407));C=C()}else{if(C=g(),tr===null)throw Error(o(349));(ll&30)!==0||cl(M,g,C)}B.memoizedState=C;var q={value:C,getSnapshot:g};return B.queue=q,Xu(Bs.bind(null,M,q,m),[m]),M.flags|=2048,nu(9,sh.bind(null,M,q,C,g),void 0,null),C},useId:function(){var m=wr(),g=tr.identifierPrefix;if(Zn){var C=ia,M=io;C=(M&~(1<<32-zn(M)-1)).toString(32)+C,g=":"+g+"R"+C,C=Ao++,0<C&&(g+="H"+C.toString(32)),g+=":"}else C=Wu++,g=":"+g+"r"+C.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Pn={readContext:bi,useCallback:c,useContext:bi,useEffect:dl,useImperativeHandle:hl,useInsertionEffect:ui,useLayoutEffect:$c,useMemo:_,useReducer:Gu,useRef:If,useState:function(){return Gu(so)},useDebugValue:Qc,useDeferredValue:function(m){var g=Gu(so),C=g[0],M=g[1];return dl(function(){var B=es.transition;es.transition={};try{M(m)}finally{es.transition=B}},[m]),C},useTransition:function(){var m=Gu(so)[0],g=Fs().memoizedState;return[m,g]},useMutableSource:Zc,useSyncExternalStore:Kc,useId:N,unstable_isNewReconciler:!1},vr={readContext:bi,useCallback:c,useContext:bi,useEffect:dl,useImperativeHandle:hl,useInsertionEffect:ui,useLayoutEffect:$c,useMemo:_,useReducer:Es,useRef:If,useState:function(){return Es(so)},useDebugValue:Qc,useDeferredValue:function(m){var g=Es(so),C=g[0],M=g[1];return dl(function(){var B=es.transition;es.transition={};try{M(m)}finally{es.transition=B}},[m]),C},useTransition:function(){var m=Es(so)[0],g=Fs().memoizedState;return[m,g]},useMutableSource:Zc,useSyncExternalStore:Kc,useId:N,unstable_isNewReconciler:!1};function Vi(m,g){try{var C="",M=g;do C+=ps(M),M=M.return;while(M);var B=C}catch(q){B=`
Error generating stack: `+q.message+`
`+q.stack}return{value:m,source:g,stack:B}}function Br(m,g){try{console.error(g.value)}catch(C){setTimeout(function(){throw C})}}var ts=typeof WeakMap=="function"?WeakMap:Map;function fl(m,g,C){C=bo(-1,C),C.tag=3,C.payload={element:null};var M=g.value;return C.callback=function(){ad||(ad=!0,wi=M),Br(m,g)},C}function Jc(m,g,C){C=bo(-1,C),C.tag=3;var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var B=g.value;C.payload=function(){return M(B)},C.callback=function(){Br(m,g)}}var q=m.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(C.callback=function(){Br(m,g),typeof M!="function"&&(da===null?da=new Set([this]):da.add(this));var ve=g.stack;this.componentDidCatch(g.value,{componentStack:ve!==null?ve:""})}),C}function la(m,g,C){var M=m.pingCache;if(M===null){M=m.pingCache=new ts;var B=new Set;M.set(g,B)}else B=M.get(g),B===void 0&&(B=new Set,M.set(g,B));B.has(C)||(B.add(C),m=Xm.bind(null,m,g,C),g.then(m,m))}function oh(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function Pa(m,g,C,M,B){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(g=bo(-1,1),g.tag=2,So(C,g))),C.lanes|=1),m):(m.flags|=65536,m.lanes=B,m)}function er(m){m.flags|=4}function pl(m,g){if(m!==null&&m.child===g.child)return!0;if((g.flags&16)!==0)return!1;for(m=g.child;m!==null;){if((m.flags&12854)!==0||(m.subtreeFlags&12854)!==0)return!1;m=m.sibling}return!0}var Kn,Po,ed,td;if(ot)Kn=function(m,g){for(var C=g.child;C!==null;){if(C.tag===5||C.tag===6)ue(m,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Po=function(){},ed=function(m,g,C,M,B){if(m=m.memoizedProps,m!==M){var q=g.stateNode,ve=Jr(yr.current);C=pe(q,C,m,M,B,ve),(g.updateQueue=C)&&er(g)}},td=function(m,g,C,M){C!==M&&er(g)};else if(_t){Kn=function(m,g,C,M){for(var B=g.child;B!==null;){if(B.tag===5){var q=B.stateNode;C&&M&&(q=yn(q,B.type,B.memoizedProps,B)),ue(m,q)}else if(B.tag===6)q=B.stateNode,C&&M&&(q=ti(q,B.memoizedProps,B)),ue(m,q);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)q=B.child,q!==null&&(q.return=B),Kn(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var Ra=function(m,g,C,M){for(var B=g.child;B!==null;){if(B.tag===5){var q=B.stateNode;C&&M&&(q=yn(q,B.type,B.memoizedProps,B)),at(m,q)}else if(B.tag===6)q=B.stateNode,C&&M&&(q=ti(q,B.memoizedProps,B)),at(m,q);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)q=B.child,q!==null&&(q.return=B),Ra(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};Po=function(m,g){var C=g.stateNode;if(!pl(m,g)){m=C.containerInfo;var M=st(m);Ra(M,g,!1,!1),C.pendingChildren=M,er(g),Ut(m,M)}},ed=function(m,g,C,M,B){var q=m.stateNode,ve=m.memoizedProps;if((m=pl(m,g))&&ve===M)g.stateNode=q;else{var Re=g.stateNode,$e=Jr(yr.current),Ct=null;ve!==M&&(Ct=pe(Re,C,ve,M,B,$e)),m&&Ct===null?g.stateNode=q:(q=pt(q,Ct,C,ve,M,g,m,Re),J(q,C,M,B,$e)&&er(g),g.stateNode=q,m?er(g):Kn(q,g,!1,!1))}},td=function(m,g,C,M){C!==M?(m=Jr(sa.current),C=Jr(yr.current),g.stateNode=be(M,m,C,g),er(g)):g.stateNode=m.stateNode}}else Po=function(){},ed=function(){},td=function(){};function oo(m,g){if(!Zn)switch(m.tailMode){case"hidden":g=m.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?m.tail=null:C.sibling=null;break;case"collapsed":C=m.tail;for(var M=null;C!==null;)C.alternate!==null&&(M=C),C=C.sibling;M===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:M.sibling=null}}function Ci(m){var g=m.alternate!==null&&m.alternate.child===m.child,C=0,M=0;if(g)for(var B=m.child;B!==null;)C|=B.lanes|B.childLanes,M|=B.subtreeFlags&14680064,M|=B.flags&14680064,B.return=m,B=B.sibling;else for(B=m.child;B!==null;)C|=B.lanes|B.childLanes,M|=B.subtreeFlags,M|=B.flags,B.return=m,B=B.sibling;return m.subtreeFlags|=M,m.childLanes=C,g}function nd(m,g,C){var M=g.pendingProps;switch(_s(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(g),null;case 1:return En(g.type)&&Nt(),Ci(g),null;case 3:return M=g.stateNode,oa(),wt(xn),wt(en),wo(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(m===null||m.child===null)&&(Ds(g)?er(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,gr!==null&&(_h(gr),gr=null))),Po(m,g),Ci(g),null;case 5:eu(g),C=Jr(sa.current);var B=g.type;if(m!==null&&g.stateNode!=null)ed(m,g,B,M,C),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!M){if(g.stateNode===null)throw Error(o(166));return Ci(g),null}if(m=Jr(yr.current),Ds(g)){if(!yt)throw Error(o(175));m=Wl(g.stateNode,g.type,g.memoizedProps,C,m,g,!Ql),g.updateQueue=m,m!==null&&er(g)}else{var q=ee(B,M,C,m,g);Kn(q,g,!1,!1),g.stateNode=q,J(q,B,M,C,m)&&er(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ci(g),null;case 6:if(m&&g.stateNode!=null)td(m,g,m.memoizedProps,M);else{if(typeof M!="string"&&g.stateNode===null)throw Error(o(166));if(m=Jr(sa.current),C=Jr(yr.current),Ds(g)){if(!yt)throw Error(o(176));if(m=g.stateNode,M=g.memoizedProps,(C=$s(m,M,g,!Ql))&&(B=Hi,B!==null))switch(q=(B.mode&1)!==0,B.tag){case 3:De(B.stateNode.containerInfo,m,M,q);break;case 5:je(B.type,B.memoizedProps,B.stateNode,m,M,q)}C&&er(g)}else g.stateNode=be(M,m,C,g)}return Ci(g),null;case 13:if(wt(pi),M=g.memoizedState,Zn&&mr!==null&&(g.mode&1)!==0&&(g.flags&128)===0){for(m=mr;m;)m=Ns(m);return ra(),g.flags|=98560,g}if(M!==null&&M.dehydrated!==null){if(M=Ds(g),m===null){if(!M)throw Error(o(318));if(!yt)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));$o(m,g)}else ra(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;return Ci(g),null}return gr!==null&&(_h(gr),gr=null),(g.flags&128)!==0?(g.lanes=C,g):(M=M!==null,C=!1,m===null?Ds(g):C=m.memoizedState!==null,M&&!C&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(pi.current&1)!==0?Wi===0&&(Wi=3):Bf())),g.updateQueue!==null&&(g.flags|=4),Ci(g),null);case 4:return oa(),Po(m,g),m===null&&ut(g.stateNode.containerInfo),Ci(g),null;case 10:return ku(g.type._context),Ci(g),null;case 17:return En(g.type)&&Nt(),Ci(g),null;case 19:if(wt(pi),B=g.memoizedState,B===null)return Ci(g),null;if(M=(g.flags&128)!==0,q=B.rendering,q===null)if(M)oo(B,!1);else{if(Wi!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(q=Vu(m),q!==null){for(g.flags|=128,oo(B,!1),m=q.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=C,M=g.child;M!==null;)C=M,B=m,C.flags&=14680066,q=C.alternate,q===null?(C.childLanes=0,C.lanes=B,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=q.childLanes,C.lanes=q.lanes,C.child=q.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=q.memoizedProps,C.memoizedState=q.memoizedState,C.updateQueue=q.updateQueue,C.type=q.type,B=q.dependencies,C.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),M=M.sibling;return Gt(pi,pi.current&1|2),g.child}m=m.sibling}B.tail!==null&&zi()>ou&&(g.flags|=128,M=!0,oo(B,!1),g.lanes=4194304)}else{if(!M)if(m=Vu(q),m!==null){if(g.flags|=128,M=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),oo(B,!0),B.tail===null&&B.tailMode==="hidden"&&!q.alternate&&!Zn)return Ci(g),null}else 2*zi()-B.renderingStartTime>ou&&C!==1073741824&&(g.flags|=128,M=!0,oo(B,!1),g.lanes=4194304);B.isBackwards?(q.sibling=g.child,g.child=q):(m=B.last,m!==null?m.sibling=q:g.child=q,B.last=q)}return B.tail!==null?(g=B.tail,B.rendering=g,B.tail=g.sibling,B.renderingStartTime=zi(),g.sibling=null,m=pi.current,Gt(pi,M?m&1|2:m&1),g):(Ci(g),null);case 22:case 23:return xh(),M=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==M&&(g.flags|=8192),M&&(g.mode&1)!==0?(is&1073741824)!==0&&(Ci(g),ot&&g.subtreeFlags&6&&(g.flags|=8192)):Ci(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var Im=a.ReactCurrentOwner,Cr=!1;function ji(m,g,C,M){g.child=m===null?Rf(g,null,C,M):$r(g,m.child,C,M)}function xi(m,g,C,M,B){C=C.render;var q=g.ref;return Kl(g,B),M=Mo(m,g,C,M,q,B),C=Aa(),m!==null&&!Cr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,Us(m,g,B)):(Zn&&C&&ih(g),g.flags|=1,ji(m,g,M,B),g.child)}function mi(m,g,C,M,B){if(m===null){var q=C.type;return typeof q=="function"&&!zf(q)&&q.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(g.tag=15,g.type=q,ml(m,g,q,M,B)):(m=Hf(C.type,null,M,g,g.mode,B),m.ref=g.ref,m.return=g,g.child=m)}if(q=m.child,(m.lanes&B)===0){var ve=q.memoizedProps;if(C=C.compare,C=C!==null?C:to,C(ve,M)&&m.ref===g.ref)return Us(m,g,B)}return g.flags|=1,m=Sl(q,M),m.ref=g.ref,m.return=g,g.child=m}function ml(m,g,C,M,B){if(m!==null&&to(m.memoizedProps,M)&&m.ref===g.ref)if(Cr=!1,(m.lanes&B)!==0)(m.flags&131072)!==0&&(Cr=!0);else return g.lanes=m.lanes,Us(m,g,B);return gl(m,g,C,M,B)}function Ur(m,g,C){var M=g.pendingProps,B=M.children,q=m!==null?m.memoizedState:null;if(M.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null},Gt(nc,is),is|=C;else if((C&1073741824)!==0)g.memoizedState={baseLanes:0,cachePool:null},M=q!==null?q.baseLanes:C,Gt(nc,is),is|=M;else return m=q!==null?q.baseLanes|C:C,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Gt(nc,is),is|=m,null;else q!==null?(M=q.baseLanes|C,g.memoizedState=null):M=C,Gt(nc,is),is|=M;return ji(m,g,B,C),g.child}function Ts(m,g){var C=g.ref;(m===null&&C!==null||m!==null&&m.ref!==C)&&(g.flags|=512,g.flags|=2097152)}function gl(m,g,C,M,B){var q=En(C)?Cn:en.current;return q=qt(g,q),Kl(g,B),C=Mo(m,g,C,M,q,B),M=Aa(),m!==null&&!Cr?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,Us(m,g,B)):(Zn&&M&&ih(g),g.flags|=1,ji(m,g,C,B),g.child)}function qu(m,g,C,M,B){if(En(C)){var q=!0;Ii(g)}else q=!1;if(Kl(g,B),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),th(g,C,M),ta(g,C,M,B),M=!0;else if(m===null){var ve=g.stateNode,Re=g.memoizedProps;ve.props=Re;var $e=ve.context,Ct=C.contextType;typeof Ct=="object"&&Ct!==null?Ct=bi(Ct):(Ct=En(C)?Cn:en.current,Ct=qt(g,Ct));var $t=C.getDerivedStateFromProps,Sn=typeof $t=="function"||typeof ve.getSnapshotBeforeUpdate=="function";Sn||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Re!==M||$e!==Ct)&&Uu(g,ve,M,Ct),ms=!1;var hn=g.memoizedState;ve.state=hn,Fu(g,M,ve,B),$e=g.memoizedState,Re!==M||hn!==$e||xn.current||ms?(typeof $t=="function"&&(Bu(g,C,$t,M),$e=g.memoizedState),(Re=ms||Yc(g,C,Re,M,hn,$e,Ct))?(Sn||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=M,g.memoizedState=$e),ve.props=M,ve.state=$e,ve.context=Ct,M=Re):(typeof ve.componentDidMount=="function"&&(g.flags|=4194308),M=!1)}else{ve=g.stateNode,jc(m,g),Re=g.memoizedProps,Ct=g.type===g.elementType?Re:or(g.type,Re),ve.props=Ct,Sn=g.pendingProps,hn=ve.context,$e=C.contextType,typeof $e=="object"&&$e!==null?$e=bi($e):($e=En(C)?Cn:en.current,$e=qt(g,$e));var Fn=C.getDerivedStateFromProps;($t=typeof Fn=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Re!==Sn||hn!==$e)&&Uu(g,ve,M,$e),ms=!1,hn=g.memoizedState,ve.state=hn,Fu(g,M,ve,B);var Wt=g.memoizedState;Re!==Sn||hn!==Wt||xn.current||ms?(typeof Fn=="function"&&(Bu(g,C,Fn,M),Wt=g.memoizedState),(Ct=ms||Yc(g,C,Ct,M,hn,Wt,$e)||!1)?($t||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(M,Wt,$e),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(M,Wt,$e)),typeof ve.componentDidUpdate=="function"&&(g.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Re===m.memoizedProps&&hn===m.memoizedState||(g.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Re===m.memoizedProps&&hn===m.memoizedState||(g.flags|=1024),g.memoizedProps=M,g.memoizedState=Wt),ve.props=M,ve.state=Wt,ve.context=$e,M=Ct):(typeof ve.componentDidUpdate!="function"||Re===m.memoizedProps&&hn===m.memoizedState||(g.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Re===m.memoizedProps&&hn===m.memoizedState||(g.flags|=1024),M=!1)}return ns(m,g,C,M,q,B)}function ns(m,g,C,M,B,q){Ts(m,g);var ve=(g.flags&128)!==0;if(!M&&!ve)return B&&Li(g,C,!1),Us(m,g,q);M=g.stateNode,Im.current=g;var Re=ve&&typeof C.getDerivedStateFromError!="function"?null:M.render();return g.flags|=1,m!==null&&ve?(g.child=$r(g,m.child,null,q),g.child=$r(g,null,Re,q)):ji(m,g,Re,q),g.memoizedState=M.state,B&&Li(g,C,!0),g.child}function ah(m){var g=m.stateNode;g.pendingContext?Ln(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Ln(m,g.context,!1),Jl(m,g.containerInfo)}function Lm(m,g,C,M,B){return ra(),Xc(B),g.flags|=256,ji(m,g,C,M),g.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function Zu(m){return{baseLanes:m,cachePool:null}}function Nm(m,g,C){var M=g.pendingProps,B=pi.current,q=!1,ve=(g.flags&128)!==0,Re;if((Re=ve)||(Re=m!==null&&m.memoizedState===null?!1:(B&2)!==0),Re?(q=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(B|=1),Gt(pi,B&1),m===null)return ro(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:Ui(m)?g.lanes=8:g.lanes=1073741824,null):(B=M.children,m=M.fallback,q?(M=g.mode,q=g.child,B={mode:"hidden",children:B},(M&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=B):q=bh(B,M,0,null),m=ac(m,M,C,null),q.return=g,m.return=g,q.sibling=m,g.child=q,g.child.memoizedState=Zu(C),g.memoizedState=lh,m):ua(g,B));if(B=m.memoizedState,B!==null){if(Re=B.dehydrated,Re!==null){if(ve)return g.flags&256?(g.flags&=-257,ch(m,g,C,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(q=M.fallback,B=g.mode,M=bh({mode:"visible",children:M.children},B,0,null),q=ac(q,B,C,null),q.flags|=2,M.return=g,q.return=g,M.sibling=q,g.child=M,(g.mode&1)!==0&&$r(g,m.child,null,C),g.child.memoizedState=Zu(C),g.memoizedState=lh,q);if((g.mode&1)===0)g=ch(m,g,C,null);else if(Ui(Re))g=ch(m,g,C,Error(o(419)));else if(M=(C&m.childLanes)!==0,Cr||M){if(M=tr,M!==null){switch(C&-C){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}M=(q&(M.suspendedLanes|C))!==0?0:q,M!==0&&M!==B.retryLane&&(B.retryLane=M,rs(m,M,-1))}Bf(),g=ch(m,g,C,Error(o(421)))}else $i(Re)?(g.flags|=128,g.child=m.child,g=Ey.bind(null,m),Qt(Re,g),g=null):(C=B.treeContext,yt&&(mr=$a(Re),Hi=g,Zn=!0,gr=null,Ql=!1,C!==null&&(ys[vs++]=io,ys[vs++]=ia,ys[vs++]=na,io=C.id,ia=C.overflow,na=g)),g=ua(g,g.pendingProps.children),g.flags|=4096);return g}return q?(M=Lf(m,g,M.children,M.fallback,C),q=g.child,B=m.child.memoizedState,q.memoizedState=B===null?Zu(C):{baseLanes:B.baseLanes|C,cachePool:null},q.childLanes=m.childLanes&~C,g.memoizedState=lh,M):(C=uh(m,g,M.children,C),g.memoizedState=null,C)}return q?(M=Lf(m,g,M.children,M.fallback,C),q=g.child,B=m.child.memoizedState,q.memoizedState=B===null?Zu(C):{baseLanes:B.baseLanes|C,cachePool:null},q.childLanes=m.childLanes&~C,g.memoizedState=lh,M):(C=uh(m,g,M.children,C),g.memoizedState=null,C)}function ua(m,g){return g=bh({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function uh(m,g,C,M){var B=m.child;return m=B.sibling,C=Sl(B,{mode:"visible",children:C}),(g.mode&1)===0&&(C.lanes=M),C.return=g,C.sibling=null,m!==null&&(M=g.deletions,M===null?(g.deletions=[m],g.flags|=16):M.push(m)),g.child=C}function Lf(m,g,C,M,B){var q=g.mode;m=m.child;var ve=m.sibling,Re={mode:"hidden",children:C};return(q&1)===0&&g.child!==m?(C=g.child,C.childLanes=0,C.pendingProps=Re,g.deletions=null):(C=Sl(m,Re),C.subtreeFlags=m.subtreeFlags&14680064),ve!==null?M=Sl(ve,M):(M=ac(M,q,B,null),M.flags|=2),M.return=g,C.return=g,C.sibling=M,g.child=C,M}function ch(m,g,C,M){return M!==null&&Xc(M),$r(g,m.child,null,C),m=ua(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function yy(m,g,C){m.lanes|=g;var M=m.alternate;M!==null&&(M.lanes|=g),ea(m.return,g,C)}function Ia(m,g,C,M,B){var q=m.memoizedState;q===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:M,tail:C,tailMode:B}:(q.isBackwards=g,q.rendering=null,q.renderingStartTime=0,q.last=M,q.tail=C,q.tailMode=B)}function Ku(m,g,C){var M=g.pendingProps,B=M.revealOrder,q=M.tail;if(ji(m,g,M.children,C),M=pi.current,(M&2)!==0)M=M&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&yy(m,C,g);else if(m.tag===19)yy(m,C,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}M&=1}if(Gt(pi,M),(g.mode&1)===0)g.memoizedState=null;else switch(B){case"forwards":for(C=g.child,B=null;C!==null;)m=C.alternate,m!==null&&Vu(m)===null&&(B=C),C=C.sibling;C=B,C===null?(B=g.child,g.child=null):(B=C.sibling,C.sibling=null),Ia(g,!1,B,C,q);break;case"backwards":for(C=null,B=g.child,g.child=null;B!==null;){if(m=B.alternate,m!==null&&Vu(m)===null){g.child=B;break}m=B.sibling,B.sibling=C,C=B,B=m}Ia(g,!0,C,null,q);break;case"together":Ia(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Us(m,g,C){if(m!==null&&(g.dependencies=m.dependencies),La|=g.lanes,(C&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,C=Sl(m,m.pendingProps),g.child=C,C.return=g;m.sibling!==null;)m=m.sibling,C=C.sibling=Sl(m,m.pendingProps),C.return=g;C.sibling=null}return g.child}function Nf(m,g,C){switch(g.tag){case 3:ah(g),ra();break;case 5:al(g);break;case 1:En(g.type)&&Ii(g);break;case 4:Jl(g,g.stateNode.containerInfo);break;case 10:rl(g,g.type._context,g.memoizedProps.value);break;case 13:var M=g.memoizedState;if(M!==null)return M.dehydrated!==null?(Gt(pi,pi.current&1),g.flags|=128,null):(C&g.child.childLanes)!==0?Nm(m,g,C):(Gt(pi,pi.current&1),m=Us(m,g,C),m!==null?m.sibling:null);Gt(pi,pi.current&1);break;case 19:if(M=(C&g.childLanes)!==0,(m.flags&128)!==0){if(M)return Ku(m,g,C);g.flags|=128}var B=g.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Gt(pi,pi.current),M)break;return null;case 22:case 23:return g.lanes=0,Ur(m,g,C)}return Us(m,g,C)}function Of(m,g){switch(_s(g),g.tag){case 1:return En(g.type)&&Nt(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return oa(),wt(xn),wt(en),wo(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return eu(g),null;case 13:if(wt(pi),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));ra()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return wt(pi),null;case 4:return oa(),null;case 10:return ku(g.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var bs=!1,Ar=!1,$u=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Ro(m,g){var C=m.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(M){ws(m,g,M)}else C.current=null}function yl(m,g,C){try{C()}catch(M){ws(m,g,M)}}var Om=!1;function km(m,g){for(se(m.containerInfo),Ot=g;Ot!==null;)if(m=Ot,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,Ot=g;else for(;Ot!==null;){m=Ot;try{var C=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var M=C.memoizedProps,B=C.memoizedState,q=m.stateNode,ve=q.getSnapshotBeforeUpdate(m.elementType===m.type?M:or(m.type,M),B);q.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:ot&&Bt(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Re){ws(m,m.return,Re)}if(g=m.sibling,g!==null){g.return=m.return,Ot=g;break}Ot=m.return}return C=Om,Om=!1,C}function vl(m,g,C){var M=g.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var B=M=M.next;do{if((B.tag&m)===m){var q=B.destroy;B.destroy=void 0,q!==void 0&&yl(g,C,q)}B=B.next}while(B!==M)}}function zr(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&m)===m){var M=C.create;C.destroy=M()}C=C.next}while(C!==g)}}function Ss(m){var g=m.ref;if(g!==null){var C=m.stateNode;switch(m.tag){case 5:m=fe(C);break;default:m=C}typeof g=="function"?g(m):g.current=m}}function Si(m,g,C){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(nl,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var M=m=m.next;do{var B=M,q=B.destroy;B=B.tag,q!==void 0&&((B&2)!==0||(B&4)!==0)&&yl(g,C,q),M=M.next}while(M!==m)}break;case 1:if(Ro(g,C),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(ve){ws(g,C,ve)}break;case 5:Ro(g,C);break;case 4:ot?Bm(m,g,C):_t&&_t&&(g=g.stateNode.containerInfo,C=st(g),cn(g,C))}}function Io(m,g,C){for(var M=g;;)if(Si(m,M,C),M.child===null||ot&&M.tag===4){if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Dm(m){var g=m.alternate;g!==null&&(m.alternate=null,Dm(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Ye(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Fm(m){return m.tag===5||m.tag===3||m.tag===4}function kf(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||Fm(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Df(m){if(ot){e:{for(var g=m.return;g!==null;){if(Fm(g))break e;g=g.return}throw Error(o(160))}var C=g;switch(C.tag){case 5:g=C.stateNode,C.flags&32&&(Et(g),C.flags&=-33),C=kf(m),id(m,C,g);break;case 3:case 4:g=C.stateNode.containerInfo,C=kf(m),Ff(m,C,g);break;default:throw Error(o(161))}}}function Ff(m,g,C){var M=m.tag;if(M===5||M===6)m=m.stateNode,g?Pt(C,m,g):dt(C,m);else if(M!==4&&(m=m.child,m!==null))for(Ff(m,g,C),m=m.sibling;m!==null;)Ff(m,g,C),m=m.sibling}function id(m,g,C){var M=m.tag;if(M===5||M===6)m=m.stateNode,g?tt(C,m,g):Le(C,m);else if(M!==4&&(m=m.child,m!==null))for(id(m,g,C),m=m.sibling;m!==null;)id(m,g,C),m=m.sibling}function Bm(m,g,C){for(var M=g,B=!1,q,ve;;){if(!B){B=M.return;e:for(;;){if(B===null)throw Error(o(160));switch(q=B.stateNode,B.tag){case 5:ve=!1;break e;case 3:q=q.containerInfo,ve=!0;break e;case 4:q=q.containerInfo,ve=!0;break e}B=B.return}B=!0}if(M.tag===5||M.tag===6)Io(m,M,C),ve?kt(q,M.stateNode):Yt(q,M.stateNode);else if(M.tag===18)ve?Fc(q,M.stateNode):Dc(q,M.stateNode);else if(M.tag===4){if(M.child!==null){q=M.stateNode.containerInfo,ve=!0,M.child.return=M,M=M.child;continue}}else if(Si(m,M,C),M.child!==null){M.child.return=M,M=M.child;continue}if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return,M.tag===4&&(B=!1)}M.sibling.return=M.return,M=M.sibling}}function ru(m,g){if(ot){switch(g.tag){case 0:case 11:case 14:case 15:vl(3,g,g.return),zr(3,g),vl(5,g,g.return);return;case 1:return;case 5:var C=g.stateNode;if(C!=null){var M=g.memoizedProps;m=m!==null?m.memoizedProps:M;var B=g.type,q=g.updateQueue;g.updateQueue=null,q!==null&&St(C,q,B,m,M,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));C=g.memoizedProps,Je(g.stateNode,m!==null?m.memoizedProps:C,C);return;case 3:yt&&m!==null&&m.memoizedState.isDehydrated&&Oc(g.stateNode.containerInfo);return;case 12:return;case 13:rd(g);return;case 19:rd(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:vl(3,g,g.return),zr(3,g),vl(5,g,g.return);return;case 12:return;case 13:rd(g);return;case 19:rd(g);return;case 3:yt&&m!==null&&m.memoizedState.isDehydrated&&Oc(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(_t){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,cn(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function rd(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var C=m.stateNode;C===null&&(C=m.stateNode=new $u),g.forEach(function(M){var B=Ty.bind(null,m,M);C.has(M)||(C.add(M),M.then(B,B))})}}function H1(m,g){for(Ot=g;Ot!==null;){g=Ot;var C=g.deletions;if(C!==null)for(var M=0;M<C.length;M++){var B=C[M];try{var q=m;ot?Bm(q,B,g):Io(q,B,g);var ve=B.alternate;ve!==null&&(ve.return=null),B.return=null}catch(ln){ws(B,g,ln)}}if(C=g.child,(g.subtreeFlags&12854)!==0&&C!==null)C.return=g,Ot=C;else for(;Ot!==null;){g=Ot;try{var Re=g.flags;if(Re&32&&ot&&Et(g.stateNode),Re&512){var $e=g.alternate;if($e!==null){var Ct=$e.ref;Ct!==null&&(typeof Ct=="function"?Ct(null):Ct.current=null)}}if(Re&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var $t=g.alternate;($t===null||$t.memoizedState===null)&&(yh=zi())}break;case 22:var Sn=g.memoizedState!==null,hn=g.alternate,Fn=hn!==null&&hn.memoizedState!==null;if(C=g,ot){e:if(M=C,B=Sn,q=null,ot)for(var Wt=M;;){if(Wt.tag===5){if(q===null){q=Wt;var jr=Wt.stateNode;B?tn(jr):Lt(Wt.stateNode,Wt.memoizedProps)}}else if(Wt.tag===6){if(q===null){var ho=Wt.stateNode;B?Ae(ho):ht(ho,Wt.memoizedProps)}}else if((Wt.tag!==22&&Wt.tag!==23||Wt.memoizedState===null||Wt===M)&&Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===M)break;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===M)break e;q===Wt&&(q=null),Wt=Wt.return}q===Wt&&(q=null),Wt.sibling.return=Wt.return,Wt=Wt.sibling}}if(Sn&&!Fn&&(C.mode&1)!==0){Ot=C;for(var Ve=C.child;Ve!==null;){for(C=Ot=Ve;Ot!==null;){M=Ot;var ke=M.child;switch(M.tag){case 0:case 11:case 14:case 15:vl(4,M,M.return);break;case 1:Ro(M,M.return);var qe=M.stateNode;if(typeof qe.componentWillUnmount=="function"){var Ht=M.return;try{qe.props=M.memoizedProps,qe.state=M.memoizedState,qe.componentWillUnmount()}catch(ln){ws(M,Ht,ln)}}break;case 5:Ro(M,M.return);break;case 22:if(M.memoizedState!==null){zm(C);continue}}ke!==null?(ke.return=M,Ot=ke):zm(C)}Ve=Ve.sibling}}}switch(Re&4102){case 2:Df(g),g.flags&=-3;break;case 6:Df(g),g.flags&=-3,ru(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,ru(g.alternate,g);break;case 4:ru(g.alternate,g)}}catch(ln){ws(g,g.return,ln)}if(C=g.sibling,C!==null){C.return=g.return,Ot=C;break}Ot=g.return}}}function dh(m,g,C){Ot=m,hh(m)}function hh(m,g,C){for(var M=(m.mode&1)!==0;Ot!==null;){var B=Ot,q=B.child;if(B.tag===22&&M){var ve=B.memoizedState!==null||bs;if(!ve){var Re=B.alternate,$e=Re!==null&&Re.memoizedState!==null||Ar;Re=bs;var Ct=Ar;if(bs=ve,(Ar=$e)&&!Ct)for(Ot=B;Ot!==null;)ve=Ot,$e=ve.child,ve.tag===22&&ve.memoizedState!==null?Qu(B):$e!==null?($e.return=ve,Ot=$e):Qu(B);for(;q!==null;)Ot=q,hh(q),q=q.sibling;Ot=B,bs=Re,Ar=Ct}Um(m)}else(B.subtreeFlags&8772)!==0&&q!==null?(q.return=B,Ot=q):Um(m)}}function Um(m){for(;Ot!==null;){var g=Ot;if((g.flags&8772)!==0){var C=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ar||zr(5,g);break;case 1:var M=g.stateNode;if(g.flags&4&&!Ar)if(C===null)M.componentDidMount();else{var B=g.elementType===g.type?C.memoizedProps:or(g.type,C.memoizedProps);M.componentDidUpdate(B,C.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var q=g.updateQueue;q!==null&&Cf(g,q,M);break;case 3:var ve=g.updateQueue;if(ve!==null){if(C=null,g.child!==null)switch(g.child.tag){case 5:C=fe(g.child.stateNode);break;case 1:C=g.child.stateNode}Cf(g,ve,C)}break;case 5:var Re=g.stateNode;C===null&&g.flags&4&&It(Re,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(yt&&g.memoizedState===null){var $e=g.alternate;if($e!==null){var Ct=$e.memoizedState;if(Ct!==null){var $t=Ct.dehydrated;$t!==null&&kc($t)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ar||g.flags&512&&Ss(g)}catch(Sn){ws(g,g.return,Sn)}}if(g===m){Ot=null;break}if(C=g.sibling,C!==null){C.return=g.return,Ot=C;break}Ot=g.return}}function zm(m){for(;Ot!==null;){var g=Ot;if(g===m){Ot=null;break}var C=g.sibling;if(C!==null){C.return=g.return,Ot=C;break}Ot=g.return}}function Qu(m){for(;Ot!==null;){var g=Ot;try{switch(g.tag){case 0:case 11:case 15:var C=g.return;try{zr(4,g)}catch($e){ws(g,C,$e)}break;case 1:var M=g.stateNode;if(typeof M.componentDidMount=="function"){var B=g.return;try{M.componentDidMount()}catch($e){ws(g,B,$e)}}var q=g.return;try{Ss(g)}catch($e){ws(g,q,$e)}break;case 5:var ve=g.return;try{Ss(g)}catch($e){ws(g,ve,$e)}}}catch($e){ws(g,g.return,$e)}if(g===m){Ot=null;break}var Re=g.sibling;if(Re!==null){Re.return=g.return,Ot=Re;break}Ot=g.return}}var fh=0,Ju=1,ec=2,_l=3,sd=4;if(typeof Symbol=="function"&&Symbol.for){var tc=Symbol.for;fh=tc("selector.component"),Ju=tc("selector.has_pseudo_class"),ec=tc("selector.role"),_l=tc("selector.test_id"),sd=tc("selector.text")}function ph(m){var g=le(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=Ke(m),m===null)throw Error(o(362));return m.stateNode.current}function mh(m,g){switch(g.$$typeof){case fh:if(m.type===g.value)return!0;break;case Ju:e:{g=g.value,m=[m,0];for(var C=0;C<m.length;){var M=m[C++],B=m[C++],q=g[B];if(M.tag!==5||!Q(M)){for(;q!=null&&mh(M,q);)B++,q=g[B];if(B===g.length){g=!0;break e}else for(M=M.child;M!==null;)m.push(M,B),M=M.sibling}}g=!1}return g;case ec:if(m.tag===5&&Me(m.stateNode,g.value))return!0;break;case sd:if((m.tag===5||m.tag===6)&&(m=ae(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case _l:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function su(m){switch(m.$$typeof){case fh:return"<"+(K(m.value)||"Unknown")+">";case Ju:return":has("+(su(m)||"")+")";case ec:return'[role="'+m.value+'"]';case sd:return'"'+m.value+'"';case _l:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function ao(m,g){var C=[];m=[m,0];for(var M=0;M<m.length;){var B=m[M++],q=m[M++],ve=g[q];if(B.tag!==5||!Q(B)){for(;ve!=null&&mh(B,ve);)q++,ve=g[q];if(q===g.length)C.push(B);else for(B=B.child;B!==null;)m.push(B,q),B=B.sibling}}return C}function xl(m,g){if(!Ie)throw Error(o(363));m=ph(m),m=ao(m,g),g=[],m=Array.from(m);for(var C=0;C<m.length;){var M=m[C++];if(M.tag===5)Q(M)||g.push(M.stateNode);else for(M=M.child;M!==null;)m.push(M),M=M.sibling}return g}var Hm=Math.ceil,gh=a.ReactCurrentDispatcher,ca=a.ReactCurrentOwner,hi=a.ReactCurrentBatchConfig,Nn=0,tr=null,fi=null,Ai=0,is=0,nc=on(0),Wi=0,od=null,La=0,lo=0,ic=0,El=null,lr=null,yh=0,ou=1/0;function rc(){ou=zi()+500}var ad=!1,wi=null,da=null,ld=!1,Na=null,sc=0,oc=0,Tl=null,Ei=-1,Gi=0;function Jn(){return(Nn&6)!==0?zi():Ei!==-1?Ei:Ei=zi()}function ha(m){return(m.mode&1)===0?1:(Nn&2)!==0&&Ai!==0?Ai&-Ai:Gn.transition!==null?(Gi===0&&(m=ai,ai<<=1,(ai&4194240)===0&&(ai=64),Gi=m),Gi):(m=Mn,m!==0?m:et())}function rs(m,g,C){if(50<oc)throw oc=0,Tl=null,Error(o(185));var M=au(m,g);return M===null?null:(Qo(M,g,C),((Nn&2)===0||M!==tr)&&(M===tr&&((Nn&2)===0&&(lo|=g),Wi===4&&Vr(M,Ai)),zs(M,C),g===1&&Nn===0&&(m.mode&1)===0&&(rc(),Uc&&fs())),M)}function au(m,g){m.lanes|=g;var C=m.alternate;for(C!==null&&(C.lanes|=g),C=m,m=m.return;m!==null;)m.childLanes|=g,C=m.alternate,C!==null&&(C.childLanes|=g),C=m,m=m.return;return C.tag===3?C.stateNode:null}function zs(m,g){var C=m.callbackNode;Bc(m,g);var M=Qa(m,m===tr?Ai:0);if(M===0)C!==null&&mn(C),m.callbackNode=null,m.callbackPriority=0;else if(g=M&-M,m.callbackPriority!==g){if(C!=null&&mn(C),g===1)m.tag===0?Hc(uo.bind(null,m)):ql(uo.bind(null,m)),Ne?Qe(function(){Nn===0&&fs()}):tl(Jo,fs),C=null;else{switch(Js(M)){case 1:C=Jo;break;case 4:C=eh;break;case 16:C=Xl;break;case 536870912:C=To;break;default:C=Xl}C=Uf(C,Hr.bind(null,m))}m.callbackPriority=g,m.callbackNode=C}}function Hr(m,g){if(Ei=-1,Gi=0,(Nn&6)!==0)throw Error(o(327));var C=m.callbackNode;if(Oa()&&m.callbackNode!==C)return null;var M=Qa(m,m===tr?Ai:0);if(M===0)return null;if((M&30)!==0||(M&m.expiredLanes)!==0||g)g=Eh(m,M);else{g=M;var B=Nn;Nn|=2;var q=Wm();(tr!==m||Ai!==g)&&(rc(),bl(m,g));do try{_y();break}catch(Re){jm(m,Re)}while(!0);Sr(),gh.current=q,Nn=B,fi!==null?g=0:(tr=null,Ai=0,g=Wi)}if(g!==0){if(g===2&&(B=Gl(m),B!==0&&(M=B,g=vh(m,B))),g===1)throw C=od,bl(m,0),Vr(m,M),zs(m,zi()),C;if(g===6)Vr(m,M);else{if(B=m.current.alternate,(M&30)===0&&!Vm(B)&&(g=Eh(m,M),g===2&&(q=Gl(m),q!==0&&(M=q,g=vh(m,q))),g===1))throw C=od,bl(m,0),Vr(m,M),zs(m,zi()),C;switch(m.finishedWork=B,m.finishedLanes=M,g){case 0:case 1:throw Error(o(345));case 2:fa(m,lr);break;case 3:if(Vr(m,M),(M&130023424)===M&&(g=yh+500-zi(),10<g)){if(Qa(m,0)!==0)break;if(B=m.suspendedLanes,(B&M)!==M){Jn(),m.pingedLanes|=m.suspendedLanes&B;break}m.timeoutHandle=Ce(fa.bind(null,m,lr),g);break}fa(m,lr);break;case 4:if(Vr(m,M),(M&4194240)===M)break;for(g=m.eventTimes,B=-1;0<M;){var ve=31-zn(M);q=1<<ve,ve=g[ve],ve>B&&(B=ve),M&=~q}if(M=B,M=zi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Hm(M/1960))-M,10<M){m.timeoutHandle=Ce(fa.bind(null,m,lr),M);break}fa(m,lr);break;case 5:fa(m,lr);break;default:throw Error(o(329))}}}return zs(m,zi()),m.callbackNode===C?Hr.bind(null,m):null}function vh(m,g){var C=El;return m.current.memoizedState.isDehydrated&&(bl(m,g).flags|=256),m=Eh(m,g),m!==2&&(g=lr,lr=C,g!==null&&_h(g)),m}function _h(m){lr===null?lr=m:lr.push.apply(lr,m)}function Vm(m){for(var g=m;;){if(g.flags&16384){var C=g.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var M=0;M<C.length;M++){var B=C[M],q=B.getSnapshot;B=B.value;try{if(!br(q(),B))return!1}catch{return!1}}}if(C=g.child,g.subtreeFlags&16384&&C!==null)C.return=g,g=C;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Vr(m,g){for(g&=~ic,g&=~lo,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var C=31-zn(g),M=1<<C;m[C]=-1,g&=~M}}function uo(m){if((Nn&6)!==0)throw Error(o(327));Oa();var g=Qa(m,0);if((g&1)===0)return zs(m,zi()),null;var C=Eh(m,g);if(m.tag!==0&&C===2){var M=Gl(m);M!==0&&(g=M,C=vh(m,M))}if(C===1)throw C=od,bl(m,0),Vr(m,g),zs(m,zi()),C;if(C===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,fa(m,lr),zs(m,zi()),null}function ud(m){Na!==null&&Na.tag===0&&(Nn&6)===0&&Oa();var g=Nn;Nn|=1;var C=hi.transition,M=Mn;try{if(hi.transition=null,Mn=1,m)return m()}finally{Mn=M,hi.transition=C,Nn=g,(Nn&6)===0&&fs()}}function xh(){is=nc.current,wt(nc)}function bl(m,g){m.finishedWork=null,m.finishedLanes=0;var C=m.timeoutHandle;if(C!==nt&&(m.timeoutHandle=nt,Xe(C)),fi!==null)for(C=fi.return;C!==null;){var M=C;switch(_s(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Nt();break;case 3:oa(),wt(xn),wt(en),wo();break;case 5:eu(M);break;case 4:oa();break;case 13:wt(pi);break;case 19:wt(pi);break;case 10:ku(M.type._context);break;case 22:case 23:xh()}C=C.return}if(tr=m,fi=m=Sl(m.current,null),Ai=is=g,Wi=0,od=null,ic=lo=La=0,lr=El=null,Os!==null){for(g=0;g<Os.length;g++)if(C=Os[g],M=C.interleaved,M!==null){C.interleaved=null;var B=M.next,q=C.pending;if(q!==null){var ve=q.next;q.next=B,M.next=ve}C.pending=M}Os=null}return m}function jm(m,g){do{var C=fi;try{if(Sr(),ju.current=zt,ul){for(var M=_i.memoizedState;M!==null;){var B=M.queue;B!==null&&(B.pending=null),M=M.next}ul=!1}if(ll=0,li=ar=_i=null,Co=!1,Ao=0,ca.current=null,C===null||C.return===null){Wi=1,od=g,fi=null;break}e:{var q=m,ve=C.return,Re=C,$e=g;if(g=Ai,Re.flags|=32768,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var Ct=$e,$t=Re,Sn=$t.tag;if(($t.mode&1)===0&&(Sn===0||Sn===11||Sn===15)){var hn=$t.alternate;hn?($t.updateQueue=hn.updateQueue,$t.memoizedState=hn.memoizedState,$t.lanes=hn.lanes):($t.updateQueue=null,$t.memoizedState=null)}var Fn=oh(ve);if(Fn!==null){Fn.flags&=-257,Pa(Fn,ve,Re,q,g),Fn.mode&1&&la(q,Ct,g),g=Fn,$e=Ct;var Wt=g.updateQueue;if(Wt===null){var jr=new Set;jr.add($e),g.updateQueue=jr}else Wt.add($e);break e}else{if((g&1)===0){la(q,Ct,g),Bf();break e}$e=Error(o(426))}}else if(Zn&&Re.mode&1){var ho=oh(ve);if(ho!==null){(ho.flags&65536)===0&&(ho.flags|=256),Pa(ho,ve,Re,q,g),Xc($e);break e}}q=$e,Wi!==4&&(Wi=2),El===null?El=[q]:El.push(q),$e=Vi($e,Re),Re=ve;do{switch(Re.tag){case 3:Re.flags|=65536,g&=-g,Re.lanes|=g;var Ve=fl(Re,$e,g);Du(Re,Ve);break e;case 1:q=$e;var ke=Re.type,qe=Re.stateNode;if((Re.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(da===null||!da.has(qe)))){Re.flags|=65536,g&=-g,Re.lanes|=g;var Ht=Jc(Re,q,g);Du(Re,Ht);break e}}Re=Re.return}while(Re!==null)}Ym(C)}catch(ln){g=ln,fi===C&&C!==null&&(fi=C=C.return);continue}break}while(!0)}function Wm(){var m=gh.current;return gh.current=zt,m===null?zt:m}function Bf(){(Wi===0||Wi===3||Wi===2)&&(Wi=4),tr===null||(La&268435455)===0&&(lo&268435455)===0||Vr(tr,Ai)}function Eh(m,g){var C=Nn;Nn|=2;var M=Wm();tr===m&&Ai===g||bl(m,g);do try{vy();break}catch(B){jm(m,B)}while(!0);if(Sr(),Nn=C,gh.current=M,fi!==null)throw Error(o(261));return tr=null,Ai=0,Wi}function vy(){for(;fi!==null;)Gm(fi)}function _y(){for(;fi!==null&&!pr();)Gm(fi)}function Gm(m){var g=Zm(m.alternate,m,is);m.memoizedProps=m.pendingProps,g===null?Ym(m):fi=g,ca.current=null}function Ym(m){var g=m;do{var C=g.alternate;if(m=g.return,(g.flags&32768)===0){if(C=nd(C,g,is),C!==null){fi=C;return}}else{if(C=Of(C,g),C!==null){C.flags&=32767,fi=C;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Wi=6,fi=null;return}}if(g=g.sibling,g!==null){fi=g;return}fi=g=m}while(g!==null);Wi===0&&(Wi=5)}function fa(m,g){var C=Mn,M=hi.transition;try{hi.transition=null,Mn=1,xy(m,g,C)}finally{hi.transition=M,Mn=C}return null}function xy(m,g,C){do Oa();while(Na!==null);if((Nn&6)!==0)throw Error(o(327));var M=m.finishedWork,B=m.finishedLanes;if(M===null)return null;if(m.finishedWork=null,m.finishedLanes=0,M===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var q=M.lanes|M.childLanes;if(Yl(m,q),m===tr&&(fi=tr=null,Ai=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||ld||(ld=!0,Uf(Xl,function(){return Oa(),null})),q=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||q){q=hi.transition,hi.transition=null;var ve=Mn;Mn=1;var Re=Nn;Nn|=4,ca.current=null,km(m,M),H1(m,M),j(m.containerInfo),m.current=M,dh(M),di(),Nn=Re,Mn=ve,hi.transition=q}else m.current=M;if(ld&&(ld=!1,Na=m,sc=B),q=m.pendingLanes,q===0&&(da=null),Ni(M.stateNode),zs(m,zi()),g!==null)for(C=m.onRecoverableError,M=0;M<g.length;M++)C(g[M]);if(ad)throw ad=!1,m=wi,wi=null,m;return(sc&1)!==0&&m.tag!==0&&Oa(),q=m.pendingLanes,(q&1)!==0?m===Tl?oc++:(oc=0,Tl=m):oc=0,fs(),null}function Oa(){if(Na!==null){var m=Js(sc),g=hi.transition,C=Mn;try{if(hi.transition=null,Mn=16>m?16:m,Na===null)var M=!1;else{if(m=Na,Na=null,sc=0,(Nn&6)!==0)throw Error(o(331));var B=Nn;for(Nn|=4,Ot=m.current;Ot!==null;){var q=Ot,ve=q.child;if((Ot.flags&16)!==0){var Re=q.deletions;if(Re!==null){for(var $e=0;$e<Re.length;$e++){var Ct=Re[$e];for(Ot=Ct;Ot!==null;){var $t=Ot;switch($t.tag){case 0:case 11:case 15:vl(8,$t,q)}var Sn=$t.child;if(Sn!==null)Sn.return=$t,Ot=Sn;else for(;Ot!==null;){$t=Ot;var hn=$t.sibling,Fn=$t.return;if(Dm($t),$t===Ct){Ot=null;break}if(hn!==null){hn.return=Fn,Ot=hn;break}Ot=Fn}}}var Wt=q.alternate;if(Wt!==null){var jr=Wt.child;if(jr!==null){Wt.child=null;do{var ho=jr.sibling;jr.sibling=null,jr=ho}while(jr!==null)}}Ot=q}}if((q.subtreeFlags&2064)!==0&&ve!==null)ve.return=q,Ot=ve;else e:for(;Ot!==null;){if(q=Ot,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:vl(9,q,q.return)}var Ve=q.sibling;if(Ve!==null){Ve.return=q.return,Ot=Ve;break e}Ot=q.return}}var ke=m.current;for(Ot=ke;Ot!==null;){ve=Ot;var qe=ve.child;if((ve.subtreeFlags&2064)!==0&&qe!==null)qe.return=ve,Ot=qe;else e:for(ve=ke;Ot!==null;){if(Re=Ot,(Re.flags&2048)!==0)try{switch(Re.tag){case 0:case 11:case 15:zr(9,Re)}}catch(ln){ws(Re,Re.return,ln)}if(Re===ve){Ot=null;break e}var Ht=Re.sibling;if(Ht!==null){Ht.return=Re.return,Ot=Ht;break e}Ot=Re.return}}if(Nn=B,fs(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(nl,m)}catch{}M=!0}return M}finally{Mn=C,hi.transition=g}}return!1}function Th(m,g,C){g=Vi(C,g),g=fl(m,g,1),So(m,g),g=Jn(),m=au(m,1),m!==null&&(Qo(m,1,g),zs(m,g))}function ws(m,g,C){if(m.tag===3)Th(m,m,C);else for(;g!==null;){if(g.tag===3){Th(g,m,C);break}else if(g.tag===1){var M=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(da===null||!da.has(M))){m=Vi(C,m),m=Jc(g,m,1),So(g,m),m=Jn(),g=au(g,1),g!==null&&(Qo(g,1,m),zs(g,m));break}}g=g.return}}function Xm(m,g,C){var M=m.pingCache;M!==null&&M.delete(g),g=Jn(),m.pingedLanes|=m.suspendedLanes&C,tr===m&&(Ai&C)===C&&(Wi===4||Wi===3&&(Ai&130023424)===Ai&&500>zi()-yh?bl(m,0):ic|=C),zs(m,g)}function qm(m,g){g===0&&((m.mode&1)===0?g=1:(g=An,An<<=1,(An&130023424)===0&&(An=4194304)));var C=Jn();m=au(m,g),m!==null&&(Qo(m,g,C),zs(m,C))}function Ey(m){var g=m.memoizedState,C=0;g!==null&&(C=g.retryLane),qm(m,C)}function Ty(m,g){var C=0;switch(m.tag){case 13:var M=m.stateNode,B=m.memoizedState;B!==null&&(C=B.retryLane);break;case 19:M=m.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(g),qm(m,C)}var Zm;Zm=function(m,g,C){if(m!==null)if(m.memoizedProps!==g.pendingProps||xn.current)Cr=!0;else{if((m.lanes&C)===0&&(g.flags&128)===0)return Cr=!1,Nf(m,g,C);Cr=(m.flags&131072)!==0}else Cr=!1,Zn&&(g.flags&1048576)!==0&&nh(g,zu,g.index);switch(g.lanes=0,g.tag){case 2:var M=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var B=qt(g,en.current);Kl(g,C),B=Mo(null,g,M,m,B,C);var q=Aa();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,En(M)?(q=!0,Ii(g)):q=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,gs(g),B.updater=Gc,g.stateNode=B,B._reactInternals=g,ta(g,M,m,C),g=ns(null,g,M,!0,q,C)):(g.tag=0,Zn&&q&&ih(g),ji(null,g,B,C),g=g.child),g;case 16:M=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,B=M._init,M=B(M._payload),g.type=M,B=g.tag=V1(M),m=or(M,m),B){case 0:g=gl(null,g,M,m,C);break e;case 1:g=qu(null,g,M,m,C);break e;case 11:g=xi(null,g,M,m,C);break e;case 14:g=mi(null,g,M,or(M.type,m),C);break e}throw Error(o(306,M,""))}return g;case 0:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:or(M,B),gl(m,g,M,B,C);case 1:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:or(M,B),qu(m,g,M,B,C);case 3:e:{if(ah(g),m===null)throw Error(o(387));M=g.pendingProps,q=g.memoizedState,B=q.element,jc(m,g),Fu(g,M,null,C);var ve=g.memoizedState;if(M=ve.element,yt&&q.isDehydrated)if(q={element:M,isDehydrated:!1,cache:ve.cache,transitions:ve.transitions},g.updateQueue.baseState=q,g.memoizedState=q,g.flags&256){B=Error(o(423)),g=Lm(m,g,M,C,B);break e}else if(M!==B){B=Error(o(424)),g=Lm(m,g,M,C,B);break e}else for(yt&&(mr=Nu(g.stateNode.containerInfo),Hi=g,Zn=!0,gr=null,Ql=!1),C=Rf(g,null,M,C),g.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(ra(),M===B){g=Us(m,g,C);break e}ji(m,g,M,C)}g=g.child}return g;case 5:return al(g),m===null&&ro(g),M=g.type,B=g.pendingProps,q=m!==null?m.memoizedProps:null,ve=B.children,xe(M,B)?ve=null:q!==null&&xe(M,q)&&(g.flags|=32),Ts(m,g),ji(m,g,ve,C),g.child;case 6:return m===null&&ro(g),null;case 13:return Nm(m,g,C);case 4:return Jl(g,g.stateNode.containerInfo),M=g.pendingProps,m===null?g.child=$r(g,null,M,C):ji(m,g,M,C),g.child;case 11:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:or(M,B),xi(m,g,M,B,C);case 7:return ji(m,g,g.pendingProps,C),g.child;case 8:return ji(m,g,g.pendingProps.children,C),g.child;case 12:return ji(m,g,g.pendingProps.children,C),g.child;case 10:e:{if(M=g.type._context,B=g.pendingProps,q=g.memoizedProps,ve=B.value,rl(g,M,ve),q!==null)if(br(q.value,ve)){if(q.children===B.children&&!xn.current){g=Us(m,g,C);break e}}else for(q=g.child,q!==null&&(q.return=g);q!==null;){var Re=q.dependencies;if(Re!==null){ve=q.child;for(var $e=Re.firstContext;$e!==null;){if($e.context===M){if(q.tag===1){$e=bo(-1,C&-C),$e.tag=2;var Ct=q.updateQueue;if(Ct!==null){Ct=Ct.shared;var $t=Ct.pending;$t===null?$e.next=$e:($e.next=$t.next,$t.next=$e),Ct.pending=$e}}q.lanes|=C,$e=q.alternate,$e!==null&&($e.lanes|=C),ea(q.return,C,g),Re.lanes|=C;break}$e=$e.next}}else if(q.tag===10)ve=q.type===g.type?null:q.child;else if(q.tag===18){if(ve=q.return,ve===null)throw Error(o(341));ve.lanes|=C,Re=ve.alternate,Re!==null&&(Re.lanes|=C),ea(ve,C,g),ve=q.sibling}else ve=q.child;if(ve!==null)ve.return=q;else for(ve=q;ve!==null;){if(ve===g){ve=null;break}if(q=ve.sibling,q!==null){q.return=ve.return,ve=q;break}ve=ve.return}q=ve}ji(m,g,B.children,C),g=g.child}return g;case 9:return B=g.type,M=g.pendingProps.children,Kl(g,C),B=bi(B),M=M(B),g.flags|=1,ji(m,g,M,C),g.child;case 14:return M=g.type,B=or(M,g.pendingProps),B=or(M.type,B),mi(m,g,M,B,C);case 15:return ml(m,g,g.type,g.pendingProps,C);case 17:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:or(M,B),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,En(M)?(m=!0,Ii(g)):m=!1,Kl(g,C),th(g,M,B),ta(g,M,B,C),ns(null,g,M,!0,m,C);case 19:return Ku(m,g,C);case 22:return Ur(m,g,C)}throw Error(o(156,g.tag))};function Uf(m,g){return tl(m,g)}function by(m,g,C,M){this.tag=m,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(m,g,C,M){return new by(m,g,C,M)}function zf(m){return m=m.prototype,!(!m||!m.isReactComponent)}function V1(m){if(typeof m=="function")return zf(m)?1:0;if(m!=null){if(m=m.$$typeof,m===S)return 11;if(m===R)return 14}return 2}function Sl(m,g){var C=m.alternate;return C===null?(C=co(m.tag,g,m.key,m.mode),C.elementType=m.elementType,C.type=m.type,C.stateNode=m.stateNode,C.alternate=m,m.alternate=C):(C.pendingProps=g,C.type=m.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=m.flags&14680064,C.childLanes=m.childLanes,C.lanes=m.lanes,C.child=m.child,C.memoizedProps=m.memoizedProps,C.memoizedState=m.memoizedState,C.updateQueue=m.updateQueue,g=m.dependencies,C.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},C.sibling=m.sibling,C.index=m.index,C.ref=m.ref,C}function Hf(m,g,C,M,B,q){var ve=2;if(M=m,typeof m=="function")zf(m)&&(ve=1);else if(typeof m=="string")ve=5;else e:switch(m){case f:return ac(C.children,B,q,g);case p:ve=8,B|=8;break;case y:return m=co(12,C,g,B|2),m.elementType=y,m.lanes=q,m;case b:return m=co(13,C,g,B),m.elementType=b,m.lanes=q,m;case E:return m=co(19,C,g,B),m.elementType=E,m.lanes=q,m;case D:return bh(C,B,q,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:ve=10;break e;case T:ve=9;break e;case S:ve=11;break e;case R:ve=14;break e;case P:ve=16,M=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=co(ve,C,g,B),g.elementType=m,g.type=M,g.lanes=q,g}function ac(m,g,C,M){return m=co(7,m,M,g),m.lanes=C,m}function bh(m,g,C,M){return m=co(22,m,M,g),m.elementType=D,m.lanes=C,m.stateNode={},m}function Vf(m,g,C){return m=co(6,m,null,g),m.lanes=C,m}function jf(m,g,C){return g=co(4,m.children!==null?m.children:[],m.key,g),g.lanes=C,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function Wf(m,g,C,M,B){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=M,this.onRecoverableError=B,yt&&(this.mutableSourceEagerHydrationData=null)}function Sy(m,g,C,M,B,q,ve,Re,$e){return m=new Wf(m,g,C,Re,$e),g===1?(g=1,q===!0&&(g|=8)):g=0,q=co(3,null,null,g),m.current=q,q.stateNode=m,q.memoizedState={element:M,isDehydrated:C,cache:null,transitions:null},gs(q),m}function wy(m){if(!m)return Dt;m=m._reactInternals;e:{if(z(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(En(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var C=m.type;if(En(C))return Qs(m,C,g)}return g}function Cy(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=$(g),m===null?null:m.stateNode}function Lo(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var C=m.retryLane;m.retryLane=C!==0&&C<g?C:g}}function Sh(m,g){Lo(m,g),(m=m.alternate)&&Lo(m,g)}function Gf(m){return m=$(m),m===null?null:m.stateNode}function Ay(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=Jn();rs(m,134217728,g),Sh(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Jn(),C=ha(m);rs(m,C,g),Sh(m,C)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var C=sr(g.pendingLanes);C!==0&&(ds(g,C|1),zs(g,zi()),(Nn&6)===0&&(rc(),fs()))}break;case 13:var M=Jn();ud(function(){return rs(m,1,M)}),Sh(m,1)}},n.batchedUpdates=function(m,g){var C=Nn;Nn|=1;try{return m(g)}finally{Nn=C,Nn===0&&(rc(),Uc&&fs())}},n.createComponentSelector=function(m){return{$$typeof:fh,value:m}},n.createContainer=function(m,g,C,M,B,q,ve){return Sy(m,g,!1,null,C,M,B,q,ve)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Ju,value:m}},n.createHydrationContainer=function(m,g,C,M,B,q,ve,Re,$e){return m=Sy(C,M,!0,m,B,q,ve,Re,$e),m.context=wy(null),C=m.current,M=Jn(),B=ha(C),q=bo(M,B),q.callback=g??null,So(C,q),m.current.lanes=B,Qo(m,B,M),zs(m,M),m},n.createPortal=function(m,g,C){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:M==null?null:""+M,children:m,containerInfo:g,implementation:C}},n.createRoleSelector=function(m){return{$$typeof:ec,value:m}},n.createTestNameSelector=function(m){return{$$typeof:_l,value:m}},n.createTextSelector=function(m){return{$$typeof:sd,value:m}},n.deferredUpdates=function(m){var g=Mn,C=hi.transition;try{return hi.transition=null,Mn=16,m()}finally{Mn=g,hi.transition=C}},n.discreteUpdates=function(m,g,C,M,B){var q=Mn,ve=hi.transition;try{return hi.transition=null,Mn=1,m(g,C,M,B)}finally{Mn=q,hi.transition=ve,Nn===0&&rc()}},n.findAllNodes=xl,n.findBoundingRects=function(m,g){if(!Ie)throw Error(o(363));g=xl(m,g),m=[];for(var C=0;C<g.length;C++)m.push(ct(g[C]));for(g=m.length-1;0<g;g--){C=m[g];for(var M=C.x,B=M+C.width,q=C.y,ve=q+C.height,Re=g-1;0<=Re;Re--)if(g!==Re){var $e=m[Re],Ct=$e.x,$t=Ct+$e.width,Sn=$e.y,hn=Sn+$e.height;if(M>=Ct&&q>=Sn&&B<=$t&&ve<=hn){m.splice(g,1);break}else if(M!==Ct||C.width!==$e.width||hn<q||Sn>ve){if(!(q!==Sn||C.height!==$e.height||$t<M||Ct>B)){Ct>M&&($e.width+=Ct-M,$e.x=M),$t<B&&($e.width=B-Ct),m.splice(g,1);break}}else{Sn>q&&($e.height+=Sn-q,$e.y=q),hn<ve&&($e.height=ve-Sn),m.splice(g,1);break}}}return m},n.findHostInstance=Cy,n.findHostInstanceWithNoPortals=function(m){return m=Z(m),m=m!==null?ie(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return Cy(m)},n.flushControlled=function(m){var g=Nn;Nn|=1;var C=hi.transition,M=Mn;try{hi.transition=null,Mn=1,m()}finally{Mn=M,hi.transition=C,Nn=g,Nn===0&&(rc(),fs())}},n.flushPassiveEffects=Oa,n.flushSync=ud,n.focusWithin=function(m,g){if(!Ie)throw Error(o(363));for(m=ph(m),g=ao(m,g),g=Array.from(g),m=0;m<g.length;){var C=g[m++];if(!Q(C)){if(C.tag===5&&de(C.stateNode))return!0;for(C=C.child;C!==null;)g.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Mn},n.getFindAllNodesFailureDescription=function(m,g){if(!Ie)throw Error(o(363));var C=0,M=[];m=[ph(m),0];for(var B=0;B<m.length;){var q=m[B++],ve=m[B++],Re=g[ve];if((q.tag!==5||!Q(q))&&(mh(q,Re)&&(M.push(su(Re)),ve++,ve>C&&(C=ve)),ve<g.length))for(q=q.child;q!==null;)m.push(q,ve),q=q.sibling}if(C<g.length){for(m=[];C<g.length;C++)m.push(su(g[C]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return fe(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Gf,findFiberByHostInstance:m.findFiberByHostInstance||Ay,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{nl=g.inject(m),Zr=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,C,M){if(!Ie)throw Error(o(363));m=xl(m,g);var B=Se(m,C,M).disconnect;return{disconnect:function(){B()}}},n.registerMutableSourceForHydration=function(m,g){var C=g._getVersion;C=C(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,C]:m.mutableSourceEagerHydrationData.push(g,C)},n.runWithPriority=function(m,g){var C=Mn;try{return Mn=m,g()}finally{Mn=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,C,M){var B=g.current,q=Jn(),ve=ha(B);return C=wy(C),g.context===null?g.context=C:g.pendingContext=C,g=bo(q,ve),g.payload={element:m},M=M===void 0?null:M,M!==null&&(g.callback=M),So(B,g),m=rs(B,ve,q),m!==null&&Wc(m,B,ve),ve},n}),kT}var VP;function d$(){return VP||(VP=1,LT.exports=c$()),LT.exports}var h$=d$();const f$=qa(h$);var DT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function p$(){return jP||(jP=1,function(t){function e(Y,se){var j=Y.length;Y.push(se);e:for(;0<j;){var ee=j-1>>>1,ue=Y[ee];if(0<r(ue,se))Y[ee]=se,Y[j]=ue,j=ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var se=Y[0],j=Y.pop();if(j!==se){Y[0]=j;e:for(var ee=0,ue=Y.length,J=ue>>>1;ee<J;){var pe=2*(ee+1)-1,xe=Y[pe],be=pe+1,Ce=Y[be];if(0>r(xe,j))be<ue&&0>r(Ce,xe)?(Y[ee]=Ce,Y[be]=j,ee=be):(Y[ee]=xe,Y[pe]=j,ee=pe);else if(be<ue&&0>r(Ce,j))Y[ee]=Ce,Y[be]=j,ee=be;else break e}}return se}function r(Y,se){var j=Y.sortIndex-se.sortIndex;return j!==0?j:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],f=1,p=null,y=3,v=!1,T=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Y){for(var se=n(d);se!==null;){if(se.callback===null)i(d);else if(se.startTime<=Y)i(d),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(d)}}function D(Y){if(S=!1,P(Y),!T)if(n(u)!==null)T=!0,fe(G);else{var se=n(d);se!==null&&he(D,se.startTime-Y)}}function G(Y,se){T=!1,S&&(S=!1,E(H),H=-1),v=!0;var j=y;try{for(P(se),p=n(u);p!==null&&(!(p.expirationTime>se)||Y&&!Z());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,y=p.priorityLevel;var ue=ee(p.expirationTime<=se);se=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&i(u),P(se)}else i(u);p=n(u)}if(p!==null)var J=!0;else{var pe=n(d);pe!==null&&he(D,pe.startTime-se),J=!1}return J}finally{p=null,y=j,v=!1}}var V=!1,K=null,H=-1,z=5,k=-1;function Z(){return!(t.unstable_now()-k<z)}function $(){if(K!==null){var Y=t.unstable_now();k=Y;var se=!0;try{se=K(!0,Y)}finally{se?re():(V=!1,K=null)}}else V=!1}var re;if(typeof R=="function")re=function(){R($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ge=ie.port2;ie.port1.onmessage=$,re=function(){ge.postMessage(null)}}else re=function(){b($,0)};function fe(Y){K=Y,V||(V=!0,re())}function he(Y,se){H=b(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,fe(G))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var j=y;y=se;try{return Y()}finally{y=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=y;y=Y;try{return se()}finally{y=j}},t.unstable_scheduleCallback=function(Y,se,j){var ee=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ee+j:ee):j=ee,Y){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,Y={id:f++,callback:se,priorityLevel:Y,startTime:j,expirationTime:ue,sortIndex:-1},j>ee?(Y.sortIndex=j,e(d,Y),n(u)===null&&Y===n(d)&&(S?(E(H),H=-1):S=!0,he(D,j-ee))):(Y.sortIndex=ue,e(u,Y),T||v||(T=!0,fe(G))),Y},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(Y){var se=y;return function(){var j=y;y=se;try{return Y.apply(this,arguments)}finally{y=j}}}}(FT)),FT}var WP;function m$(){return WP||(WP=1,DT.exports=p$()),DT.exports}var GP=m$();const cC={},g$=t=>void Object.assign(cC,t);function y$(t,e){function n(f,{args:p=[],attach:y,...v},T){let S=`${f[0].toUpperCase()}${f.slice(1)}`,b;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const E=v.object;b=bp(E,{type:f,root:T,attach:y,primitive:!0})}else{const E=cC[S];if(!E)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");b=bp(new E(...p),{type:f,root:T,attach:y,memoizedProps:{args:p}})}return b.__r3f.attach===void 0&&(b instanceof Dn?b.__r3f.attach="geometry":b instanceof Ls&&(b.__r3f.attach="material")),S!=="inject"&&zT(b,v),b}function i(f,p){let y=!1;if(p){var v,T;(v=p.__r3f)!=null&&v.attach?UT(f,p,p.__r3f.attach):p.isObject3D&&f.isObject3D&&(f.add(p),y=!0),y||(T=f.__r3f)==null||T.objects.push(p),p.__r3f||bp(p,{}),p.__r3f.parent=f,uS(p),Sp(p)}}function r(f,p,y){let v=!1;if(p){var T,S;if((T=p.__r3f)!=null&&T.attach)UT(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){p.parent=f,p.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:p});const b=f.children.filter(R=>R!==p),E=b.indexOf(y);f.children=[...b.slice(0,E),p,...b.slice(E)],v=!0}v||(S=f.__r3f)==null||S.objects.push(p),p.__r3f||bp(p,{}),p.__r3f.parent=f,uS(p),Sp(p)}}function s(f,p,y=!1){f&&[...f].forEach(v=>o(p,v,y))}function o(f,p,y){if(p){var v,T,S;if(p.__r3f&&(p.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(D=>D!==p)),(T=p.__r3f)!=null&&T.attach)KP(f,p,p.__r3f.attach);else if(p.isObject3D&&f.isObject3D){var b;f.remove(p),(b=p.__r3f)!=null&&b.root&&S$(f_(p),p)}const R=(S=p.__r3f)==null?void 0:S.primitive,P=!R&&(y===void 0?p.dispose!==null:y);if(!R){var E;s((E=p.__r3f)==null?void 0:E.objects,p,P),s(p.children,p,P)}if(delete p.__r3f,P&&p.dispose&&p.type!=="Scene"){const D=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?GP.unstable_scheduleCallback(GP.unstable_IdlePriority,D):D()}Sp(f)}}function a(f,p,y,v){var T;const S=(T=f.__r3f)==null?void 0:T.parent;if(!S)return;const b=n(p,y,f.__r3f.root);if(f.children){for(const E of f.children)E.__r3f&&i(b,E);f.children=f.children.filter(E=>!E.__r3f)}f.__r3f.objects.forEach(E=>i(b,E)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(S,f),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),i(S,b),b.raycast&&b.__r3f.eventCount&&f_(b).getState().internal.interaction.push(b),[v,v.alternate].forEach(E=>{E!==null&&(E.stateNode=b,E.ref&&(typeof E.ref=="function"?E.ref(b):E.ref.current=b))})}const u=()=>{};return{reconciler:f$({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,p)=>{if(!p)return;const y=f.getState().scene;y.__r3f&&(y.__r3f.root=f,i(y,p))},removeChildFromContainer:(f,p)=>{p&&o(f.getState().scene,p)},insertInContainerBefore:(f,p,y)=>{if(!p||!y)return;const v=f.getState().scene;v.__r3f&&r(v,p,y)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var p;return!!((p=f?.__r3f)!=null?p:{}).handlers},prepareUpdate(f,p,y,v){var T;if(((T=f?.__r3f)!=null?T:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:b=[],children:E,...R}=v,{args:P=[],children:D,...G}=y;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((K,H)=>K!==P[H]))return[!0];const V=gD(f,R,G,!0);return V.changes.length?[!1,V]:null}},commitUpdate(f,[p,y],v,T,S,b){p?a(f,v,S,b):zT(f,y)},commitMount(f,p,y,v){var T;const S=(T=f.__r3f)!=null?T:{};f.raycast&&S.handlers&&S.eventCount&&f_(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>bp(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var p;const{attach:y,parent:v}=(p=f.__r3f)!=null?p:{};y&&v&&KP(v,f,y),f.isObject3D&&(f.visible=!1),Sp(f)},unhideInstance(f,p){var y;const{attach:v,parent:T}=(y=f.__r3f)!=null?y:{};v&&T&&UT(T,f,v),(f.isObject3D&&p.visible==null||p.visible)&&(f.visible=!0),Sp(f)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():Pp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Di.fun(performance.now)?performance.now:Di.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Di.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Di.fun(clearTimeout)?clearTimeout:void 0}),applyProps:zT}}var YP,XP;const BT=t=>"colorSpace"in t||"outputColorSpace"in t,cD=()=>{var t;return(t=cC.ColorManagement)!=null?t:null},dD=t=>t&&t.isOrthographicCamera,v$=t=>t&&t.hasOwnProperty("current"),sy=typeof window<"u"&&((YP=window.document)!=null&&YP.createElement||((XP=window.navigator)==null?void 0:XP.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function hD(t){const e=X.useRef(t);return sy(()=>void(e.current=t),[t]),e}function _$({set:t}){return sy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class fD extends X.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fD.getDerivedStateFromError=()=>({error:!0});const pD="__default",qP=new Map,x$=t=>t&&!!t.memoized&&!!t.changes;function mD(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const xg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function f_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Di={obj:t=>t===Object(t)&&!Di.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Di.str(t)||Di.num(t)||Di.boo(t))return t===e;const s=Di.obj(t);if(s&&i==="reference")return t===e;const o=Di.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!Di.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(Di.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function E$(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function bp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function lS(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const ZP=/-\d+$/;function UT(t,e,n){if(Di.str(n)){if(ZP.test(n)){const s=n.replace(ZP,""),{target:o,key:a}=lS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=lS(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function KP(t,e,n){var i,r;if(Di.str(n)){const{target:s,key:o}=lS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function gD(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...u}={},d=!1){const f=t.__r3f,p=Object.entries(r),y=[];if(d){const T=Object.keys(u);for(let S=0;S<T.length;S++)r.hasOwnProperty(T[S])||p.unshift([T[S],pD+"remove"])}p.forEach(([T,S])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&T==="object"||Di.equ(S,u[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return y.push([T,S,!0,[]]);let E=[];T.includes("-")&&(E=T.split("-")),y.push([T,S,!1,E]);for(const R in r){const P=r[R];R.startsWith(`${T}-`)&&y.push([R,P,!1,R.split("-")])}});const v={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:y}}function zT(t,e){var n;const i=t.__r3f,r=i?.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=x$(e)?e:gD(t,e),u=i?.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[p,y,v,T]=a[f];if(BT(t)){const R="srgb",P="srgb-linear";p==="encoding"?(p="colorSpace",y=y===3001?R:P):p==="outputEncoding"&&(p="outputColorSpace",y=y===3001?R:P)}let S=t,b=S[p];if(T.length&&(b=T.reduce((E,R)=>E[R],t),!(b&&b.set))){const[E,...R]=T.reverse();S=R.reverse().reduce((P,D)=>P[D],t),p=E}if(y===pD+"remove")if(S.constructor){let E=qP.get(S.constructor);E||(E=new S.constructor,qP.set(S.constructor,E)),y=E[p]}else y=0;if(v&&i)y?i.handlers[p]=y:delete i.handlers[p],i.eventCount=Object.keys(i.handlers).length;else if(b&&b.set&&(b.copy||b instanceof sf)){if(Array.isArray(y))b.fromArray?b.fromArray(y):b.set(...y);else if(b.copy&&y&&y.constructor&&b.constructor===y.constructor)b.copy(y);else if(y!==void 0){const E=b instanceof Kt;!E&&b.setScalar?b.setScalar(y):b instanceof sf&&y instanceof sf?b.mask=y.mask:b.set(y),!cD()&&s&&!s.linear&&E&&b.convertSRGBToLinear()}}else if(S[p]=y,S[p]instanceof rr&&S[p].format===Ys&&S[p].type===Ya&&s){const E=S[p];BT(E)&&BT(s.gl)?E.colorSpace=s.gl.outputColorSpace:E.encoding=s.gl.outputEncoding}Sp(t)}if(i&&i.parent&&t.raycast&&u!==i.eventCount){const f=f_(t).getState().internal,p=f.interaction.indexOf(t);p>-1&&f.interaction.splice(p,1),i.eventCount&&f.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&uS(t),t}function Sp(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function uS(t){t.onUpdate==null||t.onUpdate(t)}function T$(t,e){t.manual||(dD(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Zv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function b$(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Pp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Pp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Pp.ContinuousEventPriority;default:return Pp.DefaultEventPriority}}function yD(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function S$(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{yD(n.capturedMap,e,i,r)})}function w$(t){function e(u){const{internal:d}=t.getState(),f=u.offsetX-d.initialClick[0],p=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(f*f+p*p))}function n(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(f=>{var p;return(p=d.__r3f)==null?void 0:p.handlers["onPointer"+f]}))}function i(u,d){const f=t.getState(),p=new Set,y=[],v=d?d(f.internal.interaction):f.internal.interaction;for(let E=0;E<v.length;E++){const R=xg(v[E]);R&&(R.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(u,f);function T(E){const R=xg(E);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var P;R.events.compute==null||R.events.compute(u,R,(P=R.previousRoot)==null?void 0:P.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(E,!0):[]}let S=v.flatMap(T).sort((E,R)=>{const P=xg(E.object),D=xg(R.object);return!P||!D?E.distance-R.distance:D.events.priority-P.events.priority||E.distance-R.distance}).filter(E=>{const R=Zv(E);return p.has(R)?!1:(p.add(R),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const E of S){let R=E.object;for(;R;){var b;(b=R.__r3f)!=null&&b.eventCount&&y.push({...E,eventObject:R}),R=R.parent}}if("pointerId"in u&&f.internal.capturedMap.has(u.pointerId))for(let E of f.internal.capturedMap.get(u.pointerId).values())p.has(Zv(E.intersection))||y.push(E.intersection);return y}function r(u,d,f,p){const y=t.getState();if(u.length){const v={stopped:!1};for(const T of u){const S=xg(T.object)||y,{raycaster:b,pointer:E,camera:R,internal:P}=S,D=new me(E.x,E.y,0).unproject(R),G=k=>{var Z,$;return(Z=($=P.capturedMap.get(k))==null?void 0:$.has(T.eventObject))!=null?Z:!1},V=k=>{const Z={intersection:T,target:d.target};P.capturedMap.has(k)?P.capturedMap.get(k).set(T.eventObject,Z):P.capturedMap.set(k,new Map([[T.eventObject,Z]])),d.target.setPointerCapture(k)},K=k=>{const Z=P.capturedMap.get(k);Z&&yD(P.capturedMap,T.eventObject,Z,k)};let H={};for(let k in d){let Z=d[k];typeof Z!="function"&&(H[k]=Z)}let z={...T,...H,pointer:E,intersections:u,stopped:v.stopped,delta:f,unprojectedPoint:D,ray:b.ray,camera:R,stopPropagation(){const k="pointerId"in d&&P.capturedMap.get(d.pointerId);if((!k||k.has(T.eventObject))&&(z.stopped=v.stopped=!0,P.hovered.size&&Array.from(P.hovered.values()).find(Z=>Z.eventObject===T.eventObject))){const Z=u.slice(0,u.indexOf(T));s([...Z,T])}},target:{hasPointerCapture:G,setPointerCapture:V,releasePointerCapture:K},currentTarget:{hasPointerCapture:G,setPointerCapture:V,releasePointerCapture:K},nativeEvent:d};if(p(z),v.stopped===!0)break}}return u}function s(u){const{internal:d}=t.getState();for(const f of d.hovered.values())if(!u.length||!u.find(p=>p.object===f.object&&p.index===f.index&&p.instanceId===f.instanceId)){const y=f.eventObject.__r3f,v=y?.handlers;if(d.hovered.delete(Zv(f)),y!=null&&y.eventCount){const T={...f,intersections:u};v.onPointerOut==null||v.onPointerOut(T),v.onPointerLeave==null||v.onPointerLeave(T)}}}function o(u,d){for(let f=0;f<d.length;f++){const p=d[f].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:f}=t.getState();"pointerId"in d&&f.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(d.pointerId)&&(f.capturedMap.delete(d.pointerId),s([]))})}}return function(f){const{onPointerMissed:p,internal:y}=t.getState();y.lastEvent.current=f;const v=u==="onPointerMove",T=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",b=i(f,v?n:void 0),E=T?e(f):0;u==="onPointerDown"&&(y.initialClick=[f.offsetX,f.offsetY],y.initialHits=b.map(P=>P.eventObject)),T&&!b.length&&E<=2&&(o(f,y.interaction),p&&p(f)),v&&s(b);function R(P){const D=P.eventObject,G=D.__r3f,V=G?.handlers;if(G!=null&&G.eventCount)if(v){if(V.onPointerOver||V.onPointerEnter||V.onPointerOut||V.onPointerLeave){const K=Zv(P),H=y.hovered.get(K);H?H.stopped&&P.stopPropagation():(y.hovered.set(K,P),V.onPointerOver==null||V.onPointerOver(P),V.onPointerEnter==null||V.onPointerEnter(P))}V.onPointerMove==null||V.onPointerMove(P)}else{const K=V[u];K?(!T||y.initialHits.includes(D))&&(o(f,y.interaction.filter(H=>!y.initialHits.includes(H))),K(P)):T&&y.initialHits.includes(D)&&o(f,y.interaction.filter(H=>!y.initialHits.includes(H)))}}r(b,f,E,R)}}return{handlePointer:a}}const vD=t=>!!(t!=null&&t.render),_D=X.createContext(null),C$=(t,e)=>{const n=a$((a,u)=>{const d=new me,f=new me,p=new me;function y(E=u().camera,R=f,P=u().size){const{width:D,height:G,top:V,left:K}=P,H=D/G;R instanceof me?p.copy(R):p.set(...R);const z=E.getWorldPosition(d).distanceTo(p);if(dD(E))return{width:D/E.zoom,height:G/E.zoom,top:V,left:K,factor:1,distance:z,aspect:H};{const k=E.fov*Math.PI/180,Z=2*Math.tan(k/2)*z,$=Z*(D/G);return{width:$,height:Z,top:V,left:K,factor:D/$,distance:z,aspect:H}}}let v;const T=E=>a(R=>({performance:{...R.performance,current:E}})),S=new ft;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(E=1)=>t(u(),E),advance:(E,R)=>e(E,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new rC,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=u();v&&clearTimeout(v),E.performance.current!==E.performance.min&&T(E.performance.min),v=setTimeout(()=>T(u().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:E=>a(R=>({...R,events:{...R.events,...E}})),setSize:(E,R,P,D,G)=>{const V=u().camera,K={width:E,height:R,top:D||0,left:G||0,updateStyle:P};a(H=>({size:K,viewport:{...H.viewport,...y(V,f,K)}}))},setDpr:E=>a(R=>{const P=mD(E);return{viewport:{...R.viewport,dpr:P,initialDpr:R.viewport.initialDpr||P}}}),setFrameloop:(E="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,E!=="never"&&(R.start(),R.elapsedTime=0),a(()=>({frameloop:E}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:X.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(E,R,P)=>{const D=u().internal;return D.priority=D.priority+(R>0?1:0),D.subscribers.push({ref:E,priority:R,store:P}),D.subscribers=D.subscribers.sort((G,V)=>G.priority-V.priority),()=>{const G=u().internal;G!=null&&G.subscribers&&(G.priority=G.priority-(R>0?1:0),G.subscribers=G.subscribers.filter(V=>V.ref!==E))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:u,viewport:d,gl:f,set:p}=n.getState();if(u.width!==r.width||u.height!==r.height||d.dpr!==s){var y;r=u,s=d.dpr,T$(a,u),f.setPixelRatio(d.dpr);const v=(y=u.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(u.width,u.height,v)}a!==o&&(o=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Kv,A$=new Set,M$=new Set,P$=new Set;function HT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Eg(t,e){switch(t){case"before":return HT(A$,e);case"after":return HT(M$,e);case"tail":return HT(P$,e)}}let VT,jT;function WT(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),VT=e.internal.subscribers,Kv=0;Kv<VT.length;Kv++)jT=VT[Kv],jT.ref.current(jT.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function R$(t){let e=!1,n=!1,i,r,s;function o(d){r=requestAnimationFrame(o),e=!0,i=0,Eg("before",d),n=!0;for(const p of t.values()){var f;s=p.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(i+=WT(d,s))}if(n=!1,Eg("after",d),i===0)return Eg("tail",d),e=!1,cancelAnimationFrame(r)}function a(d,f=1){var p;if(!d)return t.forEach(y=>a(y.store.getState(),f));(p=d.gl.xr)!=null&&p.isPresenting||!d.internal.active||d.frameloop==="never"||(f>1?d.internal.frames=Math.min(60,d.internal.frames+f):n?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function u(d,f=!0,p,y){if(f&&Eg("before",d),p)WT(d,p,y);else for(const v of t.values())WT(d,v.store.getState());f&&Eg("after",d)}return{loop:o,invalidate:a,advance:u}}function xD(){const t=X.useContext(_D);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function I$(t=n=>n,e){return xD()(t,e)}function L$(t,e=0){const n=xD(),i=n.getState().internal.subscribe,r=hD(t);return sy(()=>i(r,e,n),[e,i,n]),null}const nm=new Map,{invalidate:$P,advance:QP}=R$(nm),{reconciler:xx,applyProps:_p}=y$(nm,b$),xp={objects:"shallow",strict:!1},N$=(t,e)=>{const n=typeof t=="function"?t(e):t;return vD(n)?n:new uD({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function O$(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function k$(t){const e=nm.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||C$($P,QP),o=n||xx.createContainer(s,Pp.ConcurrentRoot,null,!1,null,"",r,null);e||nm.set(t,{fiber:o,store:s});let a,u=!1,d;return{configure(f={}){let{gl:p,size:y,scene:v,events:T,onCreated:S,shadows:b=!1,linear:E=!1,flat:R=!1,legacy:P=!1,orthographic:D=!1,frameloop:G="always",dpr:V=[1,2],performance:K,raycaster:H,camera:z,onPointerMissed:k}=f,Z=s.getState(),$=Z.gl;Z.gl||Z.set({gl:$=N$(p,t)});let re=Z.raycaster;re||Z.set({raycaster:re=new tD});const{params:ie,...ge}=H||{};if(Di.equ(ge,re,xp)||_p(re,{...ge}),Di.equ(ie,re.params,xp)||_p(re,{params:{...re.params,...ie}}),!Z.camera||Z.camera===d&&!Di.equ(d,z,xp)){d=z;const j=z instanceof K0,ee=j?z:D?new ry(0,0,0,0,.1,1e3):new us(75,0,.1,1e3);j||(ee.position.z=5,z&&(_p(ee,z),("aspect"in z||"left"in z||"right"in z||"bottom"in z||"top"in z)&&(ee.manual=!0,ee.updateProjectionMatrix())),!Z.camera&&!(z!=null&&z.rotation)&&ee.lookAt(0,0,0)),Z.set({camera:ee}),re.camera=ee}if(!Z.scene){let j;v instanceof mx?j=v:(j=new mx,v&&_p(j,v)),Z.set({scene:bp(j)})}if(!Z.xr){var fe;const j=(J,pe)=>{const xe=s.getState();xe.frameloop!=="never"&&QP(J,!0,xe,pe)},ee=()=>{const J=s.getState();J.gl.xr.enabled=J.gl.xr.isPresenting,J.gl.xr.setAnimationLoop(J.gl.xr.isPresenting?j:null),J.gl.xr.isPresenting||$P(J)},ue={connect(){const J=s.getState().gl;J.xr.addEventListener("sessionstart",ee),J.xr.addEventListener("sessionend",ee)},disconnect(){const J=s.getState().gl;J.xr.removeEventListener("sessionstart",ee),J.xr.removeEventListener("sessionend",ee)}};typeof((fe=$.xr)==null?void 0:fe.addEventListener)=="function"&&ue.connect(),Z.set({xr:ue})}if($.shadowMap){const j=$.shadowMap.enabled,ee=$.shadowMap.type;if($.shadowMap.enabled=!!b,Di.boo(b))$.shadowMap.type=Bg;else if(Di.str(b)){var he;const ue={basic:cO,percentage:Zx,soft:Bg,variance:kl};$.shadowMap.type=(he=ue[b])!=null?he:Bg}else Di.obj(b)&&Object.assign($.shadowMap,b);(j!==$.shadowMap.enabled||ee!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const Y=cD();Y&&("enabled"in Y?Y.enabled=!P:"legacyMode"in Y&&(Y.legacyMode=P)),u||_p($,{outputEncoding:E?3e3:3001,toneMapping:R?xu:Sw}),Z.legacy!==P&&Z.set(()=>({legacy:P})),Z.linear!==E&&Z.set(()=>({linear:E})),Z.flat!==R&&Z.set(()=>({flat:R})),p&&!Di.fun(p)&&!vD(p)&&!Di.equ(p,$,xp)&&_p($,p),T&&!Z.events.handlers&&Z.set({events:T(s)});const se=O$(t,y);return Di.equ(se,Z.size,xp)||Z.setSize(se.width,se.height,se.updateStyle,se.top,se.left),V&&Z.viewport.dpr!==mD(V)&&Z.setDpr(V),Z.frameloop!==G&&Z.setFrameloop(G),Z.onPointerMissed||Z.set({onPointerMissed:k}),K&&!Di.equ(K,Z.performance,xp)&&Z.set(j=>({performance:{...j.performance,...K}})),a=S,u=!0,this},render(f){return u||this.configure(),xx.updateContainer(F.jsx(D$,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){ED(t)}}}function D$({store:t,children:e,onCreated:n,rootElement:i}){return sy(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),F.jsx(_D.Provider,{value:t,children:e})}function ED(t,e){const n=nm.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),xx.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,u;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),E$(r),nm.delete(t)}catch{}},500)})}}xx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:X.version});const GT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function F$(t){const{handlePointer:e}=w$(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(GT).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[u,d]=GT[o];n.addEventListener(u,a,{passive:d})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=GT[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}var YT,JP;function B$(){if(JP)return YT;JP=1;function t(e,n,i){var r,s,o,a,u;n==null&&(n=100);function d(){var p=Date.now()-a;p<n&&p>=0?r=setTimeout(d,n-p):(r=null,i||(u=e.apply(o,s),o=s=null))}var f=function(){o=this,s=arguments,a=Date.now();var p=i&&!r;return r||(r=setTimeout(d,n)),p&&(u=e.apply(o,s),o=s=null),u};return f.clear=function(){r&&(clearTimeout(r),r=null)},f.flush=function(){r&&(u=e.apply(o,s),o=s=null,clearTimeout(r),r=null)},f}return t.debounce=t,YT=t,YT}var U$=B$();const eR=qa(U$);var z$=Object.defineProperty,H$=Object.defineProperties,V$=Object.getOwnPropertyDescriptors,tR=Object.getOwnPropertySymbols,j$=Object.prototype.hasOwnProperty,W$=Object.prototype.propertyIsEnumerable,nR=(t,e,n)=>e in t?z$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iR=(t,e)=>{for(var n in e||(e={}))j$.call(e,n)&&nR(t,n,e[n]);if(tR)for(var n of tR(e))W$.call(e,n)&&nR(t,n,e[n]);return t},G$=(t,e)=>H$(t,V$(e)),rR,sR;typeof window<"u"&&((rR=window.document)!=null&&rR.createElement||((sR=window.navigator)==null?void 0:sR.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function TD(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=TD(i,e,n);if(r)return r;i=i.sibling}}function bD(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const oR=console.error;console.error=function(){const t=[...arguments].join("");if(t?.startsWith("Warning:")&&t.includes("useContext")){console.error=oR;return}return oR.apply(this,arguments)};const dC=bD(X.createContext(null));class SD extends X.Component{render(){return X.createElement(dC.Provider,{value:this._reactInternals},this.props.children)}}function Y$(){const t=X.useContext(dC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=X.useId();return X.useMemo(()=>{for(const i of[t,t?.alternate]){if(!i)continue;const r=TD(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function X$(){const t=Y$(),[e]=X.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==dC&&!e.has(r)&&e.set(r,X.useContext(bD(r)))}n=n.return}return e}function q$(){const t=X$();return X.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>X.createElement(e,null,X.createElement(n.Provider,G$(iR({},i),{value:t.get(n)}))),e=>X.createElement(SD,iR({},e))),[t])}function Z$({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||typeof window<"u"&&window.ResizeObserver,[s,o]=X.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=X.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),u=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,f=X.useRef(!1);X.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,y,v]=X.useMemo(()=>{const E=()=>{if(!a.current.element)return;const{left:R,top:P,width:D,height:G,bottom:V,right:K,x:H,y:z}=a.current.element.getBoundingClientRect(),k={left:R,top:P,width:D,height:G,bottom:V,right:K,x:H,y:z};a.current.element instanceof HTMLElement&&i&&(k.height=a.current.element.offsetHeight,k.width=a.current.element.offsetWidth),Object.freeze(k),f.current&&!J$(a.current.lastBounds,k)&&o(a.current.lastBounds=k)};return[E,d?eR(E,d):E,u?eR(E,u):E]},[o,i,u,d]);function T(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function S(){var E;a.current.element&&(a.current.resizeObserver=new r(y),(E=a.current.resizeObserver)==null||E.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(R=>R.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const b=E=>{!E||E===a.current.element||(T(),a.current.element=E,a.current.scrollContainers=wD(E),S())};return $$(v,!!e),K$(y),X.useEffect(()=>{T(),S()},[e,v,y]),X.useEffect(()=>T,[]),[b,s,p]}function K$(t){X.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $$(t,e){X.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function wD(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...wD(t.parentElement)]}const Q$=["x","y","top","bottom","left","right","width","height"],J$=(t,e)=>Q$.every(n=>t[n]===e[n]),eQ=X.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=F$,eventSource:a,eventPrefix:u,shadows:d,linear:f,flat:p,legacy:y,orthographic:v,frameloop:T,dpr:S,performance:b,raycaster:E,camera:R,scene:P,onPointerMissed:D,onCreated:G,...V},K){X.useMemo(()=>g$(n$),[]);const H=q$(),[z,k]=Z$({scroll:!0,debounce:{scroll:50,resize:0},...i}),Z=X.useRef(null),$=X.useRef(null);X.useImperativeHandle(K,()=>Z.current);const re=hD(D),[ie,ge]=X.useState(!1),[fe,he]=X.useState(!1);if(ie)throw ie;if(fe)throw fe;const Y=X.useRef(null);sy(()=>{const j=Z.current;k.width>0&&k.height>0&&j&&(Y.current||(Y.current=k$(j)),Y.current.configure({gl:s,events:o,shadows:d,linear:f,flat:p,legacy:y,orthographic:v,frameloop:T,dpr:S,performance:b,raycaster:E,camera:R,scene:P,size:k,onPointerMissed:(...ee)=>re.current==null?void 0:re.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?v$(a)?a.current:a:$.current),u&&ee.setEvents({compute:(ue,J)=>{const pe=ue[u+"X"],xe=ue[u+"Y"];J.pointer.set(pe/J.size.width*2-1,-(xe/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),G?.(ee)}}),Y.current.render(F.jsx(H,{children:F.jsx(fD,{set:he,children:F.jsx(X.Suspense,{fallback:F.jsx(_$,{set:ge}),children:e})})})))}),X.useEffect(()=>{const j=Z.current;if(j)return()=>ED(j)},[]);const se=a?"none":"auto";return F.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:se,...r},...V,children:F.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:F.jsx("canvas",{ref:Z,style:{display:"block"},children:n})})})}),tQ=X.forwardRef(function(e,n){return F.jsx(SD,{children:F.jsx(eQ,{...e,ref:n})})}),nQ=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,iQ=`
  uniform sampler2D from;
  uniform sampler2D to;
  uniform float progress;
  uniform float dots;
  uniform vec2 center;
  varying vec2 vUv;

  float easeInOut(float t) {
    return t < 0.5 ? 2.0 * t * t : -1.0 + (4.0 - 2.0 * t) * t;
  }

  void main() {
    vec2 fracUv = fract(vUv * dots);
    float distToCenter = max(distance(vUv, center), 0.001);
    float threshold = easeInOut(progress) / distToCenter;
    bool showTo = distance(fracUv, vec2(0.5)) < threshold;

    vec4 fromColor = texture2D(from, vUv);
    vec4 toColor = texture2D(to, vUv);
    gl_FragColor = mix(fromColor, toColor, float(showTo));
  }
`;function rQ({fromTexture:t,toTexture:e,progress:n,dots:i=20,center:r=[.5,.5]}){const s=X.useRef(null),{size:o}=I$();X.useEffect(()=>{s.current&&(s.current.uniforms.progress.value=n)},[n]);const a=X.useMemo(()=>new Xa({uniforms:{from:{value:t},to:{value:e},progress:{value:0},dots:{value:i},center:{value:new ft(...r)}},vertexShader:nQ,fragmentShader:iQ}),[t,e,i,r]),u=t.image?[t.image.width,t.image.height]:[1,1],d=u[0]/u[1],f=o.width/o.height;let p=1,y=1;return d>f?p=f/d:y=d/f,F.jsxs("mesh",{scale:[p,y,1],children:[F.jsx("planeGeometry",{args:[o.width,o.height]}),F.jsx("primitive",{object:a,ref:s,attach:"material"})]})}function sQ({setProgress:t,setIndex:e,setTransitioning:n,transitioning:i,progressRef:r,textures:s}){return L$((o,a)=>{i&&(r.current=Math.min(r.current+a*.5,1),t(r.current),r.current>=1&&(r.current=0,t(0),e(u=>(u+1)%s.length),n(!1)))}),null}function oQ({images:t}){const[e,n]=X.useState(0),[i,r]=X.useState(0),[s,o]=X.useState(!1),a=X.useRef(0),u=X.useMemo(()=>t.map(p=>{const y=new zk().load(p);return y.minFilter=Nr,y.generateMipmaps=!1,y}),[t]),d=u[e],f=u[(e+1)%u.length];return X.useEffect(()=>{const p=setInterval(()=>{o(!0)},5e3);return()=>clearInterval(p)},[]),F.jsxs(tQ,{orthographic:!0,camera:{position:[0,0,1],zoom:1},style:{width:"100%",height:"100%"},children:[F.jsx(rQ,{fromTexture:d,toTexture:f,progress:i}),F.jsx(sQ,{setProgress:r,setIndex:n,setTransitioning:o,transitioning:s,progressRef:a,textures:u})]})}const aQ=JSON.parse('["https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489840759_1140867198053296_2636895665399219272_n.jpg?updatedAt=1752659856703","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489787440_1140196588120357_7010091196730892027_n.jpg?updatedAt=1752659857743","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489701616_1140772911396058_5364891838829840335_n.jpg?updatedAt=1752659858810","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489678438_1140772831396066_175065862349648886_n.jpg?updatedAt=1752659860254","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489455967_1140772931396056_5267534977870129189_n.jpg?updatedAt=1752659861209","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489425497_1140772821396067_4556205305487317419_n.jpg?updatedAt=1752659862603","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489397220_1140772961396053_9200821539151438502_n.jpg?updatedAt=1752659863658","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489351342_1140194104787272_5088433045210765321_n.jpg?updatedAt=1752659864640","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489346295_1140772824729400_2197042989895419858_n.jpg?updatedAt=1752659866384","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489032135_1140193754787307_1738452837443478151_n.jpg?updatedAt=1752659867605","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489328486_1137798775026805_1060108879425538631_n.jpg?updatedAt=1752659869330","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488989637_1137879931685356_8734446832133588686_n.jpg?updatedAt=1752659870438","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488972977_1140772958062720_8716080507192901070_n.jpg?updatedAt=1752659871317","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488965471_1136884238451592_2063938248287466001_n.jpg?updatedAt=1752659872201","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488967265_1137894285017254_6598022070402150483_n.jpg?updatedAt=1752659873637","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488962372_1140772784729404_2713264589192159190_n.jpg?updatedAt=1752659874910","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488935439_1140194078120608_5349418961277884438_n.jpg?updatedAt=1752659876120","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488942737_1136860531787296_5567868118214660104_n.jpg?updatedAt=1752659877253","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488927328_1136994731773876_180728548841436629_n.jpg?updatedAt=1752659878482","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488911547_1136989841774365_7403549926715712414_n.jpg?updatedAt=1752659880707","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488909238_1136994721773877_2768019423059502686_n.jpg?updatedAt=1752659881654","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488906212_1140194168120599_2654407187109904669_n.jpg?updatedAt=1752659882607","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488905630_1137217151751634_6122060616522251877_n.jpg?updatedAt=1752659884031","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488884592_1136994615107221_7385175157801959248_n.jpg?updatedAt=1752659884982","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488872823_1136266478513368_4974044542787164585_n.jpg?updatedAt=1752659886453","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488836445_1136989891774360_7829874030031460807_n.jpg?updatedAt=1752659887388","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488870634_1137004488439567_8220692838941324723_n.jpg?updatedAt=1752659888300","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488869325_1136994551773894_8732710883822573459_n.jpg?updatedAt=1752659889231","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488798880_1137209538419062_6282373647650473808_n.jpg?updatedAt=1752659890694","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488717743_1136994581773891_3123459318237999717_n.jpg?updatedAt=1752659891632","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488711867_1137880125018670_72664586640187272_n.jpg?updatedAt=1752659892601","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488661507_1137216971751652_4632613359843148109_n.jpg?updatedAt=1752659893549","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488656956_1137894471683902_582144524574728675_n.jpg?updatedAt=1752659894535","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488657701_1137880181685331_8214420436558099559_n.jpg?updatedAt=1752659895430","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658173_1137880258351990_6313657547201285596_n.jpg?updatedAt=1752659896364","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488660081_1137867621686587_2460497577100897348_n.jpg?updatedAt=1752659897330","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658401_1136997021773647_8816929429148840977_n.jpg?updatedAt=1752659898805","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658075_1137894228350593_1533430297928601625_n.jpg?updatedAt=1752659899791","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488654652_1137894338350582_6176369205095080097_n.jpg?updatedAt=1752659900858","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488655035_1137870185019664_5620335352759655481_n.jpg?updatedAt=1752659901897","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488651980_1137816588358357_4773639599095859380_n.jpg?updatedAt=1752659903224","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488648534_1137879865018696_6179070931886173249_n.jpg?updatedAt=1752659904279","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488646897_1136860741787275_6278813297121797077_n.jpg?updatedAt=1752659905932","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488647344_1136871465119536_5184495558261981075_n.jpg?updatedAt=1752659907357","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488647300_1137894128350603_49984522825154735_n.jpg?updatedAt=1752659908326","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488646450_1135992355207447_2351754069227593855_n.jpg?updatedAt=1752659909399","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488644743_1136860498453966_1599561277865518374_n.jpg?updatedAt=1752659910609","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488644740_1136249345181748_9157762513185672394_n.jpg?updatedAt=1752659911496","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642546_1137894265017256_15933684607762603_n.jpg?updatedAt=1752659912431","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642148_1136989808441035_6286781595230130999_n.jpg?updatedAt=1752659914069","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642535_1136876798452336_2095171863678921651_n.jpg?updatedAt=1752659915507","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488641924_1137879965018686_4182330070145635378_n.jpg?updatedAt=1752659916758","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488641591_1136860711787278_4710840509435004171_n.jpg?updatedAt=1752659919146","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488639613_1136249371848412_2210818291921768420_n.jpg?updatedAt=1752659920078","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488619514_1136860638453952_4588988284558947143_n.jpg?updatedAt=1752659921047","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488618223_1137819528358063_2181875195658012969_n.jpg?updatedAt=1752659921998","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488617939_1137804975026185_152905665085931328_n.jpg?updatedAt=1752659923030","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488616253_1137800185026664_7364466291464118225_n.jpg?updatedAt=1752659924486","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488614438_1136252715181411_8163875929884506419_n.jpg?updatedAt=1752659926199","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488600967_1136268718513144_2947544783579831713_n.jpg?updatedAt=1752659927126","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488600933_1136018711871478_7305870865722683790_n.jpg?updatedAt=1752659928115","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488599338_1136859361787413_3959177547560663122_n.jpg?updatedAt=1752659929444","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488587467_1136133378526678_256845849054700065_n.jpg?updatedAt=1752659931026","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488581329_1137894041683945_5698136003414752767_n.jpg?updatedAt=1752659932069","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488573877_1137880195018663_1273180770311965372_n.jpg?updatedAt=1752659933243","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488572755_1136117838528232_4869676817020012288_n.jpg?updatedAt=1752659935212","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488547959_1136269965179686_5124004724368867608_n.jpg?updatedAt=1752659936275","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488522005_1136249408515075_5975727314006764211_n.jpg?updatedAt=1752659937700","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488553012_1137003198439696_1265796583876488971_n.jpg?updatedAt=1752659938677","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488528973_1136127488527267_6271226668368527092_n.jpg?updatedAt=1752659939689","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488526057_1136860461787303_1645433265110266749_n.jpg?updatedAt=1752659940617","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488503658_1136265838513432_475836059960177922_n.jpg?updatedAt=1752659941606","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488501932_1136007405205942_4139026403730995201_n.jpg?updatedAt=1752659942548","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488493029_1136124685194214_608405826769618896_n.jpg?updatedAt=1752659943470","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488438659_1136252801848069_4884826713727246990_n.jpg?updatedAt=1752659944964","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488422002_1136871678452848_7781268169377220870_n.jpg?updatedAt=1752659945900","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488419745_1136994575107225_7509400979547920074_n.jpg?updatedAt=1752659946893","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488406315_1136250201848329_2537831481415171592_n.jpg?updatedAt=1752659947916","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488368338_1136249458515070_7528489575411620994_n.jpg?updatedAt=1752659949014","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488402601_1136141991859150_7933381268868043256_n.jpg?updatedAt=1752659950759","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488360289_1135999841873365_1307292445242060868_n.jpg?updatedAt=1752659951900","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488269633_1136994755107207_1661579505461260148_n.jpg?updatedAt=1752659954918","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488258973_1136116558528360_4064529387658573824_n.jpg?updatedAt=1752659955933","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488258064_1136136128526403_4398712927542726460_n.jpg?updatedAt=1752659956901","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488256258_1136142065192476_8167168541559807968_n.jpg?updatedAt=1752659958727","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488255640_1136877695118913_9118085291001689085_n.jpg?updatedAt=1752659959949","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488257076_1136141261859223_1303594626132569260_n.jpg?updatedAt=1752659961087","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488180009_1137109565095726_5050655121849058433_n.jpg?updatedAt=1752659962552","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488076324_1136266031846746_9072853553058781942_n.jpg?updatedAt=1752659963564","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488026368_1137109861762363_8754370329013683693_n.jpg?updatedAt=1752659965036","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487973097_1136142071859142_8070338266980720333_n.jpg?updatedAt=1752659966080","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488011965_1136007121872637_5318861833135532505_n.jpg?updatedAt=1752659967017","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487820308_1135992241874125_5772299821441920911_n.jpg?updatedAt=1752659968170","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487925763_1136249361848413_6096192759399569380_n.jpg?updatedAt=1752659969478","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487879421_1136263195180363_3893077977795035136_n.jpg?updatedAt=1752659970497","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487834440_1136142035192479_6686737751791294387_n.jpg?updatedAt=1752659972101","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487826376_1135991878540828_3008314879484452268_n.jpg?updatedAt=1752659973532","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487734026_1136007461872603_1601532410394089384_n.jpg?updatedAt=1752659974594","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487513001_1136266128513403_3574485397750402846_n.jpg?updatedAt=1752659976030","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487512620_1136249461848403_5970565940852287489_n.jpg?updatedAt=1752659977590"]'),lQ=()=>F.jsx("div",{id:"her-img-gall",className:"relative aspect-square w-full mx-auto rounded-lg overflow-hidden shadow-2xl",children:F.jsx("div",{className:"absolute inset-0",children:F.jsx(oQ,{images:aQ})})}),uQ="/assets/tpc_hero_1-Vcm5D1Jl.png",cQ="live",dQ=!1,hQ=()=>{const t=document.getElementById("contact");t&&(t.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const e=t.querySelector("input[placeholder='Your Name']");e&&e.focus()},600))},fQ=({respectTheme:t=dQ})=>{const e=t?"":"dark";return F.jsxs("section",{id:"hero-section",className:`${e} relative w-full bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 py-32 md:pt-48 overflow-hidden`,children:[F.jsx("div",{id:"hero-bg-overlay",className:"absolute inset-0 bg-black/20 dark:bg-black/50",style:{backgroundImage:`url(${uQ})`,backgroundSize:"cover",backgroundPosition:"center",filter:"sepia(.5) brightness(0.6) saturate(0.8) contrast(0.6)"}}),F.jsx("div",{className:"relative z-10 w-full px-4 md:px-12 lg:px-64",children:F.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[F.jsxs("div",{className:"text-center lg:text-left",children:[F.jsx("div",{className:"flex justify-center lg:justify-start mb-6",children:F.jsx(rw,{className:"h-16 w-16 text-green-600 dark:text-green-400"})}),F.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:["Your family deserves peace. ",F.jsx("i",{children:"Not pests."})]}),F.jsx("p",{className:"text-lg lg:text-xl text-gray-700 dark:text-gray-300 mb-8",children:"Professional pest control services with 14-15 years of experience. Eco-friendly solutions that keep your family and environment safe."}),F.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",children:[F.jsxs(Tc,{size:"lg",className:"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white px-8 py-4 text-lg",onClick:()=>window.location.href="tel:+639171391908",children:[F.jsx(Rb,{className:"mr-2 h-5 w-5"}),"Call +63 917 139 1908"]}),F.jsx(Tc,{onClick:hQ,size:"lg",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50 dark:border-green-400 dark:text-green-400 dark:hover:bg-gray-800 px-8 py-4 text-lg",children:"Get Free Inspection"})]}),F.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx(xE,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Free Quotation"]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx(xE,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Eco-Friendly Methods"]}),F.jsxs("div",{className:"flex items-center",children:[F.jsx(xE,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Trained Professionals"]})]})]}),F.jsx("div",{id:"ads-player",className:"flex justify-center drop-shadow-[0_10px_10px_rgba(0,0,0,0.8)]",children:F.jsx(lQ,{})})]})})]})};var p_={exports:{}},pQ=p_.exports,aR;function mQ(){return aR||(aR=1,function(t,e){(function(n,i,r){t.exports=r(),t.exports.default=r()})("slugify",pQ,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),i=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function r(s,o){if(typeof s!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=i[o.locale]||{},u=o.replacement===void 0?"-":o.replacement,d=o.trim===void 0?!0:o.trim,f=s.normalize().split("").reduce(function(p,y){var v=a[y];return v===void 0&&(v=n[y]),v===void 0&&(v=y),v===u&&(v=" "),p+v.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(f=f.replace(/[^A-Za-z0-9\s]/g,"")),d&&(f=f.trim()),f=f.replace(/\s+/g,u),o.lower&&(f=f.toLowerCase()),f}return r.extend=function(s){Object.assign(n,s)},r})}(p_)),p_.exports}var gQ=mQ();const CD=qa(gQ),hC=X.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Fi("rounded-lg border border-border/40 bg-background shadow-sm",t),...e}));hC.displayName="Card";const AD=X.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Fi("flex flex-col space-y-1.5 p-6",t),...e}));AD.displayName="CardHeader";const MD=X.forwardRef(({className:t,...e},n)=>F.jsx("h3",{ref:n,className:Fi("text-2xl font-semibold leading-none tracking-tight text-foreground",t),...e}));MD.displayName="CardTitle";const yQ=X.forwardRef(({className:t,...e},n)=>F.jsx("p",{ref:n,className:Fi("text-sm text-muted-foreground",t),...e}));yQ.displayName="CardDescription";const fC=X.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Fi("p-6 pt-0",t),...e}));fC.displayName="CardContent";const vQ=X.forwardRef(({className:t,...e},n)=>F.jsx("div",{ref:n,className:Fi("flex items-center p-6 pt-0",t),...e}));vQ.displayName="CardFooter";const _Q=t=>CD(t,{lower:!0,strict:!0}),xQ=({icon:t,title:e,description:n,imageSrc:i})=>{const r=_Q(e);return F.jsx(Xp,{to:`/services/${r}`,children:F.jsxs(hC,{className:"h-full flex flex-col justify-between hover:shadow-lg transition-shadow border-2 hover:border-green-200 dark:hover:border-green-600 dark:bg-gray-800 cursor-pointer",children:[F.jsxs(AD,{className:"text-center",children:[i&&F.jsx("img",{src:i,alt:e,className:"w-full h-40 object-cover rounded-t-md mb-4"}),F.jsx("div",{className:"flex justify-center mb-4",children:t}),F.jsx(MD,{className:"text-xl dark:text-white",children:e})]}),F.jsx(fC,{children:F.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:n})})]})})},EQ={Bug:F.jsx(hL,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),Rat:F.jsx(eU,{className:"h-8 w-8 text-gray-700 dark:text-gray-400"}),Droplets:F.jsx(WB,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),SprayCan:F.jsx(iU,{className:"h-8 w-8 text-pink-600 dark:text-pink-400"}),Shield:F.jsx(rw,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),Construction:F.jsx(jB,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),Eye:F.jsx(GB,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"}),Footprints:F.jsx(XB,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"}),Home:F.jsx(nw,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),FileText:F.jsx(YB,{className:"h-8 w-8 text-blue-500 dark:text-blue-300"}),Lightbulb:F.jsx(KB,{className:"h-8 w-8 text-green-600 dark:text-yellow-400"}),Bomb:F.jsx(UB,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),Biohazard:F.jsx(BB,{className:"h-8 w-8 text-red-600 dark:text-red-400"})},TQ=({title:t,services:e})=>F.jsxs("section",{className:"mb-16",children:[F.jsx("h3",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-6",children:t}),F.jsx("div",{className:`grid gap-8 ${e.length>=3?"md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 sm:grid-cols-2"}`,children:e.map((n,i)=>F.jsx(xQ,{icon:n.icon,title:n.title,description:n.description,imageSrc:n.imageSrc},i))})]}),bQ=()=>{const[t,e]=X.useState([]);return X.useEffect(()=>{(async()=>{const s=(await(await fetch("/content/services/grouped-services.json")).json()).map(o=>({title:o.title,services:o.services.map(a=>({...a,icon:EQ[a.icon]||F.jsx(hL,{className:"h-8 w-8"})}))}));e(s)})()},[]),F.jsx("section",{id:"services",className:"pt-8 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:F.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[F.jsxs("div",{className:"text-center mb-16",children:[F.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Professional Services"}),F.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Pest, vermin, termite, and sanitation solutions trusted across Davao homes and businesses."})]}),t.map((n,i)=>F.jsx(TQ,{title:n.title,services:n.services},i))]})})},SQ=()=>{const t=[{icon:F.jsx(ZB,{className:"h-12 w-12 text-green-600 dark:text-green-400"}),title:"Eco-Friendly IPM Methods",description:"Integrated Pest Management using environmentally safe solutions that protect your family and pets."},{icon:F.jsx(qB,{className:"h-12 w-12 text-red-600 dark:text-red-400"}),title:"Family Safety First",description:"Our treatments are designed to eliminate pests while keeping your loved ones safe from harmful chemicals."},{icon:F.jsx(rw,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"}),title:"Disease Prevention",description:"Protect your family from dengue, malaria, and other pest-borne diseases with our targeted treatments."},{icon:F.jsx(nw,{className:"h-12 w-12 text-orange-600 dark:text-orange-400"}),title:"Property Protection",description:"Prevent structural damage and fire hazards caused by termites and rodents chewing electrical wires."}],e=["Certified Trained Technicians","Competitive Pricing","High Satisfaction","PFPMOA (Philippine Federation of Pest Management Operators Inc.) Accredited","PCAP (Pest Control Association of the Philippines Inc.) Accredited","MUPMA (Mindanao Urban Pest Management Association Inc.) Accredited","Certified Fumigator Applicator License No. 06-0517-053  FPA Control No. XI-69-00","Basic Occupational Safety and Health Training (BOSH)","Construction Safety and Health Course for Site Safety Officers (COSH)"];return F.jsx("section",{id:"about",className:"relative py-20 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:F.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[F.jsxs("div",{className:"text-center mb-16",children:[F.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-500",children:"Why Choose Torres Pest Control?"}),F.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto transition-colors duration-500",style:{color:"rgb(255 255 255)"},children:"Safe, effective, and environmentally responsible pest control solutions"})]}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:t.map((n,i)=>F.jsx(hC,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300",children:F.jsx(fC,{className:"p-8",children:F.jsxs("div",{className:"flex items-start space-x-4",children:[F.jsx("div",{className:"flex-shrink-0",children:n.icon}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:n.title}),F.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n.description})]})]})})},i))}),F.jsx("div",{className:"mb-16 flex justify-center",children:F.jsx("img",{src:"/images/tpc_26.jpg",alt:"Pest control professionals at work",className:"rounded-2xl shadow-lg max-w-3xl w-full h-auto object-cover"})}),F.jsxs("div",{className:"text-center mb-10",children:[F.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Accreditations & Assurance"}),F.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4 text-left text-gray-700 dark:text-gray-300 max-w-4xl mx-auto",children:e.map((n,i)=>F.jsxs("li",{className:"flex items-start gap-3",children:[F.jsx(FB,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),F.jsx("span",{children:n})]},i))})]})]})})};var $v={},lR;function wQ(){if(lR)return $v;lR=1,Object.defineProperty($v,"__esModule",{value:!0});var t=am();function e(H){return Array.prototype.slice.call(H)}function n(H,z){var k=Math.floor(H);return k===z||k+1===z?H:z}function i(){return Date.now()}function r(H,z,k){if(z="data-keen-slider-"+z,k===null)return H.removeAttribute(z);H.setAttribute(z,k||"")}function s(H,z){return z=z||document,typeof H=="function"&&(H=H(z)),Array.isArray(H)?H:typeof H=="string"?e(z.querySelectorAll(H)):H instanceof HTMLElement?[H]:H instanceof NodeList?e(H):[]}function o(H){H.raw&&(H=H.raw),H.cancelable&&!H.defaultPrevented&&H.preventDefault()}function a(H){H.raw&&(H=H.raw),H.stopPropagation&&H.stopPropagation()}function u(){var H=[];return{add:function(z,k,Z,$){z.addListener?z.addListener(Z):z.addEventListener(k,Z,$),H.push([z,k,Z,$])},input:function(z,k,Z,$){this.add(z,k,function(re){return function(ie){ie.nativeEvent&&(ie=ie.nativeEvent);var ge=ie.changedTouches||[],fe=ie.targetTouches||[],he=ie.detail&&ie.detail.x?ie.detail:null;return re({id:he?he.identifier?he.identifier:"i":fe[0]?fe[0]?fe[0].identifier:"e":"d",idChanged:he?he.identifier?he.identifier:"i":ge[0]?ge[0]?ge[0].identifier:"e":"d",raw:ie,x:he&&he.x?he.x:fe[0]?fe[0].screenX:he?he.x:ie.pageX,y:he&&he.y?he.y:fe[0]?fe[0].screenY:he?he.y:ie.pageY})}}(Z),$)},purge:function(){H.forEach(function(z){z[0].removeListener?z[0].removeListener(z[2]):z[0].removeEventListener(z[1],z[2],z[3])}),H=[]}}}function d(H,z,k){return Math.min(Math.max(H,z),k)}function f(H){return(H>0?1:0)-(H<0?1:0)||+H}function p(H){var z=H.getBoundingClientRect();return{height:n(z.height,H.offsetHeight),width:n(z.width,H.offsetWidth)}}function y(H,z,k,Z){var $=H&&H[z];return $==null?k:Z&&typeof $=="function"?$():$}function v(H){return Math.round(1e6*H)/1e6}function T(H,z){if(H===z)return!0;var k=typeof H;if(k!==typeof z)return!1;if(k!=="object"||H===null||z===null)return k==="function"&&H.toString()===z.toString();if(H.length!==z.length||Object.getOwnPropertyNames(H).length!==Object.getOwnPropertyNames(z).length)return!1;for(var Z in H)if(!T(H[Z],z[Z]))return!1;return!0}var S=function(){return S=Object.assign||function(H){for(var z,k=1,Z=arguments.length;k<Z;k++)for(var $ in z=arguments[k])Object.prototype.hasOwnProperty.call(z,$)&&(H[$]=z[$]);return H},S.apply(this,arguments)};function b(H,z,k){for(var Z,$=0,re=z.length;$<re;$++)!Z&&$ in z||(Z||(Z=Array.prototype.slice.call(z,0,$)),Z[$]=z[$]);return H.concat(Z||Array.prototype.slice.call(z))}function E(H){var z,k,Z,$,re,ie;function ge(j){ie||(ie=j),fe(!0);var ee=j-ie;ee>Z&&(ee=Z);var ue=$[k];if(ue[3]<ee)return k++,ge(j);var J=ue[2],pe=ue[4],xe=ue[0],be=ue[1]*(0,ue[5])(pe===0?1:(ee-J)/pe);if(be&&H.track.to(xe+be),ee<Z)return Y();ie=null,fe(!1),he(null),H.emit("animationEnded")}function fe(j){z.active=j}function he(j){z.targetIdx=j}function Y(){var j;j=ge,re=window.requestAnimationFrame(j)}function se(){var j;j=re,window.cancelAnimationFrame(j),fe(!1),he(null),ie&&H.emit("animationStopped"),ie=null}return z={active:!1,start:function(j){if(se(),H.track.details){var ee=0,ue=H.track.details.position;k=0,Z=0,$=j.map(function(J){var pe,xe=Number(ue),be=(pe=J.earlyExit)!==null&&pe!==void 0?pe:J.duration,Ce=J.easing,Xe=J.distance*Ce(be/J.duration)||0;ue+=Xe;var nt=Z;return Z+=be,ee+=Xe,[xe,J.distance,nt,Z,J.duration,Ce]}),he(H.track.distToIdx(ee)),Y(),H.emit("animationStarted")}},stop:se,targetIdx:null}}function R(H){var z,k,Z,$,re,ie,ge,fe,he,Y,se,j,ee,ue,J=1/0,pe=[],xe=null,be=0;function Ce(Ne){et(be+Ne)}function Xe(Ne){var Qe=nt(be+Ne).abs;return _t(Qe)?Qe:null}function nt(Ne){var Qe=Math.floor(Math.abs(v(Ne/k))),Ie=v((Ne%k+k)%k);Ie===k&&(Ie=0);var Ke=f(Ne),ct=ge.indexOf(b([],ge).reduce(function(Q,Me){return Math.abs(Me-Ie)<Math.abs(Q-Ie)?Me:Q})),ae=ct;return Ke<0&&Qe++,ct===ie&&(ae=0,Qe+=Ke>0?1:-1),{abs:ae+Qe*ie*Ke,origin:ct,rel:ae}}function rt(Ne,Qe,Ie){var Ke;if(Qe||!le())return ot(Ne,Ie);if(!_t(Ne))return null;var ct=nt(Ie??be),ae=ct.abs,Q=Ne-ct.rel,Me=ae+Q;Ke=ot(Me);var de=ot(Me-ie*f(Q));return(de!==null&&Math.abs(de)<Math.abs(Ke)||Ke===null)&&(Ke=de),v(Ke)}function ot(Ne,Qe){if(Qe==null&&(Qe=v(be)),!_t(Ne)||Ne===null)return null;Ne=Math.round(Ne);var Ie=nt(Qe),Ke=Ie.abs,ct=Ie.rel,ae=Ie.origin,Q=ut(Ne),Me=(Qe%k+k)%k,de=ge[ae],Se=Math.floor((Ne-(Ke-ct))/ie)*k;return v(de-Me-de+ge[Q]+Se+(ae===ie?k:0))}function _t(Ne){return yt(Ne)===Ne}function yt(Ne){return d(Ne,he,Y)}function le(){return $.loop}function ut(Ne){return(Ne%ie+ie)%ie}function et(Ne){var Qe;Qe=Ne-be,pe.push({distance:Qe,timestamp:i()}),pe.length>6&&(pe=pe.slice(-6)),be=v(Ne);var Ie=Ye().abs;if(Ie!==xe){var Ke=xe!==null;xe=Ie,Ke&&H.emit("slideChanged")}}function Ye(Ne){var Qe=Ne?null:function(){if(ie){var Ie=le(),Ke=Ie?(be%k+k)%k:be,ct=(Ie?be%k:be)-re[0][2],ae=0-(ct<0&&Ie?k-Math.abs(ct):ct),Q=0,Me=nt(be),de=Me.abs,Se=Me.rel,Le=re[Se][2],dt=re.map(function(Je,It){var St=ae+Q;(St<0-Je[0]||St>1)&&(St+=(Math.abs(St)>k-1&&Ie?k:0)*f(-St));var tt=It-Se,Pt=f(tt),Yt=tt+de;Ie&&(Pt===-1&&St>Le&&(Yt+=ie),Pt===1&&St<Le&&(Yt-=ie),se!==null&&Yt<se&&(St+=k),j!==null&&Yt>j&&(St-=k));var kt=St+Je[0]+Je[1],Et=Math.max(St>=0&&kt<=1?1:kt<0||St>1?0:St<0?Math.min(1,(Je[0]+St)/Je[0]):(1-St)/Je[0],0);return Q+=Je[0]+Je[1],{abs:Yt,distance:$.rtl?-1*St+1-Je[0]:St,portion:Et,size:Je[0]}});return de=yt(de),Se=ut(de),{abs:yt(de),length:Z,max:ue,maxIdx:Y,min:ee,minIdx:he,position:be,progress:Ie?Ke/k:be/Z,rel:Se,slides:dt,slidesLength:k}}}();return z.details=Qe,H.emit("detailsChanged"),Qe}return z={absToRel:ut,add:Ce,details:null,distToIdx:Xe,idxToDist:rt,init:function(Ne){if(function(){if($=H.options,re=($.trackConfig||[]).map(function(ct){return[y(ct,"size",1),y(ct,"spacing",0),y(ct,"origin",0)]}),ie=re.length){k=v(re.reduce(function(ct,ae){return ct+ae[0]+ae[1]},0));var Ie,Ke=ie-1;Z=v(k+re[0][2]-re[Ke][0]-re[Ke][2]-re[Ke][1]),ge=re.reduce(function(ct,ae){if(!ct)return[0];var Q=re[ct.length-1],Me=ct[ct.length-1]+(Q[0]+Q[2])+Q[1];return Me-=ae[2],ct[ct.length-1]>Me&&(Me=ct[ct.length-1]),Me=v(Me),ct.push(Me),(!Ie||Ie<Me)&&(fe=ct.length-1),Ie=Me,ct},null),Z===0&&(fe=0),ge.push(v(k))}}(),!ie)return Ye(!0);var Qe;(function(){var Ie=H.options.range,Ke=H.options.loop;se=he=Ke?y(Ke,"min",-1/0):0,j=Y=Ke?y(Ke,"max",J):fe;var ct=y(Ie,"min",null),ae=y(Ie,"max",null);ct!==null&&(he=ct),ae!==null&&(Y=ae),ee=he===-1/0?he:H.track.idxToDist(he||0,!0,0),ue=Y===J?Y:rt(Y,!0,0),ae===null&&(j=Y),y(Ie,"align",!1)&&Y!==J&&re[ut(Y)][2]===0&&(ue-=1-re[ut(Y)][0],Y=Xe(ue-be)),ee=v(ee),ue=v(ue)})(),Qe=Ne,Number(Qe)===Qe?Ce(ot(yt(Ne))):Ye()},to:et,velocity:function(){var Ne=i(),Qe=pe.reduce(function(Ie,Ke){var ct=Ke.distance,ae=Ke.timestamp;return Ne-ae>200||(f(ct)!==f(Ie.distance)&&Ie.distance&&(Ie={distance:0,lastTimestamp:0,time:0}),Ie.time&&(Ie.distance+=ct),Ie.lastTimestamp&&(Ie.time+=ae-Ie.lastTimestamp),Ie.lastTimestamp=ae),Ie},{distance:0,lastTimestamp:0,time:0});return Qe.distance/Qe.time||0}}}function P(H){var z,k,Z,$,re,ie,ge,fe;function he(xe){return 2*xe}function Y(xe){return d(xe,ge,fe)}function se(xe){return 1-Math.pow(1-xe,3)}function j(){return Z?H.track.velocity():0}function ee(){pe();var xe=H.options.mode==="free-snap",be=H.track,Ce=j();$=f(Ce);var Xe=H.track.details,nt=[];if(Ce||!xe){var rt=ue(Ce),ot=rt.dist,_t=rt.dur;if(_t=he(_t),ot*=$,xe){var yt=be.idxToDist(be.distToIdx(ot),!0);yt&&(ot=yt)}nt.push({distance:ot,duration:_t,easing:se});var le=Xe.position,ut=le+ot;if(ut<re||ut>ie){var et=ut<re?re-le:ie-le,Ye=0,Ne=Ce;if(f(et)===$){var Qe=Math.min(Math.abs(et)/Math.abs(ot),1),Ie=function(ae){return 1-Math.pow(1-ae,1/3)}(Qe)*_t;nt[0].earlyExit=Ie,Ne=Ce*(1-Qe)}else nt[0].earlyExit=0,Ye+=et;var Ke=ue(Ne,100),ct=Ke.dist*$;H.options.rubberband&&(nt.push({distance:ct,duration:he(Ke.dur),easing:se}),nt.push({distance:-ct+Ye,duration:500,easing:se}))}H.animator.start(nt)}else H.moveToIdx(Y(Xe.abs),!0,{duration:500,easing:function(ae){return 1+--ae*ae*ae*ae*ae}})}function ue(xe,be){be===void 0&&(be=1e3);var Ce=147e-9+(xe=Math.abs(xe))/be;return{dist:Math.pow(xe,2)/Ce,dur:xe/Ce}}function J(){var xe=H.track.details;xe&&(re=xe.min,ie=xe.max,ge=xe.minIdx,fe=xe.maxIdx)}function pe(){H.animator.stop()}H.on("updated",J),H.on("optionsChanged",J),H.on("created",J),H.on("dragStarted",function(){Z=!1,pe(),z=k=H.track.details.abs}),H.on("dragChecked",function(){Z=!0}),H.on("dragEnded",function(){var xe=H.options.mode;xe==="snap"&&function(){var be=H.track,Ce=H.track.details,Xe=Ce.position,nt=f(j());(Xe>ie||Xe<re)&&(nt=0);var rt=z+nt;Ce.slides[be.absToRel(rt)].portion===0&&(rt-=nt),z!==k&&(rt=k),f(be.idxToDist(rt,!0))!==nt&&(rt+=nt),rt=Y(rt);var ot=be.idxToDist(rt,!0);H.animator.start([{distance:ot,duration:500,easing:function(_t){return 1+--_t*_t*_t*_t*_t}}])}(),xe!=="free"&&xe!=="free-snap"||ee()}),H.on("dragged",function(){k=H.track.details.abs})}function D(H){var z,k,Z,$,re,ie,ge,fe,he,Y,se,j,ee,ue,J,pe,xe,be,Ce=u();function Xe(Ye){if(ie&&fe===Ye.id){var Ne=_t(Ye);if(he){if(!ot(Ye))return rt(Ye);Y=Ne,he=!1,H.emit("dragChecked")}if(pe)return Y=Ne;o(Ye);var Qe=function(Ke){if(xe===-1/0&&be===1/0)return Ke;var ct=H.track.details,ae=ct.length,Q=ct.position,Me=d(Ke,xe-Q,be-Q);if(ae===0)return 0;if(!H.options.rubberband)return Me;if(Q<=be&&Q>=xe||Q<xe&&k>0||Q>be&&k<0)return Ke;var de=(Q<xe?Q-xe:Q-be)/ae,Se=$*ae,Le=Math.abs(de*Se),dt=Math.max(0,1-Le/re*2);return dt*dt*Ke}(ge(Y-Ne)/$*Z);k=f(Qe);var Ie=H.track.details.position;(Ie>xe&&Ie<be||Ie===xe&&k>0||Ie===be&&k<0)&&a(Ye),se+=Qe,!j&&Math.abs(se*$)>5&&(j=!0),H.track.add(Qe),Y=Ne,H.emit("dragged")}}function nt(Ye){!ie&&H.track.details&&H.track.details.length&&(se=0,ie=!0,j=!1,he=!0,fe=Ye.id,ot(Ye),Y=_t(Ye),H.emit("dragStarted"))}function rt(Ye){ie&&fe===Ye.idChanged&&(ie=!1,H.emit("dragEnded"))}function ot(Ye){var Ne=yt(),Qe=Ne?Ye.y:Ye.x,Ie=Ne?Ye.x:Ye.y,Ke=ee!==void 0&&ue!==void 0&&Math.abs(ue-Ie)<=Math.abs(ee-Qe);return ee=Qe,ue=Ie,Ke}function _t(Ye){return yt()?Ye.y:Ye.x}function yt(){return H.options.vertical}function le(){$=H.size,re=yt()?window.innerHeight:window.innerWidth;var Ye=H.track.details;Ye&&(xe=Ye.min,be=Ye.max)}function ut(Ye){j&&(a(Ye),o(Ye))}function et(){if(Ce.purge(),H.options.drag&&!H.options.disabled){var Ye;Ye=H.options.dragSpeed||1,ge=typeof Ye=="function"?Ye:function(Qe){return Qe*Ye},Z=H.options.rtl?-1:1,le(),z=H.container,function(){var Qe="data-keen-slider-clickable";s("[".concat(Qe,"]:not([").concat(Qe,"=false])"),z).map(function(Ie){Ce.add(Ie,"dragstart",a),Ce.add(Ie,"mousedown",a),Ce.add(Ie,"touchstart",a)})}(),Ce.add(z,"dragstart",function(Qe){o(Qe)}),Ce.add(z,"click",ut,{capture:!0}),Ce.input(z,"ksDragStart",nt),Ce.input(z,"ksDrag",Xe),Ce.input(z,"ksDragEnd",rt),Ce.input(z,"mousedown",nt),Ce.input(z,"mousemove",Xe),Ce.input(z,"mouseleave",rt),Ce.input(z,"mouseup",rt),Ce.input(z,"touchstart",nt,{passive:!0}),Ce.input(z,"touchmove",Xe,{passive:!1}),Ce.input(z,"touchend",rt),Ce.input(z,"touchcancel",rt),Ce.add(window,"wheel",function(Qe){ie&&o(Qe)});var Ne="data-keen-slider-scrollable";s("[".concat(Ne,"]:not([").concat(Ne,"=false])"),H.container).map(function(Qe){return function(Ie){var Ke;Ce.input(Ie,"touchstart",function(ct){Ke=_t(ct),pe=!0,J=!0},{passive:!0}),Ce.input(Ie,"touchmove",function(ct){var ae=yt(),Q=ae?Ie.scrollHeight-Ie.clientHeight:Ie.scrollWidth-Ie.clientWidth,Me=Ke-_t(ct),de=ae?Ie.scrollTop:Ie.scrollLeft,Se=ae&&Ie.style.overflowY==="scroll"||!ae&&Ie.style.overflowX==="scroll";if(Ke=_t(ct),(Me<0&&de>0||Me>0&&de<Q)&&J&&Se)return pe=!0;J=!1,o(ct),pe=!1}),Ce.input(Ie,"touchend",function(){pe=!1})}(Qe)})}}H.on("updated",le),H.on("optionsChanged",et),H.on("created",et),H.on("destroyed",Ce.purge)}function G(H){var z,k,Z=null;function $(ee,ue,J){H.animator.active?ie(ee,ue,J):requestAnimationFrame(function(){return ie(ee,ue,J)})}function re(){$(!1,!1,k)}function ie(ee,ue,J){var pe=0,xe=H.size,be=H.track.details;if(be&&z){var Ce=be.slides;z.forEach(function(Xe,nt){if(ee)!Z&&ue&&fe(Xe,null,J),he(Xe,null,J);else{if(!Ce[nt])return;var rt=Ce[nt].size*xe;!Z&&ue&&fe(Xe,rt,J),he(Xe,Ce[nt].distance*xe-pe,J),pe+=rt}})}}function ge(ee){return H.options.renderMode==="performance"?Math.round(ee):ee}function fe(ee,ue,J){var pe=J?"height":"width";ue!==null&&(ue=ge(ue)+"px"),ee.style["min-"+pe]=ue,ee.style["max-"+pe]=ue}function he(ee,ue,J){if(ue!==null){ue=ge(ue);var pe=J?ue:0;ue="translate3d(".concat(J?0:ue,"px, ").concat(pe,"px, 0)")}ee.style.transform=ue,ee.style["-webkit-transform"]=ue}function Y(){z&&(ie(!0,!0,k),z=null),H.on("detailsChanged",re,!0)}function se(){$(!1,!0,k)}function j(){Y(),k=H.options.vertical,H.options.disabled||H.options.renderMode==="custom"||(Z=y(H.options.slides,"perView",null)==="auto",H.on("detailsChanged",re),(z=H.slides).length&&se())}H.on("created",j),H.on("optionsChanged",j),H.on("beforeOptionsChanged",function(){Y()}),H.on("updated",se),H.on("destroyed",Y)}function V(H,z){return function(k){var Z,$,re,ie,ge,fe=u();function he(ot){var _t;r(k.container,"reverse",(_t=k.container,window.getComputedStyle(_t,null).getPropertyValue("direction")!=="rtl"||ot?null:"")),r(k.container,"v",k.options.vertical&&!ot?"":null),r(k.container,"disabled",k.options.disabled&&!ot?"":null)}function Y(){se()&&pe()}function se(){var ot=null;if(ie.forEach(function(yt){yt.matches&&(ot=yt.__media)}),ot===Z)return!1;Z||k.emit("beforeOptionsChanged"),Z=ot;var _t=ot?re.breakpoints[ot]:re;return k.options=S(S({},re),_t),he(),nt(),rt(),be(),!0}function j(ot){var _t=p(ot);return(k.options.vertical?_t.height:_t.width)/k.size||1}function ee(){return k.options.trackConfig.length}function ue(ot){for(var _t in Z=!1,re=S(S({},z),ot),fe.purge(),$=k.size,ie=[],re.breakpoints||[]){var yt=window.matchMedia(_t);yt.__media=_t,ie.push(yt),fe.add(yt,"change",Y)}fe.add(window,"orientationchange",Xe),fe.add(window,"resize",Ce),se()}function J(ot){k.animator.stop();var _t=k.track.details;k.track.init(ot??(_t?_t.abs:0))}function pe(ot){J(ot),k.emit("optionsChanged")}function xe(ot,_t){if(ot)return ue(ot),void pe(_t);nt(),rt();var yt=ee();be(),ee()!==yt?pe(_t):J(_t),k.emit("updated")}function be(){var ot=k.options.slides;if(typeof ot=="function")return k.options.trackConfig=ot(k.size,k.slides);for(var _t=k.slides,yt=_t.length,le=typeof ot=="number"?ot:y(ot,"number",yt,!0),ut=[],et=y(ot,"perView",1,!0),Ye=y(ot,"spacing",0,!0)/k.size||0,Ne=et==="auto"?Ye:Ye/et,Qe=y(ot,"origin","auto"),Ie=0,Ke=0;Ke<le;Ke++){var ct=et==="auto"?j(_t[Ke]):1/et-Ye+Ne,ae=Qe==="center"?.5-ct/2:Qe==="auto"?0:Qe;ut.push({origin:ae,size:ct,spacing:Ye}),Ie+=ct}if(Ie+=Ye*(le-1),Qe==="auto"&&!k.options.loop&&et!==1){var Q=0;ut.map(function(Me){var de=Ie-Q;return Q+=Me.size+Ye,de>=1||(Me.origin=1-de-(Ie>1?0:1-Ie)),Me})}k.options.trackConfig=ut}function Ce(){nt();var ot=k.size;k.options.disabled||ot===$||($=ot,xe())}function Xe(){Ce(),setTimeout(Ce,500),setTimeout(Ce,2e3)}function nt(){var ot=p(k.container);k.size=(k.options.vertical?ot.height:ot.width)||1}function rt(){k.slides=s(k.options.selector,k.container)}k.container=(ge=s(H,document)).length?ge[0]:null,k.destroy=function(){fe.purge(),k.emit("destroyed"),he(!0)},k.prev=function(){k.moveToIdx(k.track.details.abs-1,!0)},k.next=function(){k.moveToIdx(k.track.details.abs+1,!0)},k.update=xe,ue(k.options)}}var K=function(H,z,k){try{return function(Z,$){var re,ie={};return re={emit:function(ge){ie[ge]&&ie[ge].forEach(function(he){he(re)});var fe=re.options&&re.options[ge];fe&&fe(re)},moveToIdx:function(ge,fe,he){var Y=re.track.idxToDist(ge,fe);if(Y){var se=re.options.defaultAnimation;re.animator.start([{distance:Y,duration:y(he||se,"duration",500),easing:y(he||se,"easing",function(j){return 1+--j*j*j*j*j})}])}},on:function(ge,fe,he){he===void 0&&(he=!1),ie[ge]||(ie[ge]=[]);var Y=ie[ge].indexOf(fe);Y>-1?he&&delete ie[ge][Y]:he||ie[ge].push(fe)},options:Z},function(){if(re.track=R(re),re.animator=E(re),$)for(var ge=0,fe=$;ge<fe.length;ge++)(0,fe[ge])(re);re.track.init(re.options.initial||0),re.emit("created")}(),re}(z,b([V(H,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),G,D,P],k||[],!0))}catch(Z){console.error(Z)}};return $v.useKeenSlider=function(H,z){var k=t.useRef(null),Z=t.useRef(!1),$=t.useRef(H),re=t.useCallback(function(ie){ie?($.current=H,k.current=new K(ie,H,z),Z.current=!1):(k.current&&k.current.destroy&&k.current.destroy(),k.current=null)},[]);return t.useEffect(function(){T($.current,H)||($.current=H,k.current&&k.current.update($.current))},[H]),[re,k]},$v}var CQ=wQ();const AQ=6e3,MQ=t=>t.includes("Facebook")?F.jsx(Fx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):t.includes("Google")?F.jsx(rU,{className:"w-5 h-5 text-yellow-500 dark:text-yellow-400"}):t.includes("Client")?F.jsx(aU,{className:"w-5 h-5 text-gray-500 dark:text-gray-300"}):t.includes("Property")?F.jsx(fL,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):t.includes("Rental")?F.jsx(nU,{className:"w-5 h-5 text-green-500 dark:text-green-400"}):t.includes("New")?F.jsx(sU,{className:"w-5 h-5 text-purple-500 dark:text-purple-400"}):F.jsx(Pb,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"}),PQ=[{name:"Chi Sec",content:"Thank you Torres Pest Control for a job well done. Haze Torres ",source:"Facebook Mentions",sourceLink:"https://www.facebook.com/share/193sKnTYJg/"},{name:"Ma'am Coleen",content:"Thank you sa pagsalig Ma'am Coleen... arrived to a clean and safe environment.",source:"Facebook Mentions"},{name:"Chi Sec",content:"Torres Pest Control is superb sa after sales service!!! #highlyrecommended",source:"Facebook Mentions",sourceLink:"https://www.facebook.com/share/p/1ArdVAoZdW/"},{name:"Buddy Aabieza Baydal",content:"With Torres Pest Control  I just got recognized as one of their top fans! ",source:"Facebook Mentions",sourceLink:"https://www.facebook.com/share/p/1b1QGfPG9G/"},{name:"Satisfied Customer",content:"Professional service with trained professionals. Highly recommended for pest control in Davao!",source:"Facebook Review"},{name:"Mr. Aguilar",content:"Napakabilis ng response time. Within the same day, they addressed our termite problem.",source:"Client Feedback"},{name:"Business Owner, Davao City",content:"Since hiring Torres, wala nang problema sa cockroach infestations sa kitchen namin.",source:"Satisfied Customer"},{name:"Ma'am Theresa",content:"Clear explanations and thorough inspection. The staff was very accommodating and respectful.",source:"Client Feedback"},{name:"Sir Elmer",content:"They went above and beyond, even inspecting areas I didnt think were vulnerable to pests.",source:"Client Feedback"},{name:"Condo Resident",content:"Safe and effective. No harsh smells, and we havent seen a single ant since the treatment.",source:"Client Feedback"},{name:"Restaurant Owner",content:"Maintaining pest-free premises is vital in my businessTorres delivers every time!",source:"Client Feedback"},{name:"Family in Buhangin",content:"With kids in the house, safety is top priority. Thankful for their pet- and child-safe methods.",source:"Client Feedback"},{name:"Ma'am Grace",content:"I love that they offer aftercare and monitoring. Talagang all-in service.",source:"Client Feedback"},{name:"Office Manager",content:"Scheduled monthly checkups really work for us. Peace of mind, always.",source:"Client Feedback"},{name:"Tenant",content:"No more mosquito issues after fogging. Definitely sleeping better!",source:"Rental Property Review"},{name:"Sir Adrian",content:"They even sealed entry points after the treatment. Very thorough.",source:"Client Feedback"},{name:"Landlady",content:"Affordable but quality service. Happy tenants, happy landlord.",source:"Property Owner Review"},{name:"Ma'am Lani",content:"Easy booking and transparent pricing. Walang hidden charges.",source:"New Customer"},{name:"Veterinary Clinic Owner",content:"We needed non-toxic solutions for our clinicTorres understood the assignment.",source:"Specialty Service Feedback"},{name:"Apartment Owner",content:"Very responsive, even to our after-hours questions. Highly recommend!",source:"Landlord Review"},{name:"Sir Dino",content:"Second time booking. Still impressed by the professionalism and kindness.",source:"Returning Client"},{name:"Ma'am Katrina",content:"They helped us eliminate bed bugs after months of frustration. So grateful!",source:"Facebook Comment"},{name:"Davao North Homeowner",content:"They explained everything step-by-step. Very patient with our questions.",source:"Satisfied Customer"}],RQ=()=>{const t=X.useRef(null),[e,n]=CQ.useKeenSlider({loop:!0,mode:"free-snap",slides:{origin:"center",perView:3,spacing:32},breakpoints:{"(max-width: 768px)":{slides:{origin:"auto",perView:1,spacing:0}},"(max-width: 1024px)":{slides:{origin:"center",perView:2,spacing:24}}},created(i){i.slides.forEach(r=>{r.classList.add("transition-all")})},slideChanged(i){i.slides.forEach(s=>{s.classList.remove("scale-100","opacity-100","z-10"),s.classList.add("scale-90","opacity-50","z-0")});const r=i.slides[i.track.details.rel];r.classList.remove("scale-90","opacity-50","z-0"),r.classList.add("scale-100","opacity-100","z-10")}});return X.useEffect(()=>n?((()=>{t.current=setInterval(()=>{n.current?.next()},AQ)})(),()=>{t.current&&clearInterval(t.current)}):void 0,[n]),F.jsx("section",{id:"testimonies",className:"bg-gray-50 dark:bg-gray-900 py-12",children:F.jsxs("div",{className:"container mx-auto px-4",children:[F.jsx("h2",{className:"text-3xl font-semibold text-center text-gray-800 dark:text-white mb-8",children:"What Our Clients Say"}),F.jsxs("div",{ref:e,className:"keen-slider w-full max-w-6xl mx-auto py-16 relative",children:[PQ.map((i,r)=>F.jsx("div",{className:"keen-slider__slide flex justify-center transition-all transform scale-90 opacity-50",children:F.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-6 max-w-md w-full text-center border dark:border-gray-700",children:[F.jsx("p",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:F.jsxs("i",{children:["",i.content,""]})}),F.jsx("p",{className:"text-md font-bold text-gray-900 dark:text-white",children:i.name}),i.source&&F.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 italic flex items-center justify-center gap-2",children:[MQ(i.source),i.sourceLink?F.jsx("a",{href:i.sourceLink,target:"_blank",rel:"noopener noreferrer",className:"underline",children:i.source}):F.jsx("span",{children:i.source})]})]})},r)),F.jsx("button",{onClick:()=>n.current?.prev(),className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white dark:bg-gray-700 p-2 rounded-full shadow z-10",children:""}),F.jsx("button",{onClick:()=>n.current?.next(),className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white dark:bg-gray-700 p-2 rounded-full shadow z-10",children:""})]})]})})},IQ=()=>{const t=[{icon:F.jsx(nw,{className:"w-10 h-10 text-green-600"}),label:"Homes Protected",value:"10,000+"},{icon:F.jsx(fL,{className:"w-10 h-10 text-blue-600"}),label:"Establishments Served",value:"2,000+"},{icon:F.jsx(zB,{className:"w-10 h-10 text-orange-500"}),label:"Years of Service",value:"15+"},{icon:F.jsx(tU,{className:"w-10 h-10 text-yellow-500"}),label:"Client Satisfaction",value:"99%"}];return F.jsx("section",{className:"bg-neutral-300 dark:bg-sky-950 py-8 transition-colors duration-300",children:F.jsx("div",{className:"max-w-6xl mx-auto px-4",children:F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-center",children:t.map((e,n)=>F.jsxs("div",{className:"flex flex-col items-center",children:[F.jsx("div",{className:"mb-4",children:e.icon}),F.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.value}),F.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e.label})]},n))})})})},m_=X.forwardRef(({className:t,type:e,...n},i)=>F.jsx("input",{type:e,className:Fi("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...n}));m_.displayName="Input";const PD=X.forwardRef(({className:t,...e},n)=>F.jsx("textarea",{className:Fi("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",t),ref:n,...e}));PD.displayName="Textarea";class oy{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const LQ=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ps={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:LQ()},pC=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},NQ=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=pC(t);Ps.publicKey=n.publicKey,Ps.blockHeadless=n.blockHeadless,Ps.storageProvider=n.storageProvider,Ps.blockList=n.blockList,Ps.limitRate=n.limitRate,Ps.origin=n.origin||e},RD=async(t,e,n={})=>{const i=await fetch(Ps.origin+t,{method:"POST",headers:n,body:e}),r=await i.text(),s=new oy(i.status,r);if(i.ok)return s;throw s},ID=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},OQ=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},LD=t=>t.webdriver||!t.languages||t.languages.length===0,ND=()=>new oy(451,"Unavailable For Headless Browser"),kQ=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},DQ=t=>!t.list?.length||!t.watchVariable,FQ=(t,e)=>t instanceof FormData?t.get(e):t[e],OD=(t,e)=>{if(DQ(t))return!1;kQ(t.list,t.watchVariable);const n=FQ(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},kD=()=>new oy(403,"Forbidden"),BQ=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},UQ=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},DD=async(t,e,n)=>{if(!e.throttle||!n)return!1;BQ(e.throttle,e.id);const i=e.id||t;return await UQ(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},FD=()=>new oy(429,"Too Many Requests"),zQ=async(t,e,n,i)=>{const r=pC(i),s=r.publicKey||Ps.publicKey,o=r.blockHeadless||Ps.blockHeadless,a=r.storageProvider||Ps.storageProvider,u={...Ps.blockList,...r.blockList},d={...Ps.limitRate,...r.limitRate};return o&&LD(navigator)?Promise.reject(ND()):(ID(s,t,e),OQ(n),n&&OD(u,n)?Promise.reject(kD()):await DD(location.pathname,d,a)?Promise.reject(FD()):RD("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},HQ=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},VQ=t=>typeof t=="string"?document.querySelector(t):t,jQ=async(t,e,n,i)=>{const r=pC(i),s=r.publicKey||Ps.publicKey,o=r.blockHeadless||Ps.blockHeadless,a=Ps.storageProvider||r.storageProvider,u={...Ps.blockList,...r.blockList},d={...Ps.limitRate,...r.limitRate};if(o&&LD(navigator))return Promise.reject(ND());const f=VQ(n);ID(s,t,e),HQ(f);const p=new FormData(f);return OD(u,p)?Promise.reject(kD()):await DD(location.pathname,d,a)?Promise.reject(FD()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",s),RD("/api/v1.0/email/send-form",p))},WQ={init:NQ,send:zQ,sendForm:jQ,EmailJSResponseStatus:oy},GQ=()=>{const t=X.useRef(null);X.useEffect(()=>{},[]);const e=X.useRef(null),[n,i]=X.useState("idle"),r=s=>{s.preventDefault(),i("sending"),WQ.sendForm("service_qdosaih","template_nqo3sfn",e.current,"y0BZsBRAR3ts_udHQ").then(()=>i("sent")).catch(()=>i("error"))};return F.jsx("section",{id:"contact",className:"py-20 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:F.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[F.jsxs("div",{className:"text-center mb-16",children:[F.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Get Your Free Inspection Today"}),F.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Contact us for a free quotation and professional pest control service"})]}),F.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[F.jsxs("div",{children:[F.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Contact Information"}),F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx(QB,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),F.jsxs("span",{children:["B11A L65 Martylville Subdivision ",F.jsx("br",{}),"San Lorenzo Purok 13 Brgy Ula, ",F.jsx("br",{}),"Tugbok, Davao City, Davao Del Sur, Philippines"]})]}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx(Rb,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),F.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"+63 917 139 1908"})]}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx($B,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),F.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"service@torrespestcontrol.ph"})]}),F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx(Pb,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),F.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"WhatsApp Available"})]})]}),F.jsxs("div",{className:"mt-8 space-y-4",children:[F.jsxs(Tc,{className:"w-full bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white",onClick:()=>window.location.href="tel:+639171391908",children:[F.jsx(Rb,{className:"mr-2 h-4 w-4"}),"Call Now for Free Inspection"]}),F.jsxs(Tc,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-50 dark:border-green-400 dark:text-green-400 dark:hover:bg-gray-800",onClick:()=>window.open("https://wa.me/639171391908","_blank"),children:[F.jsx(Pb,{className:"mr-2 h-4 w-4"}),"WhatsApp Us"]})]})]}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Send Us a Message"}),F.jsxs("form",{ref:e,onSubmit:r,className:"space-y-4",children:[F.jsx(m_,{name:"user_name",ref:t,placeholder:"Your Name",className:"dark:bg-gray-800 dark:border-gray-600"}),F.jsx(m_,{name:"user_email",placeholder:"Your Email",type:"email",className:"dark:bg-gray-800 dark:border-gray-600"}),F.jsx(m_,{name:"user_phone",placeholder:"Your Phone Number",type:"phone",className:"dark:bg-gray-800 dark:border-gray-600"}),F.jsxs("select",{name:"infestation_type",defaultValue:"",className:"w-full px-4 py-3 rounded-md border dark:bg-gray-800 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[F.jsx("option",{value:"",disabled:!0,children:"Type of Infestation (optional)"}),F.jsx("option",{value:"none",children:"None / Just Inquiry"}),F.jsx("option",{value:"termites",children:"Termites"}),F.jsx("option",{value:"cockroaches",children:"Cockroaches"}),F.jsx("option",{value:"rodents",children:"Rodents"}),F.jsx("option",{value:"ants",children:"Ants"}),F.jsx("option",{value:"mosquitoes",children:"Mosquitoes"}),F.jsx("option",{value:"bedbugs",children:"Bed Bugs"}),F.jsx("option",{value:"others",children:"Other Pest Problems"})]}),F.jsx(PD,{name:"message",placeholder:"Your Message",rows:12,className:"dark:bg-gray-800 dark:border-gray-600"}),F.jsx(Tc,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800",children:"Send Message"}),n==="sending"&&F.jsx("p",{className:"text-sm text-gray-500",children:"Sending..."}),n==="sent"&&F.jsx("p",{className:"text-sm text-green-600",children:"Message sent! We will reply soon."}),n==="error"&&F.jsx("p",{className:"text-sm text-red-600",children:"Something went wrong. Try again later."})]})]})]})]})})},YQ=()=>{const t=[{emoji:"",title:"01  Schedule Your Inspection",description:"Book a free site visit at your conveniencecall, message, or use our online form."},{emoji:"",title:"02  Assessment & Recommendation",description:"Our licensed technician inspects your property and recommends the best pest control solution."},{emoji:"",title:"03  Quote & Approval",description:"We prepare a transparent service quote based on your needs before starting any treatment."},{emoji:"",title:"04  Schedule Your Service",description:"We coordinate the best time for treatment based on your availability."},{emoji:"",title:"05  Treatment Execution",description:"We perform the pest control service using safe and effective methods tailored to your situation."},{emoji:"",title:"06  Monitoring & Aftercare",description:"We monitor treatment success and provide guidance to help prevent future infestations."}];return F.jsx("section",{className:"pt-0 mb-10 bg-white dark:bg-gray-900 py-16 relative overflow-hidden transition-colors",children:F.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[F.jsx("h2",{className:"text-4xl font-bold text-center text-green-700 dark:text-green-400 mb-14",children:"How We Work"}),F.jsx("div",{className:"grid gap-10 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 text-center relative z-10",children:t.map((e,n)=>F.jsxs("div",{className:"flex flex-col items-center",children:[F.jsx("div",{className:"w-20 h-20 rounded-full bg-red-600 border-4 border-yellow-400 flex items-center justify-center text-white text-2xl shadow-lg",children:e.emoji}),F.jsx("h3",{className:"font-semibold mt-4 text-base text-gray-800 dark:text-gray-100",children:e.title}),F.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:e.description})]},n))})]})})};function BD(t,e){const n=X.useRef(e);X.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const XQ=1;function qQ(t){return Object.freeze({__version:XQ,map:t})}function ZQ(t,e){return Object.freeze({...t,...e})}const UD=X.createContext(null),zD=UD.Provider;function HD(){const t=X.useContext(UD);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function KQ(t){function e(n,i){const{instance:r,context:s}=t(n).current;return X.useImperativeHandle(i,()=>r),n.children==null?null:it.createElement(zD,{value:s},n.children)}return X.forwardRef(e)}function $Q(t){function e(n,i){const[r,s]=X.useState(!1),{instance:o}=t(n,s).current;X.useImperativeHandle(i,()=>o),X.useEffect(function(){r&&o.update()},[o,r,n.children]);const a=o._contentNode;return a?j0.createPortal(n.children,a):null}return X.forwardRef(e)}function QQ(t){function e(n,i){const{instance:r}=t(n).current;return X.useImperativeHandle(i,()=>r),null}return X.forwardRef(e)}function VD(t,e){const n=X.useRef();X.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function mC(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function JQ(t,e){return function(i,r){const s=HD(),o=t(mC(i,s),s);return BD(s.map,i.attribution),VD(o.current,i.eventHandlers),e(o.current,s,i,r),o}}var Og={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var eJ=Og.exports,uR;function tJ(){return uR||(uR=1,function(t,e){(function(n,i){i(e)})(eJ,function(n){var i="1.9.4";function r(c){var _,w,N,W;for(w=1,N=arguments.length;w<N;w++){W=arguments[w];for(_ in W)c[_]=W[_]}return c}var s=Object.create||function(){function c(){}return function(_){return c.prototype=_,new c}}();function o(c,_){var w=Array.prototype.slice;if(c.bind)return c.bind.apply(c,w.call(arguments,1));var N=w.call(arguments,2);return function(){return c.apply(_,N.length?N.concat(w.call(arguments)):arguments)}}var a=0;function u(c){return"_leaflet_id"in c||(c._leaflet_id=++a),c._leaflet_id}function d(c,_,w){var N,W,ne,Te;return Te=function(){N=!1,W&&(ne.apply(w,W),W=!1)},ne=function(){N?W=arguments:(c.apply(w,arguments),setTimeout(Te,_),N=!0)},ne}function f(c,_,w){var N=_[1],W=_[0],ne=N-W;return c===N&&w?c:((c-W)%ne+ne)%ne+W}function p(){return!1}function y(c,_){if(_===!1)return c;var w=Math.pow(10,_===void 0?6:_);return Math.round(c*w)/w}function v(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function T(c){return v(c).split(/\s+/)}function S(c,_){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?s(c.options):{});for(var w in _)c.options[w]=_[w];return c.options}function b(c,_,w){var N=[];for(var W in c)N.push(encodeURIComponent(w?W.toUpperCase():W)+"="+encodeURIComponent(c[W]));return(!_||_.indexOf("?")===-1?"?":"&")+N.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function R(c,_){return c.replace(E,function(w,N){var W=_[N];if(W===void 0)throw new Error("No value provided for variable "+w);return typeof W=="function"&&(W=W(_)),W})}var P=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function D(c,_){for(var w=0;w<c.length;w++)if(c[w]===_)return w;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var K=0;function H(c){var _=+new Date,w=Math.max(0,16-(_-K));return K=_+w,window.setTimeout(c,w)}var z=window.requestAnimationFrame||V("RequestAnimationFrame")||H,k=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function Z(c,_,w){if(w&&z===H)c.call(_);else return z.call(window,o(c,_))}function $(c){c&&k.call(window,c)}var re={__proto__:null,extend:r,create:s,bind:o,get lastId(){return a},stamp:u,throttle:d,wrapNum:f,falseFn:p,formatNum:y,trim:v,splitWords:T,setOptions:S,getParamString:b,template:R,isArray:P,indexOf:D,emptyImageUrl:G,requestFn:z,cancelFn:k,requestAnimFrame:Z,cancelAnimFrame:$};function ie(){}ie.extend=function(c){var _=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=_.__super__=this.prototype,N=s(w);N.constructor=_,_.prototype=N;for(var W in this)Object.prototype.hasOwnProperty.call(this,W)&&W!=="prototype"&&W!=="__super__"&&(_[W]=this[W]);return c.statics&&r(_,c.statics),c.includes&&(ge(c.includes),r.apply(null,[N].concat(c.includes))),r(N,c),delete N.statics,delete N.includes,N.options&&(N.options=w.options?s(w.options):{},r(N.options,c.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var ne=0,Te=N._initHooks.length;ne<Te;ne++)N._initHooks[ne].call(this)}},_},ie.include=function(c){var _=this.prototype.options;return r(this.prototype,c),c.options&&(this.prototype.options=_,this.mergeOptions(c.options)),this},ie.mergeOptions=function(c){return r(this.prototype.options,c),this},ie.addInitHook=function(c){var _=Array.prototype.slice.call(arguments,1),w=typeof c=="function"?c:function(){this[c].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ge(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=P(c)?c:[c];for(var _=0;_<c.length;_++)c[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(c,_,w){if(typeof c=="object")for(var N in c)this._on(N,c[N],_);else{c=T(c);for(var W=0,ne=c.length;W<ne;W++)this._on(c[W],_,w)}return this},off:function(c,_,w){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var N in c)this._off(N,c[N],_);else{c=T(c);for(var W=arguments.length===1,ne=0,Te=c.length;ne<Te;ne++)W?this._off(c[ne]):this._off(c[ne],_,w)}return this},_on:function(c,_,w,N){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(c,_,w)===!1){w===this&&(w=void 0);var W={fn:_,ctx:w};N&&(W.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(W)}},_off:function(c,_,w){var N,W,ne;if(this._events&&(N=this._events[c],!!N)){if(arguments.length===1){if(this._firingCount)for(W=0,ne=N.length;W<ne;W++)N[W].fn=p;delete this._events[c];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var Te=this._listens(c,_,w);if(Te!==!1){var Fe=N[Te];this._firingCount&&(Fe.fn=p,this._events[c]=N=N.slice()),N.splice(Te,1)}}},fire:function(c,_,w){if(!this.listens(c,w))return this;var N=r({},_,{type:c,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var W=this._events[c];if(W){this._firingCount=this._firingCount+1||1;for(var ne=0,Te=W.length;ne<Te;ne++){var Fe=W[ne],We=Fe.fn;Fe.once&&this.off(c,We,Fe.ctx),We.call(Fe.ctx||this,N)}this._firingCount--}}return w&&this._propagateEvent(N),this},listens:function(c,_,w,N){typeof c!="string"&&console.warn('"string" type argument expected');var W=_;typeof _!="function"&&(N=!!_,W=void 0,w=void 0);var ne=this._events&&this._events[c];if(ne&&ne.length&&this._listens(c,W,w)!==!1)return!0;if(N){for(var Te in this._eventParents)if(this._eventParents[Te].listens(c,_,w,N))return!0}return!1},_listens:function(c,_,w){if(!this._events)return!1;var N=this._events[c]||[];if(!_)return!!N.length;w===this&&(w=void 0);for(var W=0,ne=N.length;W<ne;W++)if(N[W].fn===_&&N[W].ctx===w)return W;return!1},once:function(c,_,w){if(typeof c=="object")for(var N in c)this._on(N,c[N],_,!0);else{c=T(c);for(var W=0,ne=c.length;W<ne;W++)this._on(c[W],_,w,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[u(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[u(c)],this},_propagateEvent:function(c){for(var _ in this._eventParents)this._eventParents[_].fire(c.type,r({layer:c.target,propagatedFrom:c.target},c),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var he=ie.extend(fe);function Y(c,_,w){this.x=w?Math.round(c):c,this.y=w?Math.round(_):_}var se=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(c){return this.clone()._add(j(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(j(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new Y(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new Y(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(c){c=j(c);var _=c.x-this.x,w=c.y-this.y;return Math.sqrt(_*_+w*w)},equals:function(c){return c=j(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=j(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function j(c,_,w){return c instanceof Y?c:P(c)?new Y(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new Y(c.x,c.y):new Y(c,_,w)}function ee(c,_){if(c)for(var w=_?[c,_]:c,N=0,W=w.length;N<W;N++)this.extend(w[N])}ee.prototype={extend:function(c){var _,w;if(!c)return this;if(c instanceof Y||typeof c[0]=="number"||"x"in c)_=w=j(c);else if(c=ue(c),_=c.min,w=c.max,!_||!w)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=w.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(c){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var _,w;return typeof c[0]=="number"||c instanceof Y?c=j(c):c=ue(c),c instanceof ee?(_=c.min,w=c.max):_=w=c,_.x>=this.min.x&&w.x<=this.max.x&&_.y>=this.min.y&&w.y<=this.max.y},intersects:function(c){c=ue(c);var _=this.min,w=this.max,N=c.min,W=c.max,ne=W.x>=_.x&&N.x<=w.x,Te=W.y>=_.y&&N.y<=w.y;return ne&&Te},overlaps:function(c){c=ue(c);var _=this.min,w=this.max,N=c.min,W=c.max,ne=W.x>_.x&&N.x<w.x,Te=W.y>_.y&&N.y<w.y;return ne&&Te},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var _=this.min,w=this.max,N=Math.abs(_.x-w.x)*c,W=Math.abs(_.y-w.y)*c;return ue(j(_.x-N,_.y-W),j(w.x+N,w.y+W))},equals:function(c){return c?(c=ue(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function ue(c,_){return!c||c instanceof ee?c:new ee(c,_)}function J(c,_){if(c)for(var w=_?[c,_]:c,N=0,W=w.length;N<W;N++)this.extend(w[N])}J.prototype={extend:function(c){var _=this._southWest,w=this._northEast,N,W;if(c instanceof xe)N=c,W=c;else if(c instanceof J){if(N=c._southWest,W=c._northEast,!N||!W)return this}else return c?this.extend(be(c)||pe(c)):this;return!_&&!w?(this._southWest=new xe(N.lat,N.lng),this._northEast=new xe(W.lat,W.lng)):(_.lat=Math.min(N.lat,_.lat),_.lng=Math.min(N.lng,_.lng),w.lat=Math.max(W.lat,w.lat),w.lng=Math.max(W.lng,w.lng)),this},pad:function(c){var _=this._southWest,w=this._northEast,N=Math.abs(_.lat-w.lat)*c,W=Math.abs(_.lng-w.lng)*c;return new J(new xe(_.lat-N,_.lng-W),new xe(w.lat+N,w.lng+W))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof xe||"lat"in c?c=be(c):c=pe(c);var _=this._southWest,w=this._northEast,N,W;return c instanceof J?(N=c.getSouthWest(),W=c.getNorthEast()):N=W=c,N.lat>=_.lat&&W.lat<=w.lat&&N.lng>=_.lng&&W.lng<=w.lng},intersects:function(c){c=pe(c);var _=this._southWest,w=this._northEast,N=c.getSouthWest(),W=c.getNorthEast(),ne=W.lat>=_.lat&&N.lat<=w.lat,Te=W.lng>=_.lng&&N.lng<=w.lng;return ne&&Te},overlaps:function(c){c=pe(c);var _=this._southWest,w=this._northEast,N=c.getSouthWest(),W=c.getNorthEast(),ne=W.lat>_.lat&&N.lat<w.lat,Te=W.lng>_.lng&&N.lng<w.lng;return ne&&Te},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,_){return c?(c=pe(c),this._southWest.equals(c.getSouthWest(),_)&&this._northEast.equals(c.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(c,_){return c instanceof J?c:new J(c,_)}function xe(c,_,w){if(isNaN(c)||isNaN(_))throw new Error("Invalid LatLng object: ("+c+", "+_+")");this.lat=+c,this.lng=+_,w!==void 0&&(this.alt=+w)}xe.prototype={equals:function(c,_){if(!c)return!1;c=be(c);var w=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return w<=(_===void 0?1e-9:_)},toString:function(c){return"LatLng("+y(this.lat,c)+", "+y(this.lng,c)+")"},distanceTo:function(c){return Xe.distance(this,be(c))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(c){var _=180*c/40075017,w=_/Math.cos(Math.PI/180*this.lat);return pe([this.lat-_,this.lng-w],[this.lat+_,this.lng+w])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function be(c,_,w){return c instanceof xe?c:P(c)&&typeof c[0]!="object"?c.length===3?new xe(c[0],c[1],c[2]):c.length===2?new xe(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new xe(c.lat,"lng"in c?c.lng:c.lon,c.alt):_===void 0?null:new xe(c,_,w)}var Ce={latLngToPoint:function(c,_){var w=this.projection.project(c),N=this.scale(_);return this.transformation._transform(w,N)},pointToLatLng:function(c,_){var w=this.scale(_),N=this.transformation.untransform(c,w);return this.projection.unproject(N)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var _=this.projection.bounds,w=this.scale(c),N=this.transformation.transform(_.min,w),W=this.transformation.transform(_.max,w);return new ee(N,W)},infinite:!1,wrapLatLng:function(c){var _=this.wrapLng?f(c.lng,this.wrapLng,!0):c.lng,w=this.wrapLat?f(c.lat,this.wrapLat,!0):c.lat,N=c.alt;return new xe(w,_,N)},wrapLatLngBounds:function(c){var _=c.getCenter(),w=this.wrapLatLng(_),N=_.lat-w.lat,W=_.lng-w.lng;if(N===0&&W===0)return c;var ne=c.getSouthWest(),Te=c.getNorthEast(),Fe=new xe(ne.lat-N,ne.lng-W),We=new xe(Te.lat-N,Te.lng-W);return new J(Fe,We)}},Xe=r({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(c,_){var w=Math.PI/180,N=c.lat*w,W=_.lat*w,ne=Math.sin((_.lat-c.lat)*w/2),Te=Math.sin((_.lng-c.lng)*w/2),Fe=ne*ne+Math.cos(N)*Math.cos(W)*Te*Te,We=2*Math.atan2(Math.sqrt(Fe),Math.sqrt(1-Fe));return this.R*We}}),nt=6378137,rt={R:nt,MAX_LATITUDE:85.0511287798,project:function(c){var _=Math.PI/180,w=this.MAX_LATITUDE,N=Math.max(Math.min(w,c.lat),-w),W=Math.sin(N*_);return new Y(this.R*c.lng*_,this.R*Math.log((1+W)/(1-W))/2)},unproject:function(c){var _=180/Math.PI;return new xe((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*_,c.x*_/this.R)},bounds:function(){var c=nt*Math.PI;return new ee([-c,-c],[c,c])}()};function ot(c,_,w,N){if(P(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=_,this._c=w,this._d=N}ot.prototype={transform:function(c,_){return this._transform(c.clone(),_)},_transform:function(c,_){return _=_||1,c.x=_*(this._a*c.x+this._b),c.y=_*(this._c*c.y+this._d),c},untransform:function(c,_){return _=_||1,new Y((c.x/_-this._b)/this._a,(c.y/_-this._d)/this._c)}};function _t(c,_,w,N){return new ot(c,_,w,N)}var yt=r({},Xe,{code:"EPSG:3857",projection:rt,transformation:function(){var c=.5/(Math.PI*rt.R);return _t(c,.5,-c,.5)}()}),le=r({},yt,{code:"EPSG:900913"});function ut(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function et(c,_){var w="",N,W,ne,Te,Fe,We;for(N=0,ne=c.length;N<ne;N++){for(Fe=c[N],W=0,Te=Fe.length;W<Te;W++)We=Fe[W],w+=(W?"L":"M")+We.x+" "+We.y;w+=_?Qt.svg?"z":"x":""}return w||"M0 0"}var Ye=document.documentElement.style,Ne="ActiveXObject"in window,Qe=Ne&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),Ke=Ui("webkit"),ct=Ui("android"),ae=Ui("android 2")||Ui("android 3"),Q=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Me=ct&&Ui("Google")&&Q<537&&!("AudioNode"in window),de=!!window.opera,Se=!Ie&&Ui("chrome"),Le=Ui("gecko")&&!Ke&&!de&&!Ne,dt=!Se&&Ui("safari"),Je=Ui("phantom"),It="OTransition"in Ye,St=navigator.platform.indexOf("Win")===0,tt=Ne&&"transition"in Ye,Pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ae,Yt="MozPerspective"in Ye,kt=!window.L_DISABLE_3D&&(tt||Pt||Yt)&&!It&&!Je,Et=typeof orientation<"u"||Ui("mobile"),tn=Et&&Ke,Ae=Et&&Pt,Lt=!window.PointerEvent&&window.MSPointerEvent,ht=!!(window.PointerEvent||Lt),Bt="ontouchstart"in window||!!window.TouchEvent,pt=!window.L_NO_TOUCH&&(Bt||ht),st=Et&&de,at=Et&&Le,Ut=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cn=function(){var c=!1;try{var _=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",p,_),window.removeEventListener("testPassiveEventSupport",p,_)}catch{}return c}(),yn=function(){return!!document.createElement("canvas").getContext}(),ti=!!(document.createElementNS&&ut("svg").createSVGRect),yi=!!ti&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qr=!ti&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var _=c.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}}(),Bi=navigator.platform.indexOf("Mac")===0,$i=navigator.platform.indexOf("Linux")===0;function Ui(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var Qt={ie:Ne,ielt9:Qe,edge:Ie,webkit:Ke,android:ct,android23:ae,androidStock:Me,opera:de,chrome:Se,gecko:Le,safari:dt,phantom:Je,opera12:It,win:St,ie3d:tt,webkit3d:Pt,gecko3d:Yt,any3d:kt,mobile:Et,mobileWebkit:tn,mobileWebkit3d:Ae,msPointer:Lt,pointer:ht,touch:pt,touchNative:Bt,mobileOpera:st,mobileGecko:at,retina:Ut,passiveEvents:cn,canvas:yn,svg:ti,vml:qr,inlineSvg:yi,mac:Bi,linux:$i},Ns=Qt.msPointer?"MSPointerDown":"pointerdown",Ko=Qt.msPointer?"MSPointerMove":"pointermove",Nu=Qt.msPointer?"MSPointerUp":"pointerup",$a=Qt.msPointer?"MSPointerCancel":"pointercancel",Wl={touchstart:Ns,touchmove:Ko,touchend:Nu,touchcancel:$a},$s={touchstart:Be,touchmove:je,touchend:je,touchcancel:je},$o={},Ou=!1;function Oc(c,_,w){return _==="touchstart"&&De(),$s[_]?(w=$s[_].bind(this,w),c.addEventListener(Wl[_],w,!1),w):(console.warn("wrong event specified:",_),p)}function kc(c,_,w){if(!Wl[_]){console.warn("wrong event specified:",_);return}c.removeEventListener(Wl[_],w,!1)}function Dc(c){$o[c.pointerId]=c}function Fc(c){$o[c.pointerId]&&($o[c.pointerId]=c)}function oe(c){delete $o[c.pointerId]}function De(){Ou||(document.addEventListener(Ns,Dc,!0),document.addEventListener(Ko,Fc,!0),document.addEventListener(Nu,oe,!0),document.addEventListener($a,oe,!0),Ou=!0)}function je(c,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var w in $o)_.touches.push($o[w]);_.changedTouches=[_],c(_)}}function Be(c,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&Ni(_),je(c,_)}function Oe(c){var _={},w,N;for(N in c)w=c[N],_[N]=w&&w.bind?w.bind(c):w;return c=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var xt=200;function Ft(c,_){c.addEventListener("dblclick",_);var w=0,N;function W(ne){if(ne.detail!==1){N=ne.detail;return}if(!(ne.pointerType==="mouse"||ne.sourceCapabilities&&!ne.sourceCapabilities.firesTouchEvents)){var Te=br(ne);if(!(Te.some(function(We){return We instanceof HTMLLabelElement&&We.attributes.for})&&!Te.some(function(We){return We instanceof HTMLInputElement||We instanceof HTMLSelectElement}))){var Fe=Date.now();Fe-w<=xt?(N++,N===2&&_(Oe(ne))):N=1,w=Fe}}}return c.addEventListener("click",W),{dblclick:_,simDblclick:W}}function Xt(c,_){c.removeEventListener("dblclick",_.dblclick),c.removeEventListener("click",_.simDblclick)}var jt=Qi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sn=Qi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),on=sn==="webkitTransition"||sn==="OTransition"?sn+"End":"transitionend";function wt(c){return typeof c=="string"?document.getElementById(c):c}function Gt(c,_){var w=c.style[_]||c.currentStyle&&c.currentStyle[_];if((!w||w==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(c,null);w=N?N[_]:null}return w==="auto"?null:w}function Dt(c,_,w){var N=document.createElement(c);return N.className=_||"",w&&w.appendChild(N),N}function en(c){var _=c.parentNode;_&&_.removeChild(c)}function xn(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Cn(c){var _=c.parentNode;_&&_.lastChild!==c&&_.appendChild(c)}function qt(c){var _=c.parentNode;_&&_.firstChild!==c&&_.insertBefore(c,_.firstChild)}function En(c,_){if(c.classList!==void 0)return c.classList.contains(_);var w=Ii(c);return w.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(w)}function Nt(c,_){if(c.classList!==void 0)for(var w=T(_),N=0,W=w.length;N<W;N++)c.classList.add(w[N]);else if(!En(c,_)){var ne=Ii(c);Qs(c,(ne?ne+" ":"")+_)}}function Ln(c,_){c.classList!==void 0?c.classList.remove(_):Qs(c,v((" "+Ii(c)+" ").replace(" "+_+" "," ")))}function Qs(c,_){c.className.baseVal===void 0?c.className=_:c.className.baseVal=_}function Ii(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Li(c,_){"opacity"in c.style?c.style.opacity=_:"filter"in c.style&&zn(c,_)}function zn(c,_){var w=!1,N="DXImageTransform.Microsoft.Alpha";try{w=c.filters.item(N)}catch{if(_===1)return}_=Math.round(_*100),w?(w.Enabled=_!==100,w.Opacity=_):c.style.filter+=" progid:"+N+"(opacity="+_+")"}function Qi(c){for(var _=document.documentElement.style,w=0;w<c.length;w++)if(c[w]in _)return c[w];return!1}function vi(c,_,w){var N=_||new Y(0,0);c.style[jt]=(Qt.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(w?" scale("+w+")":"")}function Wn(c,_){c._leaflet_pos=_,Qt.any3d?vi(c,_):(c.style.left=_.x+"px",c.style.top=_.y+"px")}function ai(c){return c._leaflet_pos||new Y(0,0)}var An,sr,Qa;if("onselectstart"in document)An=function(){mn(window,"selectstart",Ni)},sr=function(){di(window,"selectstart",Ni)};else{var Ja=Qi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);An=function(){if(Ja){var c=document.documentElement.style;Qa=c[Ja],c[Ja]="none"}},sr=function(){Ja&&(document.documentElement.style[Ja]=Qa,Qa=void 0)}}function Bc(){mn(window,"dragstart",Ni)}function Gl(){di(window,"dragstart",Ni)}var el,Qo;function Yl(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(ds(),el=c,Qo=c.style.outlineStyle,c.style.outlineStyle="none",mn(window,"keydown",ds))}function ds(){el&&(el.style.outlineStyle=Qo,el=void 0,Qo=void 0,di(window,"keydown",ds))}function Mn(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Js(c){var _=c.getBoundingClientRect();return{x:_.width/c.offsetWidth||1,y:_.height/c.offsetHeight||1,boundingClientRect:_}}var tl={__proto__:null,TRANSFORM:jt,TRANSITION:sn,TRANSITION_END:on,get:wt,getStyle:Gt,create:Dt,remove:en,empty:xn,toFront:Cn,toBack:qt,hasClass:En,addClass:Nt,removeClass:Ln,setClass:Qs,getClass:Ii,setOpacity:Li,testProp:Qi,setTransform:vi,setPosition:Wn,getPosition:ai,get disableTextSelection(){return An},get enableTextSelection(){return sr},disableImageDrag:Bc,enableImageDrag:Gl,preventOutline:Yl,restoreOutline:ds,getSizedParentNode:Mn,getScale:Js};function mn(c,_,w,N){if(_&&typeof _=="object")for(var W in _)eh(c,W,_[W],w);else{_=T(_);for(var ne=0,Te=_.length;ne<Te;ne++)eh(c,_[ne],w,N)}return this}var pr="_leaflet_events";function di(c,_,w,N){if(arguments.length===1)zi(c),delete c[pr];else if(_&&typeof _=="object")for(var W in _)Xl(c,W,_[W],w);else if(_=T(_),arguments.length===2)zi(c,function(Fe){return D(_,Fe)!==-1});else for(var ne=0,Te=_.length;ne<Te;ne++)Xl(c,_[ne],w,N);return this}function zi(c,_){for(var w in c[pr]){var N=w.split(/\d/)[0];(!_||_(N))&&Xl(c,N,null,null,w)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function eh(c,_,w,N){var W=_+u(w)+(N?"_"+u(N):"");if(c[pr]&&c[pr][W])return this;var ne=function(Fe){return w.call(N||c,Fe||window.event)},Te=ne;!Qt.touchNative&&Qt.pointer&&_.indexOf("touch")===0?ne=Oc(c,_,ne):Qt.touch&&_==="dblclick"?ne=Ft(c,ne):"addEventListener"in c?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?c.addEventListener(Jo[_]||_,ne,Qt.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(ne=function(Fe){Fe=Fe||window.event,ql(c,Fe)&&Te(Fe)},c.addEventListener(Jo[_],ne,!1)):c.addEventListener(_,Te,!1):c.attachEvent("on"+_,ne),c[pr]=c[pr]||{},c[pr][W]=ne}function Xl(c,_,w,N,W){W=W||_+u(w)+(N?"_"+u(N):"");var ne=c[pr]&&c[pr][W];if(!ne)return this;!Qt.touchNative&&Qt.pointer&&_.indexOf("touch")===0?kc(c,_,ne):Qt.touch&&_==="dblclick"?Xt(c,ne):"removeEventListener"in c?c.removeEventListener(Jo[_]||_,ne,!1):c.detachEvent("on"+_,ne),c[pr][W]=null}function To(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function nl(c){return eh(c,"wheel",To),this}function Zr(c){return mn(c,"mousedown touchstart dblclick contextmenu",To),c._leaflet_disable_click=!0,this}function Ni(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function eo(c){return Ni(c),To(c),this}function br(c){if(c.composedPath)return c.composedPath();for(var _=[],w=c.target;w;)_.push(w),w=w.parentNode;return _}function hs(c,_){if(!_)return new Y(c.clientX,c.clientY);var w=Js(_),N=w.boundingClientRect;return new Y((c.clientX-N.left)/w.x-_.clientLeft,(c.clientY-N.top)/w.y-_.clientTop)}var Uc=Qt.linux&&Qt.chrome?window.devicePixelRatio:Qt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zc(c){return Qt.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/Uc:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function ql(c,_){var w=_.relatedTarget;if(!w)return!0;try{for(;w&&w!==c;)w=w.parentNode}catch{return!1}return w!==c}var Hc={__proto__:null,on:mn,off:di,stopPropagation:To,disableScrollPropagation:nl,disableClickPropagation:Zr,preventDefault:Ni,stop:eo,getPropagationPath:br,getMousePosition:hs,getWheelDelta:zc,isExternalTarget:ql,addListener:mn,removeListener:di},fs=he.extend({run:function(c,_,w,N){this.stop(),this._el=c,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=ai(c),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(c){var _=+new Date-this._startTime,w=this._duration*1e3;_<w?this._runFrame(this._easeOut(_/w),c):(this._runFrame(1),this._complete())},_runFrame:function(c,_){var w=this._startPos.add(this._offset.multiplyBy(c));_&&w._round(),Wn(this._el,w),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Gn=he.extend({options:{crs:yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,_){_=S(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(be(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sn&&Qt.any3d&&!Qt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mn(this._proxy,on,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,_,w){if(_=_===void 0?this._zoom:this._limitZoom(_),c=this._limitCenter(be(c),_,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=r({animate:w.animate},w.zoom),w.pan=r({animate:w.animate,duration:w.duration},w.pan));var N=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,_,w.zoom):this._tryAnimatedPan(c,w.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(c,_,w.pan&&w.pan.noMoveStart),this},setZoom:function(c,_){return this._loaded?this.setView(this.getCenter(),c,{zoom:_}):(this._zoom=c,this)},zoomIn:function(c,_){return c=c||(Qt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,_)},zoomOut:function(c,_){return c=c||(Qt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,_)},setZoomAround:function(c,_,w){var N=this.getZoomScale(_),W=this.getSize().divideBy(2),ne=c instanceof Y?c:this.latLngToContainerPoint(c),Te=ne.subtract(W).multiplyBy(1-1/N),Fe=this.containerPointToLatLng(W.add(Te));return this.setView(Fe,_,{zoom:w})},_getBoundsCenterZoom:function(c,_){_=_||{},c=c.getBounds?c.getBounds():pe(c);var w=j(_.paddingTopLeft||_.padding||[0,0]),N=j(_.paddingBottomRight||_.padding||[0,0]),W=this.getBoundsZoom(c,!1,w.add(N));if(W=typeof _.maxZoom=="number"?Math.min(_.maxZoom,W):W,W===1/0)return{center:c.getCenter(),zoom:W};var ne=N.subtract(w).divideBy(2),Te=this.project(c.getSouthWest(),W),Fe=this.project(c.getNorthEast(),W),We=this.unproject(Te.add(Fe).divideBy(2).add(ne),W);return{center:We,zoom:W}},fitBounds:function(c,_){if(c=pe(c),!c.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(c,_);return this.setView(w.center,w.zoom,_)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,_){return this.setView(c,this._zoom,{pan:_})},panBy:function(c,_){if(c=j(c).round(),_=_||{},!c.x&&!c.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,w,_.duration||.25,_.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,_,w){if(w=w||{},w.animate===!1||!Qt.any3d)return this.setView(c,_,w);this._stop();var N=this.project(this.getCenter()),W=this.project(c),ne=this.getSize(),Te=this._zoom;c=be(c),_=_===void 0?Te:_;var Fe=Math.max(ne.x,ne.y),We=Fe*this.getZoomScale(Te,_),lt=W.distanceTo(N)||1,zt=1.42,dn=zt*zt;function Pn(Kn){var Po=Kn?-1:1,ed=Kn?We:Fe,td=We*We-Fe*Fe+Po*dn*dn*lt*lt,Ra=2*ed*dn*lt,oo=td/Ra,Ci=Math.sqrt(oo*oo+1)-oo,nd=Ci<1e-9?-18:Math.log(Ci);return nd}function vr(Kn){return(Math.exp(Kn)-Math.exp(-Kn))/2}function Vi(Kn){return(Math.exp(Kn)+Math.exp(-Kn))/2}function Br(Kn){return vr(Kn)/Vi(Kn)}var ts=Pn(0);function fl(Kn){return Fe*(Vi(ts)/Vi(ts+zt*Kn))}function Jc(Kn){return Fe*(Vi(ts)*Br(ts+zt*Kn)-vr(ts))/dn}function la(Kn){return 1-Math.pow(1-Kn,1.5)}var oh=Date.now(),Pa=(Pn(1)-ts)/zt,er=w.duration?1e3*w.duration:1e3*Pa*.8;function pl(){var Kn=(Date.now()-oh)/er,Po=la(Kn)*Pa;Kn<=1?(this._flyToFrame=Z(pl,this),this._move(this.unproject(N.add(W.subtract(N).multiplyBy(Jc(Po)/lt)),Te),this.getScaleZoom(Fe/fl(Po),Te),{flyTo:!0})):this._move(c,_)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),pl.call(this),this},flyToBounds:function(c,_){var w=this._getBoundsCenterZoom(c,_);return this.flyTo(w.center,w.zoom,_)},setMaxBounds:function(c){return c=pe(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var _=this.options.minZoom;return this.options.minZoom=c,this._loaded&&_!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var _=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&_!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,_){this._enforcingBounds=!0;var w=this.getCenter(),N=this._limitCenter(w,this._zoom,pe(c));return w.equals(N)||this.panTo(N,_),this._enforcingBounds=!1,this},panInside:function(c,_){_=_||{};var w=j(_.paddingTopLeft||_.padding||[0,0]),N=j(_.paddingBottomRight||_.padding||[0,0]),W=this.project(this.getCenter()),ne=this.project(c),Te=this.getPixelBounds(),Fe=ue([Te.min.add(w),Te.max.subtract(N)]),We=Fe.getSize();if(!Fe.contains(ne)){this._enforcingBounds=!0;var lt=ne.subtract(Fe.getCenter()),zt=Fe.extend(ne).getSize().subtract(We);W.x+=lt.x<0?-zt.x:zt.x,W.y+=lt.y<0?-zt.y:zt.y,this.panTo(this.unproject(W),_),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=r({animate:!1,pan:!0},c===!0?{animate:!0}:c);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),N=_.divideBy(2).round(),W=w.divideBy(2).round(),ne=N.subtract(W);return!ne.x&&!ne.y?this:(c.animate&&c.pan?this.panBy(ne):(c.pan&&this._rawPanBy(ne),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=r({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=o(this._handleGeolocationResponse,this),w=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,w,c):navigator.geolocation.getCurrentPosition(_,w,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var _=c.code,w=c.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var _=c.coords.latitude,w=c.coords.longitude,N=new xe(_,w),W=N.toBounds(c.coords.accuracy*2),ne=this._locateOptions;if(ne.setView){var Te=this.getBoundsZoom(W);this.setView(N,ne.maxZoom?Math.min(Te,ne.maxZoom):Te)}var Fe={latlng:N,bounds:W,timestamp:c.timestamp};for(var We in c.coords)typeof c.coords[We]=="number"&&(Fe[We]=c.coords[We]);this.fire("locationfound",Fe)}},addHandler:function(c,_){if(!_)return this;var w=this[c]=new _(this);return this._handlers.push(w),this.options[c]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),en(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)en(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,_){var w="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),N=Dt("div",w,_||this._mapPane);return c&&(this._panes[c]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),_=this.unproject(c.getBottomLeft()),w=this.unproject(c.getTopRight());return new J(_,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,_,w){c=pe(c),w=j(w||[0,0]);var N=this.getZoom()||0,W=this.getMinZoom(),ne=this.getMaxZoom(),Te=c.getNorthWest(),Fe=c.getSouthEast(),We=this.getSize().subtract(w),lt=ue(this.project(Fe,N),this.project(Te,N)).getSize(),zt=Qt.any3d?this.options.zoomSnap:1,dn=We.x/lt.x,Pn=We.y/lt.y,vr=_?Math.max(dn,Pn):Math.min(dn,Pn);return N=this.getScaleZoom(vr,N),zt&&(N=Math.round(N/(zt/100))*(zt/100),N=_?Math.ceil(N/zt)*zt:Math.floor(N/zt)*zt),Math.max(W,Math.min(ne,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,_){var w=this._getTopLeftPoint(c,_);return new ee(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,_){var w=this.options.crs;return _=_===void 0?this._zoom:_,w.scale(c)/w.scale(_)},getScaleZoom:function(c,_){var w=this.options.crs;_=_===void 0?this._zoom:_;var N=w.zoom(c*w.scale(_));return isNaN(N)?1/0:N},project:function(c,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(be(c),_)},unproject:function(c,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng(j(c),_)},layerPointToLatLng:function(c){var _=j(c).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(c){var _=this.project(be(c))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(be(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(pe(c))},distance:function(c,_){return this.options.crs.distance(be(c),be(_))},containerPointToLayerPoint:function(c){return j(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return j(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var _=this.containerPointToLayerPoint(j(c));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(c)))},mouseEventToContainerPoint:function(c){return hs(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var _=this._container=wt(c);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mn(_,"scroll",this._onScroll,this),this._containerId=u(_)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qt.any3d,Nt(c,"leaflet-container"+(Qt.touch?" leaflet-touch":"")+(Qt.retina?" leaflet-retina":"")+(Qt.ielt9?" leaflet-oldie":"")+(Qt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=Gt(c,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wn(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(c.markerPane,"leaflet-zoom-hide"),Nt(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,_,w){Wn(this._mapPane,new Y(0,0));var N=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var W=this._zoom!==_;this._moveStart(W,w)._move(c,_)._moveEnd(W),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(c,_){return c&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(c,_,w,N){_===void 0&&(_=this._zoom);var W=this._zoom!==_;return this._zoom=_,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),N?w&&w.pinch&&this.fire("zoom",w):((W||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Wn(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[u(this._container)]=this;var _=c?di:mn;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Qt.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,_){for(var w=[],N,W=_==="mouseout"||_==="mouseover",ne=c.target||c.srcElement,Te=!1;ne;){if(N=this._targets[u(ne)],N&&(_==="click"||_==="preclick")&&this._draggableMoved(N)){Te=!0;break}if(N&&N.listens(_,!0)&&(W&&!ql(ne,c)||(w.push(N),W))||ne===this._container)break;ne=ne.parentNode}return!w.length&&!Te&&!W&&this.listens(_,!0)&&(w=[this]),w},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var _=c.target||c.srcElement;if(!(!this._loaded||_._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(_))){var w=c.type;w==="mousedown"&&Yl(_),this._fireDOMEvent(c,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,_,w){if(c.type==="click"){var N=r({},c);N.type="preclick",this._fireDOMEvent(N,N.type,w)}var W=this._findEventTargets(c,_);if(w){for(var ne=[],Te=0;Te<w.length;Te++)w[Te].listens(_,!0)&&ne.push(w[Te]);W=ne.concat(W)}if(W.length){_==="contextmenu"&&Ni(c);var Fe=W[0],We={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var lt=Fe.getLatLng&&(!Fe._radius||Fe._radius<=10);We.containerPoint=lt?this.latLngToContainerPoint(Fe.getLatLng()):this.mouseEventToContainerPoint(c),We.layerPoint=this.containerPointToLayerPoint(We.containerPoint),We.latlng=lt?Fe.getLatLng():this.layerPointToLatLng(We.layerPoint)}for(Te=0;Te<W.length;Te++)if(W[Te].fire(_,We,!0),We.originalEvent._stopped||W[Te].options.bubblingMouseEvents===!1&&D(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,_=this._handlers.length;c<_;c++)this._handlers[c].disable()},whenReady:function(c,_){return this._loaded?c.call(_||this,{target:this}):this.on("load",c,_),this},_getMapPanePos:function(){return ai(this._mapPane)||new Y(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,_){var w=c&&_!==void 0?this._getNewPixelOrigin(c,_):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,_){var w=this.getSize()._divideBy(2);return this.project(c,_)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,_,w){var N=this._getNewPixelOrigin(w,_);return this.project(c,_)._subtract(N)},_latLngBoundsToNewLayerBounds:function(c,_,w){var N=this._getNewPixelOrigin(w,_);return ue([this.project(c.getSouthWest(),_)._subtract(N),this.project(c.getNorthWest(),_)._subtract(N),this.project(c.getSouthEast(),_)._subtract(N),this.project(c.getNorthEast(),_)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,_,w){if(!w)return c;var N=this.project(c,_),W=this.getSize().divideBy(2),ne=new ee(N.subtract(W),N.add(W)),Te=this._getBoundsOffset(ne,w,_);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?c:this.unproject(N.add(Te),_)},_limitOffset:function(c,_){if(!_)return c;var w=this.getPixelBounds(),N=new ee(w.min.add(c),w.max.add(c));return c.add(this._getBoundsOffset(N,_))},_getBoundsOffset:function(c,_,w){var N=ue(this.project(_.getNorthEast(),w),this.project(_.getSouthWest(),w)),W=N.min.subtract(c.min),ne=N.max.subtract(c.max),Te=this._rebound(W.x,-ne.x),Fe=this._rebound(W.y,-ne.y);return new Y(Te,Fe)},_rebound:function(c,_){return c+_>0?Math.round(c-_)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(_))},_limitZoom:function(c){var _=this.getMinZoom(),w=this.getMaxZoom(),N=Qt.any3d?this.options.zoomSnap:1;return N&&(c=Math.round(c/N)*N),Math.max(_,Math.min(w,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,_){var w=this._getCenterOffset(c)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,_),!0)},_createAnimProxy:function(){var c=this._proxy=Dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(_){var w=jt,N=this._proxy.style[w];vi(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),N===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){en(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),_=this.getZoom();vi(this._proxy,this.project(c,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,_,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(_),W=this._getCenterOffset(c)._divideBy(1-1/N);return w.animate!==!0&&!this.getSize().contains(W)?!1:(Z(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(c,_,!0)},this),!0)},_animateZoom:function(c,_,w,N){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=_,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:_,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function to(c,_){return new Gn(c,_)}var ps=ie.extend({options:{position:"topright"},initialize:function(c){S(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var _=this._map;return _&&_.removeControl(this),this.options.position=c,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var _=this._container=this.onAdd(c),w=this.getPosition(),N=c._controlCorners[w];return Nt(_,"leaflet-control"),w.indexOf("bottom")!==-1?N.insertBefore(_,N.firstChild):N.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(en(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),or=function(c){return new ps(c)};Gn.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},_="leaflet-",w=this._controlContainer=Dt("div",_+"control-container",this._container);function N(W,ne){var Te=_+W+" "+_+ne;c[W+ne]=Dt("div",Te,w)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)en(this._controlCorners[c]);en(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=ps.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,_,w,N){return w<N?-1:N<w?1:0}},initialize:function(c,_,w){S(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in c)this._addLayer(c[N],N);for(N in _)this._addLayer(_[N],N,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return ps.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,_){return this._addLayer(c,_),this._map?this._update():this},addOverlay:function(c,_){return this._addLayer(c,_,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var _=this._getLayer(u(c));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):Ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",_=this._container=Dt("div",c),w=this.options.collapsed;_.setAttribute("aria-haspopup",!0),Zr(_),nl(_);var N=this._section=Dt("section",c+"-list");w&&(this._map.on("click",this.collapse,this),mn(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var W=this._layersLink=Dt("a",c+"-toggle",_);W.href="#",W.title="Layers",W.setAttribute("role","button"),mn(W,{keydown:function(ne){ne.keyCode===13&&this._expandSafely()},click:function(ne){Ni(ne),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=Dt("div",c+"-base",N),this._separator=Dt("div",c+"-separator",N),this._overlaysList=Dt("div",c+"-overlays",N),_.appendChild(N)},_getLayer:function(c){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&u(this._layers[_].layer)===c)return this._layers[_]},_addLayer:function(c,_,w){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:_,overlay:w}),this.options.sortLayers&&this._layers.sort(o(function(N,W){return this.options.sortFunction(N.layer,W.layer,N.name,W.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xn(this._baseLayersList),xn(this._overlaysList),this._layerControlInputs=[];var c,_,w,N,W=0;for(w=0;w<this._layers.length;w++)N=this._layers[w],this._addItem(N),_=_||N.overlay,c=c||!N.overlay,W+=N.overlay?0:1;return this.options.hideSingleBase&&(c=c&&W>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=_&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var _=this._getLayer(u(c.target)),w=_.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;w&&this._map.fire(w,_)},_createRadioElement:function(c,_){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(_?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=w,N.firstChild},_addItem:function(c){var _=document.createElement("label"),w=this._map.hasLayer(c.layer),N;c.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=w):N=this._createRadioElement("leaflet-base-layers_"+u(this),w),this._layerControlInputs.push(N),N.layerId=u(c.layer),mn(N,"click",this._onInputClick,this);var W=document.createElement("span");W.innerHTML=" "+c.name;var ne=document.createElement("span");_.appendChild(ne),ne.appendChild(N),ne.appendChild(W);var Te=c.overlay?this._overlaysList:this._baseLayersList;return Te.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,_,w,N=[],W=[];this._handlingClick=!0;for(var ne=c.length-1;ne>=0;ne--)_=c[ne],w=this._getLayer(_.layerId).layer,_.checked?N.push(w):_.checked||W.push(w);for(ne=0;ne<W.length;ne++)this._map.hasLayer(W[ne])&&this._map.removeLayer(W[ne]);for(ne=0;ne<N.length;ne++)this._map.hasLayer(N[ne])||this._map.addLayer(N[ne]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,_,w,N=this._map.getZoom(),W=c.length-1;W>=0;W--)_=c[W],w=this._getLayer(_.layerId).layer,_.disabled=w.options.minZoom!==void 0&&N<w.options.minZoom||w.options.maxZoom!==void 0&&N>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,mn(c,"click",Ni),this.expand();var _=this;setTimeout(function(){di(c,"click",Ni),_._preventClick=!1})}}),il=function(c,_,w){return new Zl(c,_,w)},no=ps.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var _="leaflet-control-zoom",w=Dt("div",_+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,_+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,_+"-out",w,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,_,w,N,W){var ne=Dt("a",w,N);return ne.innerHTML=c,ne.href="#",ne.title=_,ne.setAttribute("role","button"),ne.setAttribute("aria-label",_),Zr(ne),mn(ne,"click",eo),mn(ne,"click",W,this),mn(ne,"click",this._refocusOnMap,this),ne},_updateDisabled:function(){var c=this._map,_="leaflet-disabled";Ln(this._zoomInButton,_),Ln(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Nt(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Nt(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gn.mergeOptions({zoomControl:!0}),Gn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new no,this.addControl(this.zoomControl))});var Vc=function(c){return new no(c)},Sr=ps.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var _="leaflet-control-scale",w=Dt("div",_),N=this.options;return this._addScales(N,_+"-line",w),c.on(N.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),w},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,_,w){c.metric&&(this._mScale=Dt("div",_,w)),c.imperial&&(this._iScale=Dt("div",_,w))},_update:function(){var c=this._map,_=c.getSize().y/2,w=c.distance(c.containerPointToLatLng([0,_]),c.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(w)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var _=this._getRoundNum(c),w=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,w,_/c)},_updateImperial:function(c){var _=c*3.2808399,w,N,W;_>5280?(w=_/5280,N=this._getRoundNum(w),this._updateScale(this._iScale,N+" mi",N/w)):(W=this._getRoundNum(_),this._updateScale(this._iScale,W+" ft",W/_))},_updateScale:function(c,_,w){c.style.width=Math.round(this.options.maxWidth*w)+"px",c.innerHTML=_},_getRoundNum:function(c){var _=Math.pow(10,(Math.floor(c)+"").length-1),w=c/_;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,_*w}}),rl=function(c){return new Sr(c)},ku='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ea=ps.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qt.inlineSvg?ku+" ":"")+"Leaflet</a>"},initialize:function(c){S(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=Dt("div","leaflet-control-attribution"),Zr(this._container);for(var _ in c._layers)c._layers[_].getAttribution&&this.addAttribution(c._layers[_].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var _ in this._attributions)this._attributions[_]&&c.push(_);var w=[];this.options.prefix&&w.push(this.options.prefix),c.length&&w.push(c.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});Gn.mergeOptions({attributionControl:!0}),Gn.addInitHook(function(){this.options.attributionControl&&new ea().addTo(this)});var Kl=function(c){return new ea(c)};ps.Layers=Zl,ps.Zoom=no,ps.Scale=Sr,ps.Attribution=ea,or.layers=il,or.zoom=Vc,or.scale=rl,or.attribution=Kl;var bi=ie.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bi.addTo=function(c,_){return c.addHandler(_,this),this};var Os={Events:fe},ms=Qt.touch?"touchstart mousedown":"mousedown",gs=he.extend({options:{clickTolerance:3},initialize:function(c,_,w,N){S(this,N),this._element=c,this._dragStartTarget=_||c,this._preventOutline=w},enable:function(){this._enabled||(mn(this._dragStartTarget,ms,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gs._dragging===this&&this.finishDrag(!0),di(this._dragStartTarget,ms,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!En(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){gs._dragging===this&&this.finishDrag();return}if(!(gs._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(gs._dragging=this,this._preventOutline&&Yl(this._element),Bc(),An(),!this._moving)){this.fire("down");var _=c.touches?c.touches[0]:c,w=Mn(this._element);this._startPoint=new Y(_.clientX,_.clientY),this._startPos=ai(this._element),this._parentScale=Js(w);var N=c.type==="mousedown";mn(document,N?"mousemove":"touchmove",this._onMove,this),mn(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var _=c.touches&&c.touches.length===1?c.touches[0]:c,w=new Y(_.clientX,_.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Ni(c),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Wn(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){Ln(document.body,"leaflet-dragging"),this._lastTarget&&(Ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),di(document,"mousemove touchmove",this._onMove,this),di(document,"mouseup touchend touchcancel",this._onUp,this),Gl(),sr();var _=this._moved&&this._moving;this._moving=!1,gs._dragging=!1,_&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function jc(c,_,w){var N,W=[1,4,2,8],ne,Te,Fe,We,lt,zt,dn,Pn;for(ne=0,zt=c.length;ne<zt;ne++)c[ne]._code=ta(c[ne],_);for(Fe=0;Fe<4;Fe++){for(dn=W[Fe],N=[],ne=0,zt=c.length,Te=zt-1;ne<zt;Te=ne++)We=c[ne],lt=c[Te],We._code&dn?lt._code&dn||(Pn=Uu(lt,We,dn,_,w),Pn._code=ta(Pn,_),N.push(Pn)):(lt._code&dn&&(Pn=Uu(lt,We,dn,_,w),Pn._code=ta(Pn,_),N.push(Pn)),N.push(We));c=N}return c}function bo(c,_){var w,N,W,ne,Te,Fe,We,lt,zt;if(!c||c.length===0)throw new Error("latlngs not passed");Fr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var dn=be([0,0]),Pn=pe(c),vr=Pn.getNorthWest().distanceTo(Pn.getSouthWest())*Pn.getNorthEast().distanceTo(Pn.getNorthWest());vr<1700&&(dn=So(c));var Vi=c.length,Br=[];for(w=0;w<Vi;w++){var ts=be(c[w]);Br.push(_.project(be([ts.lat-dn.lat,ts.lng-dn.lng])))}for(Fe=We=lt=0,w=0,N=Vi-1;w<Vi;N=w++)W=Br[w],ne=Br[N],Te=W.y*ne.x-ne.y*W.x,We+=(W.x+ne.x)*Te,lt+=(W.y+ne.y)*Te,Fe+=Te*3;Fe===0?zt=Br[0]:zt=[We/Fe,lt/Fe];var fl=_.unproject(j(zt));return be([fl.lat+dn.lat,fl.lng+dn.lng])}function So(c){for(var _=0,w=0,N=0,W=0;W<c.length;W++){var ne=be(c[W]);_+=ne.lat,w+=ne.lng,N++}return be([_/N,w/N])}var Wc={__proto__:null,clipPolygon:jc,polygonCenter:bo,centroid:So};function Du(c,_){if(!_||!c.length)return c.slice();var w=_*_;return c=Gc(c,w),c=Af(c,w),c}function Fu(c,_,w){return Math.sqrt(ks(c,_,w,!0))}function Cf(c,_,w){return ks(c,_,w)}function Af(c,_){var w=c.length,N=typeof Uint8Array<"u"?Uint8Array:Array,W=new N(w);W[0]=W[w-1]=1,Bu(c,W,_,0,w-1);var ne,Te=[];for(ne=0;ne<w;ne++)W[ne]&&Te.push(c[ne]);return Te}function Bu(c,_,w,N,W){var ne=0,Te,Fe,We;for(Fe=N+1;Fe<=W-1;Fe++)We=ks(c[Fe],c[N],c[W],!0),We>ne&&(Te=Fe,ne=We);ne>w&&(_[Te]=1,Bu(c,_,w,N,Te),Bu(c,_,w,Te,W))}function Gc(c,_){for(var w=[c[0]],N=1,W=0,ne=c.length;N<ne;N++)$l(c[N],c[W])>_&&(w.push(c[N]),W=N);return W<ne-1&&w.push(c[ne-1]),w}var Yc;function th(c,_,w,N,W){var ne=N?Yc:ta(c,w),Te=ta(_,w),Fe,We,lt;for(Yc=Te;;){if(!(ne|Te))return[c,_];if(ne&Te)return!1;Fe=ne||Te,We=Uu(c,_,Fe,w,W),lt=ta(We,w),Fe===ne?(c=We,ne=lt):(_=We,Te=lt)}}function Uu(c,_,w,N,W){var ne=_.x-c.x,Te=_.y-c.y,Fe=N.min,We=N.max,lt,zt;return w&8?(lt=c.x+ne*(We.y-c.y)/Te,zt=We.y):w&4?(lt=c.x+ne*(Fe.y-c.y)/Te,zt=Fe.y):w&2?(lt=We.x,zt=c.y+Te*(We.x-c.x)/ne):w&1&&(lt=Fe.x,zt=c.y+Te*(Fe.x-c.x)/ne),new Y(lt,zt,W)}function ta(c,_){var w=0;return c.x<_.min.x?w|=1:c.x>_.max.x&&(w|=2),c.y<_.min.y?w|=4:c.y>_.max.y&&(w|=8),w}function $l(c,_){var w=_.x-c.x,N=_.y-c.y;return w*w+N*N}function ks(c,_,w,N){var W=_.x,ne=_.y,Te=w.x-W,Fe=w.y-ne,We=Te*Te+Fe*Fe,lt;return We>0&&(lt=((c.x-W)*Te+(c.y-ne)*Fe)/We,lt>1?(W=w.x,ne=w.y):lt>0&&(W+=Te*lt,ne+=Fe*lt)),Te=c.x-W,Fe=c.y-ne,N?Te*Te+Fe*Fe:new Y(W,ne)}function Fr(c){return!P(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function zu(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fr(c)}function ys(c,_){var w,N,W,ne,Te,Fe,We,lt;if(!c||c.length===0)throw new Error("latlngs not passed");Fr(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var zt=be([0,0]),dn=pe(c),Pn=dn.getNorthWest().distanceTo(dn.getSouthWest())*dn.getNorthEast().distanceTo(dn.getNorthWest());Pn<1700&&(zt=So(c));var vr=c.length,Vi=[];for(w=0;w<vr;w++){var Br=be(c[w]);Vi.push(_.project(be([Br.lat-zt.lat,Br.lng-zt.lng])))}for(w=0,N=0;w<vr-1;w++)N+=Vi[w].distanceTo(Vi[w+1])/2;if(N===0)lt=Vi[0];else for(w=0,ne=0;w<vr-1;w++)if(Te=Vi[w],Fe=Vi[w+1],W=Te.distanceTo(Fe),ne+=W,ne>N){We=(ne-N)/W,lt=[Fe.x-We*(Fe.x-Te.x),Fe.y-We*(Fe.y-Te.y)];break}var ts=_.unproject(j(lt));return be([ts.lat+zt.lat,ts.lng+zt.lng])}var vs={__proto__:null,simplify:Du,pointToSegmentDistance:Fu,closestPointOnSegment:Cf,clipSegment:th,_getEdgeIntersection:Uu,_getBitCode:ta,_sqClosestPointOnSegment:ks,isFlat:Fr,_flat:zu,polylineCenter:ys},na={project:function(c){return new Y(c.lng,c.lat)},unproject:function(c){return new xe(c.y,c.x)},bounds:new ee([-180,-90],[180,90])},io={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var _=Math.PI/180,w=this.R,N=c.lat*_,W=this.R_MINOR/w,ne=Math.sqrt(1-W*W),Te=ne*Math.sin(N),Fe=Math.tan(Math.PI/4-N/2)/Math.pow((1-Te)/(1+Te),ne/2);return N=-w*Math.log(Math.max(Fe,1e-10)),new Y(c.lng*_*w,N)},unproject:function(c){for(var _=180/Math.PI,w=this.R,N=this.R_MINOR/w,W=Math.sqrt(1-N*N),ne=Math.exp(-c.y/w),Te=Math.PI/2-2*Math.atan(ne),Fe=0,We=.1,lt;Fe<15&&Math.abs(We)>1e-7;Fe++)lt=W*Math.sin(Te),lt=Math.pow((1-lt)/(1+lt),W/2),We=Math.PI/2-2*Math.atan(ne*lt)-Te,Te+=We;return new xe(Te*_,c.x*_/w)}},ia={__proto__:null,LonLat:na,Mercator:io,SphericalMercator:rt},sl=r({},Xe,{code:"EPSG:3395",projection:io,transformation:function(){var c=.5/(Math.PI*io.R);return _t(c,.5,-c,.5)}()}),nh=r({},Xe,{code:"EPSG:4326",projection:na,transformation:_t(1/180,1,-1/180,.5)}),ih=r({},Ce,{projection:na,transformation:_t(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,_){var w=_.lng-c.lng,N=_.lat-c.lat;return Math.sqrt(w*w+N*N)},infinite:!0});Ce.Earth=Xe,Ce.EPSG3395=sl,Ce.EPSG3857=yt,Ce.EPSG900913=le,Ce.EPSG4326=nh,Ce.Simple=ih;var _s=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[u(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[u(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var _=c.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var w=this.getEvents();_.on(w,this),this.once("remove",function(){_.off(w,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});Gn.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var _=u(c);return this._layers[_]?this:(this._layers[_]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var _=u(c);return this._layers[_]?(this._loaded&&c.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return u(c)in this._layers},eachLayer:function(c,_){for(var w in this._layers)c.call(_,this._layers[w]);return this},_addLayers:function(c){c=c?P(c)?c:[c]:[];for(var _=0,w=c.length;_<w;_++)this.addLayer(c[_])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[u(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var _=u(c);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,_=-1/0,w=this._getZoomSpan();for(var N in this._zoomBoundLayers){var W=this._zoomBoundLayers[N].options;c=W.minZoom===void 0?c:Math.min(c,W.minZoom),_=W.maxZoom===void 0?_:Math.max(_,W.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=c===1/0?void 0:c,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=_s.extend({initialize:function(c,_){S(this,_),this._layers={};var w,N;if(c)for(w=0,N=c.length;w<N;w++)this.addLayer(c[w])},addLayer:function(c){var _=this.getLayerId(c);return this._layers[_]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var _=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(c){var _=typeof c=="number"?c:this.getLayerId(c);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var _=Array.prototype.slice.call(arguments,1),w,N;for(w in this._layers)N=this._layers[w],N[c]&&N[c].apply(N,_);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,_){for(var w in this._layers)c.call(_,this._layers[w]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return u(c)}}),mr=function(c,_){return new Hi(c,_)},Zn=Hi.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),Hi.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),Hi.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new J;for(var _ in this._layers){var w=this._layers[_];c.extend(w.getBounds?w.getBounds():w.getLatLng())}return c}}),Ql=function(c,_){return new Zn(c,_)},gr=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){S(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,_){var w=this._getIconUrl(c);if(!w){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(w,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(N,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(c,_){var w=this.options,N=w[_+"Size"];typeof N=="number"&&(N=[N,N]);var W=j(N),ne=j(_==="shadow"&&w.shadowAnchor||w.iconAnchor||W&&W.divideBy(2,!0));c.className="leaflet-marker-"+_+" "+(w.className||""),ne&&(c.style.marginLeft=-ne.x+"px",c.style.marginTop=-ne.y+"px"),W&&(c.style.width=W.x+"px",c.style.height=W.y+"px")},_createImg:function(c,_){return _=_||document.createElement("img"),_.src=c,_},_getIconUrl:function(c){return Qt.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function rh(c){return new gr(c)}var ol=gr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof ol.imagePath!="string"&&(ol.imagePath=this._detectIconPath()),(this.options.imagePath||ol.imagePath)+gr.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var _=function(w,N,W){var ne=N.exec(w);return ne&&ne[W]};return c=_(c,/^url\((['"])?(.+)\1\)$/,2),c&&_(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Dt("div","leaflet-default-icon-path",document.body),_=Gt(c,"background-image")||Gt(c,"backgroundImage");if(document.body.removeChild(c),_=this._stripUrl(_),_)return _;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),Hu=bi.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new gs(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var _=this._marker,w=_._map,N=this._marker.options.autoPanSpeed,W=this._marker.options.autoPanPadding,ne=ai(_._icon),Te=w.getPixelBounds(),Fe=w.getPixelOrigin(),We=ue(Te.min._subtract(Fe).add(W),Te.max._subtract(Fe).subtract(W));if(!We.contains(ne)){var lt=j((Math.max(We.max.x,ne.x)-We.max.x)/(Te.max.x-We.max.x)-(Math.min(We.min.x,ne.x)-We.min.x)/(Te.min.x-We.min.x),(Math.max(We.max.y,ne.y)-We.max.y)/(Te.max.y-We.max.y)-(Math.min(We.min.y,ne.y)-We.min.y)/(Te.min.y-We.min.y)).multiplyBy(N);w.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),Wn(_._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=Z(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,c)))},_onDrag:function(c){var _=this._marker,w=_._shadow,N=ai(_._icon),W=_._map.layerPointToLatLng(N);w&&Wn(w,N),_._latlng=W,c.latlng=W,c.oldLatLng=this._oldLatLng,_.fire("move",c).fire("drag",c)},_onDragEnd:function(c){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),ro=_s.extend({options:{icon:new ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,_){S(this,_),this._latlng=be(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var _=this._latlng;return this._latlng=be(c),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=c.icon.createIcon(this._icon),N=!1;w!==this._icon&&(this._icon&&this._removeIcon(),N=!0,c.title&&(w.title=c.title),w.tagName==="IMG"&&(w.alt=c.alt||"")),Nt(w,_),c.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mn(w,"focus",this._panOnFocus,this);var W=c.icon.createShadow(this._shadow),ne=!1;W!==this._shadow&&(this._removeShadow(),ne=!0),W&&(Nt(W,_),W.alt=""),this._shadow=W,c.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),W&&ne&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&di(this._icon,"focus",this._panOnFocus,this),en(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&en(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Wn(this._icon,c),this._shadow&&Wn(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var _=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hu)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hu(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Li(this._icon,c),this._shadow&&Li(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var _=this.options.icon.options,w=_.iconSize?j(_.iconSize):j(0,0),N=_.iconAnchor?j(_.iconAnchor):j(0,0);c.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:w.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mf(c,_){return new ro(c,_)}var Ds=_s.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return S(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ra=Ds.extend({options:{fill:!0,radius:10},initialize:function(c,_){S(this,_),this._latlng=be(c),this._radius=this.options.radius},setLatLng:function(c){var _=this._latlng;return this._latlng=be(c),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var _=c&&c.radius||this._radius;return Ds.prototype.setStyle.call(this,c),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,_=this._radiusY||c,w=this._clickTolerance(),N=[c+w,_+w];this._pxBounds=new ee(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xc(c,_){return new ra(c,_)}var Sa=ra.extend({initialize:function(c,_,w){if(typeof _=="number"&&(_=r({},w,{radius:_})),S(this,_),this._latlng=be(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Ds.prototype.setStyle,_project:function(){var c=this._latlng.lng,_=this._latlng.lat,w=this._map,N=w.options.crs;if(N.distance===Xe.distance){var W=Math.PI/180,ne=this._mRadius/Xe.R/W,Te=w.project([_+ne,c]),Fe=w.project([_-ne,c]),We=Te.add(Fe).divideBy(2),lt=w.unproject(We).lat,zt=Math.acos((Math.cos(ne*W)-Math.sin(_*W)*Math.sin(lt*W))/(Math.cos(_*W)*Math.cos(lt*W)))/W;(isNaN(zt)||zt===0)&&(zt=ne/Math.cos(Math.PI/180*_)),this._point=We.subtract(w.getPixelOrigin()),this._radius=isNaN(zt)?0:We.x-w.project([lt,c-zt]).x,this._radiusY=We.y-Te.y}else{var dn=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(dn).x}this._updateBounds()}});function wa(c,_,w){return new Sa(c,_,w)}var Kr=Ds.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,_){S(this,_),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var _=1/0,w=null,N=ks,W,ne,Te=0,Fe=this._parts.length;Te<Fe;Te++)for(var We=this._parts[Te],lt=1,zt=We.length;lt<zt;lt++){W=We[lt-1],ne=We[lt];var dn=N(c,W,ne,!0);dn<_&&(_=dn,w=N(c,W,ne))}return w&&(w.distance=Math.sqrt(_)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ys(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,_){return _=_||this._defaultShape(),c=be(c),_.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new J,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Fr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var _=[],w=Fr(c),N=0,W=c.length;N<W;N++)w?(_[N]=be(c[N]),this._bounds.extend(_[N])):_[N]=this._convertLatLngs(c[N]);return _},_project:function(){var c=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),_=new Y(c,c);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(c,_,w){var N=c[0]instanceof xe,W=c.length,ne,Te;if(N){for(Te=[],ne=0;ne<W;ne++)Te[ne]=this._map.latLngToLayerPoint(c[ne]),w.extend(Te[ne]);_.push(Te)}else for(ne=0;ne<W;ne++)this._projectLatlngs(c[ne],_,w)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,w,N,W,ne,Te,Fe,We;for(w=0,W=0,ne=this._rings.length;w<ne;w++)for(We=this._rings[w],N=0,Te=We.length;N<Te-1;N++)Fe=th(We[N],We[N+1],c,N,!0),Fe&&(_[W]=_[W]||[],_[W].push(Fe[0]),(Fe[1]!==We[N+1]||N===Te-2)&&(_[W].push(Fe[1]),W++))}},_simplifyPoints:function(){for(var c=this._parts,_=this.options.smoothFactor,w=0,N=c.length;w<N;w++)c[w]=Du(c[w],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,_){var w,N,W,ne,Te,Fe,We=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(w=0,ne=this._parts.length;w<ne;w++)for(Fe=this._parts[w],N=0,Te=Fe.length,W=Te-1;N<Te;W=N++)if(!(!_&&N===0)&&Fu(c,Fe[W],Fe[N])<=We)return!0;return!1}});function Pf(c,_){return new Kr(c,_)}Kr._flat=zu;var $r=Kr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var _=Kr.prototype._convertLatLngs.call(this,c),w=_.length;return w>=2&&_[0]instanceof xe&&_[0].equals(_[w-1])&&_.pop(),_},_setLatLngs:function(c){Kr.prototype._setLatLngs.call(this,c),Fr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,_=this.options.weight,w=new Y(_,_);if(c=new ee(c.min.subtract(w),c.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,W=this._rings.length,ne;N<W;N++)ne=jc(this._rings[N],c,!0),ne.length&&this._parts.push(ne)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var _=!1,w,N,W,ne,Te,Fe,We,lt;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(ne=0,We=this._parts.length;ne<We;ne++)for(w=this._parts[ne],Te=0,lt=w.length,Fe=lt-1;Te<lt;Fe=Te++)N=w[Te],W=w[Fe],N.y>c.y!=W.y>c.y&&c.x<(W.x-N.x)*(c.y-N.y)/(W.y-N.y)+N.x&&(_=!_);return _||Kr.prototype._containsPoint.call(this,c,!0)}});function Rf(c,_){return new $r(c,_)}var Qr=Zn.extend({initialize:function(c,_){S(this,_),this._layers={},c&&this.addData(c)},addData:function(c){var _=P(c)?c:c.features,w,N,W;if(_){for(w=0,N=_.length;w<N;w++)W=_[w],(W.geometries||W.geometry||W.features||W.coordinates)&&this.addData(W);return this}var ne=this.options;if(ne.filter&&!ne.filter(c))return this;var Te=yr(c,ne);return Te?(Te.feature=eu(c),Te.defaultOptions=Te.options,this.resetStyle(Te),ne.onEachFeature&&ne.onEachFeature(c,Te),this.addLayer(Te)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=r({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(_){this._setLayerStyle(_,c)},this)},_setLayerStyle:function(c,_){c.setStyle&&(typeof _=="function"&&(_=_(c.feature)),c.setStyle(_))}});function yr(c,_){var w=c.type==="Feature"?c.geometry:c,N=w?w.coordinates:null,W=[],ne=_&&_.pointToLayer,Te=_&&_.coordsToLatLng||sa,Fe,We,lt,zt;if(!N&&!w)return null;switch(w.type){case"Point":return Fe=Te(N),Ca(ne,c,Fe,_);case"MultiPoint":for(lt=0,zt=N.length;lt<zt;lt++)Fe=Te(N[lt]),W.push(Ca(ne,c,Fe,_));return new Zn(W);case"LineString":case"MultiLineString":return We=Jr(N,w.type==="LineString"?0:1,Te),new Kr(We,_);case"Polygon":case"MultiPolygon":return We=Jr(N,w.type==="Polygon"?1:2,Te),new $r(We,_);case"GeometryCollection":for(lt=0,zt=w.geometries.length;lt<zt;lt++){var dn=yr({geometry:w.geometries[lt],type:"Feature",properties:c.properties},_);dn&&W.push(dn)}return new Zn(W);case"FeatureCollection":for(lt=0,zt=w.features.length;lt<zt;lt++){var Pn=yr(w.features[lt],_);Pn&&W.push(Pn)}return new Zn(W);default:throw new Error("Invalid GeoJSON object.")}}function Ca(c,_,w,N){return c?c(_,w):new ro(w,N&&N.markersInheritOptions&&N)}function sa(c){return new xe(c[1],c[0],c[2])}function Jr(c,_,w){for(var N=[],W=0,ne=c.length,Te;W<ne;W++)Te=_?Jr(c[W],_-1,w):(w||sa)(c[W]),N.push(Te);return N}function Jl(c,_){return c=be(c),c.alt!==void 0?[y(c.lng,_),y(c.lat,_),y(c.alt,_)]:[y(c.lng,_),y(c.lat,_)]}function oa(c,_,w,N){for(var W=[],ne=0,Te=c.length;ne<Te;ne++)W.push(_?oa(c[ne],Fr(c[ne])?0:_-1,w,N):Jl(c[ne],N));return!_&&w&&W.length>0&&W.push(W[0].slice()),W}function al(c,_){return c.feature?r({},c.feature,{geometry:_}):eu(_)}function eu(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var pi={toGeoJSON:function(c){return al(this,{type:"Point",coordinates:Jl(this.getLatLng(),c)})}};ro.include(pi),Sa.include(pi),ra.include(pi),Kr.include({toGeoJSON:function(c){var _=!Fr(this._latlngs),w=oa(this._latlngs,_?1:0,!1,c);return al(this,{type:(_?"Multi":"")+"LineString",coordinates:w})}}),$r.include({toGeoJSON:function(c){var _=!Fr(this._latlngs),w=_&&!Fr(this._latlngs[0]),N=oa(this._latlngs,w?2:_?1:0,!0,c);return _||(N=[N]),al(this,{type:(w?"Multi":"")+"Polygon",coordinates:N})}}),Hi.include({toMultiPoint:function(c){var _=[];return this.eachLayer(function(w){_.push(w.toGeoJSON(c).geometry.coordinates)}),al(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(c){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(c);var w=_==="GeometryCollection",N=[];return this.eachLayer(function(W){if(W.toGeoJSON){var ne=W.toGeoJSON(c);if(w)N.push(ne.geometry);else{var Te=eu(ne);Te.type==="FeatureCollection"?N.push.apply(N,Te.features):N.push(Te)}}}),w?al(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function Vu(c,_){return new Qr(c,_)}var xs=Vu,wo=_s.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,_,w){this._url=c,this._bounds=pe(_),S(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){en(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Cn(this._image),this},bringToBack:function(){return this._map&&qt(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=pe(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",_=this._image=c?this._url:Dt("img");if(Nt(_,"leaflet-image-layer"),this._zoomAnimated&&Nt(_,"leaflet-zoom-animated"),this.options.className&&Nt(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onload=o(this.fire,this,"load"),_.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(c){var _=this._map.getZoomScale(c.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;vi(this._image,w,_)},_reset:function(){var c=this._image,_=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=_.getSize();Wn(c,_.min),c.style.width=w.x+"px",c.style.height=w.y+"px"},_updateOpacity:function(){Li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),ju=function(c,_,w){return new wo(c,_,w)},es=wo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",_=this._image=c?this._url:Dt("video");if(Nt(_,"leaflet-image-layer"),this._zoomAnimated&&Nt(_,"leaflet-zoom-animated"),this.options.className&&Nt(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onloadeddata=o(this.fire,this,"load"),c){for(var w=_.getElementsByTagName("source"),N=[],W=0;W<w.length;W++)N.push(w[W].src);this._url=w.length>0?N:[_.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var ne=0;ne<this._url.length;ne++){var Te=Dt("source");Te.src=this._url[ne],_.appendChild(Te)}}});function ll(c,_,w){return new es(c,_,w)}var _i=wo.extend({_initImage:function(){var c=this._image=this._url;Nt(c,"leaflet-image-layer"),this._zoomAnimated&&Nt(c,"leaflet-zoom-animated"),this.options.className&&Nt(c,this.options.className),c.onselectstart=p,c.onmousemove=p}});function ar(c,_,w){return new _i(c,_,w)}var li=_s.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,_){c&&(c instanceof xe||P(c))?(this._latlng=be(c),S(this,_)):(S(this,c),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Li(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Li(this._container,0),this._removeTimeout=setTimeout(o(en,void 0,this._container),200)):en(this._container),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=be(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Cn(this._container),this},bringToBack:function(){return this._map&&qt(this._container),this},_prepareOpen:function(c){var _=this._source;if(!_._map)return!1;if(_ instanceof Zn){_=null;var w=this._source._layers;for(var N in w)if(w[N]._map){_=w[N];break}if(!_)return!1;this._source=_}if(!c)if(_.getCenter)c=_.getCenter();else if(_.getLatLng)c=_.getLatLng();else if(_.getBounds)c=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")c.innerHTML=_;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),_=j(this.options.offset),w=this._getAnchor();this._zoomAnimated?Wn(this._container,c.add(w)):_=_.add(c).add(w);var N=this._containerBottom=-_.y,W=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=N+"px",this._container.style.left=W+"px"}},_getAnchor:function(){return[0,0]}});Gn.include({_initOverlay:function(c,_,w,N){var W=_;return W instanceof c||(W=new c(N).setContent(_)),w&&W.setLatLng(w),W}}),_s.include({_initOverlay:function(c,_,w,N){var W=w;return W instanceof c?(S(W,N),W._source=this):(W=_&&!N?_:new c(N,this),W.setContent(w)),W}});var ul=li.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,li.prototype.openOn.call(this,c)},onAdd:function(c){li.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ds||this._source.on("preclick",To))},onRemove:function(c){li.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ds||this._source.off("preclick",To))},getEvents:function(){var c=li.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",_=this._container=Dt("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=Dt("div",c+"-content-wrapper",_);if(this._contentNode=Dt("div",c+"-content",w),Zr(_),nl(this._contentNode),mn(_,"contextmenu",To),this._tipContainer=Dt("div",c+"-tip-container",_),this._tip=Dt("div",c+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=Dt("a",c+"-close-button",_);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',mn(N,"click",function(W){Ni(W),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,_=c.style;_.width="",_.whiteSpace="nowrap";var w=c.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),_.width=w+1+"px",_.whiteSpace="",_.height="";var N=c.offsetHeight,W=this.options.maxHeight,ne="leaflet-popup-scrolled";W&&N>W?(_.height=W+"px",Nt(c,ne)):Ln(c,ne),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var _=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),w=this._getAnchor();Wn(this._container,_.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,_=parseInt(Gt(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+_,N=this._containerWidth,W=new Y(this._containerLeft,-w-this._containerBottom);W._add(ai(this._container));var ne=c.layerPointToContainerPoint(W),Te=j(this.options.autoPanPadding),Fe=j(this.options.autoPanPaddingTopLeft||Te),We=j(this.options.autoPanPaddingBottomRight||Te),lt=c.getSize(),zt=0,dn=0;ne.x+N+We.x>lt.x&&(zt=ne.x+N-lt.x+We.x),ne.x-zt-Fe.x<0&&(zt=ne.x-Fe.x),ne.y+w+We.y>lt.y&&(dn=ne.y+w-lt.y+We.y),ne.y-dn-Fe.y<0&&(dn=ne.y-Fe.y),(zt||dn)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([zt,dn]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Co=function(c,_){return new ul(c,_)};Gn.mergeOptions({closePopupOnClick:!0}),Gn.include({openPopup:function(c,_,w){return this._initOverlay(ul,c,_,w).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),_s.include({bindPopup:function(c,_){return this._popup=this._initOverlay(ul,this._popup,c,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){eo(c);var _=c.layer||c.target;if(this._popup._source===_&&!(_ instanceof Ds)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=_,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var Ao=li.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){li.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){li.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=li.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",_=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Dt("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var _,w,N=this._map,W=this._container,ne=N.latLngToContainerPoint(N.getCenter()),Te=N.layerPointToContainerPoint(c),Fe=this.options.direction,We=W.offsetWidth,lt=W.offsetHeight,zt=j(this.options.offset),dn=this._getAnchor();Fe==="top"?(_=We/2,w=lt):Fe==="bottom"?(_=We/2,w=0):Fe==="center"?(_=We/2,w=lt/2):Fe==="right"?(_=0,w=lt/2):Fe==="left"?(_=We,w=lt/2):Te.x<ne.x?(Fe="right",_=0,w=lt/2):(Fe="left",_=We+(zt.x+dn.x)*2,w=lt/2),c=c.subtract(j(_,w,!0)).add(zt).add(dn),Ln(W,"leaflet-tooltip-right"),Ln(W,"leaflet-tooltip-left"),Ln(W,"leaflet-tooltip-top"),Ln(W,"leaflet-tooltip-bottom"),Nt(W,"leaflet-tooltip-"+Fe),Wn(W,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Li(this._container,c)},_animateZoom:function(c){var _=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(_)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wu=function(c,_){return new Ao(c,_)};Gn.include({openTooltip:function(c,_,w){return this._initOverlay(Ao,c,_,w).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),_s.include({bindTooltip:function(c,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ao,this._tooltip,c,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var _=c?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[_](w),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var _=typeof c.getElement=="function"&&c.getElement();_&&(mn(_,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),mn(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var _=typeof c.getElement=="function"&&c.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var _=c.latlng,w,N;this._tooltip.options.sticky&&c.originalEvent&&(w=this._map.mouseEventToContainerPoint(c.originalEvent),N=this._map.containerPointToLayerPoint(w),_=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(_)}});var Ji=gr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var _=c&&c.tagName==="DIV"?c:document.createElement("div"),w=this.options;if(w.html instanceof Element?(xn(_),_.appendChild(w.html)):_.innerHTML=w.html!==!1?w.html:"",w.bgPos){var N=j(w.bgPos);_.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function qc(c){return new Ji(c)}gr.Default=ol;var Mo=_s.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){S(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),en(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Cn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof Y?c:new Y(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var _=this.getPane().children,w=-c(-1/0,1/0),N=0,W=_.length,ne;N<W;N++)ne=_[N].style.zIndex,_[N]!==this._container&&ne&&(w=c(w,+ne));isFinite(w)&&(this.options.zIndex=w+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qt.ielt9){Li(this._container,this.options.opacity);var c=+new Date,_=!1,w=!1;for(var N in this._tiles){var W=this._tiles[N];if(!(!W.current||!W.loaded)){var ne=Math.min(1,(c-W.loaded)/200);Li(W.el,ne),ne<1?_=!0:(W.active?w=!0:this._onOpaqueTile(W),W.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),_&&($(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,_=this.options.maxZoom;if(c!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===c?(this._levels[w].el.style.zIndex=_-Math.abs(c-w),this._onUpdateLevel(w)):(en(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var N=this._levels[c],W=this._map;return N||(N=this._levels[c]={},N.el=Dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=_,N.origin=W.project(W.unproject(W.getPixelOrigin()),c).round(),N.zoom=c,this._setZoomTransform(N,W.getCenter(),W.getZoom()),p(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var c,_,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)_=this._tiles[c],_.retain=_.current;for(c in this._tiles)if(_=this._tiles[c],_.current&&!_.active){var N=_.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var _ in this._tiles)this._tiles[_].coords.z===c&&this._removeTile(_)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)en(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,_,w,N){var W=Math.floor(c/2),ne=Math.floor(_/2),Te=w-1,Fe=new Y(+W,+ne);Fe.z=+Te;var We=this._tileCoordsToKey(Fe),lt=this._tiles[We];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),Te>N?this._retainParent(W,ne,Te,N):!1)},_retainChildren:function(c,_,w,N){for(var W=2*c;W<2*c+2;W++)for(var ne=2*_;ne<2*_+2;ne++){var Te=new Y(W,ne);Te.z=w+1;var Fe=this._tileCoordsToKey(Te),We=this._tiles[Fe];if(We&&We.active){We.retain=!0;continue}else We&&We.loaded&&(We.retain=!0);w+1<N&&this._retainChildren(W,ne,w+1,N)}},_resetView:function(c){var _=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var _=this.options;return _.minNativeZoom!==void 0&&c<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<c?_.maxNativeZoom:c},_setView:function(c,_,w,N){var W=Math.round(_);this.options.maxZoom!==void 0&&W>this.options.maxZoom||this.options.minZoom!==void 0&&W<this.options.minZoom?W=void 0:W=this._clampZoom(W);var ne=this.options.updateWhenZooming&&W!==this._tileZoom;(!N||ne)&&(this._tileZoom=W,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),W!==void 0&&this._update(c),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(c,_)},_setZoomTransforms:function(c,_){for(var w in this._levels)this._setZoomTransform(this._levels[w],c,_)},_setZoomTransform:function(c,_,w){var N=this._map.getZoomScale(w,c.zoom),W=c.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(_,w)).round();Qt.any3d?vi(c.el,W,N):Wn(c.el,W)},_resetGrid:function(){var c=this._map,_=c.options.crs,w=this._tileSize=this.getTileSize(),N=this._tileZoom,W=this._map.getPixelWorldBounds(this._tileZoom);W&&(this._globalTileRange=this._pxBoundsToTileRange(W)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,_.wrapLng[0]],N).x/w.x),Math.ceil(c.project([0,_.wrapLng[1]],N).x/w.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([_.wrapLat[0],0],N).y/w.x),Math.ceil(c.project([_.wrapLat[1],0],N).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var _=this._map,w=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),N=_.getZoomScale(w,this._tileZoom),W=_.project(c,this._tileZoom).floor(),ne=_.getSize().divideBy(N*2);return new ee(W.subtract(ne),W.add(ne))},_update:function(c){var _=this._map;if(_){var w=this._clampZoom(_.getZoom());if(c===void 0&&(c=_.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(c),W=this._pxBoundsToTileRange(N),ne=W.getCenter(),Te=[],Fe=this.options.keepBuffer,We=new ee(W.getBottomLeft().subtract([Fe,-Fe]),W.getTopRight().add([Fe,-Fe]));if(!(isFinite(W.min.x)&&isFinite(W.min.y)&&isFinite(W.max.x)&&isFinite(W.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var zt=this._tiles[lt].coords;(zt.z!==this._tileZoom||!We.contains(new Y(zt.x,zt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(c,w);return}for(var dn=W.min.y;dn<=W.max.y;dn++)for(var Pn=W.min.x;Pn<=W.max.x;Pn++){var vr=new Y(Pn,dn);if(vr.z=this._tileZoom,!!this._isValidTile(vr)){var Vi=this._tiles[this._tileCoordsToKey(vr)];Vi?Vi.current=!0:Te.push(vr)}}if(Te.sort(function(ts,fl){return ts.distanceTo(ne)-fl.distanceTo(ne)}),Te.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Br=document.createDocumentFragment();for(Pn=0;Pn<Te.length;Pn++)this._addTile(Te[Pn],Br);this._level.el.appendChild(Br)}}}},_isValidTile:function(c){var _=this._map.options.crs;if(!_.infinite){var w=this._globalTileRange;if(!_.wrapLng&&(c.x<w.min.x||c.x>w.max.x)||!_.wrapLat&&(c.y<w.min.y||c.y>w.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(c);return pe(this.options.bounds).overlaps(N)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var _=this._map,w=this.getTileSize(),N=c.scaleBy(w),W=N.add(w),ne=_.unproject(N,c.z),Te=_.unproject(W,c.z);return[ne,Te]},_tileCoordsToBounds:function(c){var _=this._tileCoordsToNwSe(c),w=new J(_[0],_[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var _=c.split(":"),w=new Y(+_[0],+_[1]);return w.z=+_[2],w},_removeTile:function(c){var _=this._tiles[c];_&&(en(_.el),delete this._tiles[c],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Nt(c,"leaflet-tile");var _=this.getTileSize();c.style.width=_.x+"px",c.style.height=_.y+"px",c.onselectstart=p,c.onmousemove=p,Qt.ielt9&&this.options.opacity<1&&Li(c,this.options.opacity)},_addTile:function(c,_){var w=this._getTilePos(c),N=this._tileCoordsToKey(c),W=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(W),this.createTile.length<2&&Z(o(this._tileReady,this,c,null,W)),Wn(W,w),this._tiles[N]={el:W,coords:c,current:!0},_.appendChild(W),this.fire("tileloadstart",{tile:W,coords:c})},_tileReady:function(c,_,w){_&&this.fire("tileerror",{error:_,tile:w,coords:c});var N=this._tileCoordsToKey(c);w=this._tiles[N],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Li(w.el,0),$(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),_||(Nt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qt.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var _=new Y(this._wrapX?f(c.x,this._wrapX):c.x,this._wrapY?f(c.y,this._wrapY):c.y);return _.z=c.z,_},_pxBoundsToTileRange:function(c){var _=this.getTileSize();return new ee(c.min.unscaleBy(_).floor(),c.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function Aa(c){return new Mo(c)}var wr=Mo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,_){this._url=c,_=S(this,_),_.detectRetina&&Qt.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,_){return this._url===c&&_===void 0&&(_=!0),this._url=c,_||this.redraw(),this},createTile:function(c,_){var w=document.createElement("img");return mn(w,"load",o(this._tileOnLoad,this,_,w)),mn(w,"error",o(this._tileOnError,this,_,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(c),w},getTileUrl:function(c){var _={r:Qt.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-c.y;this.options.tms&&(_.y=w),_["-y"]=w}return R(this._url,r(_,this.options))},_tileOnLoad:function(c,_){Qt.ielt9?setTimeout(o(c,this,null,_),0):c(null,_)},_tileOnError:function(c,_,w){var N=this.options.errorTileUrl;N&&_.getAttribute("src")!==N&&(_.src=N),c(w,_)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,_=this.options.maxZoom,w=this.options.zoomReverse,N=this.options.zoomOffset;return w&&(c=_-c),c+N},_getSubdomain:function(c){var _=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var c,_;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(_=this._tiles[c].el,_.onload=p,_.onerror=p,!_.complete)){_.src=G;var w=this._tiles[c].coords;en(_),delete this._tiles[c],this.fire("tileabort",{tile:_,coords:w})}},_removeTile:function(c){var _=this._tiles[c];if(_)return _.el.setAttribute("src",G),Mo.prototype._removeTile.call(this,c)},_tileReady:function(c,_,w){if(!(!this._map||w&&w.getAttribute("src")===G))return Mo.prototype._tileReady.call(this,c,_,w)}});function Fs(c,_){return new wr(c,_)}var so=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,_){this._url=c;var w=r({},this.defaultWmsParams);for(var N in _)N in this.options||(w[N]=_[N]);_=S(this,_);var W=_.detectRetina&&Qt.retina?2:1,ne=this.getTileSize();w.width=ne.x*W,w.height=ne.y*W,this.wmsParams=w},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,wr.prototype.onAdd.call(this,c)},getTileUrl:function(c){var _=this._tileCoordsToNwSe(c),w=this._crs,N=ue(w.project(_[0]),w.project(_[1])),W=N.min,ne=N.max,Te=(this._wmsVersion>=1.3&&this._crs===nh?[W.y,W.x,ne.y,ne.x]:[W.x,W.y,ne.x,ne.y]).join(","),Fe=wr.prototype.getTileUrl.call(this,c);return Fe+b(this.wmsParams,Fe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(c,_){return r(this.wmsParams,c),_||this.redraw(),this}});function Gu(c,_){return new so(c,_)}wr.WMS=so,Fs.wms=Gu;var Es=_s.extend({options:{padding:.1},initialize:function(c){S(this,c),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,_){var w=this._map.getZoomScale(_,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),W=this._map.project(this._center,_),ne=N.multiplyBy(-w).add(W).subtract(this._map._getNewPixelOrigin(c,_));Qt.any3d?vi(this._container,ne,w):Wn(this._container,ne)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,_=this._map.getSize(),w=this._map.containerPointToLayerPoint(_.multiplyBy(-c)).round();this._bounds=new ee(w,w.add(_.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zc=Es.extend({options:{tolerance:0},getEvents:function(){var c=Es.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Es.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");mn(c,"mousemove",this._onMouseMove,this),mn(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mn(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,en(this._container),di(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var _ in this._layers)c=this._layers[_],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Es.prototype._update.call(this);var c=this._bounds,_=this._container,w=c.getSize(),N=Qt.retina?2:1;Wn(_,c.min),_.width=N*w.x,_.height=N*w.y,_.style.width=w.x+"px",_.style.height=w.y+"px",Qt.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Es.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[u(c)]=c;var _=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var _=c._order,w=_.next,N=_.prev;w?w.prev=N:this._drawLast=N,N?N.next=w:this._drawFirst=w,delete c._order,delete this._layers[u(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var _=c.options.dashArray.split(/[, ]+/),w=[],N,W;for(W=0;W<_.length;W++){if(N=Number(_[W]),isNaN(N))return;w.push(N)}c.options._dashArray=w}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var _=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(c._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(c._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var _=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,_=this._redrawBounds;if(this._ctx.save(),_){var w=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)c=N.layer,(!_||c._pxBounds&&c._pxBounds.intersects(_))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,_){if(this._drawing){var w,N,W,ne,Te=c._parts,Fe=Te.length,We=this._ctx;if(Fe){for(We.beginPath(),w=0;w<Fe;w++){for(N=0,W=Te[w].length;N<W;N++)ne=Te[w][N],We[N?"lineTo":"moveTo"](ne.x,ne.y);_&&We.closePath()}this._fillStroke(We,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var _=c._point,w=this._ctx,N=Math.max(Math.round(c._radius),1),W=(Math.max(Math.round(c._radiusY),1)||N)/N;W!==1&&(w.save(),w.scale(1,W)),w.beginPath(),w.arc(_.x,_.y/W,N,0,Math.PI*2,!1),W!==1&&w.restore(),this._fillStroke(w,c)}},_fillStroke:function(c,_){var w=_.options;w.fill&&(c.globalAlpha=w.fillOpacity,c.fillStyle=w.fillColor||w.color,c.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(c.setLineDash&&c.setLineDash(_.options&&_.options._dashArray||[]),c.globalAlpha=w.opacity,c.lineWidth=w.weight,c.strokeStyle=w.color,c.lineCap=w.lineCap,c.lineJoin=w.lineJoin,c.stroke())},_onClick:function(c){for(var _=this._map.mouseEventToLayerPoint(c),w,N,W=this._drawFirst;W;W=W.next)w=W.layer,w.options.interactive&&w._containsPoint(_)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(w))&&(N=w);this._fireEvent(N?[N]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,_)}},_handleMouseOut:function(c){var _=this._hoveredLayer;_&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([_],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,_){if(!this._mouseHoverThrottled){for(var w,N,W=this._drawFirst;W;W=W.next)w=W.layer,w.options.interactive&&w._containsPoint(_)&&(N=w);N!==this._hoveredLayer&&(this._handleMouseOut(c),N&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([N],c,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,_,w){this._map._fireDOMEvent(_,w||_.type,c)},_bringToFront:function(c){var _=c._order;if(_){var w=_.next,N=_.prev;if(w)w.prev=N;else return;N?N.next=w:w&&(this._drawFirst=w),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(c)}},_bringToBack:function(c){var _=c._order;if(_){var w=_.next,N=_.prev;if(N)N.next=w;else return;w?w.prev=N:N&&(this._drawLast=N),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(c)}}});function Kc(c){return Qt.canvas?new Zc(c):null}var cl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sh={_initContainer:function(){this._container=Dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Es.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var _=c._container=cl("shape");Nt(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",c._path=cl("path"),_.appendChild(c._path),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){var _=c._container;this._container.appendChild(_),c.options.interactive&&c.addInteractiveTarget(_)},_removePath:function(c){var _=c._container;en(_),c.removeInteractiveTarget(_),delete this._layers[u(c)]},_updateStyle:function(c){var _=c._stroke,w=c._fill,N=c.options,W=c._container;W.stroked=!!N.stroke,W.filled=!!N.fill,N.stroke?(_||(_=c._stroke=cl("stroke")),W.appendChild(_),_.weight=N.weight+"px",_.color=N.color,_.opacity=N.opacity,N.dashArray?_.dashStyle=P(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=N.lineCap.replace("butt","flat"),_.joinstyle=N.lineJoin):_&&(W.removeChild(_),c._stroke=null),N.fill?(w||(w=c._fill=cl("fill")),W.appendChild(w),w.color=N.fillColor||N.color,w.opacity=N.fillOpacity):w&&(W.removeChild(w),c._fill=null)},_updateCircle:function(c){var _=c._point.round(),w=Math.round(c._radius),N=Math.round(c._radiusY||w);this._setPath(c,c._empty()?"M0 0":"AL "+_.x+","+_.y+" "+w+","+N+" 0,"+65535*360)},_setPath:function(c,_){c._path.v=_},_bringToFront:function(c){Cn(c._container)},_bringToBack:function(c){qt(c._container)}},Bs=Qt.vml?cl:ut,Ma=Es.extend({_initContainer:function(){this._container=Bs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){en(this._container),di(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Es.prototype._update.call(this);var c=this._bounds,_=c.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,w.setAttribute("width",_.x),w.setAttribute("height",_.y)),Wn(w,c.min),w.setAttribute("viewBox",[c.min.x,c.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(c){var _=c._path=Bs("path");c.options.className&&Nt(_,c.options.className),c.options.interactive&&Nt(_,"leaflet-interactive"),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){en(c._path),c.removeInteractiveTarget(c._path),delete this._layers[u(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var _=c._path,w=c.options;_&&(w.stroke?(_.setAttribute("stroke",w.color),_.setAttribute("stroke-opacity",w.opacity),_.setAttribute("stroke-width",w.weight),_.setAttribute("stroke-linecap",w.lineCap),_.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?_.setAttribute("stroke-dasharray",w.dashArray):_.removeAttribute("stroke-dasharray"),w.dashOffset?_.setAttribute("stroke-dashoffset",w.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),w.fill?(_.setAttribute("fill",w.fillColor||w.color),_.setAttribute("fill-opacity",w.fillOpacity),_.setAttribute("fill-rule",w.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(c,_){this._setPath(c,et(c._parts,_))},_updateCircle:function(c){var _=c._point,w=Math.max(Math.round(c._radius),1),N=Math.max(Math.round(c._radiusY),1)||w,W="a"+w+","+N+" 0 1,0 ",ne=c._empty()?"M0 0":"M"+(_.x-w)+","+_.y+W+w*2+",0 "+W+-w*2+",0 ";this._setPath(c,ne)},_setPath:function(c,_){c._path.setAttribute("d",_)},_bringToFront:function(c){Cn(c._path)},_bringToBack:function(c){qt(c._path)}});Qt.vml&&Ma.include(sh);function tu(c){return Qt.svg||Qt.vml?new Ma(c):null}Gn.include({getRenderer:function(c){var _=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var _=this._paneRenderers[c];return _===void 0&&(_=this._createRenderer({pane:c}),this._paneRenderers[c]=_),_},_createRenderer:function(c){return this.options.preferCanvas&&Kc(c)||tu(c)}});var nu=$r.extend({initialize:function(c,_){$r.prototype.initialize.call(this,this._boundsToLatLngs(c),_)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=pe(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function If(c,_){return new nu(c,_)}Ma.create=Bs,Ma.pointsToPath=et,Qr.geometryToLayer=yr,Qr.coordsToLatLng=sa,Qr.coordsToLatLngs=Jr,Qr.latLngToCoords=Jl,Qr.latLngsToCoords=oa,Qr.getFeature=al,Qr.asFeature=eu,Gn.mergeOptions({boxZoom:!0});var aa=bi.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){mn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){di(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){en(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),An(),Bc(),this._startPoint=this._map.mouseEventToContainerPoint(c),mn(document,{contextmenu:eo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Dt("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var _=new ee(this._point,this._startPoint),w=_.getSize();Wn(this._box,_.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(en(this._box),Ln(this._container,"leaflet-crosshair")),sr(),Gl(),di(document,{contextmenu:eo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var _=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gn.addInitHook("addHandler","boxZoom",aa),Gn.mergeOptions({doubleClickZoom:!0});var Yu=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var _=this._map,w=_.getZoom(),N=_.options.zoomDelta,W=c.originalEvent.shiftKey?w-N:w+N;_.options.doubleClickZoom==="center"?_.setZoom(W):_.setZoomAround(c.containerPoint,W)}});Gn.addInitHook("addHandler","doubleClickZoom",Yu),Gn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xu=bi.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new gs(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ln(this._map._container,"leaflet-grab"),Ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=pe(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var _=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(_),this._prunePositions(_)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,_){return c-(c-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;c.x<_.min.x&&(c.x=this._viscousLimit(c.x,_.min.x)),c.y<_.min.y&&(c.y=this._viscousLimit(c.y,_.min.y)),c.x>_.max.x&&(c.x=this._viscousLimit(c.x,_.max.x)),c.y>_.max.y&&(c.y=this._viscousLimit(c.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,_=Math.round(c/2),w=this._initialWorldOffset,N=this._draggable._newPos.x,W=(N-_+w)%c+_-w,ne=(N+_+w)%c-_-w,Te=Math.abs(W+w)<Math.abs(ne+w)?W:ne;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(c){var _=this._map,w=_.options,N=!w.inertia||c.noInertia||this._times.length<2;if(_.fire("dragend",c),N)_.fire("moveend");else{this._prunePositions(+new Date);var W=this._lastPos.subtract(this._positions[0]),ne=(this._lastTime-this._times[0])/1e3,Te=w.easeLinearity,Fe=W.multiplyBy(Te/ne),We=Fe.distanceTo([0,0]),lt=Math.min(w.inertiaMaxSpeed,We),zt=Fe.multiplyBy(lt/We),dn=lt/(w.inertiaDeceleration*Te),Pn=zt.multiplyBy(-dn/2).round();!Pn.x&&!Pn.y?_.fire("moveend"):(Pn=_._limitOffset(Pn,_.options.maxBounds),Z(function(){_.panBy(Pn,{duration:dn,easeLinearity:Te,noMoveStart:!0,animate:!0})}))}}});Gn.addInitHook("addHandler","dragging",Xu),Gn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var dl=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),mn(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),di(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,_=document.documentElement,w=c.scrollTop||_.scrollTop,N=c.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(N,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var _=this._panKeys={},w=this.keyCodes,N,W;for(N=0,W=w.left.length;N<W;N++)_[w.left[N]]=[-1*c,0];for(N=0,W=w.right.length;N<W;N++)_[w.right[N]]=[c,0];for(N=0,W=w.down.length;N<W;N++)_[w.down[N]]=[0,c];for(N=0,W=w.up.length;N<W;N++)_[w.up[N]]=[0,-1*c]},_setZoomDelta:function(c){var _=this._zoomKeys={},w=this.keyCodes,N,W;for(N=0,W=w.zoomIn.length;N<W;N++)_[w.zoomIn[N]]=c;for(N=0,W=w.zoomOut.length;N<W;N++)_[w.zoomOut[N]]=-c},_addHooks:function(){mn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){di(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var _=c.keyCode,w=this._map,N;if(_ in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(N=this._panKeys[_],c.shiftKey&&(N=j(N).multiplyBy(3)),w.options.maxBounds&&(N=w._limitOffset(j(N),w.options.maxBounds)),w.options.worldCopyJump){var W=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(N)));w.panTo(W)}else w.panBy(N)}else if(_ in this._zoomKeys)w.setZoom(w.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;eo(c)}}});Gn.addInitHook("addHandler","keyboard",dl),Gn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ui=bi.extend({addHooks:function(){mn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){di(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var _=zc(c),w=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var N=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),N),eo(c)},_performZoom:function(){var c=this._map,_=c.getZoom(),w=this._map.options.zoomSnap||0;c._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),W=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,ne=w?Math.ceil(W/w)*w:W,Te=c._limitZoom(_+(this._delta>0?ne:-ne))-_;this._delta=0,this._startTime=null,Te&&(c.options.scrollWheelZoom==="center"?c.setZoom(_+Te):c.setZoomAround(this._lastMousePos,_+Te))}});Gn.addInitHook("addHandler","scrollWheelZoom",ui);var $c=600;Gn.mergeOptions({tapHold:Qt.touchNative&&Qt.safari&&Qt.mobile,tapTolerance:15});var iu=bi.extend({addHooks:function(){mn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){di(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var _=c.touches[0];this._startPos=this._newPos=new Y(_.clientX,_.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mn(document,"touchend",Ni),mn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),$c),mn(document,"touchend touchcancel contextmenu",this._cancel,this),mn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){di(document,"touchend",Ni),di(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),di(document,"touchend touchcancel contextmenu",this._cancel,this),di(document,"touchmove",this._onMove,this)},_onMove:function(c){var _=c.touches[0];this._newPos=new Y(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,_){var w=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});w._simulated=!0,_.target.dispatchEvent(w)}});Gn.addInitHook("addHandler","tapHold",iu),Gn.mergeOptions({touchZoom:Qt.touch,bounceAtZoomLimits:!0});var hl=bi.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),mn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),di(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var _=this._map;if(!(!c.touches||c.touches.length!==2||_._animatingZoom||this._zooming)){var w=_.mouseEventToContainerPoint(c.touches[0]),N=_.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(w.add(N)._divideBy(2))),this._startDist=w.distanceTo(N),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),mn(document,"touchmove",this._onTouchMove,this),mn(document,"touchend touchcancel",this._onTouchEnd,this),Ni(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var _=this._map,w=_.mouseEventToContainerPoint(c.touches[0]),N=_.mouseEventToContainerPoint(c.touches[1]),W=w.distanceTo(N)/this._startDist;if(this._zoom=_.getScaleZoom(W,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&W<1||this._zoom>_.getMaxZoom()&&W>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,W===1)return}else{var ne=w._add(N)._divideBy(2)._subtract(this._centerPoint);if(W===1&&ne.x===0&&ne.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(ne),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var Te=o(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(Te,this,!0),Ni(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),di(document,"touchmove",this._onTouchMove,this),di(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gn.addInitHook("addHandler","touchZoom",hl),Gn.BoxZoom=aa,Gn.DoubleClickZoom=Yu,Gn.Drag=Xu,Gn.Keyboard=dl,Gn.ScrollWheelZoom=ui,Gn.TapHold=iu,Gn.TouchZoom=hl,n.Bounds=ee,n.Browser=Qt,n.CRS=Ce,n.Canvas=Zc,n.Circle=Sa,n.CircleMarker=ra,n.Class=ie,n.Control=ps,n.DivIcon=Ji,n.DivOverlay=li,n.DomEvent=Hc,n.DomUtil=tl,n.Draggable=gs,n.Evented=he,n.FeatureGroup=Zn,n.GeoJSON=Qr,n.GridLayer=Mo,n.Handler=bi,n.Icon=gr,n.ImageOverlay=wo,n.LatLng=xe,n.LatLngBounds=J,n.Layer=_s,n.LayerGroup=Hi,n.LineUtil=vs,n.Map=Gn,n.Marker=ro,n.Mixin=Os,n.Path=Ds,n.Point=Y,n.PolyUtil=Wc,n.Polygon=$r,n.Polyline=Kr,n.Popup=ul,n.PosAnimation=fs,n.Projection=ia,n.Rectangle=nu,n.Renderer=Es,n.SVG=Ma,n.SVGOverlay=_i,n.TileLayer=wr,n.Tooltip=Ao,n.Transformation=ot,n.Util=re,n.VideoOverlay=es,n.bind=o,n.bounds=ue,n.canvas=Kc,n.circle=wa,n.circleMarker=Xc,n.control=or,n.divIcon=qc,n.extend=r,n.featureGroup=Ql,n.geoJSON=Vu,n.geoJson=xs,n.gridLayer=Aa,n.icon=rh,n.imageOverlay=ju,n.latLng=be,n.latLngBounds=pe,n.layerGroup=mr,n.map=to,n.marker=Mf,n.point=j,n.polygon=Rf,n.polyline=Pf,n.popup=Co,n.rectangle=If,n.setOptions=S,n.stamp=u,n.svg=tu,n.svgOverlay=ar,n.tileLayer=Fs,n.tooltip=Wu,n.transformation=_t,n.version=i,n.videoOverlay=ll;var Qc=window.L;n.noConflict=function(){return window.L=Qc,this},window.L=n})}(Og,Og.exports)),Og.exports}var xm=tJ();const gC=qa(xm);function A1(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function yC(t,e){return e==null?function(i,r){const s=X.useRef();return s.current||(s.current=t(i,r)),s}:function(i,r){const s=X.useRef();s.current||(s.current=t(i,r));const o=X.useRef(i),{instance:a}=s.current;return X.useEffect(function(){o.current!==i&&(e(a,i,o.current),o.current=i)},[a,i,r]),s}}function nJ(t,e){X.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function jD(t){return function(n){const i=HD(),r=t(mC(n,i),i);return BD(i.map,n.attribution),VD(r.current,n.eventHandlers),nJ(r.current,i),r}}function iJ(t,e){const n=yC(t,e),i=jD(n);return KQ(i)}function WD(t,e){const n=yC(t),i=JQ(n,e);return $Q(i)}function rJ(t,e){const n=yC(t,e),i=jD(n);return QQ(i)}function sJ(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function cS(){return cS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cS.apply(this,arguments)}function oJ({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:s,placeholder:o,style:a,whenReady:u,zoom:d,...f},p){const[y]=X.useState({className:r,id:s,style:a}),[v,T]=X.useState(null);X.useImperativeHandle(p,()=>v?.map??null,[v]);const S=X.useCallback(E=>{if(E!==null&&v===null){const R=new xm.Map(E,f);n!=null&&d!=null?R.setView(n,d):t!=null&&R.fitBounds(t,e),u!=null&&R.whenReady(u),T(qQ(R))}},[]);X.useEffect(()=>()=>{v?.map.remove()},[v]);const b=v?it.createElement(zD,{value:v},i):o??null;return it.createElement("div",cS({},y,{ref:S}),b)}const GD=X.forwardRef(oJ),YD=iJ(function({position:e,...n},i){const r=new xm.Marker(e,n);return A1(r,ZQ(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),XD=WD(function(e,n){const i=new xm.Popup(e,n.overlayContainer);return A1(i,n)},function(e,n,{position:i},r){X.useEffect(function(){const{instance:o}=e;function a(d){d.popup===o&&(o.update(),r(!0))}function u(d){d.popup===o&&r(!1)}return n.map.on({popupopen:a,popupclose:u}),n.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:a,popupclose:u}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[e,n,r,i])}),g_=rJ(function({url:e,...n},i){const r=new xm.TileLayer(e,mC(n,i));return A1(r,i)},function(e,n,i){sJ(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),aJ=WD(function(e,n){const i=new xm.Tooltip(e,n.overlayContainer);return A1(i,n)},function(e,n,{position:i},r){X.useEffect(function(){const o=n.overlayContainer;if(o==null)return;const{instance:a}=e,u=f=>{f.tooltip===a&&(i!=null&&a.setLatLng(i),a.update(),r(!0))},d=f=>{f.tooltip===a&&r(!1)};return o.on({tooltipopen:u,tooltipclose:d}),o.bindTooltip(a),function(){o.off({tooltipopen:u,tooltipclose:d}),o._map!=null&&o.unbindTooltip()}},[e,n,r,i])}),lJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",uJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",cJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete gC.Icon.Default.prototype._getIconUrl;gC.Icon.Default.mergeOptions({iconRetinaUrl:lJ,iconUrl:uJ,shadowUrl:cJ});const cR=[7.118246885181027,125.49535579013283],dJ=()=>F.jsx("div",{className:"w-full h-[340px]",children:F.jsxs(GD,{center:cR,zoom:14,scrollWheelZoom:!1,className:"h-full w-full z-0",children:[F.jsx(g_,{attribution:' <a href="https://stadiamaps.com/">Stadia Maps</a>,  <a href="https://stamen.com/">Stamen</a>',url:"https://tiles.stadiamaps.com/tiles/stamen_terrain_background/{z}/{x}/{y}{r}.png?api_key=02cd7782-da88-4ad1-9d99-f2c60f5e8a54"}),F.jsx(g_,{attribution:' <a href="https://stadiamaps.com/">Stadia Maps</a>,  <a href="https://stamen.com/">Stamen</a>',url:"https://tiles.stadiamaps.com/tiles/stamen_terrain_lines/{z}/{x}/{y}{r}.png?api_key=02cd7782-da88-4ad1-9d99-f2c60f5e8a54"}),F.jsx(g_,{attribution:' <a href="https://stadiamaps.com/">Stadia Maps</a>,  <a href="https://stamen.com/">Stamen</a>',url:"https://tiles.stadiamaps.com/tiles/stamen_terrain_labels/{z}/{x}/{y}{r}.png?api_key=02cd7782-da88-4ad1-9d99-f2c60f5e8a54"}),F.jsx(YD,{position:cR,children:F.jsxs(XD,{children:["B11A L65 Martylville Subdivision",F.jsx("br",{}),"San Lorenzo Purok 13 Brgy Ula,",F.jsx("br",{}),"Tugbok, Davao City, Davao Del Sur, Philippines"]})})]})}),hJ=()=>(X.useEffect(()=>{const t=window.location.hash;t&&setTimeout(()=>{const e=document.querySelector(t);e&&e.scrollIntoView({behavior:"smooth"})},100)},[]),F.jsx(v7,{children:F.jsxs(fm,{children:[F.jsxs(m0,{htmlAttributes:{lang:"en"},children:[F.jsx("meta",{charSet:"utf-8"}),F.jsx("title",{children:"Torres Pest Control | Termite & Sanitation Services in Davao"}),F.jsx("meta",{name:"description",content:"Torres Pest Control offers professional pest, termite, and sanitation services for Davao homes and businesses. Eco-conscious and family-safe for 14+ years."}),F.jsx("meta",{name:"keywords",content:"pest control Davao, termite treatment, sanitation services, Torres Pest Control"}),F.jsx("meta",{name:"author",content:"Torres Pest Control PH"}),F.jsx("meta",{property:"og:title",content:"Torres Pest Control | Davao"}),F.jsx("meta",{property:"og:description",content:"Expert pest, termite, and sanitation services trusted by Davao homes and businesses."}),F.jsx("meta",{property:"og:url",content:"https://torrespestcontrol.ph/"}),F.jsx("meta",{property:"og:image",content:"https://torrespestcontrol.ph/images/og-banner.jpg"}),F.jsx("meta",{name:"robots",content:"index, follow"})]}),F.jsxs("div",{className:"mx-auto",children:[F.jsx(fQ,{}),F.jsx(IQ,{}),F.jsx(bQ,{}),F.jsx(YQ,{}),F.jsx(SQ,{}),F.jsx(RQ,{}),F.jsx(dJ,{}),F.jsx(GQ,{})]})]})})),qD=X.createContext({});function fJ(t){const e=X.useRef(null);return e.current===null&&(e.current=t()),e.current}const vC=typeof window<"u",pJ=vC?X.useLayoutEffect:X.useEffect,_C=X.createContext(null);function xC(t,e){t.indexOf(e)===-1&&t.push(e)}function EC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lc=(t,e,n)=>n>e?e:n<t?t:n;let TC=()=>{};const Nc={},ZD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KD(t){return typeof t=="object"&&t!==null}const $D=t=>/^0[^.\s]+$/u.test(t);function bC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ga=t=>t,mJ=(t,e)=>n=>e(t(n)),ay=(...t)=>t.reduce(mJ),N0=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class SC{constructor(){this.subscriptions=[]}add(e){return xC(this.subscriptions,e),()=>EC(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tu=t=>t*1e3,bu=t=>t/1e3;function QD(t,e){return e?t*(1e3/e):0}const JD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gJ=1e-7,yJ=12;function vJ(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=JD(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>gJ&&++a<yJ);return o}function ly(t,e,n,i){if(t===e&&n===i)return Ga;const r=s=>vJ(s,0,1,t,n);return s=>s===0||s===1?s:JD(r(s),e,i)}const e4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,t4=t=>e=>1-t(1-e),n4=ly(.33,1.53,.69,.99),wC=t4(n4),i4=e4(wC),r4=t=>(t*=2)<1?.5*wC(t):.5*(2-Math.pow(2,-10*(t-1))),CC=t=>1-Math.sin(Math.acos(t)),s4=t4(CC),o4=e4(CC),_J=ly(.42,0,1,1),xJ=ly(0,0,.58,1),a4=ly(.42,0,.58,1),EJ=t=>Array.isArray(t)&&typeof t[0]!="number",l4=t=>Array.isArray(t)&&typeof t[0]=="number",TJ={linear:Ga,easeIn:_J,easeInOut:a4,easeOut:xJ,circIn:CC,circInOut:o4,circOut:s4,backIn:wC,backInOut:i4,backOut:n4,anticipate:r4},bJ=t=>typeof t=="string",dR=t=>{if(l4(t)){TC(t.length===4);const[e,n,i,r]=t;return ly(e,n,i,r)}else if(bJ(t))return TJ[t];return t},Qv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SJ(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(a)}const d={schedule:(f,p=!1,y=!1)=>{const T=y&&r?n:i;return p&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{i.delete(f),o.delete(f)},process:f=>{if(a=f,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),n.clear(),r=!1,s&&(s=!1,d.process(f))}};return d}const wJ=40;function u4(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Qv.reduce((P,D)=>(P[D]=SJ(s),P),{}),{setup:a,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:y,render:v,postRender:T}=o,S=()=>{const P=Nc.useManualTiming?r.timestamp:performance.now();n=!1,Nc.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(P-r.timestamp,wJ),1)),r.timestamp=P,r.isProcessing=!0,a.process(r),u.process(r),d.process(r),f.process(r),p.process(r),y.process(r),v.process(r),T.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(S))},b=()=>{n=!0,i=!0,r.isProcessing||t(S)};return{schedule:Qv.reduce((P,D)=>{const G=o[D];return P[D]=(V,K=!1,H=!1)=>(n||b(),G.schedule(V,K,H)),P},{}),cancel:P=>{for(let D=0;D<Qv.length;D++)o[Qv[D]].cancel(P)},state:r,steps:o}}const{schedule:Ki,cancel:Gd,state:Ms,steps:XT}=u4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ga,!0);let y_;function CJ(){y_=void 0}const Go={now:()=>(y_===void 0&&Go.set(Ms.isProcessing||Nc.useManualTiming?Ms.timestamp:performance.now()),y_),set:t=>{y_=t,queueMicrotask(CJ)}},c4=t=>e=>typeof e=="string"&&e.startsWith(t),AC=c4("--"),AJ=c4("var(--"),MC=t=>AJ(t)?MJ.test(t.split("/*")[0].trim()):!1,MJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Em={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},O0={...Em,transform:t=>Lc(0,1,t)},Jv={...Em,default:1},qg=t=>Math.round(t*1e5)/1e5,PC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PJ(t){return t==null}const RJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RC=(t,e)=>n=>!!(typeof n=="string"&&RJ.test(n)&&n.startsWith(t)||e&&!PJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),d4=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(PC);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},IJ=t=>Lc(0,255,t),qT={...Em,transform:t=>Math.round(IJ(t))},Qh={test:RC("rgb","red"),parse:d4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+qT.transform(t)+", "+qT.transform(e)+", "+qT.transform(n)+", "+qg(O0.transform(i))+")"};function LJ(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const dS={test:RC("#"),parse:LJ,transform:Qh.transform},uy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rd=uy("deg"),Su=uy("%"),_n=uy("px"),NJ=uy("vh"),OJ=uy("vw"),hR={...Su,parse:t=>Su.parse(t)/100,transform:t=>Su.transform(t*100)},Rp={test:RC("hsl","hue"),parse:d4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Su.transform(qg(e))+", "+Su.transform(qg(n))+", "+qg(O0.transform(i))+")"},Lr={test:t=>Qh.test(t)||dS.test(t)||Rp.test(t),parse:t=>Qh.test(t)?Qh.parse(t):Rp.test(t)?Rp.parse(t):dS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qh.transform(t):Rp.transform(t),getAnimatableNone:t=>{const e=Lr.parse(t);return e.alpha=0,Lr.transform(e)}},kJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DJ(t){return isNaN(t)&&typeof t=="string"&&(t.match(PC)?.length||0)+(t.match(kJ)?.length||0)>0}const h4="number",f4="color",FJ="var",BJ="var(",fR="${}",UJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function k0(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(UJ,u=>(Lr.test(u)?(i.color.push(s),r.push(f4),n.push(Lr.parse(u))):u.startsWith(BJ)?(i.var.push(s),r.push(FJ),n.push(u)):(i.number.push(s),r.push(h4),n.push(parseFloat(u))),++s,fR)).split(fR);return{values:n,split:a,indexes:i,types:r}}function p4(t){return k0(t).values}function m4(t){const{split:e,types:n}=k0(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===h4?s+=qg(r[o]):a===f4?s+=Lr.transform(r[o]):s+=r[o]}return s}}const zJ=t=>typeof t=="number"?0:Lr.test(t)?Lr.getAnimatableNone(t):t;function HJ(t){const e=p4(t);return m4(t)(e.map(zJ))}const Yd={test:DJ,parse:p4,createTransformer:m4,getAnimatableNone:HJ};function ZT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VJ({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=ZT(u,a,t+1/3),s=ZT(u,a,t),o=ZT(u,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Ex(t,e){return n=>n>0?e:t}const ir=(t,e,n)=>t+(e-t)*n,KT=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},jJ=[dS,Qh,Rp],WJ=t=>jJ.find(e=>e.test(t));function pR(t){const e=WJ(t);if(!e)return!1;let n=e.parse(t);return e===Rp&&(n=VJ(n)),n}const mR=(t,e)=>{const n=pR(t),i=pR(e);if(!n||!i)return Ex(t,e);const r={...n};return s=>(r.red=KT(n.red,i.red,s),r.green=KT(n.green,i.green,s),r.blue=KT(n.blue,i.blue,s),r.alpha=ir(n.alpha,i.alpha,s),Qh.transform(r))},hS=new Set(["none","hidden"]);function GJ(t,e){return hS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YJ(t,e){return n=>ir(t,e,n)}function IC(t){return typeof t=="number"?YJ:typeof t=="string"?MC(t)?Ex:Lr.test(t)?mR:ZJ:Array.isArray(t)?g4:typeof t=="object"?Lr.test(t)?mR:XJ:Ex}function g4(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>IC(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function XJ(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=IC(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function qJ(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}const ZJ=(t,e)=>{const n=Yd.createTransformer(e),i=k0(t),r=k0(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?hS.has(t)&&!r.values.length||hS.has(e)&&!i.values.length?GJ(t,e):ay(g4(qJ(i,r),r.values),n):Ex(t,e)};function y4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ir(t,e,n):IC(t)(t,e)}const KJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ki.update(e,n),stop:()=>Gd(e),now:()=>Ms.isProcessing?Ms.timestamp:Go.now()}},v4=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Tx=2e4;function LC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Tx;)e+=n,i=t.next(e);return e>=Tx?1/0:e}function $J(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(LC(i),Tx);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:bu(r)}}const QJ=5;function _4(t,e,n){const i=Math.max(e-QJ,0);return QD(n-t(i),e-i)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$T=.001;function JJ({duration:t=fr.duration,bounce:e=fr.bounce,velocity:n=fr.velocity,mass:i=fr.mass}){let r,s,o=1-e;o=Lc(fr.minDamping,fr.maxDamping,o),t=Lc(fr.minDuration,fr.maxDuration,bu(t)),o<1?(r=d=>{const f=d*o,p=f*t,y=f-n,v=fS(d,o),T=Math.exp(-p);return $T-y/v*T},s=d=>{const p=d*o*t,y=p*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-p),S=fS(Math.pow(d,2),o);return(-r(d)+$T>0?-1:1)*((y-v)*T)/S}):(r=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-$T+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const a=5/t,u=tee(r,s,a);if(t=Tu(t),isNaN(u))return{stiffness:fr.stiffness,damping:fr.damping,duration:t};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:t}}}const eee=12;function tee(t,e,n){let i=n;for(let r=1;r<eee;r++)i=i-t(i)/e(i);return i}function fS(t,e){return t*Math.sqrt(1-e*e)}const nee=["duration","bounce"],iee=["stiffness","damping","mass"];function gR(t,e){return e.some(n=>t[n]!==void 0)}function ree(t){let e={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...t};if(!gR(t,iee)&&gR(t,nee))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Lc(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:fr.mass,stiffness:r,damping:s}}else{const n=JJ(t);e={...e,...n,mass:fr.mass},e.isResolvedFromDuration=!0}return e}function bx(t=fr.visualDuration,e=fr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:p,velocity:y,isResolvedFromDuration:v}=ree({...n,velocity:-bu(n.velocity||0)}),T=y||0,S=d/(2*Math.sqrt(u*f)),b=o-s,E=bu(Math.sqrt(u/f)),R=Math.abs(b)<5;i||(i=R?fr.restSpeed.granular:fr.restSpeed.default),r||(r=R?fr.restDelta.granular:fr.restDelta.default);let P;if(S<1){const G=fS(E,S);P=V=>{const K=Math.exp(-S*E*V);return o-K*((T+S*E*b)/G*Math.sin(G*V)+b*Math.cos(G*V))}}else if(S===1)P=G=>o-Math.exp(-E*G)*(b+(T+E*b)*G);else{const G=E*Math.sqrt(S*S-1);P=V=>{const K=Math.exp(-S*E*V),H=Math.min(G*V,300);return o-K*((T+S*E*b)*Math.sinh(H)+G*b*Math.cosh(H))/G}}const D={calculatedDuration:v&&p||null,next:G=>{const V=P(G);if(v)a.done=G>=p;else{let K=G===0?T:0;S<1&&(K=G===0?Tu(T):_4(P,G,V));const H=Math.abs(K)<=i,z=Math.abs(o-V)<=r;a.done=H&&z}return a.value=a.done?o:V,a},toString:()=>{const G=Math.min(LC(D),Tx),V=v4(K=>D.next(G*K).value,G,30);return G+"ms "+V},toTransition:()=>{}};return D}bx.applyToOptions=t=>{const e=$J(t,100,bx);return t.ease=e.ease,t.duration=Tu(e.duration),t.type="keyframes",t};function pS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],y={done:!1,value:p},v=H=>a!==void 0&&H<a||u!==void 0&&H>u,T=H=>a===void 0?u:u===void 0||Math.abs(a-H)<Math.abs(u-H)?a:u;let S=n*e;const b=p+S,E=o===void 0?b:o(b);E!==b&&(S=E-p);const R=H=>-S*Math.exp(-H/i),P=H=>E+R(H),D=H=>{const z=R(H),k=P(H);y.done=Math.abs(z)<=d,y.value=y.done?E:k};let G,V;const K=H=>{v(y.value)&&(G=H,V=bx({keyframes:[y.value,T(y.value)],velocity:_4(P,H,y.value),damping:r,stiffness:s,restDelta:d,restSpeed:f}))};return K(0),{calculatedDuration:null,next:H=>{let z=!1;return!V&&G===void 0&&(z=!0,D(H),K(H)),G!==void 0&&H>=G?V.next(H-G):(!z&&D(H),y)}}}function see(t,e,n){const i=[],r=n||Nc.mix||y4,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ga:e;a=ay(u,a)}i.push(a)}return i}function oee(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(TC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=see(e,i,r),u=a.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const y=N0(t[p],t[p+1],f);return a[p](y)};return n?f=>d(Lc(t[0],t[s-1],f)):d}function aee(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=N0(0,e,i);t.push(ir(n,1,r))}}function lee(t){const e=[0];return aee(e,t.length-1),e}function uee(t,e){return t.map(n=>n*e)}function cee(t,e){return t.map(()=>e||a4).splice(0,t.length-1)}function Zg({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=EJ(i)?i.map(dR):dR(i),s={done:!1,value:e[0]},o=uee(n&&n.length===e.length?n:lee(e),t),a=oee(o,e,{ease:Array.isArray(r)?r:cee(e,r)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const dee=t=>t!==null;function NC(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(dee),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const hee={decay:pS,inertia:pS,tween:Zg,keyframes:Zg,spring:bx};function x4(t){typeof t.type=="string"&&(t.type=hee[t.type])}class OC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fee=t=>t/100;class kC extends OC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Go.now()&&this.tick(Go.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x4(e);const{type:n=Zg,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const u=n||Zg;u!==Zg&&typeof a[0]!="number"&&(this.mixKeyframes=ay(fee,y4(a[0],a[1])),a=[0,100]);const d=u({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=LC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:y,repeatDelay:v,type:T,onUpdate:S,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let P=this.currentTime,D=i;if(p){const H=Math.min(this.currentTime,r)/a;let z=Math.floor(H),k=H%1;!k&&H>=1&&(k=1),k===1&&z--,z=Math.min(z,p+1),!!(z%2)&&(y==="reverse"?(k=1-k,v&&(k-=v/a)):y==="mirror"&&(D=o)),P=Lc(0,1,k)*a}const G=R?{done:!1,value:f[0]}:D.next(P);s&&(G.value=s(G.value));let{done:V}=G;!R&&u!==null&&(V=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return K&&T!==pS&&(G.value=NC(f,this.options,b,this.speed)),S&&S(G.value),K&&this.finish(),G}then(e,n){return this.finished.then(e,n)}get duration(){return bu(this.calculatedDuration)}get time(){return bu(this.currentTime)}set time(e){e=Tu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Go.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KJ,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Go.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jh=t=>t*180/Math.PI,mS=t=>{const e=Jh(Math.atan2(t[1],t[0]));return gS(e)},mee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mS,rotateZ:mS,skewX:t=>Jh(Math.atan(t[1])),skewY:t=>Jh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gS=t=>(t=t%360,t<0&&(t+=360),t),yR=mS,vR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_R=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vR,scaleY:_R,scale:t=>(vR(t)+_R(t))/2,rotateX:t=>gS(Jh(Math.atan2(t[6],t[5]))),rotateY:t=>gS(Jh(Math.atan2(-t[2],t[0]))),rotateZ:yR,rotate:yR,skewX:t=>Jh(Math.atan(t[4])),skewY:t=>Jh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yS(t){return t.includes("scale")?1:0}function vS(t,e){if(!t||t==="none")return yS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=gee,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mee,r=a}if(!r)return yS(e);const s=i[e],o=r[1].split(",").map(vee);return typeof s=="function"?s(o):o[s]}const yee=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vS(n,e)};function vee(t){return parseFloat(t.trim())}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bm=new Set(Tm),xR=t=>t===Em||t===_n,_ee=new Set(["x","y","z"]),xee=Tm.filter(t=>!_ee.has(t));function Eee(t){const e=[];return xee.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const af={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vS(e,"x"),y:(t,{transform:e})=>vS(e,"y")};af.translateX=af.x;af.translateY=af.y;const lf=new Set;let _S=!1,xS=!1,ES=!1;function E4(){if(xS){const t=Array.from(lf).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Eee(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{i.getValue(s)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xS=!1,_S=!1,lf.forEach(t=>t.complete(ES)),lf.clear()}function T4(){lf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xS=!0)})}function Tee(){ES=!0,T4(),E4(),ES=!1}class DC{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lf.add(this),_S||(_S=!0,Ki.read(T4),Ki.resolveKeyframes(E4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}pee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lf.delete(this)}cancel(){this.state==="scheduled"&&(lf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bee=t=>t.startsWith("--");function See(t,e,n){bee(e)?t.style.setProperty(e,n):t.style[e]=n}const wee=bC(()=>window.ScrollTimeline!==void 0),Cee={};function Aee(t,e){const n=bC(t);return()=>Cee[e]??n()}const b4=Aee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kg=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ER={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kg([0,.65,.55,1]),circOut:kg([.55,0,1,.45]),backIn:kg([.31,.01,.66,-.59]),backOut:kg([.33,1.53,.69,.99])};function S4(t,e){if(t)return typeof t=="function"?b4()?v4(t,e):"ease-out":l4(t)?kg(t):Array.isArray(t)?t.map(n=>S4(n,e)||ER.easeOut):ER[t]}function Mee(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const p=S4(a,r);Array.isArray(p)&&(f.easing=p);const y={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(f,y)}function w4(t){return typeof t=="function"&&"applyToOptions"in t}function Pee({type:t,...e}){return w4(t)&&b4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ree extends OC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,TC(typeof e.type!="string");const d=Pee(e);this.animation=Mee(n,i,r,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=NC(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):See(n,i,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bu(Number(e))}get time(){return bu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&wee()?(this.animation.timeline=e,Ga):n(this)}}const C4={anticipate:r4,backInOut:i4,circInOut:o4};function Iee(t){return t in C4}function Lee(t){typeof t.ease=="string"&&Iee(t.ease)&&(t.ease=C4[t.ease])}const TR=10;class Nee extends Ree{constructor(e){Lee(e),x4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new kC({...o,autoplay:!1}),u=Tu(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-TR).value,a.sample(u).value,TR),a.stop()}}const bR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yd.test(t)||t==="0")&&!t.startsWith("url("));function Oee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kee(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=bR(r,e),a=bR(s,e);return!o||!a?!1:Oee(t)||(n==="spring"||w4(n))&&i}const Dee=new Set(["opacity","clipPath","filter","transform"]),Fee=bC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bee(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return Fee()&&n&&Dee.has(n)&&(n!=="transform"||!d)&&!u&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const Uee=40;class zee extends OC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:u,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Go.now();const y={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:f,...p},v=f?.KeyframeResolver||DC;this.keyframeResolver=new v(a,(T,S,b)=>this.onKeyframesResolved(T,S,y,!b),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:u,isHandoff:d,onUpdate:f}=i;this.resolvedAt=Go.now(),kee(e,s,o,a)||((Nc.instantAnimations||!u)&&f?.(NC(e,i,n)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Uee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},v=!d&&Bee(y)?new Nee({...y,element:y.motionValue.owner.current}):new kC(y);v.finished.then(()=>this.notifyFinished()).catch(Ga),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Tee()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Hee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vee(t){const e=Hee.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function A4(t,e,n=1){const[i,r]=Vee(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return ZD(o)?parseFloat(o):o}return MC(r)?A4(r,e,n+1):r}function FC(t,e){return t?.[e]??t?.default??t}const M4=new Set(["width","height","top","left","right","bottom",...Tm]),jee={test:t=>t==="auto",parse:t=>t},P4=t=>e=>e.test(t),R4=[Em,_n,Su,Rd,OJ,NJ,jee],SR=t=>R4.find(P4(t));function Wee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$D(t):!0}const Gee=new Set(["brightness","contrast","saturate","opacity"]);function Yee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(PC)||[];if(!i)return t;const r=n.replace(i,"");let s=Gee.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Xee=/\b([a-z-]*)\(.*?\)/gu,TS={...Yd,getAnimatableNone:t=>{const e=t.match(Xee);return e?e.map(Yee).join(" "):t}},wR={...Em,transform:Math.round},qee={rotate:Rd,rotateX:Rd,rotateY:Rd,rotateZ:Rd,scale:Jv,scaleX:Jv,scaleY:Jv,scaleZ:Jv,skew:Rd,skewX:Rd,skewY:Rd,distance:_n,translateX:_n,translateY:_n,translateZ:_n,x:_n,y:_n,z:_n,perspective:_n,transformPerspective:_n,opacity:O0,originX:hR,originY:hR,originZ:_n},BC={borderWidth:_n,borderTopWidth:_n,borderRightWidth:_n,borderBottomWidth:_n,borderLeftWidth:_n,borderRadius:_n,radius:_n,borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomRightRadius:_n,borderBottomLeftRadius:_n,width:_n,maxWidth:_n,height:_n,maxHeight:_n,top:_n,right:_n,bottom:_n,left:_n,padding:_n,paddingTop:_n,paddingRight:_n,paddingBottom:_n,paddingLeft:_n,margin:_n,marginTop:_n,marginRight:_n,marginBottom:_n,marginLeft:_n,backgroundPositionX:_n,backgroundPositionY:_n,...qee,zIndex:wR,fillOpacity:O0,strokeOpacity:O0,numOctaves:wR},Zee={...BC,color:Lr,backgroundColor:Lr,outlineColor:Lr,fill:Lr,stroke:Lr,borderColor:Lr,borderTopColor:Lr,borderRightColor:Lr,borderBottomColor:Lr,borderLeftColor:Lr,filter:TS,WebkitFilter:TS},I4=t=>Zee[t];function L4(t,e){let n=I4(t);return n!==TS&&(n=Yd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Kee=new Set(["auto","none","0"]);function $ee(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Kee.has(s)&&k0(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=L4(n,r)}class Qee extends DC{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),MC(d))){const f=A4(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!M4.has(i)||e.length!==2)return;const[r,s]=e,o=SR(r),a=SR(s);if(o!==a)if(xR(o)&&xR(a))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else af[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||Wee(e[r]))&&i.push(r);i.length&&$ee(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=af[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=af[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,u])=>{e.getValue(a).set(u)}),this.resolveNoneKeyframes()}}function Jee(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const N4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ete(t){return KD(t)&&"offsetHeight"in t}const CR=30,tte=t=>!isNaN(parseFloat(t));class nte{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Go.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Go.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SC);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ki.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Go.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CR);return QD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function im(t,e){return new nte(t,e)}const{schedule:UC}=u4(queueMicrotask,!1),Nl={x:!1,y:!1};function O4(){return Nl.x||Nl.y}function ite(t){return t==="x"||t==="y"?Nl[t]?null:(Nl[t]=!0,()=>{Nl[t]=!1}):Nl.x||Nl.y?null:(Nl.x=Nl.y=!0,()=>{Nl.x=Nl.y=!1})}function k4(t,e){const n=Jee(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function AR(t){return!(t.pointerType==="touch"||O4())}function rte(t,e,n={}){const[i,r,s]=k4(t,n),o=a=>{if(!AR(a))return;const{target:u}=a,d=e(u,a);if(typeof d!="function"||!u)return;const f=p=>{AR(p)&&(d(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const D4=(t,e)=>e?t===e?!0:D4(t,e.parentElement):!1,zC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ste=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ote(t){return ste.has(t.tagName)||t.tabIndex!==-1}const v_=new WeakSet;function MR(t){return e=>{e.key==="Enter"&&t(e)}}function QT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ate=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=MR(()=>{if(v_.has(n))return;QT(n,"down");const r=MR(()=>{QT(n,"up")}),s=()=>QT(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function PR(t){return zC(t)&&!O4()}function lte(t,e,n={}){const[i,r,s]=k4(t,n),o=a=>{const u=a.currentTarget;if(!PR(a))return;v_.add(u);const d=e(u,a),f=(v,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),v_.has(u)&&v_.delete(u),PR(v)&&typeof d=="function"&&d(v,{success:T})},p=v=>{f(v,u===window||u===document||n.useGlobalTarget||D4(u,v.target))},y=v=>{f(v,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",y,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),ete(a)&&(a.addEventListener("focus",d=>ate(d,r)),!ote(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function F4(t){return KD(t)&&"ownerSVGElement"in t}function ute(t){return F4(t)&&t.tagName==="svg"}const Xs=t=>!!(t&&t.getVelocity),cte=[...R4,Lr,Yd],dte=t=>cte.find(P4(t)),B4=X.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hte(t=!0){const e=X.useContext(_C);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=X.useId();X.useEffect(()=>{if(t)return r(s)},[t]);const o=X.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const U4=X.createContext({strict:!1}),RR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rm={};for(const t in RR)rm[t]={isEnabled:e=>RR[t].some(n=>!!e[n])};function fte(t){for(const e in t)rm[e]={...rm[e],...t[e]}}const pte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pte.has(t)}let z4=t=>!Sx(t);function mte(t){typeof t=="function"&&(z4=e=>e.startsWith("on")?!Sx(e):t(e))}try{mte(require("@emotion/is-prop-valid").default)}catch{}function gte(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(z4(r)||n===!0&&Sx(r)||!e&&!Sx(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const M1=X.createContext({});function P1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function D0(t){return typeof t=="string"||Array.isArray(t)}const HC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VC=["initial",...HC];function R1(t){return P1(t.animate)||VC.some(e=>D0(t[e]))}function H4(t){return!!(R1(t)||t.variants)}function yte(t,e){if(R1(t)){const{initial:n,animate:i}=t;return{initial:n===!1||D0(n)?n:void 0,animate:D0(i)?i:void 0}}return t.inherit!==!1?e:{}}function vte(t){const{initial:e,animate:n}=yte(t,X.useContext(M1));return X.useMemo(()=>({initial:e,animate:n}),[IR(e),IR(n)])}function IR(t){return Array.isArray(t)?t.join(" "):t}const F0={};function _te(t){for(const e in t)F0[e]=t[e],AC(e)&&(F0[e].isCSSVariable=!0)}function V4(t,{layout:e,layoutId:n}){return bm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!F0[t]||t==="opacity")}const xte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ete=Tm.length;function Tte(t,e,n){let i="",r=!0;for(let s=0;s<Ete;s++){const o=Tm[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const d=N4(a,BC[o]);if(!u){r=!1;const f=xte[o]||o;i+=`${f}(${d}) `}n&&(e[o]=d)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function jC(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const d=e[u];if(bm.has(u)){o=!0;continue}else if(AC(u)){r[u]=d;continue}else{const f=N4(d,BC[u]);u.startsWith("origin")?(a=!0,s[u]=f):i[u]=f}}if(e.transform||(o||n?i.transform=Tte(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;i.transformOrigin=`${u} ${d} ${f}`}}const WC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j4(t,e,n){for(const i in e)!Xs(e[i])&&!V4(i,n)&&(t[i]=e[i])}function bte({transformTemplate:t},e){return X.useMemo(()=>{const n=WC();return jC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Ste(t,e){const n=t.style||{},i={};return j4(i,n,t),Object.assign(i,bte(t,e)),i}function wte(t,e){const n={},i=Ste(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Cte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ate={offset:"strokeDashoffset",array:"strokeDasharray"};function Mte(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?Cte:Ate;t[s.offset]=_n.transform(-i);const o=_n.transform(e),a=_n.transform(n);t[s.array]=`${o} ${a}`}function W4(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},u,d,f){if(jC(t,a,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y}=t;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),r!==void 0&&Mte(p,r,s,o,!1)}const G4=()=>({...WC(),attrs:{}}),Y4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pte(t,e,n,i){const r=X.useMemo(()=>{const s=G4();return W4(s,e,Y4(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};j4(s,t.style,t),r.style={...s,...r.style}}return r}const Rte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GC(t){return typeof t!="string"||t.includes("-")?!1:!!(Rte.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ite(t,e,n,{latestValues:i},r,s=!1){const a=(GC(t)?Pte:wte)(e,i,r,t),u=gte(e,typeof t=="string",s),d=t!==X.Fragment?{...u,...a,ref:n}:{},{children:f}=e,p=X.useMemo(()=>Xs(f)?f.get():f,[f]);return X.createElement(t,{...d,children:p})}function LR(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function YC(t,e,n,i){if(typeof e=="function"){const[r,s]=LR(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=LR(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function __(t){return Xs(t)?t.get():t}function Lte({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:Nte(n,i,r,t),renderState:e()}}function Nte(t,e,n,i){const r={},s=i(t,{});for(const y in s)r[y]=__(s[y]);let{initial:o,animate:a}=t;const u=R1(t),d=H4(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!P1(p)){const y=Array.isArray(p)?p:[p];for(let v=0;v<y.length;v++){const T=YC(t,y[v]);if(T){const{transitionEnd:S,transition:b,...E}=T;for(const R in E){let P=E[R];if(Array.isArray(P)){const D=f?P.length-1:0;P=P[D]}P!==null&&(r[R]=P)}for(const R in S)r[R]=S[R]}}}return r}const X4=t=>(e,n)=>{const i=X.useContext(M1),r=X.useContext(_C),s=()=>Lte(t,e,i,r);return n?s():fJ(s)};function XC(t,e,n){const{style:i}=t,r={};for(const s in i)(Xs(i[s])||e.style&&Xs(e.style[s])||V4(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}const Ote=X4({scrapeMotionValuesFromProps:XC,createRenderState:WC});function q4(t,e,n){const i=XC(t,e,n);for(const r in t)if(Xs(t[r])||Xs(e[r])){const s=Tm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const kte=X4({scrapeMotionValuesFromProps:q4,createRenderState:G4}),Dte=Symbol.for("motionComponentSymbol");function Ip(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Fte(t,e,n){return X.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ip(n)&&(n.current=i))},[e])}const qC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bte="framerAppearId",Z4="data-"+qC(Bte),K4=X.createContext({});function Ute(t,e,n,i,r){const{visualElement:s}=X.useContext(M1),o=X.useContext(U4),a=X.useContext(_C),u=X.useContext(B4).reducedMotion,d=X.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=X.useContext(K4);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&zte(d.current,n,r,p);const y=X.useRef(!1);X.useInsertionEffect(()=>{f&&y.current&&f.update(n,a)});const v=n[Z4],T=X.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return pJ(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),T.current&&f.animationState&&f.animationState.animateChanges())}),X.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),T.current=!1))}),f}function zte(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$4(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Ip(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:d})}function $4(t){if(t)return t.options.allowProjection!==!1?t.projection:$4(t.parent)}function JT(t,{forwardMotionProps:e=!1}={},n,i){n&&fte(n);const r=GC(t)?kte:Ote;function s(a,u){let d;const f={...X.useContext(B4),...a,layoutId:Hte(a)},{isStatic:p}=f,y=vte(a),v=r(a,p);if(!p&&vC){Vte();const T=jte(f);d=T.MeasureLayout,y.visualElement=Ute(t,v,f,i,T.ProjectionNode)}return F.jsxs(M1.Provider,{value:y,children:[d&&y.visualElement?F.jsx(d,{visualElement:y.visualElement,...f}):null,Ite(t,a,Fte(v,y.visualElement,u),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=X.forwardRef(s);return o[Dte]=t,o}function Hte({layoutId:t}){const e=X.useContext(qD).id;return e&&t!==void 0?e+"-"+t:t}function Vte(t,e){X.useContext(U4).strict}function jte(t){const{drag:e,layout:n}=rm;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Wte(t,e){if(typeof Proxy>"u")return JT;const n=new Map,i=(s,o)=>JT(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,JT(o,void 0,t,e)),n.get(o))})}function Q4({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Gte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function eb(t){return t===void 0||t===1}function bS({scale:t,scaleX:e,scaleY:n}){return!eb(t)||!eb(e)||!eb(n)}function Xh(t){return bS(t)||J4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J4(t){return NR(t.x)||NR(t.y)}function NR(t){return t&&t!=="0%"}function wx(t,e,n){const i=t-n,r=e*i;return n+r}function OR(t,e,n,i,r){return r!==void 0&&(t=wx(t,r,i)),wx(t,n,i)+e}function SS(t,e=0,n=1,i,r){t.min=OR(t.min,e,n,i,r),t.max=OR(t.max,e,n,i,r)}function e6(t,{x:e,y:n}){SS(t.x,e.translate,e.scale,e.originPoint),SS(t.y,n.translate,n.scale,n.originPoint)}const kR=.999999999999,DR=1.0000000000001;function Xte(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Np(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,e6(t,o)),i&&Xh(s.latestValues)&&Np(t,s.latestValues))}e.x<DR&&e.x>kR&&(e.x=1),e.y<DR&&e.y>kR&&(e.y=1)}function Lp(t,e){t.min=t.min+e,t.max=t.max+e}function FR(t,e,n,i,r=.5){const s=ir(t.min,t.max,r);SS(t,e,n,s,i)}function Np(t,e){FR(t.x,e.x,e.scaleX,e.scale,e.originX),FR(t.y,e.y,e.scaleY,e.scale,e.originY)}function t6(t,e){return Q4(Yte(t.getBoundingClientRect(),e))}function qte(t,e,n){const i=t6(t,n),{scroll:r}=e;return r&&(Lp(i.x,r.offset.x),Lp(i.y,r.offset.y)),i}const BR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Op=()=>({x:BR(),y:BR()}),UR=()=>({min:0,max:0}),Er=()=>({x:UR(),y:UR()}),wS={current:null},n6={current:!1};function Zte(){if(n6.current=!0,!!vC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wS.current=t.matches;t.addEventListener("change",e),e()}else wS.current=!1}const Kte=new WeakMap;function $te(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Xs(r))t.addValue(i,r);else if(Xs(s))t.addValue(i,im(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,im(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const zR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qte{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Go.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ki.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=R1(n),this.isVariantNode=H4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];u[y]!==void 0&&Xs(v)&&v.set(u[y],!1)}}mount(e){this.current=e,Kte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),n6.current||Zte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gd(this.notifyUpdate),Gd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=bm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ki.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rm){const n=rm[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Er()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<zR.length;i++){const r=zR[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=$te(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=im(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ZD(i)||$D(i))?i=parseFloat(i):!dte(i)&&Yd.test(n)&&(i=L4(e,n)),this.setBaseTarget(e,Xs(i)?i.get():i)),Xs(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=YC(this.props,n,this.presenceContext?.custom);s&&(i=s[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Xs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){UC.render(this.render)}}class i6 extends Qte{constructor(){super(...arguments),this.KeyframeResolver=Qee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function r6(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function Jte(t){return window.getComputedStyle(t)}class ene extends i6{constructor(){super(...arguments),this.type="html",this.renderInstance=r6}readValueFromInstance(e,n){if(bm.has(n))return this.projection?.isProjecting?yS(n):yee(e,n);{const i=Jte(e),r=(AC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t6(e,n)}build(e,n,i){jC(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return XC(e,n,i)}}const s6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tne(t,e,n,i){r6(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(s6.has(r)?r:qC(r),e.attrs[r])}class nne extends i6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Er}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bm.has(n)){const i=I4(n);return i&&i.default||0}return n=s6.has(n)?n:qC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return q4(e,n,i)}build(e,n,i){W4(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){tne(e,n,i,r)}mount(e){this.isSVGTag=Y4(e.tagName),super.mount(e)}}const ine=(t,e)=>GC(t)?new nne(e):new ene(e,{allowProjection:t!==X.Fragment});function B0(t,e,n){const i=t.getProps();return YC(i,e,n!==void 0?n:i.custom,t)}const CS=t=>Array.isArray(t);function rne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,im(n))}function sne(t){return CS(t)?t[t.length-1]||0:t}function one(t,e){const n=B0(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=sne(s[o]);rne(t,o,a)}}function ane(t){return!!(Xs(t)&&t.add)}function AS(t,e){const n=t.getValue("willChange");if(ane(n))return n.add(e);if(!n&&Nc.WillChange){const i=new Nc.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function o6(t){return t.props[Z4]}const lne=t=>t!==null;function une(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(lne),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[s]}const cne={type:"spring",stiffness:500,damping:25,restSpeed:10},dne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hne={type:"keyframes",duration:.8},fne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pne=(t,{keyframes:e})=>e.length>2?hne:bm.has(t)?t.startsWith("scale")?dne(e[1]):cne:fne;function mne({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const ZC=(t,e,n,i={},r,s)=>o=>{const a=FC(i,t)||{},u=a.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Tu(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:y=>{e.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};mne(a)||Object.assign(f,pne(t,f)),f.duration&&(f.duration=Tu(f.duration)),f.repeatDelay&&(f.repeatDelay=Tu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(Nc.instantAnimations||Nc.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const y=une(f.keyframes,a);if(y!==void 0){Ki.update(()=>{f.onUpdate(y),f.onComplete()});return}}return a.isSync?new kC(f):new zee(f)};function gne({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function a6(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),y=a[f];if(y===void 0||d&&gne(d,f))continue;const v={delay:n,...FC(s||{},f)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(y)&&y===T&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=o6(t);if(E){const R=window.MotionHandoffAnimation(E,f,Ki);R!==null&&(v.startTime=R,S=!0)}}AS(t,f),p.start(ZC(f,p,y,t.shouldReduceMotion&&M4.has(f)?{type:!1}:v,t,S));const b=p.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Ki.update(()=>{o&&one(t,o)})}),u}function MS(t,e,n={}){const i=B0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(a6(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=r;return yne(t,e,u,d,f,p,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function yne(t,e,n=0,i=0,r=0,s=1,o){const a=[],u=t.variantChildren.size,d=(u-1)*r,f=typeof i=="function",p=f?y=>i(y,u):s===1?(y=0)=>y*r:(y=0)=>d-y*r;return Array.from(t.variantChildren).sort(vne).forEach((y,v)=>{y.notify("AnimationStart",e),a.push(MS(y,e,{...o,delay:n+(f?0:i)+p(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(a)}function vne(t,e){return t.sortNodePosition(e)}function _ne(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>MS(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=MS(t,e,n);else{const r=typeof e=="function"?B0(t,e,n.custom):e;i=Promise.all(a6(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function l6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const xne=VC.length;function u6(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?u6(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xne;n++){const i=VC[n],r=t.props[i];(D0(r)||r===!1)&&(e[i]=r)}return e}const Ene=[...HC].reverse(),Tne=HC.length;function bne(t){return e=>Promise.all(e.map(({animation:n,options:i})=>_ne(t,n,i)))}function Sne(t){let e=bne(t),n=HR(),i=!0;const r=u=>(d,f)=>{const p=B0(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:y,transitionEnd:v,...T}=p;d={...d,...T,...v}}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,f=u6(t.parent)||{},p=[],y=new Set;let v={},T=1/0;for(let b=0;b<Tne;b++){const E=Ene[b],R=n[E],P=d[E]!==void 0?d[E]:f[E],D=D0(P),G=E===u?R.isActive:null;G===!1&&(T=b);let V=P===f[E]&&P!==d[E]&&D;if(V&&i&&t.manuallyAnimateOnMount&&(V=!1),R.protectedKeys={...v},!R.isActive&&G===null||!P&&!R.prevProp||P1(P)||typeof P=="boolean")continue;const K=wne(R.prevProp,P);let H=K||E===u&&R.isActive&&!V&&D||b>T&&D,z=!1;const k=Array.isArray(P)?P:[P];let Z=k.reduce(r(E),{});G===!1&&(Z={});const{prevResolvedValues:$={}}=R,re={...$,...Z},ie=he=>{H=!0,y.has(he)&&(z=!0,y.delete(he)),R.needsAnimating[he]=!0;const Y=t.getValue(he);Y&&(Y.liveStyle=!1)};for(const he in re){const Y=Z[he],se=$[he];if(v.hasOwnProperty(he))continue;let j=!1;CS(Y)&&CS(se)?j=!l6(Y,se):j=Y!==se,j?Y!=null?ie(he):y.add(he):Y!==void 0&&y.has(he)?ie(he):R.protectedKeys[he]=!0}R.prevProp=P,R.prevResolvedValues=Z,R.isActive&&(v={...v,...Z}),i&&t.blockInitialAnimation&&(H=!1),H&&(!(V&&K)||z)&&p.push(...k.map(he=>({animation:he,options:{type:E}})))}if(y.size){const b={};if(typeof d.initial!="boolean"){const E=B0(t,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(b.transition=E.transition)}y.forEach(E=>{const R=t.getBaseTarget(E),P=t.getValue(E);P&&(P.liveStyle=!0),b[E]=R??null}),p.push({animation:b})}let S=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(p):Promise.resolve()}function a(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),n[u].isActive=d;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=HR(),i=!0}}}function wne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!l6(e,t):!1}function Wh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HR(){return{animate:Wh(!0),whileInView:Wh(),whileHover:Wh(),whileTap:Wh(),whileDrag:Wh(),whileFocus:Wh(),exit:Wh()}}class Qd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cne extends Qd{constructor(e){super(e),e.animationState||(e.animationState=Sne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();P1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ane=0;class Mne extends Qd{constructor(){super(...arguments),this.id=Ane++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Pne={animation:{Feature:Cne},exit:{Feature:Mne}};function U0(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function cy(t){return{point:{x:t.pageX,y:t.pageY}}}const Rne=t=>e=>zC(e)&&t(e,cy(e));function Kg(t,e,n,i){return U0(t,e,Rne(n),i)}const c6=1e-4,Ine=1-c6,Lne=1+c6,d6=.01,Nne=0-d6,One=0+d6;function vo(t){return t.max-t.min}function kne(t,e,n){return Math.abs(t-e)<=n}function VR(t,e,n,i=.5){t.origin=i,t.originPoint=ir(e.min,e.max,t.origin),t.scale=vo(n)/vo(e),t.translate=ir(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Ine&&t.scale<=Lne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nne&&t.translate<=One||isNaN(t.translate))&&(t.translate=0)}function $g(t,e,n,i){VR(t.x,e.x,n.x,i?i.originX:void 0),VR(t.y,e.y,n.y,i?i.originY:void 0)}function jR(t,e,n){t.min=n.min+e.min,t.max=t.min+vo(e)}function Dne(t,e,n){jR(t.x,e.x,n.x),jR(t.y,e.y,n.y)}function WR(t,e,n){t.min=e.min-n.min,t.max=t.min+vo(e)}function Qg(t,e,n){WR(t.x,e.x,n.x),WR(t.y,e.y,n.y)}function Ua(t){return[t("x"),t("y")]}const h6=({current:t})=>t?t.ownerDocument.defaultView:null,GR=(t,e)=>Math.abs(t-e);function Fne(t,e){const n=GR(t.x,e.x),i=GR(t.y,e.y);return Math.sqrt(n**2+i**2)}class f6{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,T=Fne(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!T)return;const{point:S}=y,{timestamp:b}=Ms;this.history.push({...S,timestamp:b});const{onStart:E,onMove:R}=this.handlers;v||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=tb(v,this.transformPagePoint),Ki.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=nb(y.type==="pointercancel"?this.lastMoveEventInfo:tb(v,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,E),S&&S(y,E)},!zC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=cy(e),u=tb(a,this.transformPagePoint),{point:d}=u,{timestamp:f}=Ms;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,nb(u,this.history)),this.removeListeners=ay(Kg(this.contextWindow,"pointermove",this.handlePointerMove),Kg(this.contextWindow,"pointerup",this.handlePointerUp),Kg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gd(this.updatePoint)}}function tb(t,e){return e?{point:e(t.point)}:t}function YR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nb({point:t},e){return{point:t,delta:YR(t,p6(e)),offset:YR(t,Bne(e)),velocity:Une(e,.1)}}function Bne(t){return t[0]}function p6(t){return t[t.length-1]}function Une(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=p6(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Tu(e)));)n--;if(!i)return{x:0,y:0};const s=bu(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zne(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ir(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ir(n,t,i.max):Math.min(t,n)),t}function XR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Hne(t,{top:e,left:n,bottom:i,right:r}){return{x:XR(t.x,n,r),y:XR(t.y,e,i)}}function qR(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Vne(t,e){return{x:qR(t.x,e.x),y:qR(t.y,e.y)}}function jne(t,e){let n=.5;const i=vo(t),r=vo(e);return r>i?n=N0(e.min,e.max-i,t.min):i>r&&(n=N0(t.min,t.max-r,e.min)),Lc(0,1,n)}function Wne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const PS=.35;function Gne(t=PS){return t===!1?t=0:t===!0&&(t=PS),{x:ZR(t,"left","right"),y:ZR(t,"top","bottom")}}function ZR(t,e,n){return{min:KR(t,e),max:KR(t,n)}}function KR(t,e){return typeof t=="number"?t:t[e]||0}const Yne=new WeakMap;class Xne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Er(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cy(p).point)},o=(p,y)=>{const{drag:v,dragPropagation:T,onDragStart:S}=this.getProps();if(v&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ite(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ua(E=>{let R=this.getAxisMotionValue(E).get()||0;if(Su.test(R)){const{projection:P}=this.visualElement;if(P&&P.layout){const D=P.layout.layoutBox[E];D&&(R=vo(D)*(parseFloat(R)/100))}}this.originPoint[E]=R}),S&&Ki.postRender(()=>S(p,y)),AS(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:T,onDirectionLock:S,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=y;if(T&&this.currentDirection===null){this.currentDirection=qne(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),b&&b(p,y)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ua(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new f6(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:h6(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ki.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!e_(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=zne(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Ip(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Hne(i.layoutBox,e):this.constraints=!1,this.elastic=Gne(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ua(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Wne(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ip(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=qte(i,r.root,this.visualElement.getTransformPagePoint());let o=Vne(r.layout.layoutBox,s);if(n){const a=n(Gte(o));this.hasMutatedConstraints=!!a,a&&(o=Q4(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},d=Ua(f=>{if(!e_(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,T={type:"inertia",velocity:i?e[f]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,T)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return AS(this.visualElement,e),i.start(ZC(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ua(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ua(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ua(n=>{const{drag:i}=this.getProps();if(!e_(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-ir(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ip(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ua(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();r[o]=jne({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ua(o=>{if(!e_(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];a.set(ir(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;Yne.set(this.visualElement,this);const e=this.visualElement.current,n=Kg(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Ip(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ki.read(i);const o=U0(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ua(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=PS,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function e_(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zne extends Qd{constructor(e){super(e),this.removeGroupControls=Ga,this.removeListeners=Ga,this.controls=new Xne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ga}unmount(){this.removeGroupControls(),this.removeListeners()}}const $R=t=>(e,n)=>{t&&Ki.postRender(()=>t(e,n))};class Kne extends Qd{constructor(){super(...arguments),this.removePointerDownListener=Ga}onPointerDown(e){this.session=new f6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:$R(e),onStart:$R(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Ki.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Kg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const x_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_n.test(t))t=parseFloat(t);else return t;const n=QR(t,e.target.x),i=QR(t,e.target.y);return`${n}% ${i}%`}},$ne={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Yd.parse(t);if(r.length>5)return i;const s=Yd.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=u;const d=ir(a,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),s(r)}};let JR=!1;class Qne extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;_te(Jne),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),JR&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),x_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,JR=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ki.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m6(t){const[e,n]=hte(),i=X.useContext(qD);return F.jsx(Qne,{...t,layoutGroup:i,switchLayoutGroup:X.useContext(K4),isPresent:e,safeToRemove:n})}const Jne={borderRadius:{...Tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tg,borderTopRightRadius:Tg,borderBottomLeftRadius:Tg,borderBottomRightRadius:Tg,boxShadow:$ne};function eie(t,e,n){const i=Xs(t)?t:im(t);return i.start(ZC("",i,e,n)),i.animation}const tie=(t,e)=>t.depth-e.depth;class nie{constructor(){this.children=[],this.isDirty=!1}add(e){xC(this.children,e),this.isDirty=!0}remove(e){EC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tie),this.isDirty=!1,this.children.forEach(e)}}function iie(t,e){const n=Go.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Gd(i),t(s-e))};return Ki.setup(i,!0),()=>Gd(i)}const g6=["TopLeft","TopRight","BottomLeft","BottomRight"],rie=g6.length,eI=t=>typeof t=="string"?parseFloat(t):t,tI=t=>typeof t=="number"||_n.test(t);function sie(t,e,n,i,r,s){r?(t.opacity=ir(0,n.opacity??1,oie(i)),t.opacityExit=ir(e.opacity??1,0,aie(i))):s&&(t.opacity=ir(e.opacity??1,n.opacity??1,i));for(let o=0;o<rie;o++){const a=`border${g6[o]}Radius`;let u=nI(e,a),d=nI(n,a);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||tI(u)===tI(d)?(t[a]=Math.max(ir(eI(u),eI(d),i),0),(Su.test(d)||Su.test(u))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=ir(e.rotate||0,n.rotate||0,i))}function nI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oie=y6(0,.5,s4),aie=y6(.5,.95,Ga);function y6(t,e,n){return i=>i<t?0:i>e?1:n(N0(t,e,i))}function iI(t,e){t.min=e.min,t.max=e.max}function Ba(t,e){iI(t.x,e.x),iI(t.y,e.y)}function rI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sI(t,e,n,i,r){return t-=e,t=wx(t,1/n,i),r!==void 0&&(t=wx(t,1/r,i)),t}function lie(t,e=0,n=1,i=.5,r,s=t,o=t){if(Su.test(e)&&(e=parseFloat(e),e=ir(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ir(s.min,s.max,i);t===s&&(a-=e),t.min=sI(t.min,e,n,a,r),t.max=sI(t.max,e,n,a,r)}function oI(t,e,[n,i,r],s,o){lie(t,e[n],e[i],e[r],e.scale,s,o)}const uie=["x","scaleX","originX"],cie=["y","scaleY","originY"];function aI(t,e,n,i){oI(t.x,e,uie,n?n.x:void 0,i?i.x:void 0),oI(t.y,e,cie,n?n.y:void 0,i?i.y:void 0)}function lI(t){return t.translate===0&&t.scale===1}function v6(t){return lI(t.x)&&lI(t.y)}function uI(t,e){return t.min===e.min&&t.max===e.max}function die(t,e){return uI(t.x,e.x)&&uI(t.y,e.y)}function cI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _6(t,e){return cI(t.x,e.x)&&cI(t.y,e.y)}function dI(t){return vo(t.x)/vo(t.y)}function hI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hie{constructor(){this.members=[]}add(e){xC(this.members,e),e.scheduleRender()}remove(e){if(EC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fie(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:y,skewX:v,skewY:T}=n;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),p&&(i+=`rotateX(${p}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),T&&(i+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(i+=`scale(${a}, ${u})`),i||"none"}const ib=["","X","Y","Z"],pie=1e3;let mie=0;function rb(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function x6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=o6(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ki,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&x6(i)}function E6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e?.()){this.id=mie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vie),this.nodes.forEach(Tie),this.nodes.forEach(bie),this.nodes.forEach(_ie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=F4(o)&&!ute(o),this.instance=o;const{layoutId:a,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let f,p=0;const y=()=>this.root.updateBlockedByResize=!1;Ki.read(()=>{p=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=iie(y,250),x_.hasAnimatedSinceResize&&(x_.hasAnimatedSinceResize=!1,this.nodes.forEach(mI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||Mie,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=d.getProps(),E=!this.targetLayout||!_6(this.targetLayout,v),R=!p&&y;if(this.options.layoutRoot||this.resumeFrom||R||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...FC(T,"layout"),onPlay:S,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,R)}else p||mI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Eie),this.nodes.forEach(gie),this.nodes.forEach(yie)):this.nodes.forEach(pI),this.clearAllSnapshots();const a=Go.now();Ms.delta=Lc(0,1e3/60,a-Ms.timestamp),Ms.timestamp=a,Ms.isProcessing=!0,XT.update.process(Ms),XT.preRender.process(Ms),XT.render.process(Ms),Ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xie),this.sharedNodes.forEach(wie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ki.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ki.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vo(this.snapshot.measuredBox.x)&&!vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!v6(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||Xh(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),Pie(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Er();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Rie))){const{scroll:d}=this.root;d&&(Lp(a.x,d.offset.x),Lp(a.y,d.offset.y))}return a}removeElementScroll(o){const a=Er();if(Ba(a,o),this.scroll?.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ba(a,o),Lp(a.x,f.offset.x),Lp(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const u=Er();Ba(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Np(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Xh(f.latestValues)&&Np(u,f.latestValues)}return Xh(this.latestValues)&&Np(u,this.latestValues),u}removeTransform(o){const a=Er();Ba(a,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Xh(d.latestValues))continue;bS(d.latestValues)&&d.updateSnapshot();const f=Er(),p=d.measurePageBox();Ba(f,p),aI(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Xh(this.latestValues)&&aI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ms.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),Qg(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Er(),this.targetWithTransforms=Er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ba(this.target,this.layout.layoutBox),e6(this.target,this.targetDelta)):Ba(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),Qg(this.relativeTargetOrigin,this.target,y.target),Ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bS(this.parent.latestValues)||J4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ms.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ba(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;Xte(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Er());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rI(this.prevProjectionDelta.x,this.projectionDelta.x),rI(this.prevProjectionDelta.y,this.projectionDelta.y)),$g(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!hI(this.projectionDelta.x,this.prevProjectionDelta.x)||!hI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Op(),this.projectionDelta=Op(),this.projectionDeltaWithTransform=Op()}setAnimationOrigin(o,a=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=Op();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const y=Er(),v=u?u.source:void 0,T=this.layout?this.layout.source:void 0,S=v!==T,b=this.getStack(),E=!b||b.members.length<=1,R=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(Aie));this.animationProgress=0;let P;this.mixTargetDelta=D=>{const G=D/1e3;gI(p.x,o.x,G),gI(p.y,o.y,G),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qg(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cie(this.relativeTarget,this.relativeTargetOrigin,y,G),P&&die(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Er()),Ba(P,this.relativeTarget)),S&&(this.animationValues=f,sie(f,d,this.latestValues,G,R,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ki.update(()=>{x_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=im(0)),this.currentAnimation=eie(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:d,latestValues:f}=o;if(!(!a||!u||!d)){if(this!==o&&this.layout&&d&&T6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Er();const p=vo(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const y=vo(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}Ba(a,u),Np(a,f),$g(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hie),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const d={};u.z&&rb("z",o,d,this.animationValues);for(let f=0;f<ib.length;f++)rb(`rotate${ib[f]}`,o,d,this.animationValues),rb(`skew${ib[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=__(a?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=__(a?.pointerEvents)||""),this.hasProjected&&!Xh(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=fie(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:y,y:v}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in F0){if(f[T]===void 0)continue;const{correct:S,applyTo:b,isCSSVariable:E}=F0[T],R=p==="none"?f[T]:S(f[T],d);if(b){const P=b.length;for(let D=0;D<P;D++)o[b[D]]=R}else E?this.options.visualElement.renderState.vars[T]=R:o[T]=R}this.options.layoutId&&(o.pointerEvents=d===this?__(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(fI),this.root.sharedNodes.clear()}}}function gie(t){t.updateLayout()}function yie(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,s=e.source!==t.layout.source;r==="size"?Ua(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],y=vo(p);p.min=n[f].min,p.max=p.min+y}):T6(r,e.layoutBox,n)&&Ua(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],y=vo(n[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const o=Op();$g(o,n,e.layoutBox);const a=Op();s?$g(a,t.applyTransform(i,!0),e.measuredBox):$g(a,n,e.layoutBox);const u=!v6(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const v=Er();Qg(v,e.layoutBox,p.layoutBox);const T=Er();Qg(T,n,y.layoutBox),_6(v,T)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _ie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xie(t){t.clearSnapshot()}function fI(t){t.clearMeasurements()}function pI(t){t.isLayoutDirty=!1}function Eie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tie(t){t.resolveTargetDelta()}function bie(t){t.calcProjection()}function Sie(t){t.resetSkewAndRotation()}function wie(t){t.removeLeadSnapshot()}function gI(t,e,n){t.translate=ir(e.translate,0,n),t.scale=ir(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yI(t,e,n,i){t.min=ir(e.min,n.min,i),t.max=ir(e.max,n.max,i)}function Cie(t,e,n,i){yI(t.x,e.x,n.x,i),yI(t.y,e.y,n.y,i)}function Aie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mie={duration:.45,ease:[.4,0,.1,1]},vI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_I=vI("applewebkit/")&&!vI("chrome/")?Math.round:Ga;function xI(t){t.min=_I(t.min),t.max=_I(t.max)}function Pie(t){xI(t.x),xI(t.y)}function T6(t,e,n){return t==="position"||t==="preserve-aspect"&&!kne(dI(e),dI(n),.2)}function Rie(t){return t!==t.root&&t.scroll?.wasRoot}const Iie=E6({attachResizeListener:(t,e)=>U0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sb={current:void 0},b6=E6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sb.current){const t=new Iie({});t.mount(window),t.setOptions({layoutScroll:!0}),sb.current=t}return sb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Lie={pan:{Feature:Kne},drag:{Feature:Zne,ProjectionNode:b6,MeasureLayout:m6}};function EI(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Ki.postRender(()=>s(e,cy(e)))}class Nie extends Qd{mount(){const{current:e}=this.node;e&&(this.unmount=rte(e,(n,i)=>(EI(this.node,i,"Start"),r=>EI(this.node,r,"End"))))}unmount(){}}class Oie extends Qd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ay(U0(this.node.current,"focus",()=>this.onFocus()),U0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TI(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Ki.postRender(()=>s(e,cy(e)))}class kie extends Qd{mount(){const{current:e}=this.node;e&&(this.unmount=lte(e,(n,i)=>(TI(this.node,i,"Start"),(r,{success:s})=>TI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const RS=new WeakMap,ob=new WeakMap,Die=t=>{const e=RS.get(t.target);e&&e(t)},Fie=t=>{t.forEach(Die)};function Bie({root:t,...e}){const n=t||document;ob.has(n)||ob.set(n,{});const i=ob.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Fie,{root:t,...e})),i[r]}function Uie(t,e,n){const i=Bie(e);return RS.set(t,n),i.observe(t),()=>{RS.delete(t),i.unobserve(t)}}const zie={some:0,all:1};class Hie extends Qd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:zie[r]},a=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),y=d?f:p;y&&y(u)};return Uie(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Vie(e,n))&&this.startObserver()}unmount(){}}function Vie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jie={inView:{Feature:Hie},tap:{Feature:kie},focus:{Feature:Oie},hover:{Feature:Nie}},Wie={layout:{ProjectionNode:b6,MeasureLayout:m6}},Gie={...Pne,...jie,...Lie,...Wie},Yie=Wte(Gie,ine),Xie=()=>{const t=_f();return X.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),F.jsx(Yie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"text-center p-8 rounded-lg border border-border bg-card shadow-md",children:F.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:F.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[F.jsx(oU,{className:"mx-auto mb-4 text-primary",size:48}),F.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),F.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),F.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Tried to access: ",F.jsx("code",{children:t.pathname})]}),F.jsx(Xp,{to:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})})},qie="/assets/banner-about-DK4s38je.jpg",S6=X.forwardRef(({...t},e)=>F.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));S6.displayName="Breadcrumb";const w6=X.forwardRef(({className:t,...e},n)=>F.jsx("ol",{ref:n,className:Fi("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));w6.displayName="BreadcrumbList";const IS=X.forwardRef(({className:t,...e},n)=>F.jsx("li",{ref:n,className:Fi("inline-flex items-center gap-1.5",t),...e}));IS.displayName="BreadcrumbItem";const LS=X.forwardRef(({asChild:t,className:e,...n},i)=>{const r=t?F3:"a";return F.jsx(r,{ref:i,className:Fi("transition-colors hover:text-primary focus-visible:text-primary",e),...n})});LS.displayName="BreadcrumbLink";const C6=X.forwardRef(({className:t,...e},n)=>F.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Fi("font-medium text-foreground",t),...e}));C6.displayName="BreadcrumbPage";const A6=({children:t,className:e,...n})=>F.jsx("li",{role:"presentation","aria-hidden":"true",className:Fi("[&>svg]:size-3.5 text-muted-foreground/50",e),...n,children:t??F.jsx(HB,{className:"h-3.5 w-3.5"})});A6.displayName="BreadcrumbSeparator";const bI=t=>t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),dy=()=>{const e=_f().pathname.split("/").filter(Boolean);return F.jsx(S6,{className:"mb-6",children:F.jsxs(w6,{children:[F.jsx(IS,{children:F.jsx(LS,{asChild:!0,children:F.jsx(Xp,{to:"/",children:"Home"})})}),e.map((n,i)=>{const r=i===e.length-1,s="/"+e.slice(0,i+1).join("/");return F.jsxs(it.Fragment,{children:[F.jsx(A6,{}),F.jsx(IS,{children:r?F.jsx(C6,{children:bI(n)}):F.jsx(LS,{asChild:!0,children:F.jsx(Xp,{to:s,children:bI(n)})})})]},i)})]})})},Zie=()=>F.jsxs(fm,{children:[F.jsxs(m0,{htmlAttributes:{lang:"en"},children:[F.jsx("meta",{charSet:"utf-8"}),F.jsx("title",{children:"About Us | Torres Pest Control Davao"}),F.jsx("meta",{name:"description",content:"Learn about Torres Pest Control  our mission, eco-conscious approach, and trusted team serving Davao homes and businesses for over 14 years."}),F.jsx("meta",{name:"keywords",content:"about Torres Pest Control, pest control team, IPM approach, Davao sanitation"}),F.jsx("meta",{name:"author",content:"Torres Pest Control PH"}),F.jsx("meta",{property:"og:title",content:"About Us | Torres Pest Control Davao"}),F.jsx("meta",{property:"og:description",content:"Meet the team and learn how Torres Pest Control ensures safety, compliance, and pest-free homes in Davao."}),F.jsx("meta",{property:"og:url",content:"https://torrespestcontrol.ph/about"}),F.jsx("meta",{property:"og:image",content:"https://torrespestcontrol.ph/images/og-banner.jpg"}),F.jsx("meta",{name:"robots",content:"index, follow"}),F.jsx("link",{rel:"canonical",href:"https://torrespestcontrol.ph/about"})]}),F.jsxs("div",{className:"w-full",children:[F.jsx("section",{className:"relative h-[80vh] justify-center text-center bg-black text-white flex items-end bg-fixed bg-center bg-cover",style:{backgroundImage:`linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.7)), url(${qie})`},children:F.jsxs("div",{className:"max-w-4xl px-4 mb-16",children:[F.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Locally Trusted. Family Safe."}),F.jsx("p",{className:"text-xl md:text-2xl text-gray-200",children:"Over 14 years of eco-conscious pest control for Davao homes and businesses."})]})}),F.jsx("div",{className:"max-w-6xl mx-auto space-y-16 pt-3",children:F.jsx(dy,{})}),F.jsx("section",{className:"py-20 px-6 md:px-12 bg-white dark:bg-gray-900",children:F.jsx("div",{className:"max-w-6xl mx-auto space-y-16",children:[{title:"Our Commitment",content:"We treat every property like our own  with precision, care, and respect. Whether its a family home, a clinic, or a local shop, our goal is to eliminate pests while preserving safety and trust.",imageUrl:"/images/tpc_180.jpg"},{title:"Our Approach",content:"We follow Integrated Pest Management (IPM) principles  combining sanitation, structural defense, and targeted treatments. Only when necessary do we apply eco-safe chemicals, always with minimal exposure and maximum effectiveness.",imageUrl:"/images/tpc_786.jpg"},{title:"Safety & Compliance",content:"Our technicians are trained in public health protocols and safe application methods. We prioritize child-safe, pet-safe, and environmentally responsible solutions  especially for hospitals, schools, and food establishments.",imageUrl:"/images/tpc_334.jpg"}].map((t,e)=>F.jsxs("div",{className:`grid md:grid-cols-2 gap-10 items-center ${e%2===1?"md:flex-row-reverse":""}`,children:[F.jsxs("div",{children:[F.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:t.title}),F.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:t.content})]}),F.jsx("div",{children:F.jsx("img",{src:t.imageUrl,alt:t.title,className:"rounded-xl shadow-lg object-cover w-full h-64 md:h-80"})})]},e))})}),F.jsx("section",{className:"py-20 bg-gradient-to-br from-green-100 to-blue-100 dark:from-gray-800 dark:to-gray-900 px-6 md:px-12",children:F.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[F.jsx("h2",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-6",children:"Meet Our Team"}),F.jsxs("p",{className:"text-lg text-gray-700 dark:text-gray-300 max-w-3xl mx-auto",children:["Behind the company is a dedicated team of pest specialists trained in IPM, sanitation, and public safety. Our founder,"," ",F.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"Dennis Torres"}),", believes that every service visit builds trust  not just terminates pests."]}),F.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[1,2,3,4,5,6,7,8].map(t=>F.jsx("div",{className:"overflow-hidden rounded-xl shadow-md group",children:F.jsx("img",{src:`/images/teams/tpc_98${t}.jpg`,alt:`Team Member ${t}`,className:"object-cover w-full h-64 transform group-hover:scale-105 transition duration-300 ease-in-out"})},t))})]})})]})]}),I1="/assets/banner-services-BLIHvCZ0.jpg";function Kie(){return it.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function $ie(){return it.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const Cx=(t,e)=>t===e?.tagName?.toUpperCase?.(),KC=t=>Cx("DIV",t)||Cx("SPAN",t),Ax=t=>Cx("IMG",t),SI=t=>t.complete&&t.naturalHeight!==0,E_=t=>Cx("SVG",t),M6=({height:t,offset:e,width:n})=>Math.min((window.innerWidth-e*2)/n,(window.innerHeight-e*2)/t),Qie=({containerHeight:t,containerWidth:e,offset:n,targetHeight:i,targetWidth:r})=>{const s=M6({height:i,offset:n,width:r}),o=r>i?r/e:i/t;return s>1?o:s*o},uf=({containerHeight:t,containerWidth:e,hasScalableSrc:n,offset:i,targetHeight:r,targetWidth:s})=>!t||!e?1:!n&&r&&s?Qie({containerHeight:t,containerWidth:e,offset:i,targetHeight:r,targetWidth:s}):M6({height:t,offset:i,width:e}),Jie=/url(?:\(['"]?)(.*?)(?:['"]?\))/,wI=t=>{if(t){if(Ax(t))return t.currentSrc;if(KC(t)){const e=window.getComputedStyle(t).backgroundImage;if(e)return Jie.exec(e)?.[1]}}},ere=t=>{if(t)return Ax(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},tre=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:i,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a})=>{const u=uf({containerHeight:t,containerWidth:i,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a});return{top:n,left:e,width:i*u,height:t*u,transform:`translate(0,0) scale(${1/u})`}},za=({position:t,relativeNum:e})=>{const n=parseFloat(t);return t.endsWith("%")?e*n/100:n},nre=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:i,hasScalableSrc:r,objectFit:s,objectPosition:o,offset:a,targetHeight:u,targetWidth:d})=>{if(s==="scale-down"&&(d<=i&&u<=t?s="none":s="contain"),s==="cover"||s==="contain"){const f=i/d,p=t/u,y=s==="cover"?Math.max(f,p):Math.min(f,p),[v="50%",T="50%"]=o.split(" "),S=za({position:v,relativeNum:i-d*y}),b=za({position:T,relativeNum:t-u*y}),E=uf({containerHeight:u*y,containerWidth:d*y,hasScalableSrc:r,offset:a,targetHeight:u,targetWidth:d});return{top:n+b,left:e+S,width:d*y*E,height:u*y*E,transform:`translate(0,0) scale(${1/E})`}}else if(s==="none"){const[f="50%",p="50%"]=o.split(" "),y=za({position:f,relativeNum:i-d}),v=za({position:p,relativeNum:t-u}),T=uf({containerHeight:u,containerWidth:d,hasScalableSrc:r,offset:a,targetHeight:u,targetWidth:d});return{top:n+v,left:e+y,width:d*T,height:u*T,transform:`translate(0,0) scale(${1/T})`}}else if(s==="fill"){const f=i/d,p=t/u,y=Math.max(f,p),v=uf({containerHeight:u*y,containerWidth:d*y,hasScalableSrc:r,offset:a,targetHeight:u,targetWidth:d});return{width:i*v,height:t*v,transform:`translate(0,0) scale(${1/v})`}}else return{}},ire=({backgroundPosition:t,backgroundSize:e,containerHeight:n,containerLeft:i,containerTop:r,containerWidth:s,hasScalableSrc:o,offset:a,targetHeight:u,targetWidth:d})=>{if(e==="cover"||e==="contain"){const f=s/d,p=n/u,y=e==="cover"?Math.max(f,p):Math.min(f,p),[v="50%",T="50%"]=t.split(" "),S=za({position:v,relativeNum:s-d*y}),b=za({position:T,relativeNum:n-u*y}),E=uf({containerHeight:u*y,containerWidth:d*y,hasScalableSrc:o,offset:a,targetHeight:u,targetWidth:d});return{top:r+b,left:i+S,width:d*y*E,height:u*y*E,transform:`translate(0,0) scale(${1/E})`}}else if(e==="auto"){const[f="50%",p="50%"]=t.split(" "),y=za({position:f,relativeNum:s-d}),v=za({position:p,relativeNum:n-u}),T=uf({containerHeight:u,containerWidth:d,hasScalableSrc:o,offset:a,targetHeight:u,targetWidth:d});return{top:r+v,left:i+y,width:d*T,height:u*T,transform:`translate(0,0) scale(${1/T})`}}else{const[f="50%",p="50%"]=e.split(" "),y=za({position:f,relativeNum:s}),v=za({position:p,relativeNum:n}),T=y/d,S=v/u,b=Math.min(T,S),[E="50%",R="50%"]=t.split(" "),P=za({position:E,relativeNum:s-d*b}),D=za({position:R,relativeNum:n-u*b}),G=uf({containerHeight:u*b,containerWidth:d*b,hasScalableSrc:o,offset:a,targetHeight:u,targetWidth:d});return{top:r+D,left:i+P,width:d*b*G,height:u*b*G,transform:`translate(0,0) scale(${1/G})`}}},rre=/\.svg$/i,sre=({hasZoomImg:t,imgSrc:e,isSvg:n,isZoomed:i,loadedImgEl:r,offset:s,shouldRefresh:o,targetEl:a})=>{const u=n||e?.slice?.(0,18)==="data:image/svg+xml"||t||!!(e&&rre.test(e)),d=a.getBoundingClientRect(),f=window.getComputedStyle(a),p=r!=null&&KC(a),y=r!=null&&!p,v=tre({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,offset:s,targetHeight:r?.naturalHeight||d.height,targetWidth:r?.naturalWidth||d.width}),T=y?nre({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,objectFit:f.objectFit,objectPosition:f.objectPosition,offset:s,targetHeight:r?.naturalHeight||d.height,targetWidth:r?.naturalWidth||d.width}):void 0,S=p?ire({backgroundPosition:f.backgroundPosition,backgroundSize:f.backgroundSize,containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:u,offset:s,targetHeight:r?.naturalHeight||d.height,targetWidth:r?.naturalWidth||d.width}):void 0,b=Object.assign({},v,T,S);if(i){const E=window.innerWidth/2,R=window.innerHeight/2,P=parseFloat(String(b.left||0))+parseFloat(String(b.width||0))/2,D=parseFloat(String(b.top||0))+parseFloat(String(b.height||0))/2,G=E-P,V=R-D;o&&(b.transitionDuration="0.01ms"),b.transform=`translate(${G}px,${V}px) scale(1)`}return b},ab=t=>{if(!t)return{};if(E_(t)){const e=t.parentElement,n=t.getBoundingClientRect();if(e){const i=e.getBoundingClientRect();return{height:n.height,left:i.left-n.left,top:i.top-n.top,width:n.width}}else return{height:n.height,left:n.left,width:n.width,top:n.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},ore=t=>{const e="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],i=new Map;if(t.hasAttribute("id")){const r=t.id,s=r+e;i.set(r,s),t.id=s}t.querySelectorAll("[id]").forEach(r=>{const s=r.id,o=s+e;i.set(s,o),r.id=o}),i.forEach((r,s)=>{const o=`url(#${s})`,a=`url(#${r})`,u=n.map(d=>`[${d}="${o}"]`).join(", ");t.querySelectorAll(u).forEach(d=>{n.forEach(f=>{d.getAttribute(f)===o&&d.setAttribute(f,a)})})}),t.querySelectorAll("style").forEach(r=>{i.forEach((s,o)=>{r.textContent&&(r.textContent=r.textContent.replaceAll(`#${o}`,`#${s}`))})})},are=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),CI={overflow:"",width:""};function lre(t){return it.createElement(P6,{...t})}class P6 extends it.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=it.createRef(),this.refDialog=it.createRef(),this.refModalContent=it.createRef(),this.refModalImg=it.createRef(),this.refWrap=it.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=CI,this.styleModalImg={},this.handleModalStateChange=e=>{const{modalState:n}=this.state;e!=="LOADING"&&n==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&n==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&n==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&n==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),this.refDialog.current?.close?.())},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(are),this.imgEl?(this.contentNotFoundChangeObserver?.disconnect?.(),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(n=>{const i=n[0];i?.target&&(this.imgEl=i.target,this.setState({styleGhost:ab(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:ab(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:n}=this.props;!e&&n?this.zoom():e&&!n&&this.unzoom()},this.handleImgLoad=()=>{const e=wI(this.imgEl);if(!e)return;const n=new Image;Ax(this.imgEl)&&(n.sizes=this.imgEl.sizes,n.srcset=this.imgEl.srcset,n.crossOrigin=this.imgEl.crossOrigin),n.src=e;const i=()=>{this.setState({loadedImgEl:n,styleGhost:ab(this.imgEl)})};n.decode().then(i).catch(()=>{if(SI(n)){i();return}n.onload=i})},this.handleZoom=()=>{!this.props.isDisabled&&this.hasImage()&&this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.isDisabled||this.props.onZoomChange?.(!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{const n=window.visualViewport?.scale??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&n<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const i=Math.max(this.touchYStart,this.touchYEnd),r=Math.min(this.touchYStart,this.touchYEnd);Math.abs(i-r)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||E_(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.refModalImg.current?.addEventListener?.("transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,n=parseFloat(e);if(n){const i=n*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,i)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=CI},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,n=e?.src;if(n){const i=new Image;i.sizes=e?.sizes??"",i.srcset=e?.srcSet??"",i.crossOrigin=e?.crossOrigin??void 0,i.src=n;const r=()=>{this.setState({isZoomImgLoaded:!0})};i.decode().then(r).catch(()=>{if(SI(i)){r();return}i.onload=r})}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:n,styleModalImg:i}=this;if(E_(e)){const r=e.cloneNode(!0);ore(r),r.style.width=`${i.width||0}px`,r.style.height=`${i.height||0}px`,r.addEventListener("click",this.handleUnzoom),n.current?.firstChild?.remove?.(),n.current?.appendChild?.(r)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:n,handleDialogClick:i,handleDialogClose:r,handleUnzoom:s,handleZoom:o,imgEl:a,props:{a11yNameButtonUnzoom:u,a11yNameButtonZoom:d,children:f,classDialog:p,IconUnzoom:y,IconZoom:v,isZoomed:T,wrapElement:S,ZoomContent:b,zoomImg:E,zoomMargin:R},refContent:P,refDialog:D,refModalContent:G,refModalImg:V,refWrap:K,state:{id:H,isZoomImgLoaded:z,loadedImgEl:k,modalState:Z,shouldRefresh:$,styleGhost:re}}=this,ie=`rmiz-modal-${H}`,ge=`rmiz-modal-img-${H}`,fe=KC(a),he=Ax(a),Y=E_(a),se=ere(a),j=wI(a),ee=he?a.sizes:void 0,ue=he?a.srcset:void 0,J=he?a.crossOrigin:void 0,pe=!!E?.src,xe=this.hasImage(),be=se?`${d}: ${se}`:d,Ce=Z==="LOADING"||Z==="LOADED",Xe=xe?"found":"not-found",nt=Z==="UNLOADED"||Z==="UNLOADING"?"hidden":"visible",rt={visibility:Z==="UNLOADED"?"visible":"hidden"};this.styleModalImg=xe?sre({hasZoomImg:pe,imgSrc:j,isSvg:Y,isZoomed:T&&Ce,loadedImgEl:k,offset:R,shouldRefresh:$,targetEl:a}):{};let ot=null;if(xe){const _t=he||fe?it.createElement("img",{alt:se,crossOrigin:J,sizes:ee,src:j,srcSet:ue,...z&&Z==="LOADED"?E:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:ge,ref:V,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):Y?it.createElement("div",{"data-rmiz-modal-img":!0,ref:V,style:this.styleModalImg}):null,yt=it.createElement("button",{"aria-label":u,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},it.createElement(y,null));ot=b?it.createElement(b,{buttonUnzoom:yt,modalState:Z,img:_t,isZoomImgLoaded:z,onUnzoom:s}):it.createElement(it.Fragment,null,_t,yt)}return it.createElement(S,{"aria-owns":ie,"data-rmiz":"",ref:K},it.createElement(S,{"data-rmiz-content":Xe,ref:P,style:rt},f),xe&&it.createElement(S,{"data-rmiz-ghost":"",style:re},it.createElement("button",{"aria-label":be,"data-rmiz-btn-zoom":"",onClick:o,type:"button"},it.createElement(v,null))),xe&&KS.createPortal(it.createElement("dialog",{"aria-labelledby":ge,"aria-modal":"true",className:p,"data-rmiz-modal":"",id:ie,onClick:i,onClose:r,onCancel:n,ref:D,role:"dialog"},it.createElement("div",{"data-rmiz-modal-overlay":nt}),it.createElement("div",{"data-rmiz-modal-content":"",ref:G},ot)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),this.contentChangeObserver?.disconnect?.(),this.contentNotFoundChangeObserver?.disconnect?.(),this.imgElResizeObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,n){this.handleModalStateChange(n.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}P6.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:Kie,IconZoom:$ie,isDisabled:!1,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function ure(t){const[e,n]=it.useState(!1);return it.createElement(lre,{...t,isZoomed:e,onZoomChange:n})}const cre="/assets/tpc_cert_1-ZcfWw3cz.jpg",dre="/assets/tpc_cert_3-CVVWYaJs.jpg",hre="/assets/tpc_cert_2-DzZNnsWX.jpg",fre=()=>F.jsxs(fm,{children:[F.jsxs("section",{className:"relative h-[400px] flex items-center justify-center bg-cover bg-center bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${I1})`,backgroundAttachment:"fixed"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),F.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[F.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Legal Certifications & Compliance"}),F.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto text-gray-200",children:"Torres Pest Control operates with full accreditation and regulatory compliance for chemical safety, sanitation, and insured service delivery."})]})]}),F.jsx("div",{className:"container mx-auto px-4 pt-3",children:F.jsx(dy,{})}),F.jsxs("div",{className:"container mx-auto px-4 pt-3",children:[F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[{label:"Business Permit",image:cre},{label:"License to Operate",image:hre},{label:"Sanitary Permit",image:dre}].map(({label:t,image:e})=>F.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-800",children:[F.jsx(ure,{children:F.jsx("img",{src:e,alt:t,className:"w-full h-auto object-cover aspect-[3/4] cursor-zoom-in"})}),F.jsx("div",{className:"p-4 text-center",children:F.jsx("h2",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:t})})]},t))}),F.jsx("div",{className:"mt-16 text-center mb-20",children:F.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["For verification or full documentation, kindly request via"," ",F.jsx("a",{href:"#contact",className:"text-green-600 dark:text-green-400 underline",children:"contact form"}),"."]})})]})]}),pre="modulepreload",mre=function(t){return"/"+t},AI={},Id=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var o=d;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=a?.nonce||a?.getAttribute("nonce");r=d(n.map(f=>{if(f=mre(f),f in AI)return;AI[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":pre,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((T,S)=>{v.addEventListener("load",T),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return r.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gre(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kd=function(){return kd=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kd.apply(this,arguments)};function yre(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var ki={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},vre={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function _re(){(function(){if(typeof window.CustomEvent=="function")return!1;function t(e,n){n=n||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i}window.CustomEvent=t})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var R6=function(){function t(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0,i=e=="x"?n:n&3|8;return i.toString(16)})},t.prototype._getSelector=function(e,n){if(n===void 0&&(n=document),typeof e!="string")return e;n=n||document;var i=e.substring(0,1);return i==="#"?n.querySelector(e):n.querySelectorAll(e)},t.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},t.prototype._setCssVendorPrefix=function(e,n,i){var r=n.replace(/-([a-z])/gi,function(s,o){return o.toUpperCase()});this.cssVenderPrefixes.indexOf(r)!==-1?(e.style[r.charAt(0).toLowerCase()+r.slice(1)]=i,e.style["webkit"+r]=i,e.style["moz"+r]=i,e.style["ms"+r]=i,e.style["o"+r]=i):e.style[r]=i},t.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},t.prototype.isEventMatched=function(e,n){var i=n.split(".");return e.split(".").filter(function(r){return r}).every(function(r){return i.indexOf(r)!==-1})},t.prototype.attr=function(e,n){return n===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(i){i.setAttribute(e,n)}),this)},t.prototype.find=function(e){return gn(this._getSelector(e,this.selector))},t.prototype.first=function(){return this.selector&&this.selector.length!==void 0?gn(this.selector[0]):gn(this.selector)},t.prototype.eq=function(e){return gn(this.selector[e])},t.prototype.parent=function(){return gn(this.selector.parentElement)},t.prototype.get=function(){return this._getFirstEl()},t.prototype.removeAttr=function(e){var n=e.split(" ");return this._each(function(i){n.forEach(function(r){return i.removeAttribute(r)})}),this},t.prototype.wrap=function(e){if(!this.firstElement)return this;var n=document.createElement("div");return n.className=e,this.firstElement.parentNode.insertBefore(n,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),n.appendChild(this.firstElement),this},t.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(n){e.split(" ").forEach(function(i){i&&n.classList.add(i)})}),this},t.prototype.removeClass=function(e){return this._each(function(n){e.split(" ").forEach(function(i){i&&n.classList.remove(i)})}),this},t.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},t.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},t.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},t.prototype.css=function(e,n){var i=this;return this._each(function(r){i._setCssVendorPrefix(r,e,n)}),this},t.prototype.on=function(e,n){var i=this;return this.selector?(e.split(" ").forEach(function(r){Array.isArray(t.eventListeners[r])||(t.eventListeners[r]=[]),t.eventListeners[r].push(n),i.selector.addEventListener(r.split(".")[0],n)}),this):this},t.prototype.once=function(e,n){var i=this;return this.on(e,function(){i.off(e),n(e)}),this},t.prototype.off=function(e){var n=this;return this.selector?(Object.keys(t.eventListeners).forEach(function(i){n.isEventMatched(e,i)&&(t.eventListeners[i].forEach(function(r){n.selector.removeEventListener(i.split(".")[0],r)}),t.eventListeners[i]=[])}),this):this},t.prototype.trigger=function(e,n){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:n||null});return this.firstElement.dispatchEvent(i),this},t.prototype.load=function(e){var n=this;return fetch(e).then(function(i){return i.text()}).then(function(i){n.selector.innerHTML=i}),this},t.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(n){n.innerHTML=e}),this)},t.prototype.append=function(e){return this._each(function(n){typeof e=="string"?n.insertAdjacentHTML("beforeend",e):n.appendChild(e)}),this},t.prototype.prepend=function(e){return this._each(function(n){typeof e=="string"?n.insertAdjacentHTML("afterbegin",e):e instanceof HTMLElement&&n.insertBefore(e.cloneNode(!0),n.firstChild)}),this},t.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},t.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},t.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},t.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),n=gn("body").style().marginLeft;return{left:e.left-parseFloat(n)+this.scrollLeft(),top:e.top+this.scrollTop()}},t.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},t.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},t.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},t.eventListeners={},t}();function gn(t){return _re(),new R6(t)}var xre=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Ere(t){return t==="href"?"src":(t=t.replace("data-",""),t=t.charAt(0).toLowerCase()+t.slice(1),t=t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),t)}var Gr={fetchCaptionFromUrl:function(t,e,n){fetch(t).then(function(i){return i.text()}).then(function(i){if(n==="append"){var r='<div class="lg-sub-html">'+i+"</div>";e.append(r)}else e.html(i)})},getSize:function(t,e,n,i){n===void 0&&(n=0);var r=gn(t),s=r.attr("data-lg-size")||i;if(s){var o=s.split(",");if(o[1])for(var a=window.innerWidth,u=0;u<o.length;u++){var d=o[u],f=parseInt(d.split("-")[2],10);if(f>a){s=d;break}u===o.length-1&&(s=d)}var p=s.split("-"),y=parseInt(p[0],10),v=parseInt(p[1],10),T=e.width(),S=e.height()-n,b=Math.min(T,y),E=Math.min(S,v),R=Math.min(b/y,E/v);return{width:y*R,height:v*R}}},getTransform:function(t,e,n,i,r){if(r){var s=gn(t).find("img").first();if(s.get()){var o=e.get().getBoundingClientRect(),a=o.width,u=e.height()-(n+i),d=s.width(),f=s.height(),p=s.style(),y=(a-d)/2-s.offset().left+(parseFloat(p.paddingLeft)||0)+(parseFloat(p.borderLeft)||0)+gn(window).scrollLeft()+o.left,v=(u-f)/2-s.offset().top+(parseFloat(p.paddingTop)||0)+(parseFloat(p.borderTop)||0)+gn(window).scrollTop()+n,T=d/r.width,S=f/r.height,b="translate3d("+(y*=-1)+"px, "+(v*=-1)+"px, 0) scale3d("+T+", "+S+", 1)";return b}}},getIframeMarkup:function(t,e,n,i,r,s){var o=s?'title="'+s+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+t+"; max-width:"+n+"; height: "+e+"; max-height:"+i+`">
                    <iframe class="lg-object" frameborder="0" `+o+' src="'+r+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(t,e,n,i,r,s){var o=i?'srcset="'+i+'"':"",a=r?'sizes="'+r+'"':"",u="<img "+n+" "+o+"  "+a+' class="lg-object lg-image" data-index="'+t+'" src="'+e+'" />',d="";if(s){var f=typeof s=="string"?JSON.parse(s):s;d=f.map(function(p){var y="";return Object.keys(p).forEach(function(v){y+=" "+v+'="'+p[v]+'"'}),"<source "+y+"></source>"})}return""+d+u},getResponsiveSrc:function(t){for(var e=[],n=[],i="",r=0;r<t.length;r++){var s=t[r].split(" ");s[0]===""&&s.splice(0,1),n.push(s[0]),e.push(s[1])}for(var o=window.innerWidth,a=0;a<e.length;a++)if(parseInt(e[a],10)>o){i=n[a];break}return i},isImageLoaded:function(t){return!(!t||!t.complete||t.naturalWidth===0)},getVideoPosterMarkup:function(t,e,n,i,r){var s="";r&&r.youtube?s="lg-has-youtube":r&&r.vimeo?s="lg-has-vimeo":s="lg-has-html5";var o=e;return typeof e!="string"&&(o=e.outerHTML),'<div class="lg-video-cont '+s+'" style="'+n+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+i+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+i+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+o+`
            <img class="lg-object lg-video-poster" src="`+t+`" />
        </div>`},getFocusableElements:function(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),n=[].filter.call(e,function(i){var r=window.getComputedStyle(i);return r.display!=="none"&&r.visibility!=="hidden"});return n},getDynamicOptions:function(t,e,n,i){var r=[],s=yre(xre,e);return[].forEach.call(t,function(o){for(var a={},u=0;u<o.attributes.length;u++){var d=o.attributes[u];if(d.specified){var f=Ere(d.name),p="";s.indexOf(f)>-1&&(p=f),p&&(a[p]=d.value)}}var y=gn(o),v=y.find("img").first().attr("alt"),T=y.attr("title"),S=i?y.attr(i):y.find("img").first().attr("src");a.thumb=S,n&&!a.subHtml&&(a.subHtml=T||v||""),a.alt=v||T||"",r.push(a)}),r},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(t,e,n){if(!t){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(n+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var i=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),r=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),s=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(i)return{youtube:i};if(r)return{vimeo:r};if(s)return{wistia:s}}},MI=0,Tre=function(){function t(e,n){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(MI++,this.lgId=MI,this.el=e,this.LGel=gn(e),this.generateSettings(n),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return t.prototype.generateSettings=function(e){if(this.settings=kd(kd({},vre),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():Gr.isMobile()){var n=kd(kd({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=kd(kd({},this.settings),n)}},t.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var e=this.settings.container;if(typeof e=="function")this.settings.container=e();else if(typeof e=="string"){var n=document.querySelector(e);this.settings.container=n??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},t.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(ki.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},t.prototype.openGalleryOnItemClick=function(){for(var e=this,n=function(s){var o=i.items[s],a=gn(o),u=R6.generateUUID();a.attr("data-lg-id",u).on("click.lgcustom-item-"+u,function(d){d.preventDefault();var f=e.settings.index||s;e.openGallery(f,o)})},i=this,r=0;r<this.items.length;r++)n(r)},t.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(n){e.plugins.push(new n(e,gn))})},t.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},t.prototype.getSlideItem=function(e){return gn(this.getSlideItemId(e))},t.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},t.prototype.getIdName=function(e){return e+"-"+this.lgId},t.prototype.getElementById=function(e){return gn("#"+this.getIdName(e))},t.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},t.prototype.buildStructure=function(){var e=this,n=this.$container&&this.$container.get();if(!n){var i="",r="";this.settings.controls&&(i='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(r='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var o=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",a=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",u="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),d=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",f=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",p=`
        <div class="`+u+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+o+" "+a+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+i+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+f+`
                    `+d+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?r:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?r:"")+`
                </div>
            </div>
        </div>
        `;gn(this.settings.container).append(p),document.body!==this.settings.container&&gn(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var y=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(y+="lg-grab "),this.outer.addClass(y),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),gn(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},t.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],n=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var i=this.mediaContainerPosition,r=i.top,s=i.bottom;if(this.currentImageSize=Gr.getSize(this.items[this.index],this.outer,r+s,n&&this.settings.videoMaxSize),n&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var o=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",o)}this.LGel.trigger(ki.containerResize)}},t.prototype.resizeVideoSlide=function(e,n){var i=this.getVideoContStyle(n),r=this.getSlideItem(e);r.find(".lg-video-cont").attr("style",i)},t.prototype.updateSlides=function(e,n){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var i=this.galleryItems[n].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var r=0;this.galleryItems.some(function(s,o){return s.src===i?(r=o,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(r,-1),this.loadContent(r,!0),this.getSlideItem(r).addClass("lg-current"),this.index=r,this.updateCurrentCounter(r),this.LGel.trigger(ki.updateSlides)},t.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=gn(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return Gr.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},t.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},t.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(gn("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),n=window.innerWidth-e.width;gn(document.body).css("padding-right",n+this.bodyPaddingRight+"px"),gn(document.body).addClass("lg-overlay-open")}},t.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(gn(document.body).css("padding-right",this.bodyPaddingRight+"px"),gn(document.body).removeClass("lg-overlay-open"))},t.prototype.openGallery=function(e,n){var i=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var r=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=r;var s="";r.forEach(function(y){s=s+('<div id="'+y+'" class="lg-item"></div>')}),this.$inner.append(s),this.addHtml(e);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var a=this.mediaContainerPosition,u=a.top,d=a.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(u,d);var f=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&n&&(this.currentImageSize=Gr.getSize(n,this.outer,u+d,f&&this.settings.videoMaxSize),o=Gr.getTransform(n,this.outer,u,d,this.currentImageSize)),(!this.zoomFromOrigin||!o)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var p=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){i.outer.addClass("lg-components-open")},p),this.index=e,this.LGel.trigger(ki.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=gn(window).scrollTop(),setTimeout(function(){if(i.zoomFromOrigin&&o){var y=i.getSlideItem(e);y.css("transform",o),setTimeout(function(){y.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){y.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")},10),setTimeout(function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()},i.settings.backdropDuration+50),(!i.zoomFromOrigin||!o)&&setTimeout(function(){i.outer.addClass("lg-visible")},i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger(ki.afterOpen)}),document.body===this.settings.container&&gn("html").addClass("lg-on")}},t.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,n=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||n&&n.clientHeight||0,r=this.outer.find(".lg-thumb-outer").get(),s=r?r.clientHeight:0,o=s+i;return{top:e,bottom:o}},t.prototype.setMediaContainerPosition=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.$content.css("top",e+"px").css("bottom",n+"px")},t.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},t.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},t.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},t.prototype.addHtml=function(e){var n,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:n=this.galleryItems[e].subHtml,!i)if(n){var r=n.substring(0,1);if(r==="."||r==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?n=gn(this.items).eq(e).find(n).first().html():n=gn(n).first().html()}catch{console.warn('Error processing subHtml selector "'+n+'"'),n=""}}else n="";if(this.settings.appendSubHtmlTo!==".lg-item")i?Gr.fetchCaptionFromUrl(i,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(n);else{var s=gn(this.getSlideItemId(e));i?Gr.fetchCaptionFromUrl(i,s,"append"):s.append('<div class="lg-sub-html">'+n+"</div>")}typeof n<"u"&&n!==null&&(n===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(ki.afterAppendSubHtml,{index:e})},t.prototype.preload=function(e){for(var n=1;n<=this.settings.preload&&!(n>=this.galleryItems.length-e);n++)this.loadContent(e+n,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},t.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},t.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},t.prototype.getDummyImageContent=function(e,n,i){var r;if(this.settings.dynamic||(r=gn(this.items).eq(n)),r){var s=void 0;if(this.settings.exThumbImage?s=r.attr(this.settings.exThumbImage):s=r.find("img").first().attr("src"),!s)return"";var o=this.getDummyImgStyles(this.currentImageSize),a=document.createElement("img");return a.alt=i||"",a.src=s,a.className="lg-dummy-img",a.style.cssText=o,e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),a}return""},t.prototype.setImgMarkup=function(e,n,i){var r=this.galleryItems[i],s=r.alt,o=r.srcset,a=r.sizes,u=r.sources,d="",f=s?'alt="'+s+'"':"";this.isFirstSlideWithZoomAnimation()?d=this.getDummyImageContent(n,i,f):d=Gr.getImgMarkup(i,e,f,o,a,u);var p=document.createElement("picture");p.className="lg-img-wrap",gn(p).append(d),n.prepend(p)},t.prototype.onSlideObjectLoad=function(e,n,i,r){var s=e.find(".lg-object").first();Gr.isImageLoaded(s.get())||n?i():(s.on("load.lg error.lg",function(){i&&i()}),s.on("error.lg",function(){r&&r()}))},t.prototype.onLgObjectLoad=function(e,n,i,r,s,o){var a=this;this.onSlideObjectLoad(e,o,function(){a.triggerSlideItemLoad(e,n,i,r,s)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+a.settings.strings.mediaLoadingFailed+"</span>")})},t.prototype.triggerSlideItemLoad=function(e,n,i,r,s){var o=this,a=this.galleryItems[n],u=s&&this.getSlideType(a)==="video"&&!a.poster?r:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),o.LGel.trigger(ki.slideItemLoad,{index:n,delay:i||0,isFirstSlide:s})},u)},t.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},t.prototype.addSlideVideoInfo=function(e){var n=this;e.forEach(function(i,r){i.__slideVideoInfo=Gr.isVideo(i.src,!!i.video,r),i.__slideVideoInfo&&n.settings.loadYouTubePoster&&!i.poster&&i.__slideVideoInfo.youtube&&(i.poster="//img.youtube.com/vi/"+i.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},t.prototype.loadContent=function(e,n){var i=this,r=this.galleryItems[e],s=gn(this.getSlideItemId(e)),o=r.poster,a=r.srcset,u=r.sizes,d=r.sources,f=r.src,p=r.video,y=p&&typeof p=="string"?JSON.parse(p):p;if(r.responsive){var v=r.responsive.split(",");f=Gr.getResponsiveSrc(v)||f}var T=r.__slideVideoInfo,S="",b=!!r.iframe,E=!this.lGalleryOn,R=0;if(E&&(this.zoomFromOrigin&&this.currentImageSize?R=this.settings.startAnimationDuration+10:R=this.settings.backdropDuration+10),!s.hasClass("lg-loaded")){if(T){var P=this.mediaContainerPosition,D=P.top,G=P.bottom,V=Gr.getSize(this.items[e],this.outer,D+G,T&&this.settings.videoMaxSize);S=this.getVideoContStyle(V)}if(b){var K=Gr.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,f,r.iframeTitle);s.prepend(K)}else if(o){var H="",z=E&&this.zoomFromOrigin&&this.currentImageSize;z&&(H=this.getDummyImageContent(s,e,""));var K=Gr.getVideoPosterMarkup(o,H||"",S,this.settings.strings.playVideo,T);s.prepend(K)}else if(T){var K='<div class="lg-video-cont " style="'+S+'"></div>';s.prepend(K)}else if(this.setImgMarkup(f,s,e),a||d){var k=s.find(".lg-object");this.initPictureFill(k)}(o||T)&&this.LGel.trigger(ki.hasVideo,{index:e,src:f,html5Video:y,hasPoster:!!o}),this.LGel.trigger(ki.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var Z=0;R&&!gn(document.body).hasClass("lg-from-hash")&&(Z=R),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){s.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),s.hasClass("lg-loaded")||setTimeout(function(){if(i.getSlideType(r)==="image"){var $=r.alt,re=$?'alt="'+$+'"':"";if(s.find(".lg-img-wrap").append(Gr.getImgMarkup(e,f,re,a,u,r.sources)),a||d){var ie=s.find(".lg-object");i.initPictureFill(ie)}}(i.getSlideType(r)==="image"||i.getSlideType(r)==="video"&&o)&&(i.onLgObjectLoad(s,e,R,Z,!0,!1),i.onSlideObjectLoad(s,!!(T&&T.html5&&!o),function(){i.loadContentOnFirstSlideLoad(e,s,Z)},function(){i.loadContentOnFirstSlideLoad(e,s,Z)}))},this.settings.startAnimationDuration+100)),s.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(r)==="video"&&!o)&&this.onLgObjectLoad(s,e,R,Z,E,!!(T&&T.html5&&!o)),(!this.zoomFromOrigin||!this.currentImageSize)&&s.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){s.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,n===!0&&(s.hasClass("lg-complete_")?this.preload(e):s.find(".lg-object").first().on("load.lg error.lg",function(){i.preload(e)}))},t.prototype.loadContentOnFirstSlideLoad=function(e,n,i){var r=this;setTimeout(function(){n.find(".lg-dummy-img").remove(),n.removeClass("lg-first-slide"),r.outer.removeClass("lg-first-slide-loading"),r.isDummyImageRemoved=!0,r.preload(e)},i+300)},t.prototype.getItemsToBeInsertedToDom=function(e,n,i){var r=this;i===void 0&&(i=0);var s=[],o=Math.max(i,3);o=Math.min(o,this.galleryItems.length);var a="lg-item-"+this.lgId+"-"+n;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(f,p){s.push("lg-item-"+r.lgId+"-"+p)}),s;if(e<(this.galleryItems.length-1)/2){for(var u=e;u>e-o/2&&u>=0;u--)s.push("lg-item-"+this.lgId+"-"+u);for(var d=s.length,u=0;u<o-d;u++)s.push("lg-item-"+this.lgId+"-"+(e+u+1))}else{for(var u=e;u<=this.galleryItems.length-1&&u<e+o/2;u++)s.push("lg-item-"+this.lgId+"-"+u);for(var d=s.length,u=0;u<o-d;u++)s.push("lg-item-"+this.lgId+"-"+(e-u-1))}return this.settings.loop&&(e===this.galleryItems.length-1?s.push("lg-item-"+this.lgId+"-0"):e===0&&s.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),s.indexOf(a)===-1&&s.push("lg-item-"+this.lgId+"-"+n),s},t.prototype.organizeSlideItems=function(e,n){var i=this,r=this.getItemsToBeInsertedToDom(e,n,this.settings.numberOfSlideItemsInDom);return r.forEach(function(s){i.currentItemsInDom.indexOf(s)===-1&&i.$inner.append('<div id="'+s+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(s){r.indexOf(s)===-1&&gn("#"+s).remove()}),r},t.prototype.getPreviousSlideIndex=function(){var e=0;try{var n=this.outer.find(".lg-current").first().attr("id");e=parseInt(n.split("-")[3])||0}catch{e=0}return e},t.prototype.setDownloadValue=function(e){if(this.settings.download){var n=this.galleryItems[e],i=n.downloadUrl===!1||n.downloadUrl==="false";if(i)this.outer.addClass("lg-hide-download");else{var r=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),r.attr("href",n.downloadUrl||n.src),n.download&&r.attr("download",n.download)}}},t.prototype.makeSlideAnimation=function(e,n,i){var r=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){r.outer.addClass("lg-no-trans"),r.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(n.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(n.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){r.outer.find(".lg-item").removeClass("lg-current"),n.addClass("lg-current"),r.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},t.prototype.slide=function(e,n,i,r){var s=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,o),!(this.lGalleryOn&&o===e)){var a=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var u=this.getSlideItem(e),d=this.getSlideItem(o),f=this.galleryItems[e],p=f.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(f)),this.setDownloadValue(e),p){var y=this.mediaContainerPosition,v=y.top,T=y.bottom,S=Gr.getSize(this.items[e],this.outer,v+T,p&&this.settings.videoMaxSize);this.resizeVideoSlide(e,S)}if(this.LGel.trigger(ki.beforeSlide,{prevIndex:o,index:e,fromTouch:!!n,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),r||(e<o?r="prev":e>o&&(r="next")),!n)this.makeSlideAnimation(r,u,d);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var b=void 0,E=void 0;a>2?(b=e-1,E=e+1,(e===0&&o===a-1||e===a-1&&o===0)&&(E=0,b=a-1)):(b=0,E=1),r==="prev"?this.getSlideItem(E).addClass("lg-next-slide"):this.getSlideItem(b).addClass("lg-prev-slide"),u.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){s.loadContent(e,!0),s.settings.appendSubHtmlTo!==".lg-item"&&s.addHtml(e)},this.settings.speed+50+(n?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){s.lgBusy=!1,d.removeClass("lg-slide-progress"),s.LGel.trigger(ki.afterSlide,{prevIndex:o,index:e,fromTouch:n,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(n?0:this.settings.slideDelay))}this.index=e}},t.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},t.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},t.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},t.prototype.touchMove=function(e,n,i){var r=n.pageX-e.pageX,s=n.pageY-e.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(r)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(s)>15&&(this.swipeDirection="vertical",o=!0),!!o){var a=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){i?.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(a,r,0);var u=a.get().offsetWidth,d=u*15/100,f=d-Math.abs(r*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-u+r-f,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),u+r+f,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){i?.preventDefault(),this.$container.addClass("lg-dragging-vertical");var p=1-Math.abs(s)/window.innerHeight;this.$backdrop.css("opacity",p);var y=1-Math.abs(s)/(window.innerWidth*2);this.setTranslate(a,0,s,y,y),Math.abs(s)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},t.prototype.touchEnd=function(e,n,i){var r=this,s;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){r.$container.removeClass("lg-dragging-vertical"),r.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if(r.swipeDirection==="horizontal"){s=e.pageX-n.pageX;var a=Math.abs(e.pageX-n.pageX);s<0&&a>r.settings.swipeThreshold?(r.goToNextSlide(!0),o=!1):s>0&&a>r.settings.swipeThreshold&&(r.goToPrevSlide(!0),o=!1)}else if(r.swipeDirection==="vertical")if(s=Math.abs(e.pageY-n.pageY),r.settings.closable&&r.settings.swipeToClose&&s>100){r.closeGallery();return}else r.$backdrop.css("opacity",1);if(r.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(e.pageX-n.pageX)<5){var u=gn(i.target);r.isPosterElement(u)&&r.LGel.trigger(ki.posterClick)}r.swipeDirection=void 0}),setTimeout(function(){!r.outer.hasClass("lg-dragging")&&r.settings.mode!=="lg-slide"&&r.outer.removeClass("lg-slide")},this.settings.speed+100)},t.prototype.enableSwipe=function(){var e=this,n={},i={},r=!1,s=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(o){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(gn(o.target).hasClass("lg-item")||a.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&o.touches.length===1&&(s=!0,e.touchAction="swipe",e.manageSwipeClass(),n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(o){s&&e.touchAction==="swipe"&&o.touches.length===1&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e.touchMove(n,i,o),r=!0)}),this.$inner.on("touchend.lg",function(o){if(e.touchAction==="swipe"){if(r)r=!1,e.touchEnd(i,n,o);else if(s){var a=gn(o.target);e.isPosterElement(a)&&e.LGel.trigger(ki.posterClick)}e.touchAction=void 0,s=!1}}))},t.prototype.enableDrag=function(){var e=this,n={},i={},r=!1,s=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(o){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(gn(o.target).hasClass("lg-item")||a.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(o.preventDefault(),e.lgBusy||(e.manageSwipeClass(),n={pageX:o.pageX,pageY:o.pageY},r=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(ki.dragStart)))}),gn(window).on("mousemove.lg.global"+this.lgId,function(o){r&&e.lgOpened&&(s=!0,i={pageX:o.pageX,pageY:o.pageY},e.touchMove(n,i),e.LGel.trigger(ki.dragMove))}),gn(window).on("mouseup.lg.global"+this.lgId,function(o){if(e.lgOpened){var a=gn(o.target);s?(s=!1,e.touchEnd(i,n,o),e.LGel.trigger(ki.dragEnd)):e.isPosterElement(a)&&e.LGel.trigger(ki.posterClick),r&&(r=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},t.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(n){!e.dragOrSwipeEnabled&&e.isPosterElement(gn(n.target))&&e.LGel.trigger(ki.posterClick)})},t.prototype.manageSwipeClass=function(){var e=this.index+1,n=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?n=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),n>-1&&this.getSlideItem(n).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},t.prototype.goToNextSlide=function(e){var n=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(ki.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(ki.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){n.outer.removeClass("lg-right-end")},400)))},t.prototype.goToPrevSlide=function(e){var n=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(ki.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(ki.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){n.outer.removeClass("lg-left-end")},400)))},t.prototype.keyPress=function(){var e=this;gn(window).on("keydown.lg.global"+this.lgId,function(n){e.lgOpened&&e.settings.escKey===!0&&n.keyCode===27&&(n.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(n.keyCode===37&&(n.preventDefault(),e.goToPrevSlide()),n.keyCode===39&&(n.preventDefault(),e.goToNextSlide()))})},t.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},t.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var n=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),e===0?n.attr("disabled","disabled").addClass("disabled"):n.removeAttr("disabled").removeClass("disabled")}},t.prototype.setTranslate=function(e,n,i,r,s){r===void 0&&(r=1),s===void 0&&(s=1),e.css("transform","translate3d("+n+"px, "+i+"px, 0px) scale3d("+r+", "+s+", 1)")},t.prototype.mousewheel=function(){var e=this,n=0;this.outer.on("wheel.lg",function(i){if(!(!i.deltaY||e.galleryItems.length<2)){i.preventDefault();var r=new Date().getTime();r-n<1e3||(n=r,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}})},t.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")||e.hasClass("lg-img-rotate")},t.prototype.isPosterElement=function(e){var n=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||n&&n.contains(e.get())},t.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},t.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var n=this.items[e],i=gn(n);i.off("click.lgcustom-item-"+i.attr("data-lg-id"))}},t.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),gn(window).on("keydown.lg.global"+this.lgId,function(n){if(e.lgOpened){var i=n.key==="Tab"||n.keyCode===9;if(i){var r=Gr.getFocusableElements(e.$container.get()),s=r[0],o=r[r.length-1];n.shiftKey?document.activeElement===s&&(o.focus(),n.preventDefault()):document.activeElement===o&&(s.focus(),n.preventDefault())}}})},t.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var n=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(i){var r=gn(i.target);e.isSlideElement(r)?n=!0:n=!1}),this.outer.on("mousemove.lg",function(){n=!1}),this.outer.on("mouseup.lg",function(i){var r=gn(i.target);e.isSlideElement(r)&&n&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},t.prototype.closeGallery=function(e){var n=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(ki.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&gn(window).scrollTop(this.prevScrollTop);var i=this.items[this.index],r;if(this.zoomFromOrigin&&i){var s=this.mediaContainerPosition,o=s.top,a=s.bottom,u=this.galleryItems[this.index],d=u.__slideVideoInfo,f=u.poster,p=Gr.getSize(i,this.outer,o+a,d&&f&&this.settings.videoMaxSize);r=Gr.getTransform(i,this.outer,o,a,p)}this.zoomFromOrigin&&r?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",r)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,gn("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var y=this.zoomFromOrigin&&r?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){n.zoomFromOrigin&&r&&n.outer.removeClass("lg-zoom-from-image"),n.$container.removeClass("lg-show"),n.resetScrollBar(),n.$backdrop.removeAttr("style").css("transition-duration",n.settings.backdropDuration+"ms"),n.outer.removeClass("lg-closing "+n.settings.startClass),n.getSlideItem(n.index).removeClass("lg-start-end-progress"),n.$inner.empty(),n.lgOpened&&n.LGel.trigger(ki.afterClose,{instance:n}),n.$container.get()&&n.$container.get().blur(),n.lgOpened=!1},y+100),y+100},t.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},t.prototype.destroyModules=function(e){this.plugins.forEach(function(n){try{e?n.destroy():n.closeGallery&&n.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},t.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(ki.updateSlides)},t.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},t.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),gn(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},t.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},t}();function bre(t,e){return new Tre(t,e)}var hr={onAfterAppendSlide:"lgAfterAppendSlide",onInit:"lgInit",onHasVideo:"lgHasVideo",onContainerResize:"lgContainerResize",onAfterAppendSubHtml:"lgAfterAppendSubHtml",onBeforeOpen:"lgBeforeOpen",onAfterOpen:"lgAfterOpen",onSlideItemLoad:"lgSlideItemLoad",onBeforeSlide:"lgBeforeSlide",onAfterSlide:"lgAfterSlide",onPosterClick:"lgPosterClick",onDragStart:"lgDragStart",onDragMove:"lgDragMove",onDragEnd:"lgDragEnd",onBeforeNextSlide:"lgBeforeNextSlide",onBeforePrevSlide:"lgBeforePrevSlide",onBeforeClose:"lgBeforeClose",onAfterClose:"lgAfterClose",onRotateLeft:"lgRotateLeft",onRotateRight:"lgRotateRight",onFlipHorizontal:"lgFlipHorizontal",onFlipVertical:"lgFlipVertical"},Sre=function(t){var e=t.children,n=t.elementClassNames,i=t.onAfterAppendSlide,r=t.onInit,s=t.onHasVideo,o=t.onContainerResize,a=t.onAfterAppendSubHtml,u=t.onBeforeOpen,d=t.onAfterOpen,f=t.onSlideItemLoad,p=t.onBeforeSlide,y=t.onAfterSlide,v=t.onPosterClick,T=t.onDragStart,S=t.onDragMove,b=t.onDragEnd,E=t.onBeforeNextSlide,R=t.onBeforePrevSlide,P=t.onBeforeClose,D=t.onAfterClose,G=t.onRotateLeft,V=t.onRotateRight,K=t.onFlipHorizontal,H=t.onFlipVertical,z=gre(t,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),k=X.useRef(null),Z=X.useCallback(function(){i&&k&&k.current&&k.current.addEventListener(hr.onAfterAppendSlide,function($){i($.detail)}),r&&k&&k.current&&k.current.addEventListener(hr.onInit,function($){r($.detail)}),s&&k&&k.current&&k.current.addEventListener(hr.onHasVideo,function($){s($.detail)}),o&&k&&k.current&&k.current.addEventListener(hr.onContainerResize,function($){o($.detail)}),a&&k&&k.current&&k.current.addEventListener(hr.onAfterAppendSubHtml,function($){a($.detail)}),u&&k&&k.current&&k.current.addEventListener(hr.onBeforeOpen,function($){u($.detail)}),d&&k&&k.current&&k.current.addEventListener(hr.onAfterOpen,function($){d($.detail)}),f&&k&&k.current&&k.current.addEventListener(hr.onSlideItemLoad,function($){f($.detail)}),p&&k&&k.current&&k.current.addEventListener(hr.onBeforeSlide,function($){p($.detail)}),y&&k&&k.current&&k.current.addEventListener(hr.onAfterSlide,function($){y($.detail)}),v&&k&&k.current&&k.current.addEventListener(hr.onPosterClick,function($){v($.detail)}),T&&k&&k.current&&k.current.addEventListener(hr.onDragStart,function($){T($.detail)}),S&&k&&k.current&&k.current.addEventListener(hr.onDragMove,function($){S($.detail)}),b&&k&&k.current&&k.current.addEventListener(hr.onDragEnd,function($){b($.detail)}),E&&k&&k.current&&k.current.addEventListener(hr.onBeforeNextSlide,function($){E($.detail)}),R&&k&&k.current&&k.current.addEventListener(hr.onBeforePrevSlide,function($){R($.detail)}),P&&k&&k.current&&k.current.addEventListener(hr.onBeforeClose,function($){P($.detail)}),D&&k&&k.current&&k.current.addEventListener(hr.onAfterClose,function($){D($.detail)}),G&&k&&k.current&&k.current.addEventListener(hr.onRotateLeft,function($){G($.detail)}),V&&k&&k.current&&k.current.addEventListener(hr.onRotateRight,function($){V($.detail)}),K&&k&&k.current&&k.current.addEventListener(hr.onFlipHorizontal,function($){K($.detail)}),H&&k&&k.current&&k.current.addEventListener(hr.onFlipVertical,function($){H($.detail)})},[i,a,D,G,V,K,H,d,y,P,E,u,R,p,o,b,S,T,s,r,v,f]);return X.useEffect(function(){Z();var $=bre(k.current,z);return function(){$.destroy()}},[Z,z]),X.createElement("div",{className:"lg-react-element "+(n||""),ref:k},e)};/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mx=function(){return Mx=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mx.apply(this,arguments)},wre={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},vc={containerResize:"lgContainerResize",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",afterSlide:"lgAfterSlide",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical"},lb=500,Cre=function(){function t(e,n){return this.core=e,this.$LG=n,this.settings=Mx(Mx({},wre),this.core.settings),this}return t.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},t.prototype.enableZoom=function(e){var n=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){n.isImageSlide(n.core.index)&&(n.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===n.core.index&&n.setZoomEssentials())},i+30)},t.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(vc.slideItemLoad+".zoom",this.enableZoom.bind(this))},t.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},t.prototype.getSwipeCords=function(e){var n=e.touches[0].pageX,i=e.touches[0].pageY;return{x:n,y:i}},t.prototype.getDragAllowedAxises=function(e,n){if(!this.containerRect)return{allowX:!1,allowY:!1};var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),r=0,s=0,o=i.getBoundingClientRect();e?(r=i.offsetHeight*e,s=i.offsetWidth*e):n?(r=o.height+n*o.height,s=o.width+n*o.width):(r=o.height,s=o.width);var a=r>this.containerRect.height,u=s>this.containerRect.width;return{allowX:u,allowY:a}},t.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},t.prototype.zoomImage=function(e,n,i,r){if(!(!this.containerRect||Math.abs(n)<=0)){var s=this.containerRect.width/2+this.containerRect.left,o=this.containerRect.height/2+this.containerRect.top+this.scrollTop,a,u;e===1&&(this.positionChanged=!1);var d=this.getDragAllowedAxises(0,n),f=d.allowY,p=d.allowX;this.positionChanged&&(a=this.left/(this.scale-n),u=this.top/(this.scale-n),this.pageX=s-a,this.pageY=o-u,this.positionChanged=!1);var y=this.getPossibleSwipeDragCords(n),v,T,S=s-this.pageX,b=o-this.pageY;if(e-n>1){var E=(e-n)/Math.abs(n);S=(n<0?-S:S)+this.left*(E+(n<0?-1:1)),b=(n<0?-b:b)+this.top*(E+(n<0?-1:1)),v=S/E,T=b/E}else{var E=(e-n)*n;v=S*E,T=b*E}i&&(p?this.isBeyondPossibleLeft(v,y.minX)?v=y.minX:this.isBeyondPossibleRight(v,y.maxX)&&(v=y.maxX):e>1&&(v<y.minX?v=y.minX:v>y.maxX&&(v=y.maxX)),f?this.isBeyondPossibleTop(T,y.minY)?T=y.minY:this.isBeyondPossibleBottom(T,y.maxY)&&(T=y.maxY):e>1&&(T<y.minY?T=y.minY:T>y.maxY&&(T=y.maxY))),this.setZoomStyles({x:v,y:T,scale:e}),this.left=v,this.top=T,r&&this.setZoomImageSize()}},t.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var n=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,n.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),n.css("width","auto").css("height","auto"),setTimeout(function(){n.removeClass("no-transition")},10)}},t.prototype.setZoomImageSize=function(){var e=this,n=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(n.addClass("no-transition"),e.imageReset=!0)},lb),setTimeout(function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var r=e.getDragAllowedAxises(e.scale);n.css("width",n.get().naturalWidth+"px").css("height",n.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),r.allowX&&r.allowY?n.addClass("reset-transition"):r.allowX&&!r.allowY?n.addClass("reset-transition-x"):!r.allowX&&r.allowY&&n.addClass("reset-transition-y")}},lb+50)},t.prototype.setZoomStyles=function(e){var n=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),r.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var s="translate3d("+e.x+"px, "+e.y+"px, 0)";n.css("transform",s)},t.prototype.setActualSize=function(e,n){var i=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var r=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!r.src||i.core.outer.hasClass("lg-first-slide-loading"))){var s=i.getCurrentImageActualSizeScale(),o=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(s),i.setPageCords(n),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-o,!0,!0)}},50),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){i.zoomInProgress=!1},lb+110)}},t.prototype.getNaturalWidth=function(e){var n=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):n.get().naturalWidth},t.prototype.getActualSizeScale=function(e,n){var i,r;return e>=n?(i=e/n,r=i||2):r=1,r},t.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||n;return this.getActualSizeScale(i,n)},t.prototype.getPageCords=function(e){var n={};if(e)n.x=e.pageX||e.touches[0].pageX,n.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();n.x=i.width/2+i.left,n.y=i.height/2+this.scrollTop+i.top}return n},t.prototype.setPageCords=function(e){var n=this.getPageCords(e);this.pageX=n.x,this.pageY=n.y},t.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},t.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},t.prototype.getScale=function(e){var n=this.getCurrentImageActualSizeScale();return e<1?e=1:e>n&&(e=n),e},t.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var n=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var r=e.$LG(i.target);i.touches.length===1&&r.hasClass("lg-image")&&(n?(clearTimeout(n),n=null,i.preventDefault(),e.setActualSize(e.core.index,i)):n=setTimeout(function(){n=null},300))}),this.core.LGel.on(vc.containerResize+".zoom "+vc.rotateRight+".zoom "+vc.rotateLeft+".zoom "+vc.flipHorizontal+".zoom "+vc.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var i=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(i,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var i=0;e.imageReset&&(e.resetImageTranslate(e.core.index),i=50),setTimeout(function(){var r=e.scale-e.settings.scale;r<1&&(r=1),e.beginZoom(r),e.zoomImage(r,-e.settings.scale,!0,!e.settings.infiniteZoom)},i)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(vc.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(vc.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(vc.afterSlide+".zoom",function(i){var r=i.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(r),e.resetImageTranslate(r),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},t.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},t.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var n=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);n.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},t.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},t.prototype.pinchZoom=function(){var e=this,n=0,i=!1,r=1,s=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(a){if(o=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&a.touches.length===2){if(a.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;r=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(a),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",n=e.getTouchDistance(a)}}),this.core.$inner.on("touchmove.lg",function(a){if(a.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){a.preventDefault();var u=e.getTouchDistance(a),d=n-u;if(!i&&Math.abs(d)>5&&(i=!0),i){s=e.scale;var f=Math.max(1,r+-d*.02);e.scale=Math.round((f+Number.EPSILON)*100)/100;var p=e.scale-s;e.zoomImage(e.scale,Math.round((p+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(a){if(e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){if(i=!1,n=0,e.scale<=1)e.resetZoom();else{var u=e.getCurrentImageActualSizeScale();if(e.scale>=u){var d=u-e.scale;d===0&&(d=.01),e.zoomImage(u,d,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},t.prototype.touchendZoom=function(e,n,i,r,s){var o=n.x-e.x,a=n.y-e.y,u=Math.abs(o)/s+1,d=Math.abs(a)/s+1;u>2&&(u+=1),d>2&&(d+=1),o=o*u,a=a*d;var f=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),p={};p.x=this.left+o,p.y=this.top+a;var y=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(a)>15)&&(r&&(this.isBeyondPossibleTop(p.y,y.minY)?p.y=y.minY:this.isBeyondPossibleBottom(p.y,y.maxY)&&(p.y=y.maxY)),i&&(this.isBeyondPossibleLeft(p.x,y.minX)?p.x=y.minX:this.isBeyondPossibleRight(p.x,y.maxX)&&(p.x=y.maxX)),r?this.top=p.y:p.y=this.top,i?this.left=p.x:p.x=this.left,this.setZoomSwipeStyles(f,p),this.positionChanged=!0)},t.prototype.getZoomSwipeCords=function(e,n,i,r,s){var o={};if(r){if(o.y=this.top+(n.y-e.y),this.isBeyondPossibleTop(o.y,s.minY)){var a=s.minY-o.y;o.y=s.minY-a/6}else if(this.isBeyondPossibleBottom(o.y,s.maxY)){var u=o.y-s.maxY;o.y=s.maxY+u/6}}else o.y=this.top;if(i){if(o.x=this.left+(n.x-e.x),this.isBeyondPossibleLeft(o.x,s.minX)){var d=s.minX-o.x;o.x=s.minX-d/6}else if(this.isBeyondPossibleRight(o.x,s.maxX)){var f=o.x-s.maxX;o.x=s.maxX+f/6}}else o.x=this.left;return o},t.prototype.isBeyondPossibleLeft=function(e,n){return e>=n},t.prototype.isBeyondPossibleRight=function(e,n){return e<=n},t.prototype.isBeyondPossibleTop=function(e,n){return e>=n},t.prototype.isBeyondPossibleBottom=function(e,n){return e<=n},t.prototype.isImageSlide=function(e){var n=this.core.galleryItems[e];return this.core.getSlideType(n)==="image"},t.prototype.getPossibleSwipeDragCords=function(e){var n=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,r=n.get().getBoundingClientRect(),s=r.height,o=r.width;e&&(s=s+e*s,o=o+e*o);var a=(s-this.containerRect.height)/2,u=(this.containerRect.height-s)/2+i,d=(o-this.containerRect.width)/2,f=(this.containerRect.width-o)/2,p={minY:a,maxY:u,minX:d,maxX:f};return p},t.prototype.setZoomSwipeStyles=function(e,n){e.css("transform","translate3d("+n.x+"px, "+n.y+"px, 0)")},t.prototype.zoomSwipe=function(){var e=this,n={},i={},r=!1,s=!1,o=!1,a=new Date,u=new Date,d,f,p=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(y){if(e.isImageSlide(e.core.index)&&(p=e.core.getSlideItem(e.core.index),(e.$LG(y.target).hasClass("lg-item")||p.get().contains(y.target))&&y.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){y.preventDefault(),a=new Date,e.core.touchAction="zoomSwipe",f=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var v=e.getDragAllowedAxises(0);o=v.allowY,s=v.allowX,(s||o)&&(n=e.getSwipeCords(y)),d=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(y){if(y.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(y.target).hasClass("lg-item")||p.get().contains(y.target))){y.preventDefault(),e.core.touchAction="zoomSwipe",i=e.getSwipeCords(y);var v=e.getZoomSwipeCords(n,i,s,o,d);(Math.abs(i.x-n.x)>15||Math.abs(i.y-n.y)>15)&&(r=!0,e.setZoomSwipeStyles(f,v))}}),this.core.$inner.on("touchend.lg",function(y){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(y.target).hasClass("lg-item")||p.get().contains(y.target))){if(y.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!r)return;r=!1,u=new Date;var v=u.valueOf()-a.valueOf();e.touchendZoom(n,i,s,o,v)}})},t.prototype.zoomDrag=function(){var e=this,n={},i={},r=!1,s=!1,o=!1,a=!1,u,d,f,p;this.core.outer.on("mousedown.lg.zoom",function(y){if(e.isImageSlide(e.core.index)){var v=e.core.getSlideItem(e.core.index);if(e.$LG(y.target).hasClass("lg-item")||v.get().contains(y.target)){u=new Date,p=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var T=e.getDragAllowedAxises(0);a=T.allowY,o=T.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(y.target).hasClass("lg-object")&&(o||a)&&(y.preventDefault(),n=e.getDragCords(y),f=e.getPossibleSwipeDragCords(),r=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(y){if(r){s=!0,i=e.getDragCords(y);var v=e.getZoomSwipeCords(n,i,o,a,f);e.setZoomSwipeStyles(p,v)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(y){if(r){if(d=new Date,r=!1,e.core.outer.removeClass("lg-zoom-dragging"),s&&(n.x!==i.x||n.y!==i.y)){i=e.getDragCords(y);var v=d.valueOf()-u.valueOf();e.touchendZoom(n,i,o,a,v)}s=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},t.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},t.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},t}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cf=function(){return cf=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cf.apply(this,arguments)},Are={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},bg={hasVideo:"lgHasVideo",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick"},$C=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},Mre=function(t){var e=t.slice(1).split("&").map(function(n){return n.split("=")}).reduce(function(n,i){var r=i.map(decodeURIComponent),s=r[0],o=r[1];return n[s]=o,n},{});return e},Pre=function(t,e){if(!t.youtube)return"";var n=t.youtube[2]?Mre(t.youtube[2]):"",i={wmode:"opaque",autoplay:0,mute:1,enablejsapi:1},r=e||{},s=cf(cf(cf({},i),r),n),o="?"+$C(s);return o},Rre=function(t){return t.includes("youtube-nocookie.com")},Ire=function(t,e){if(!e||!e.vimeo)return"";var n=e.vimeo[2]||"",i=Object.assign({},{autoplay:0,muted:1},t),r=i&&Object.keys(i).length!==0?$C(i):"",s=e.vimeo[0].split("/").pop()||"",o=s.split("?")[0]||"",a=o.split("#")[0],u=e.vimeo[1]!==a;u&&(n=n.replace("/"+a,"")),n=n[0]=="?"?"&"+n.slice(1):n||"";var d=u?"h="+a:"";r=d?"&"+r:r;var f="?"+d+r+n;return f},Lre=function(){function t(e){return this.core=e,this.settings=cf(cf({},Are),this.core.settings),this}return t.prototype.init=function(){var e=this;this.core.LGel.on(bg.hasVideo+".video",this.onHasVideo.bind(this)),this.core.LGel.on(bg.posterClick+".video",function(){var n=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(n)}),this.core.LGel.on(bg.slideItemLoad+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(bg.beforeSlide+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(bg.afterSlide+".video",this.onAfterSlide.bind(this))},t.prototype.onSlideItemLoad=function(e){var n=this,i=e.detail,r=i.isFirstSlide,s=i.index;this.settings.autoplayFirstVideo&&r&&s===this.core.index&&setTimeout(function(){n.loadAndPlayVideo(s)},200),!r&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s)},t.prototype.onHasVideo=function(e){var n=e.detail,i=n.index,r=n.src,s=n.html5Video,o=n.hasPoster;o||(this.appendVideos(this.core.getSlideItem(i),{src:r,addClass:"lg-object",index:i,html5Video:s}),this.gotoNextSlideOnVideoEnd(r,i))},t.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var n=e.detail.prevIndex;this.pauseVideo(n)}},t.prototype.onAfterSlide=function(e){var n=this,i=e.detail,r=i.index,s=i.prevIndex,o=this.core.getSlideItem(r);this.settings.autoplayVideoOnSlide&&r!==s&&o.hasClass("lg-complete")&&setTimeout(function(){n.loadAndPlayVideo(r)},100)},t.prototype.loadAndPlayVideo=function(e){var n=this.core.getSlideItem(e),i=this.core.galleryItems[e];i.poster?this.loadVideoOnPosterClick(n,!0):this.playVideo(e)},t.prototype.playVideo=function(e){this.controlVideo(e,"play")},t.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},t.prototype.getVideoHtml=function(e,n,i,r){var s="",o=this.core.galleryItems[i].__slideVideoInfo||{},a=this.core.galleryItems[i],u=a.title||a.alt;u=u?'title="'+u+'"':"";var d=`allowtransparency="true"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            mozallowfullscreen
            webkitallowfullscreen
            oallowfullscreen
            msallowfullscreen`;if(o.youtube){var f="lg-youtube"+i,p=Pre(o,this.settings.youTubePlayerParams),y=Rre(e),v=y?"//www.youtube-nocookie.com/":"//www.youtube.com/";s='<iframe allow="autoplay" id='+f+' class="lg-video-object lg-youtube '+n+'" '+u+' src="'+v+"embed/"+(o.youtube[1]+p)+'" '+d+"></iframe>"}else if(o.vimeo){var f="lg-vimeo"+i,T=Ire(this.settings.vimeoPlayerParams,o);s='<iframe allow="autoplay" id='+f+' class="lg-video-object lg-vimeo '+n+'" '+u+' src="//player.vimeo.com/video/'+(o.vimeo[1]+T)+'" '+d+"></iframe>"}else if(o.wistia){var S="lg-wistia"+i,T=$C(this.settings.wistiaPlayerParams);T=T?"?"+T:"",s='<iframe allow="autoplay" id="'+S+'" src="//fast.wistia.net/embed/iframe/'+(o.wistia[4]+T)+'" '+u+' class="wistia_embed lg-video-object lg-wistia '+n+'" name="wistia_embed" '+d+"></iframe>"}else if(o.html5){for(var b="",E=0;E<r.source.length;E++){var R=r.source[E].type,P=R?'type="'+R+'"':"";b+='<source src="'+r.source[E].src+'" '+P+">"}if(r.tracks)for(var D=function(K){var H="",z=r.tracks[K];Object.keys(z||{}).forEach(function(k){H+=k+'="'+z[k]+'" '}),b+="<track "+H+">"},E=0;E<r.tracks.length;E++)D(E);var G="",V=r.attributes||{};Object.keys(V||{}).forEach(function(K){G+=K+'="'+V[K]+'" '}),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+G+`>
                `+b+`
                Your browser does not support HTML5 video.
            </video>`}return s},t.prototype.appendVideos=function(e,n){var i,r=this.getVideoHtml(n.src,n.addClass,n.index,n.html5Video);e.find(".lg-video-cont").append(r);var s=e.find(".lg-video-object").first();if(n.html5Video&&s.on("mousedown.lg.video",function(o){o.stopPropagation()}),this.settings.videojs&&(!((i=this.core.galleryItems[n.index].__slideVideoInfo)===null||i===void 0)&&i.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch{console.error("lightGallery:- Make sure you have included videojs")}},t.prototype.gotoNextSlideOnVideoEnd=function(e,n){var i=this,r=this.core.getSlideItem(n).find(".lg-video-object").first(),s=this.core.galleryItems[n].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd){if(s.html5)r.on("ended",function(){i.core.goToNextSlide()});else if(s.vimeo)try{new Vimeo.Player(r.get()).on("ended",function(){i.core.goToNextSlide()})}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:r.attr("id"),onReady:function(o){o.bind("end",function(){i.core.goToNextSlide()})}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},t.prototype.controlVideo=function(e,n){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),r=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get()){if(r.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+n+'Video","args":""}',"*")}catch(s){console.error("lightGallery:- "+s)}else if(r.vimeo)try{new Vimeo.Player(i.get())[n]()}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(r.html5)if(this.settings.videojs)try{videojs(i.get())[n]()}catch{console.error("lightGallery:- Make sure you have included videojs")}else i.get()[n]();else if(r.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(s){s[n]()}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},t.prototype.loadVideoOnPosterClick=function(e,n){var i=this;if(e.hasClass("lg-video-loaded"))n&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var r=void 0,s=this.core.galleryItems[this.core.index].src,o=this.core.galleryItems[this.core.index].video;o&&(r=typeof o=="string"?JSON.parse(o):o);var a=this.appendVideos(e,{src:s,addClass:"",index:this.core.index,html5Video:r});this.gotoNextSlideOnVideoEnd(s,this.core.index);var u=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(u),e.addClass("lg-video-loading"),a&&a.ready(function(){a.on("loadedmetadata",function(){i.onVideoLoadAfterPosterClick(e,i.core.index)})}),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)},50)})}},t.prototype.onVideoLoadAfterPosterClick=function(e,n){e.addClass("lg-video-loaded"),this.playVideo(n)},t.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},t}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Px=function(){return Px=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Px.apply(this,arguments)},Nre={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},Sg={containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",beforeOpen:"lgBeforeOpen",beforeSlide:"lgBeforeSlide"},Ore=function(){function t(e,n){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=n,this}return t.prototype.init=function(){this.settings=Px(Px({},Nre),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},t.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(n){var i=e.$LG(n.target);i.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(e.thumbClickable&&!e.core.lgBusy){var r=parseInt(i.attr("data-lg-item-id"));e.core.slide(r,!1,!0,!1)}},50)}),this.core.LGel.on(Sg.beforeSlide+".thumb",function(n){var i=n.detail.index;e.animateThumb(i)}),this.core.LGel.on(Sg.beforeOpen+".thumb",function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth}),this.core.LGel.on(Sg.updateSlides+".thumb",function(){e.rebuildThumbnails()}),this.core.LGel.on(Sg.containerResize+".thumb",function(){e.core.lgOpened&&setTimeout(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth},50)})},t.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var n='<div class="'+e+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(n):this.core.outer.append(n),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},t.prototype.enableThumbDrag=function(){var e=this,n={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),n.cords.startX=r.pageX,n.startTime=new Date,e.thumbClickable=!1,i=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(r){e.core.lgOpened&&i&&(n.cords.endX=r.pageX,n=e.onThumbTouchMove(n))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){e.core.lgOpened&&(n.isMoved?n=e.onThumbTouchEnd(n):e.thumbClickable=!0,i&&(i=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},t.prototype.enableThumbSwipe=function(){var e=this,n={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),n.cords.startX=i.targetTouches[0].pageX,e.thumbClickable=!1,n.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),n.cords.endX=i.targetTouches[0].pageX,n=e.onThumbTouchMove(n))}),this.$lgThumb.on("touchend.lg",function(){n.isMoved?n=e.onThumbTouchEnd(n):e.thumbClickable=!0})},t.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)},50),setTimeout(function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},t.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},t.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},t.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var n=0;switch(this.settings.currentPagerPosition){case"left":n=0;break;case"middle":n=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":n=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-n,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},t.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=new Date().valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},t.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var n=e.endTime.valueOf()-e.startTime.valueOf(),i=e.cords.endX-e.cords.startX,r=Math.abs(i)/n;return r>.15&&e.endTime.valueOf()-e.touchMoveTime<30?(r+=1,r>2&&(r+=1),r=r+r*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(r-1,2)+"settings"),i=i*r,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},t.prototype.getThumbHtml=function(e,n,i){var r=this.core.galleryItems[n].__slideVideoInfo||{},s;r.youtube&&this.settings.loadYouTubeThumbnail?s="//img.youtube.com/vi/"+r.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":s=e;var o=document.createElement("div");o.setAttribute("data-lg-item-id",n+""),o.className="lg-thumb-item "+(n===this.core.index?"active":""),o.style.cssText="width: "+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+"; margin-right: "+this.settings.thumbMargin+"px;";var a=document.createElement("img");return a.alt=i||"",a.setAttribute("data-lg-item-id",n+""),a.src=s,o.appendChild(a),o},t.prototype.setThumbItemHtml=function(e){for(var n=0;n<e.length;n++){var i=this.getThumbHtml(e[n].thumb,n,e[n].alt);this.$lgThumb.append(i)}},t.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},t.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(Sg.beforeSlide+".thumb",function(n){var i=e.core.outer.find(".lg-thumb-item"),r=n.detail.index;i.removeClass("active"),i.eq(r).addClass("active")})},t.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){e.core.outer.toggleClass("lg-components-open")}))},t.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(n){!e.core.lgOpened||!e.settings.toggleThumb||(n.keyCode===38?(n.preventDefault(),e.core.outer.addClass("lg-components-open")):n.keyCode===40&&(n.preventDefault(),e.core.outer.removeClass("lg-components-open")))})},t.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},t}();const kre=({album:t})=>{const n=X.useRef(null),i=t.images.filter(a=>a.split("?")[0].match(/\.(jpg|jpeg|png|webp)$/i)),r=i.slice(0,6),s=i.length>6?i.length-6:0,o=a=>{n.current&&n.current.openGallery(a)};return r.length===0?F.jsx("div",{className:"gallery-section",children:"No images available"}):F.jsxs("div",{className:"gallery-section bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[F.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white",children:t.title}),F.jsx("p",{className:"text-base text-gray-700 mb-6 dark:text-gray-300",children:t.description}),F.jsx("div",{className:"image-grid",children:r.map((a,u)=>F.jsxs("a",{href:"#",className:"image-wrapper",onClick:d=>{d.preventDefault(),o(u)},children:[F.jsx("img",{src:a,alt:`Preview ${u}`}),u===5&&i.length>6&&F.jsxs("div",{className:"overlay",children:["+",s]})]},u))}),F.jsx(Sre,{dynamic:!0,dynamicEl:i.map(a=>({src:a,thumb:a})),plugins:[Cre,Lre,Ore],onInit:a=>{n.current=a.instance},speed:500,thumbnail:!0})]})},Dre=({albums:t})=>F.jsx("section",{className:"py-20 bg-white dark:bg-gray-900",children:F.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-10 px-4",children:t.map((e,n)=>F.jsx("div",{className:"w-full",children:F.jsx(kre,{album:e})},n))})}),Fre=()=>{const[t,e]=X.useState([]);return X.useEffect(()=>{(async()=>{const i=Object.assign({"../assets/gallery/TPC-BrigadaEskwela2025.json":()=>Id(()=>import("./TPC-BrigadaEskwela2025-Dtp4VQNG.js"),[]),"../assets/gallery/TPC-LaborDayMergrande.json":()=>Id(()=>import("./TPC-LaborDayMergrande-FVuzC4UW.js"),[]),"../assets/gallery/TPC-LightTheWorld.json":()=>Id(()=>import("./TPC-LightTheWorld-BPNAbRfg.js"),[]),"../assets/gallery/TPC-May2025_Service.json":()=>Id(()=>import("./TPC-May2025_Service-CmlMH3d_.js"),[]),"../assets/gallery/TPC-Termite Proofing Work.json":()=>Id(()=>import("./TPC-Termite Proofing Work-D2uBIkmz.js"),[]),"../assets/gallery/TPC-TermiteInspection.json":()=>Id(()=>import("./TPC-TermiteInspection-tItoD3hy.js"),[]),"../assets/gallery/TPC-XmasParty2024.json":()=>Id(()=>import("./TPC-XmasParty2024-DGSjw25K.js"),[])}),r=[];for(const s in i){const o=await i[s]();r.push(o)}e(r)})()},[]),F.jsxs(fm,{children:[F.jsxs("section",{className:"relative h-[400px] flex items-center justify-center bg-cover bg-center bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${I1})`,backgroundAttachment:"fixed"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),F.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[F.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Gallery of Our Work"}),F.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto text-gray-200",children:"Explore our portfolio showcasing successful pest control interventions across Davao City. From residential to commercial spaces, we take pride in our effective and eco-friendly solutions."})]})]}),F.jsx("div",{className:"container mx-auto px-4 pt-3",children:F.jsx(dy,{})}),F.jsx("div",{className:"container mx-auto px-4",children:F.jsx(Dre,{albums:t})})]})},Bre=(t="text-green-600")=>gC.divIcon({html:`<i class="fas fa-map-marker-alt ${t} text-2xl"></i>`,iconSize:[32,40],iconAnchor:[16,40],className:"custom-fa-icon"}),Ure=({regions:t})=>F.jsxs(GD,{center:[10.5,122.5],zoom:5.6,className:"h-[1000px] w-full z-0",children:[F.jsx(g_,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(e=>F.jsxs(YD,{position:e.position,icon:Bre("text-red-600"),children:[F.jsxs(XD,{children:[F.jsx("strong",{children:e.name}),F.jsx("br",{}),e.description]}),F.jsx(aJ,{direction:"top",offset:[0,-30],opacity:.9,permanent:!1,children:e.description})]},e.name))]}),zre=()=>{const[t,e]=X.useState([]);return X.useEffect(()=>{(async()=>{const r=(await Id(()=>import("./served-regions-BfiXZjNP.js"),[])).default.map(s=>({name:s.name,description:s.description,position:[s.position[0],s.position[1]]}));e(r)})()},[]),F.jsxs(fm,{children:[F.jsxs("section",{className:"relative h-[400px] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:`url(${I1})`,backgroundAttachment:"fixed"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),F.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[F.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Our Service Areas"}),F.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto text-gray-200",children:"From coastal homes to bustling cities, Torres Pest Control is trusted across the Philippines."})]})]}),F.jsx("div",{className:"container mx-auto px-4 pt-3",children:F.jsx(dy,{})}),F.jsxs("div",{className:"container mx-auto px-4",children:[F.jsx(Ure,{regions:t}),F.jsx("div",{className:"text-center",children:F.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400",children:["If youre in one of these areas and need help,"," ",F.jsx("a",{href:"#contact",className:"text-green-600 dark:text-green-400 underline hover:opacity-90",children:"reach out now"})," "," we're just a message away."]})})]})]})};function PI(t){const e=[],n=String(t||"");let i=n.indexOf(","),r=0,s=!1;for(;!s;){i===-1&&(i=n.length,s=!0);const o=n.slice(r,i).trim();(o||!s)&&e.push(o),r=i+1,i=n.indexOf(",",r)}return e}function I6(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Hre=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vre=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jre={};function RI(t,e){return(jre.jsx?Vre:Hre).test(t)}const Wre=/[ \t\n\f\r]/g;function Gre(t){return typeof t=="object"?t.type==="text"?II(t.value):!1:II(t)}function II(t){return t.replace(Wre,"")===""}let hy=class{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}};hy.prototype.normal={};hy.prototype.property={};hy.prototype.space=void 0;function L6(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new hy(n,i,e)}function z0(t){return t.toLowerCase()}let Zo=class{constructor(e,n){this.attribute=n,this.property=e}};Zo.prototype.attribute="";Zo.prototype.booleanish=!1;Zo.prototype.boolean=!1;Zo.prototype.commaOrSpaceSeparated=!1;Zo.prototype.commaSeparated=!1;Zo.prototype.defined=!1;Zo.prototype.mustUseProperty=!1;Zo.prototype.number=!1;Zo.prototype.overloadedBoolean=!1;Zo.prototype.property="";Zo.prototype.spaceSeparated=!1;Zo.prototype.space=void 0;let Yre=0;const Vn=bf(),Rr=bf(),NS=bf(),At=bf(),Mi=bf(),Vp=bf(),ya=bf();function bf(){return 2**++Yre}const OS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Vn,booleanish:Rr,commaOrSpaceSeparated:ya,commaSeparated:Vp,number:At,overloadedBoolean:NS,spaceSeparated:Mi},Symbol.toStringTag,{value:"Module"})),ub=Object.keys(OS);let QC=class extends Zo{constructor(e,n,i,r){let s=-1;if(super(e,n),LI(this,"space",r),typeof i=="number")for(;++s<ub.length;){const o=ub[s];LI(this,ub[s],(i&OS[o])===OS[o])}}};QC.prototype.defined=!0;function LI(t,e,n){n&&(t[e]=n)}function Sm(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const s=new QC(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[z0(i)]=i,n[z0(s.attribute)]=i}return new hy(e,n,t.space)}const N6=Sm({properties:{ariaActiveDescendant:null,ariaAtomic:Rr,ariaAutoComplete:null,ariaBusy:Rr,ariaChecked:Rr,ariaColCount:At,ariaColIndex:At,ariaColSpan:At,ariaControls:Mi,ariaCurrent:null,ariaDescribedBy:Mi,ariaDetails:null,ariaDisabled:Rr,ariaDropEffect:Mi,ariaErrorMessage:null,ariaExpanded:Rr,ariaFlowTo:Mi,ariaGrabbed:Rr,ariaHasPopup:null,ariaHidden:Rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mi,ariaLevel:At,ariaLive:null,ariaModal:Rr,ariaMultiLine:Rr,ariaMultiSelectable:Rr,ariaOrientation:null,ariaOwns:Mi,ariaPlaceholder:null,ariaPosInSet:At,ariaPressed:Rr,ariaReadOnly:Rr,ariaRelevant:null,ariaRequired:Rr,ariaRoleDescription:Mi,ariaRowCount:At,ariaRowIndex:At,ariaRowSpan:At,ariaSelected:Rr,ariaSetSize:At,ariaSort:null,ariaValueMax:At,ariaValueMin:At,ariaValueNow:At,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function O6(t,e){return e in t?t[e]:e}function k6(t,e){return O6(t,e.toLowerCase())}const Xre=Sm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vp,acceptCharset:Mi,accessKey:Mi,action:null,allow:null,allowFullScreen:Vn,allowPaymentRequest:Vn,allowUserMedia:Vn,alt:null,as:null,async:Vn,autoCapitalize:null,autoComplete:Mi,autoFocus:Vn,autoPlay:Vn,blocking:Mi,capture:null,charSet:null,checked:Vn,cite:null,className:Mi,cols:At,colSpan:null,content:null,contentEditable:Rr,controls:Vn,controlsList:Mi,coords:At|Vp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Vn,defer:Vn,dir:null,dirName:null,disabled:Vn,download:NS,draggable:Rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Vn,formTarget:null,headers:Mi,height:At,hidden:NS,high:At,href:null,hrefLang:null,htmlFor:Mi,httpEquiv:Mi,id:null,imageSizes:null,imageSrcSet:null,inert:Vn,inputMode:null,integrity:null,is:null,isMap:Vn,itemId:null,itemProp:Mi,itemRef:Mi,itemScope:Vn,itemType:Mi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Vn,low:At,manifest:null,max:null,maxLength:At,media:null,method:null,min:null,minLength:At,multiple:Vn,muted:Vn,name:null,nonce:null,noModule:Vn,noValidate:Vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Vn,optimum:At,pattern:null,ping:Mi,placeholder:null,playsInline:Vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Vn,referrerPolicy:null,rel:Mi,required:Vn,reversed:Vn,rows:At,rowSpan:At,sandbox:Mi,scope:null,scoped:Vn,seamless:Vn,selected:Vn,shadowRootClonable:Vn,shadowRootDelegatesFocus:Vn,shadowRootMode:null,shape:null,size:At,sizes:null,slot:null,span:At,spellCheck:Rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:At,step:null,style:null,tabIndex:At,target:null,title:null,translate:null,type:null,typeMustMatch:Vn,useMap:null,value:Rr,width:At,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mi,axis:null,background:null,bgColor:null,border:At,borderColor:null,bottomMargin:At,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Vn,declare:Vn,event:null,face:null,frame:null,frameBorder:null,hSpace:At,leftMargin:At,link:null,longDesc:null,lowSrc:null,marginHeight:At,marginWidth:At,noResize:Vn,noHref:Vn,noShade:Vn,noWrap:Vn,object:null,profile:null,prompt:null,rev:null,rightMargin:At,rules:null,scheme:null,scrolling:Rr,standby:null,summary:null,text:null,topMargin:At,valueType:null,version:null,vAlign:null,vLink:null,vSpace:At,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Vn,disableRemotePlayback:Vn,prefix:null,property:null,results:At,security:null,unselectable:null},space:"html",transform:k6}),qre=Sm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ya,accentHeight:At,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:At,amplitude:At,arabicForm:null,ascent:At,attributeName:null,attributeType:null,azimuth:At,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:At,by:null,calcMode:null,capHeight:At,className:Mi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:At,diffuseConstant:At,direction:null,display:null,dur:null,divisor:At,dominantBaseline:null,download:Vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:At,enableBackground:null,end:null,event:null,exponent:At,externalResourcesRequired:null,fill:null,fillOpacity:At,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vp,g2:Vp,glyphName:Vp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:At,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:At,horizOriginX:At,horizOriginY:At,id:null,ideographic:At,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:At,k:At,k1:At,k2:At,k3:At,k4:At,kernelMatrix:ya,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:At,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:At,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:At,overlineThickness:At,paintOrder:null,panose1:null,path:null,pathLength:At,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:At,pointsAtY:At,pointsAtZ:At,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ya,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ya,rev:ya,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ya,requiredFeatures:ya,requiredFonts:ya,requiredFormats:ya,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:At,specularExponent:At,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:At,strikethroughThickness:At,string:null,stroke:null,strokeDashArray:ya,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:At,strokeOpacity:At,strokeWidth:null,style:null,surfaceScale:At,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ya,tabIndex:At,tableValues:null,target:null,targetX:At,targetY:At,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ya,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:At,underlineThickness:At,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:At,values:null,vAlphabetic:At,vMathematical:At,vectorEffect:null,vHanging:At,vIdeographic:At,version:null,vertAdvY:At,vertOriginX:At,vertOriginY:At,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:At,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:O6}),D6=Sm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),F6=Sm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k6}),B6=Sm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Zre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kre=/[A-Z]/g,NI=/-[a-z]/g,$re=/^data[-\w.:]+$/i;function JC(t,e){const n=z0(e);let i=e,r=Zo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$re.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(NI,Jre);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!NI.test(s)){let o=s.replace(Kre,Qre);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=QC}return new r(i,e)}function Qre(t){return"-"+t.toLowerCase()}function Jre(t){return t.charAt(1).toUpperCase()}const L1=L6([N6,Xre,D6,F6,B6],"html"),wm=L6([N6,qre,D6,F6,B6],"svg");function OI(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function U6(t){return t.join(" ").trim()}var Ep={},cb,kI;function ese(){if(kI)return cb;kI=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,u=`
`,d="/",f="*",p="",y="comment",v="declaration";cb=function(S,b){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];b=b||{};var E=1,R=1;function P(re){var ie=re.match(e);ie&&(E+=ie.length);var ge=re.lastIndexOf(u);R=~ge?re.length-ge:R+re.length}function D(){var re={line:E,column:R};return function(ie){return ie.position=new G(re),H(),ie}}function G(re){this.start=re,this.end={line:E,column:R},this.source=b.source}G.prototype.content=S;function V(re){var ie=new Error(b.source+":"+E+":"+R+": "+re);if(ie.reason=re,ie.filename=b.source,ie.line=E,ie.column=R,ie.source=S,!b.silent)throw ie}function K(re){var ie=re.exec(S);if(ie){var ge=ie[0];return P(ge),S=S.slice(ge.length),ie}}function H(){K(n)}function z(re){var ie;for(re=re||[];ie=k();)ie!==!1&&re.push(ie);return re}function k(){var re=D();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var ie=2;p!=S.charAt(ie)&&(f!=S.charAt(ie)||d!=S.charAt(ie+1));)++ie;if(ie+=2,p===S.charAt(ie-1))return V("End of comment missing");var ge=S.slice(2,ie-2);return R+=2,P(ge),S=S.slice(ie),R+=2,re({type:y,comment:ge})}}function Z(){var re=D(),ie=K(i);if(ie){if(k(),!K(r))return V("property missing ':'");var ge=K(s),fe=re({type:v,property:T(ie[0].replace(t,p)),value:ge?T(ge[0].replace(t,p)):p});return K(o),fe}}function $(){var re=[];z(re);for(var ie;ie=Z();)ie!==!1&&(re.push(ie),z(re));return re}return H(),$()};function T(S){return S?S.replace(a,p):p}return cb}var DI;function tse(){if(DI)return Ep;DI=1;var t=Ep&&Ep.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.default=n;var e=t(ese());function n(i,r){var s=null;if(!i||typeof i!="string")return s;var o=(0,e.default)(i),a=typeof r=="function";return o.forEach(function(u){if(u.type==="declaration"){var d=u.property,f=u.value;a?r(d,f,u):f&&(s=s||{},s[d]=f)}}),s}return Ep}var wg={},FI;function nse(){if(FI)return wg;FI=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},o=function(d,f){return f.toUpperCase()},a=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(r,a):d=d.replace(i,a),d.replace(e,o))};return wg.camelCase=u,wg}var Cg,BI;function ise(){if(BI)return Cg;BI=1;var t=Cg&&Cg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=t(tse()),n=nse();function i(r,s){var o={};return!r||typeof r!="string"||(0,e.default)(r,function(a,u){a&&u&&(o[(0,n.camelCase)(a,s)]=u)}),o}return i.default=i,Cg=i,Cg}var rse=ise();const sse=qa(rse),N1=z6("end"),Lu=z6("start");function z6(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function ose(t){const e=Lu(t),n=N1(t);if(e&&n)return{start:e,end:n}}function Jg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?UI(t.position):"start"in t||"end"in t?UI(t):"line"in t||"column"in t?kS(t):""}function kS(t){return zI(t&&t.line)+":"+zI(t&&t.column)}function UI(t){return kS(t&&t.start)+"-"+kS(t&&t.end)}function zI(t){return t&&typeof t=="number"?t:1}class Zs extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?s.ruleId=i:(s.source=i.slice(0,u),s.ruleId=i.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=Jg(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zs.prototype.file="";Zs.prototype.name="";Zs.prototype.reason="";Zs.prototype.message="";Zs.prototype.stack="";Zs.prototype.column=void 0;Zs.prototype.line=void 0;Zs.prototype.ancestors=void 0;Zs.prototype.cause=void 0;Zs.prototype.fatal=void 0;Zs.prototype.place=void 0;Zs.prototype.ruleId=void 0;Zs.prototype.source=void 0;const eA={}.hasOwnProperty,ase=new Map,lse=/[A-Z]/g,use=new Set(["table","tbody","thead","tfoot","tr"]),cse=new Set(["td","th"]),H6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dse(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=_se(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=vse(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?wm:L1,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=V6(r,t,void 0);return s&&typeof s!="string"?s:r.create(t,r.Fragment,{children:s||void 0},void 0)}function V6(t,e,n){if(e.type==="element")return hse(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fse(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mse(t,e,n);if(e.type==="mdxjsEsm")return pse(t,e);if(e.type==="root")return gse(t,e,n);if(e.type==="text")return yse(t,e)}function hse(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=wm,t.schema=r),t.ancestors.push(e);const s=W6(t,e.tagName,!1),o=xse(t,e);let a=nA(t,e);return use.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!Gre(u):!0})),j6(t,o,s,e),tA(o,a),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function fse(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}H0(t,e.position)}function pse(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);H0(t,e.position)}function mse(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=wm,t.schema=r),t.ancestors.push(e);const s=e.name===null?t.Fragment:W6(t,e.name,!0),o=Ese(t,e),a=nA(t,e);return j6(t,o,s,e),tA(o,a),t.ancestors.pop(),t.schema=i,t.create(e,s,o,n)}function gse(t,e,n){const i={};return tA(i,nA(t,e)),t.create(e,t.Fragment,i,n)}function yse(t,e){return e.value}function j6(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function tA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function vse(t,e,n){return i;function i(r,s,o,a){const d=Array.isArray(o.children)?n:e;return a?d(s,o,a):d(s,o)}}function _se(t,e){return n;function n(i,r,s,o){const a=Array.isArray(s.children),u=Lu(i);return e(r,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function xse(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&eA.call(e.properties,r)){const s=Tse(t,r,e.properties[r]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&cse.has(e.tagName)?i=a:n[o]=a}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Ese(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else H0(t,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const a=i.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else H0(t,e.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function nA(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:ase;for(;++i<e.children.length;){const s=e.children[i];let o;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=r.get(u)||0;o=u+"-"+d,r.set(u,d+1)}}const a=V6(t,s,o);a!==void 0&&n.push(a)}return n}function Tse(t,e,n){const i=JC(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?I6(n):U6(n)),i.property==="style"){let r=typeof n=="object"?n:bse(t,String(n));return t.stylePropertyNameCase==="css"&&(r=Sse(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?Zre[i.property]||i.property:i.attribute,n]}}function bse(t,e){try{return sse(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new Zs("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=H6+"#cannot-parse-style-attribute",r}}function W6(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const a=RI(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}i=o}else i=RI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return eA.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);H0(t)}function H0(t,e){const n=new Zs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=H6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Sse(t){const e={};let n;for(n in t)eA.call(t,n)&&(e[wse(n)]=t[n]);return e}function wse(t){let e=t.replace(lse,Cse);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Cse(t){return"-"+t.toLowerCase()}const db={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ase={};function Mse(t,e){const n=Ase,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return G6(t,i,r)}function G6(t,e,n){if(Pse(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return HI(t.children,e,n)}return Array.isArray(t)?HI(t,e,n):""}function HI(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=G6(t[r],e,n);return i.join("")}function Pse(t){return!!(t&&typeof t=="object")}const VI=document.createElement("i");function iA(t){const e="&"+t+";";VI.innerHTML=e;const n=VI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Mu(t,e,n,i){const r=t.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Ha(t,e){return t.length>0?(Mu(t,t.length,0,e),t):e}const jI={}.hasOwnProperty;function Rse(t){const e={};let n=-1;for(;++n<t.length;)Ise(e,t[n]);return e}function Ise(t,e){let n;for(n in e){const r=(jI.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){jI.call(r,o)||(r[o]=[]);const a=s[o];Lse(r[o],Array.isArray(a)?a:a?[a]:[])}}}function Lse(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Mu(t,0,0,i)}function Y6(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function jp(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mu=Jd(/[A-Za-z]/),xa=Jd(/[\dA-Za-z]/),Nse=Jd(/[#-'*+\--9=?A-Z^-~]/);function DS(t){return t!==null&&(t<32||t===127)}const FS=Jd(/\d/),Ose=Jd(/[\dA-Fa-f]/),kse=Jd(/[!-/:-@[-`{-~]/);function bn(t){return t!==null&&t<-2}function Xo(t){return t!==null&&(t<0||t===32)}function ci(t){return t===-2||t===-1||t===32}const Dse=Jd(new RegExp("\\p{P}|\\p{S}","u")),Fse=Jd(/\s/);function Jd(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Cm(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&xa(t.charCodeAt(n+1))&&xa(t.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Ri(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return ci(u)?(t.enter(n),a(u)):e(u)}function a(u){return ci(u)&&s++<r?(t.consume(u),a):(t.exit(n),e(u))}}const Bse={tokenize:Use};function Use(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ri(t,e,"linePrefix")}function r(a){return t.enter("paragraph"),s(a)}function s(a){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return bn(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const zse={tokenize:Hse},WI={tokenize:Vse};function Hse(t){const e=this,n=[];let i=0,r,s,o;return a;function a(P){if(i<n.length){const D=n[i];return e.containerState=D[1],t.attempt(D[0].continuation,u,d)(P)}return d(P)}function u(P){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&R();const D=e.events.length;let G=D,V;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){V=e.events[G][1].end;break}E(i);let K=D;for(;K<e.events.length;)e.events[K][1].end={...V},K++;return Mu(e.events,G+1,0,e.events.slice(D)),e.events.length=K,d(P)}return a(P)}function d(P){if(i===n.length){if(!r)return y(P);if(r.currentConstruct&&r.currentConstruct.concrete)return T(P);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(WI,f,p)(P)}function f(P){return r&&R(),E(i),y(P)}function p(P){return e.parser.lazy[e.now().line]=i!==n.length,o=e.now().offset,T(P)}function y(P){return e.containerState={},t.attempt(WI,v,T)(P)}function v(P){return i++,n.push([e.currentConstruct,e.containerState]),y(P)}function T(P){if(P===null){r&&R(),E(0),t.consume(P);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),S(P)}function S(P){if(P===null){b(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return bn(P)?(t.consume(P),b(t.exit("chunkFlow")),i=0,e.interrupt=void 0,a):(t.consume(P),S)}function b(P,D){const G=e.sliceStream(P);if(D&&G.push(null),P.previous=s,s&&(s.next=P),s=P,r.defineSkip(P.start),r.write(G),e.parser.lazy[P.start.line]){let V=r.events.length;for(;V--;)if(r.events[V][1].start.offset<o&&(!r.events[V][1].end||r.events[V][1].end.offset>o))return;const K=e.events.length;let H=K,z,k;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(z){k=e.events[H][1].end;break}z=!0}for(E(i),V=K;V<e.events.length;)e.events[V][1].end={...k},V++;Mu(e.events,H+1,0,e.events.slice(K)),e.events.length=V}}function E(P){let D=n.length;for(;D-- >P;){const G=n[D];e.containerState=G[1],G[0].exit.call(e,t)}n.length=P}function R(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Vse(t,e,n){return Ri(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function GI(t){if(t===null||Xo(t)||Fse(t))return 1;if(Dse(t))return 2}function rA(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const s=t[r].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const BS={name:"attention",resolveAll:jse,tokenize:Wse};function jse(t,e){let n=-1,i,r,s,o,a,u,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[i][1].end},y={...t[n][1].start};YI(p,-u),YI(y,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...t[i][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},s={type:u>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[i][1].end={...o.start},t[n][1].start={...a.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=Ha(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=Ha(d,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=Ha(d,rA(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=Ha(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=Ha(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Mu(t,i-1,n-i+3,d),n=i+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Wse(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=GI(i);let s;return o;function o(u){return s=u,t.enter("attentionSequence"),a(u)}function a(u){if(u===s)return t.consume(u),a;const d=t.exit("attentionSequence"),f=GI(u),p=!f||f===2&&r||n.includes(u),y=!r||r===2&&f||n.includes(i);return d._open=!!(s===42?p:p&&(r||!y)),d._close=!!(s===42?y:y&&(f||!p)),e(u)}}function YI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Gse={name:"autolink",tokenize:Yse};function Yse(t,e,n){let i=0;return r;function r(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return mu(v)?(t.consume(v),o):v===64?n(v):d(v)}function o(v){return v===43||v===45||v===46||xa(v)?(i=1,a(v)):d(v)}function a(v){return v===58?(t.consume(v),i=0,u):(v===43||v===45||v===46||xa(v))&&i++<32?(t.consume(v),a):(i=0,d(v))}function u(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||DS(v)?n(v):(t.consume(v),u)}function d(v){return v===64?(t.consume(v),f):Nse(v)?(t.consume(v),d):n(v)}function f(v){return xa(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),i=0,f):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):y(v)}function y(v){if((v===45||xa(v))&&i++<63){const T=v===45?y:p;return t.consume(v),T}return n(v)}}const O1={partial:!0,tokenize:Xse};function Xse(t,e,n){return i;function i(s){return ci(s)?Ri(t,r,"linePrefix")(s):r(s)}function r(s){return s===null||bn(s)?e(s):n(s)}}const X6={continuation:{tokenize:Zse},exit:Kse,name:"blockQuote",tokenize:qse};function qse(t,e,n){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ci(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Zse(t,e,n){const i=this;return r;function r(o){return ci(o)?Ri(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(X6,e,n)(o)}}function Kse(t){t.exit("blockQuote")}const q6={name:"characterEscape",tokenize:$se};function $se(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),r}function r(s){return kse(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Z6={name:"characterReference",tokenize:Qse};function Qse(t,e,n){const i=this;let r=0,s,o;return a;function a(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),u}function u(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,o=xa,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=Ose,f):(t.enter("characterReferenceValue"),s=7,o=FS,f(p))}function f(p){if(p===59&&r){const y=t.exit("characterReferenceValue");return o===xa&&!iA(i.sliceSerialize(y))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&r++<s?(t.consume(p),f):n(p)}}const XI={partial:!0,tokenize:eoe},qI={concrete:!0,name:"codeFenced",tokenize:Jse};function Jse(t,e,n){const i=this,r={partial:!0,tokenize:G};let s=0,o=0,a;return u;function u(V){return d(V)}function d(V){const K=i.events[i.events.length-1];return s=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,a=V,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(V)}function f(V){return V===a?(o++,t.consume(V),f):o<3?n(V):(t.exit("codeFencedFenceSequence"),ci(V)?Ri(t,p,"whitespace")(V):p(V))}function p(V){return V===null||bn(V)?(t.exit("codeFencedFence"),i.interrupt?e(V):t.check(XI,S,D)(V)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(V))}function y(V){return V===null||bn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(V)):ci(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ri(t,v,"whitespace")(V)):V===96&&V===a?n(V):(t.consume(V),y)}function v(V){return V===null||bn(V)?p(V):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(V))}function T(V){return V===null||bn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(V)):V===96&&V===a?n(V):(t.consume(V),T)}function S(V){return t.attempt(r,D,b)(V)}function b(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),E}function E(V){return s>0&&ci(V)?Ri(t,R,"linePrefix",s+1)(V):R(V)}function R(V){return V===null||bn(V)?t.check(XI,S,D)(V):(t.enter("codeFlowValue"),P(V))}function P(V){return V===null||bn(V)?(t.exit("codeFlowValue"),R(V)):(t.consume(V),P)}function D(V){return t.exit("codeFenced"),e(V)}function G(V,K,H){let z=0;return k;function k(ge){return V.enter("lineEnding"),V.consume(ge),V.exit("lineEnding"),Z}function Z(ge){return V.enter("codeFencedFence"),ci(ge)?Ri(V,$,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):$(ge)}function $(ge){return ge===a?(V.enter("codeFencedFenceSequence"),re(ge)):H(ge)}function re(ge){return ge===a?(z++,V.consume(ge),re):z>=o?(V.exit("codeFencedFenceSequence"),ci(ge)?Ri(V,ie,"whitespace")(ge):ie(ge)):H(ge)}function ie(ge){return ge===null||bn(ge)?(V.exit("codeFencedFence"),K(ge)):H(ge)}}}function eoe(t,e,n){const i=this;return r;function r(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}const hb={name:"codeIndented",tokenize:noe},toe={partial:!0,tokenize:ioe};function noe(t,e,n){const i=this;return r;function r(d){return t.enter("codeIndented"),Ri(t,s,"linePrefix",5)(d)}function s(d){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?u(d):bn(d)?t.attempt(toe,o,u)(d):(t.enter("codeFlowValue"),a(d))}function a(d){return d===null||bn(d)?(t.exit("codeFlowValue"),o(d)):(t.consume(d),a)}function u(d){return t.exit("codeIndented"),e(d)}}function ioe(t,e,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):bn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),r):Ri(t,s,"linePrefix",5)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):bn(o)?r(o):n(o)}}const roe={name:"codeText",previous:ooe,resolve:soe,tokenize:aoe};function soe(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function ooe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aoe(t,e,n){let i=0,r,s;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),a(p)}function a(p){return p===96?(t.consume(p),i++,a):(t.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),u):p===96?(s=t.enter("codeTextSequence"),r=0,f(p)):bn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||bn(p)?(t.exit("codeTextData"),u(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),r++,f):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class loe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Ag(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ag(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ag(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ag(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ag(this.left,n.reverse())}}}function Ag(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function K6(t){const e={};let n=-1,i,r,s,o,a,u,d;const f=new loe(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(i=f.get(n),n&&i[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,uoe(f,n)),n=e[n],d=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(f.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...f.get(r)[1].start},a=f.slice(r,n),a.unshift(i),f.splice(r,n-r+1,a))}}return Mu(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function uoe(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const s=[];let o=n._tokenizer;o||(o=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],d={};let f,p,y=-1,v=n,T=0,S=0;const b=[S];for(;v;){for(;t.get(++r)[1]!==v;);s.push(r),v._tokenizer||(f=i.sliceStream(v),v.next||f.push(null),p&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++y<a.length;)a[y][0]==="exit"&&a[y-1][0]==="enter"&&a[y][1].type===a[y-1][1].type&&a[y][1].start.line!==a[y][1].end.line&&(S=y+1,b.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):b.pop(),y=b.length;y--;){const E=a.slice(b[y],b[y+1]),R=s.pop();u.push([R,R+E.length-1]),t.splice(R,2,E)}for(u.reverse(),y=-1;++y<u.length;)d[T+u[y][0]]=T+u[y][1],T+=u[y][1]-u[y][0]-1;return d}const coe={resolve:hoe,tokenize:foe},doe={partial:!0,tokenize:poe};function hoe(t){return K6(t),t}function foe(t,e){let n;return i;function i(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):bn(a)?t.check(doe,o,s)(a):(t.consume(a),r)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function poe(t,e,n){const i=this;return r;function r(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ri(t,s,"linePrefix")}function s(o){if(o===null||bn(o))return n(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(i.parser.constructs.flow,n,e)(o)}}function $6(t,e,n,i,r,s,o,a,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(t.enter(i),t.enter(r),t.enter(s),t.consume(E),t.exit(s),y):E===null||E===32||E===41||DS(E)?n(E):(t.enter(i),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),S(E))}function y(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(r),t.exit(i),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(t.exit("chunkString"),t.exit(a),y(E)):E===null||E===60||bn(E)?n(E):(t.consume(E),E===92?T:v)}function T(E){return E===60||E===62||E===92?(t.consume(E),v):v(E)}function S(E){return!f&&(E===null||E===41||Xo(E))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(i),e(E)):f<d&&E===40?(t.consume(E),f++,S):E===41?(t.consume(E),f--,S):E===null||E===32||E===40||DS(E)?n(E):(t.consume(E),E===92?b:S)}function b(E){return E===40||E===41||E===92?(t.consume(E),S):S(E)}}function Q6(t,e,n,i,r,s){const o=this;let a=0,u;return d;function d(v){return t.enter(i),t.enter(r),t.consume(v),t.exit(r),t.enter(s),f}function f(v){return a>999||v===null||v===91||v===93&&!u||v===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(t.exit(s),t.enter(r),t.consume(v),t.exit(r),t.exit(i),e):bn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||bn(v)||a++>999?(t.exit("chunkString"),f(v)):(t.consume(v),u||(u=!ci(v)),v===92?y:p)}function y(v){return v===91||v===92||v===93?(t.consume(v),a++,p):p(v)}}function J6(t,e,n,i,r,s){let o;return a;function a(y){return y===34||y===39||y===40?(t.enter(i),t.enter(r),t.consume(y),t.exit(r),o=y===40?41:y,u):n(y)}function u(y){return y===o?(t.enter(r),t.consume(y),t.exit(r),t.exit(i),e):(t.enter(s),d(y))}function d(y){return y===o?(t.exit(s),u(o)):y===null?n(y):bn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Ri(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===o||y===null||bn(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?p:f)}function p(y){return y===o||y===92?(t.consume(y),f):f(y)}}function e0(t,e){let n;return i;function i(r){return bn(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):ci(r)?Ri(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const moe={name:"definition",tokenize:yoe},goe={partial:!0,tokenize:voe};function yoe(t,e,n){const i=this;let r;return s;function s(v){return t.enter("definition"),o(v)}function o(v){return Q6.call(i,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function a(v){return r=jp(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),u):n(v)}function u(v){return Xo(v)?e0(t,d)(v):d(v)}function d(v){return $6(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function f(v){return t.attempt(goe,p,p)(v)}function p(v){return ci(v)?Ri(t,y,"whitespace")(v):y(v)}function y(v){return v===null||bn(v)?(t.exit("definition"),i.parser.defined.push(r),e(v)):n(v)}}function voe(t,e,n){return i;function i(a){return Xo(a)?e0(t,r)(a):n(a)}function r(a){return J6(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ci(a)?Ri(t,o,"whitespace")(a):o(a)}function o(a){return a===null||bn(a)?e(a):n(a)}}const _oe={name:"hardBreakEscape",tokenize:xoe};function xoe(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),r}function r(s){return bn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Eoe={name:"headingAtx",resolve:Toe,tokenize:boe};function Toe(t,e){let n=t.length-2,i=3,r,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Mu(t,i,n-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),t}function boe(t,e,n){let i=0;return r;function r(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&i++<6?(t.consume(f),o):f===null||Xo(f)?(t.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||bn(f)?(t.exit("atxHeading"),e(f)):ci(f)?Ri(t,a,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),a(f))}function d(f){return f===null||f===35||Xo(f)?(t.exit("atxHeadingText"),a(f)):(t.consume(f),d)}}const Soe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ZI=["pre","script","style","textarea"],woe={concrete:!0,name:"htmlFlow",resolveTo:Moe,tokenize:Poe},Coe={partial:!0,tokenize:Ioe},Aoe={partial:!0,tokenize:Roe};function Moe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Poe(t,e,n){const i=this;let r,s,o,a,u;return d;function d(J){return f(J)}function f(J){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(J),p}function p(J){return J===33?(t.consume(J),y):J===47?(t.consume(J),s=!0,S):J===63?(t.consume(J),r=3,i.interrupt?e:j):mu(J)?(t.consume(J),o=String.fromCharCode(J),b):n(J)}function y(J){return J===45?(t.consume(J),r=2,v):J===91?(t.consume(J),r=5,a=0,T):mu(J)?(t.consume(J),r=4,i.interrupt?e:j):n(J)}function v(J){return J===45?(t.consume(J),i.interrupt?e:j):n(J)}function T(J){const pe="CDATA[";return J===pe.charCodeAt(a++)?(t.consume(J),a===pe.length?i.interrupt?e:$:T):n(J)}function S(J){return mu(J)?(t.consume(J),o=String.fromCharCode(J),b):n(J)}function b(J){if(J===null||J===47||J===62||Xo(J)){const pe=J===47,xe=o.toLowerCase();return!pe&&!s&&ZI.includes(xe)?(r=1,i.interrupt?e(J):$(J)):Soe.includes(o.toLowerCase())?(r=6,pe?(t.consume(J),E):i.interrupt?e(J):$(J)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(J):s?R(J):P(J))}return J===45||xa(J)?(t.consume(J),o+=String.fromCharCode(J),b):n(J)}function E(J){return J===62?(t.consume(J),i.interrupt?e:$):n(J)}function R(J){return ci(J)?(t.consume(J),R):k(J)}function P(J){return J===47?(t.consume(J),k):J===58||J===95||mu(J)?(t.consume(J),D):ci(J)?(t.consume(J),P):k(J)}function D(J){return J===45||J===46||J===58||J===95||xa(J)?(t.consume(J),D):G(J)}function G(J){return J===61?(t.consume(J),V):ci(J)?(t.consume(J),G):P(J)}function V(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(t.consume(J),u=J,K):ci(J)?(t.consume(J),V):H(J)}function K(J){return J===u?(t.consume(J),u=null,z):J===null||bn(J)?n(J):(t.consume(J),K)}function H(J){return J===null||J===34||J===39||J===47||J===60||J===61||J===62||J===96||Xo(J)?G(J):(t.consume(J),H)}function z(J){return J===47||J===62||ci(J)?P(J):n(J)}function k(J){return J===62?(t.consume(J),Z):n(J)}function Z(J){return J===null||bn(J)?$(J):ci(J)?(t.consume(J),Z):n(J)}function $(J){return J===45&&r===2?(t.consume(J),fe):J===60&&r===1?(t.consume(J),he):J===62&&r===4?(t.consume(J),ee):J===63&&r===3?(t.consume(J),j):J===93&&r===5?(t.consume(J),se):bn(J)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(Coe,ue,re)(J)):J===null||bn(J)?(t.exit("htmlFlowData"),re(J)):(t.consume(J),$)}function re(J){return t.check(Aoe,ie,ue)(J)}function ie(J){return t.enter("lineEnding"),t.consume(J),t.exit("lineEnding"),ge}function ge(J){return J===null||bn(J)?re(J):(t.enter("htmlFlowData"),$(J))}function fe(J){return J===45?(t.consume(J),j):$(J)}function he(J){return J===47?(t.consume(J),o="",Y):$(J)}function Y(J){if(J===62){const pe=o.toLowerCase();return ZI.includes(pe)?(t.consume(J),ee):$(J)}return mu(J)&&o.length<8?(t.consume(J),o+=String.fromCharCode(J),Y):$(J)}function se(J){return J===93?(t.consume(J),j):$(J)}function j(J){return J===62?(t.consume(J),ee):J===45&&r===2?(t.consume(J),j):$(J)}function ee(J){return J===null||bn(J)?(t.exit("htmlFlowData"),ue(J)):(t.consume(J),ee)}function ue(J){return t.exit("htmlFlow"),e(J)}}function Roe(t,e,n){const i=this;return r;function r(o){return bn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):e(o)}}function Ioe(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(O1,e,n)}}const Loe={name:"htmlText",tokenize:Noe};function Noe(t,e,n){const i=this;let r,s,o;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),u}function u(j){return j===33?(t.consume(j),d):j===47?(t.consume(j),G):j===63?(t.consume(j),P):mu(j)?(t.consume(j),H):n(j)}function d(j){return j===45?(t.consume(j),f):j===91?(t.consume(j),s=0,T):mu(j)?(t.consume(j),R):n(j)}function f(j){return j===45?(t.consume(j),v):n(j)}function p(j){return j===null?n(j):j===45?(t.consume(j),y):bn(j)?(o=p,he(j)):(t.consume(j),p)}function y(j){return j===45?(t.consume(j),v):p(j)}function v(j){return j===62?fe(j):j===45?y(j):p(j)}function T(j){const ee="CDATA[";return j===ee.charCodeAt(s++)?(t.consume(j),s===ee.length?S:T):n(j)}function S(j){return j===null?n(j):j===93?(t.consume(j),b):bn(j)?(o=S,he(j)):(t.consume(j),S)}function b(j){return j===93?(t.consume(j),E):S(j)}function E(j){return j===62?fe(j):j===93?(t.consume(j),E):S(j)}function R(j){return j===null||j===62?fe(j):bn(j)?(o=R,he(j)):(t.consume(j),R)}function P(j){return j===null?n(j):j===63?(t.consume(j),D):bn(j)?(o=P,he(j)):(t.consume(j),P)}function D(j){return j===62?fe(j):P(j)}function G(j){return mu(j)?(t.consume(j),V):n(j)}function V(j){return j===45||xa(j)?(t.consume(j),V):K(j)}function K(j){return bn(j)?(o=K,he(j)):ci(j)?(t.consume(j),K):fe(j)}function H(j){return j===45||xa(j)?(t.consume(j),H):j===47||j===62||Xo(j)?z(j):n(j)}function z(j){return j===47?(t.consume(j),fe):j===58||j===95||mu(j)?(t.consume(j),k):bn(j)?(o=z,he(j)):ci(j)?(t.consume(j),z):fe(j)}function k(j){return j===45||j===46||j===58||j===95||xa(j)?(t.consume(j),k):Z(j)}function Z(j){return j===61?(t.consume(j),$):bn(j)?(o=Z,he(j)):ci(j)?(t.consume(j),Z):z(j)}function $(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),r=j,re):bn(j)?(o=$,he(j)):ci(j)?(t.consume(j),$):(t.consume(j),ie)}function re(j){return j===r?(t.consume(j),r=void 0,ge):j===null?n(j):bn(j)?(o=re,he(j)):(t.consume(j),re)}function ie(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Xo(j)?z(j):(t.consume(j),ie)}function ge(j){return j===47||j===62||Xo(j)?z(j):n(j)}function fe(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function he(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),Y}function Y(j){return ci(j)?Ri(t,se,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):se(j)}function se(j){return t.enter("htmlTextData"),o(j)}}const sA={name:"labelEnd",resolveAll:Foe,resolveTo:Boe,tokenize:Uoe},Ooe={tokenize:zoe},koe={tokenize:Hoe},Doe={tokenize:Voe};function Foe(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&Mu(t,0,t.length,n),t}function Boe(t,e){let n=t.length,i=0,r,s,o,a;for(;n--;)if(r=t[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",u,e],["enter",d,e]],a=Ha(a,t.slice(s+1,s+i+3)),a=Ha(a,[["enter",f,e]]),a=Ha(a,rA(e.parser.constructs.insideSpan.null,t.slice(s+i+4,o-3),e)),a=Ha(a,[["exit",f,e],t[o-2],t[o-1],["exit",d,e]]),a=Ha(a,t.slice(o+1)),a=Ha(a,[["exit",u,e]]),Mu(t,s,t.length,a),t}function Uoe(t,e,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(y){return s?s._inactive?p(y):(o=i.parser.defined.includes(jp(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),u):n(y)}function u(y){return y===40?t.attempt(Ooe,f,o?f:p)(y):y===91?t.attempt(koe,f,o?d:p)(y):o?f(y):p(y)}function d(y){return t.attempt(Doe,f,p)(y)}function f(y){return e(y)}function p(y){return s._balanced=!0,n(y)}}function zoe(t,e,n){return i;function i(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),r}function r(p){return Xo(p)?e0(t,s)(p):s(p)}function s(p){return p===41?f(p):$6(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Xo(p)?e0(t,u)(p):f(p)}function a(p){return n(p)}function u(p){return p===34||p===39||p===40?J6(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return Xo(p)?e0(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Hoe(t,e,n){const i=this;return r;function r(a){return Q6.call(i,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(jp(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function Voe(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),r}function r(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const joe={name:"labelStartImage",resolveAll:sA.resolveAll,tokenize:Woe};function Woe(t,e,n){const i=this;return r;function r(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):e(a)}}const Goe={name:"labelStartLink",resolveAll:sA.resolveAll,tokenize:Yoe};function Yoe(t,e,n){const i=this;return r;function r(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const fb={name:"lineEnding",tokenize:Xoe};function Xoe(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ri(t,e,"linePrefix")}}const T_={name:"thematicBreak",tokenize:qoe};function qoe(t,e,n){let i=0,r;return s;function s(d){return t.enter("thematicBreak"),o(d)}function o(d){return r=d,a(d)}function a(d){return d===r?(t.enter("thematicBreakSequence"),u(d)):i>=3&&(d===null||bn(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===r?(t.consume(d),i++,u):(t.exit("thematicBreakSequence"),ci(d)?Ri(t,a,"whitespace")(d):a(d))}}const zo={continuation:{tokenize:Qoe},exit:eae,name:"list",tokenize:$oe},Zoe={partial:!0,tokenize:tae},Koe={partial:!0,tokenize:Joe};function $oe(t,e,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(v){const T=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:FS(v)){if(i.containerState.type||(i.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(T_,n,d)(v):d(v);if(!i.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(v)}return n(v)}function u(v){return FS(v)&&++o<10?(t.consume(v),u):(!i.interrupt||o<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,t.check(O1,i.interrupt?n:f,t.attempt(Zoe,y,p))}function f(v){return i.containerState.initialBlankLine=!0,s++,y(v)}function p(v){return ci(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function Qoe(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(O1,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ri(t,e,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!ci(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Koe,e,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ri(t,t.attempt(zo,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Joe(t,e,n){const i=this;return Ri(t,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):n(s)}}function eae(t){t.exit(this.containerState.type)}function tae(t,e,n){const i=this;return Ri(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!ci(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const KI={name:"setextUnderline",resolveTo:nae,tokenize:iae};function nae(t,e){let n=t.length,i,r,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",s?(t.splice(r,0,["enter",o,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=o,t.push(["exit",o,e]),t}function iae(t,e,n){const i=this;let r;return s;function s(d){let f=i.events.length,p;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){p=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(t.enter("setextHeadingLine"),r=d,o(d)):n(d)}function o(d){return t.enter("setextHeadingLineSequence"),a(d)}function a(d){return d===r?(t.consume(d),a):(t.exit("setextHeadingLineSequence"),ci(d)?Ri(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||bn(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const rae={tokenize:sae};function sae(t){const e=this,n=t.attempt(O1,i,t.attempt(this.parser.constructs.flowInitial,r,Ri(t,t.attempt(this.parser.constructs.flow,r,t.attempt(coe,r)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const oae={resolveAll:t5()},aae=e5("string"),lae=e5("text");function e5(t){return{resolveAll:t5(t==="text"?uae:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],s=n.attempt(r,o,a);return o;function o(f){return d(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return d(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function d(f){if(f===null)return!0;const p=r[f];let y=-1;if(p)for(;++y<p.length;){const v=p[y];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function t5(t){return e;function e(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return t?t(n,i):n}}function uae(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let s=r.length,o=-1,a=0,u;for(;s--;){const d=r[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)u=!0,a++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const d={type:n===t.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const cae={42:zo,43:zo,45:zo,48:zo,49:zo,50:zo,51:zo,52:zo,53:zo,54:zo,55:zo,56:zo,57:zo,62:X6},dae={91:moe},hae={[-2]:hb,[-1]:hb,32:hb},fae={35:Eoe,42:T_,45:[KI,T_],60:woe,61:KI,95:T_,96:qI,126:qI},pae={38:Z6,92:q6},mae={[-5]:fb,[-4]:fb,[-3]:fb,33:joe,38:Z6,42:BS,60:[Gse,Loe],91:Goe,92:[_oe,q6],93:sA,95:BS,96:roe},gae={null:[BS,oae]},yae={null:[42,95]},vae={null:[]},_ae=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yae,contentInitial:dae,disable:vae,document:cae,flow:fae,flowInitial:hae,insideSpan:gae,string:pae,text:mae},Symbol.toStringTag,{value:"Module"}));function xae(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let o=[],a=[];const u={attempt:K(G),check:K(V),consume:R,enter:P,exit:D,interrupt:K(V,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:T,parser:t,previous:null,sliceSerialize:y,sliceStream:v,write:p};let f=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function p(Z){return o=Ha(o,Z),b(),o[o.length-1]!==null?[]:(H(e,0),d.events=rA(s,d.events,d),d.events)}function y(Z,$){return Tae(v(Z),$)}function v(Z){return Eae(o,Z)}function T(){const{_bufferIndex:Z,_index:$,line:re,column:ie,offset:ge}=i;return{_bufferIndex:Z,_index:$,line:re,column:ie,offset:ge}}function S(Z){r[Z.line]=Z.column,k()}function b(){let Z;for(;i._index<o.length;){const $=o[i._index];if(typeof $=="string")for(Z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Z&&i._bufferIndex<$.length;)E($.charCodeAt(i._bufferIndex));else E($)}}function E(Z){f=f(Z)}function R(Z){bn(Z)?(i.line++,i.column=1,i.offset+=Z===-3?2:1,k()):Z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=Z}function P(Z,$){const re=$||{};return re.type=Z,re.start=T(),d.events.push(["enter",re,d]),a.push(re),re}function D(Z){const $=a.pop();return $.end=T(),d.events.push(["exit",$,d]),$}function G(Z,$){H(Z,$.from)}function V(Z,$){$.restore()}function K(Z,$){return re;function re(ie,ge,fe){let he,Y,se,j;return Array.isArray(ie)?ue(ie):"tokenize"in ie?ue([ie]):ee(ie);function ee(be){return Ce;function Ce(Xe){const nt=Xe!==null&&be[Xe],rt=Xe!==null&&be.null,ot=[...Array.isArray(nt)?nt:nt?[nt]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return ue(ot)(Xe)}}function ue(be){return he=be,Y=0,be.length===0?fe:J(be[Y])}function J(be){return Ce;function Ce(Xe){return j=z(),se=be,be.partial||(d.currentConstruct=be),be.name&&d.parser.constructs.disable.null.includes(be.name)?xe():be.tokenize.call($?Object.assign(Object.create(d),$):d,u,pe,xe)(Xe)}}function pe(be){return Z(se,j),ge}function xe(be){return j.restore(),++Y<he.length?J(he[Y]):fe}}}function H(Z,$){Z.resolveAll&&!s.includes(Z)&&s.push(Z),Z.resolve&&Mu(d.events,$,d.events.length-$,Z.resolve(d.events.slice($),d)),Z.resolveTo&&(d.events=Z.resolveTo(d.events,d))}function z(){const Z=T(),$=d.previous,re=d.currentConstruct,ie=d.events.length,ge=Array.from(a);return{from:ie,restore:fe};function fe(){i=Z,d.previous=$,d.currentConstruct=re,d.events.length=ie,a=ge,k()}}function k(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Eae(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(n===r)o=[t[n].slice(i,s)];else{if(o=t.slice(n,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(t[r].slice(0,s))}return o}function Tae(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function bae(t){const i={constructs:Rse([_ae,...(t||{}).extensions||[]]),content:r(Bse),defined:[],document:r(zse),flow:r(rae),lazy:{},string:r(aae),text:r(lae)};return i;function r(s){return o;function o(a){return xae(i,s,a)}}}function Sae(t){for(;!K6(t););return t}const $I=/[\0\t\n\r]/g;function wae(){let t=1,e="",n=!0,i;return r;function r(s,o,a){const u=[];let d,f,p,y,v;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if($I.lastIndex=p,d=$I.exec(s),y=d&&d.index!==void 0?d.index:s.length,v=s.charCodeAt(y),!d){e=s.slice(p);break}if(v===10&&p===y&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),p<y&&(u.push(s.slice(p,y)),t+=y-p),v){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:i=!0,t=1}p=y+1}return a&&(i&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Cae=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Aae(t){return t.replace(Cae,Mae)}function Mae(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return Y6(n.slice(s?2:1),s?16:10)}return iA(n)||t}const n5={}.hasOwnProperty;function Pae(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Rae(n)(Sae(bae(n).document().write(wae()(t,e,!0))))}function Rae(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Qe),autolinkProtocol:z,autolinkEmail:z,atxHeading:s(ut),blockQuote:s(rt),characterEscape:z,characterReference:z,codeFenced:s(ot),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ot,o),codeText:s(_t,o),codeTextData:z,data:z,codeFlowValue:z,definition:s(yt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(le),hardBreakEscape:s(et),hardBreakTrailing:s(et),htmlFlow:s(Ye,o),htmlFlowData:z,htmlText:s(Ye,o),htmlTextData:z,image:s(Ne),label:o,link:s(Qe),listItem:s(Ke),listItemValue:y,listOrdered:s(Ie,p),listUnordered:s(Ie),paragraph:s(ct),reference:J,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(ut),strong:s(ae),thematicBreak:s(Me)},exit:{atxHeading:u(),atxHeadingSequence:G,autolink:u(),autolinkEmail:nt,autolinkProtocol:Xe,blockQuote:u(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:be,characterReference:Ce,codeFenced:u(b),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:k,codeIndented:u(E),codeText:u(ge),codeTextData:k,data:k,definition:u(),definitionDestinationString:D,definitionLabelString:R,definitionTitleString:P,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(re),htmlFlowData:k,htmlText:u(ie),htmlTextData:k,image:u(he),label:se,labelText:Y,lineEnding:Z,link:u(fe),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:pe,resourceDestinationString:j,resourceTitleString:ee,resource:ue,setextHeading:u(H),setextHeadingLineSequence:K,setextHeadingText:V,strong:u(),thematicBreak:u()}};i5(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(de){let Se={type:"root",children:[]};const Le={stack:[Se],tokenStack:[],config:e,enter:a,exit:d,buffer:o,resume:f,data:n},dt=[];let Je=-1;for(;++Je<de.length;)if(de[Je][1].type==="listOrdered"||de[Je][1].type==="listUnordered")if(de[Je][0]==="enter")dt.push(Je);else{const It=dt.pop();Je=r(de,It,Je)}for(Je=-1;++Je<de.length;){const It=e[de[Je][0]];n5.call(It,de[Je][1].type)&&It[de[Je][1].type].call(Object.assign({sliceSerialize:de[Je][2].sliceSerialize},Le),de[Je][1])}if(Le.tokenStack.length>0){const It=Le.tokenStack[Le.tokenStack.length-1];(It[1]||QI).call(Le,void 0,It[0])}for(Se.position={start:Ad(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Ad(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)Se=e.transforms[Je](Se)||Se;return Se}function r(de,Se,Le){let dt=Se-1,Je=-1,It=!1,St,tt,Pt,Yt;for(;++dt<=Le;){const kt=de[dt];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?Je++:Je--,Yt=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(St&&!Yt&&!Je&&!Pt&&(Pt=dt),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!Je&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||Je===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(St){let Et=dt;for(tt=void 0;Et--;){const tn=de[Et];if(tn[1].type==="lineEnding"||tn[1].type==="lineEndingBlank"){if(tn[0]==="exit")continue;tt&&(de[tt][1].type="lineEndingBlank",It=!0),tn[1].type="lineEnding",tt=Et}else if(!(tn[1].type==="linePrefix"||tn[1].type==="blockQuotePrefix"||tn[1].type==="blockQuotePrefixWhitespace"||tn[1].type==="blockQuoteMarker"||tn[1].type==="listItemIndent"))break}Pt&&(!tt||Pt<tt)&&(St._spread=!0),St.end=Object.assign({},tt?de[tt][1].start:kt[1].end),de.splice(tt||dt,0,["exit",St,kt[2]]),dt++,Le++}if(kt[1].type==="listItemPrefix"){const Et={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};St=Et,de.splice(dt,0,["enter",Et,kt[2]]),dt++,Le++,Pt=void 0,Yt=!0}}}return de[Se][1]._spread=It,Le}function s(de,Se){return Le;function Le(dt){a.call(this,de(dt),dt),Se&&Se.call(this,dt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(de,Se,Le){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Se,Le||void 0]),de.position={start:Ad(Se.start),end:void 0}}function u(de){return Se;function Se(Le){de&&de.call(this,Le),d.call(this,Le)}}function d(de,Se){const Le=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==de.type&&(Se?Se.call(this,de,dt[0]):(dt[1]||QI).call(this,de,dt[0]));else throw new Error("Cannot close `"+de.type+"` ("+Jg({start:de.start,end:de.end})+"): its not open");Le.position.end=Ad(de.end)}function f(){return Mse(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(de){if(this.data.expectingFirstListItemValue){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function v(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=de}function T(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=de}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.value=de.replace(/(\r?\n|\r)$/g,"")}function R(de){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Se,Le.identifier=jp(this.sliceSerialize(de)).toLowerCase()}function P(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.title=de}function D(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.url=de}function G(de){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Le=this.sliceSerialize(de).length;Se.depth=Le}}function V(){this.data.setextHeadingSlurpLineEnding=!0}function K(de){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function z(de){const Le=this.stack[this.stack.length-1].children;let dt=Le[Le.length-1];(!dt||dt.type!=="text")&&(dt=Q(),dt.position={start:Ad(de.start),end:void 0},Le.push(dt)),this.stack.push(dt)}function k(de){const Se=this.stack.pop();Se.value+=this.sliceSerialize(de),Se.position.end=Ad(de.end)}function Z(de){const Se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=Se.children[Se.children.length-1];Le.position.end=Ad(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Se.type)&&(z.call(this,de),k.call(this,de))}function $(){this.data.atHardBreak=!0}function re(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.value=de}function ie(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.value=de}function ge(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.value=de}function fe(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Se,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function he(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Se,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function Y(de){const Se=this.sliceSerialize(de),Le=this.stack[this.stack.length-2];Le.label=Aae(Se),Le.identifier=jp(Se).toLowerCase()}function se(){const de=this.stack[this.stack.length-1],Se=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const dt=de.children;Le.children=dt}else Le.alt=Se}function j(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.url=de}function ee(){const de=this.resume(),Se=this.stack[this.stack.length-1];Se.title=de}function ue(){this.data.inReference=void 0}function J(){this.data.referenceType="collapsed"}function pe(de){const Se=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Se,Le.identifier=jp(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function xe(de){this.data.characterReferenceType=de.type}function be(de){const Se=this.sliceSerialize(de),Le=this.data.characterReferenceType;let dt;Le?(dt=Y6(Se,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=iA(Se);const Je=this.stack[this.stack.length-1];Je.value+=dt}function Ce(de){const Se=this.stack.pop();Se.position.end=Ad(de.end)}function Xe(de){k.call(this,de);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(de)}function nt(de){k.call(this,de);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(de)}function rt(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function et(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Qe(){return{type:"link",title:null,url:"",children:[]}}function Ie(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function Ke(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function Q(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function Ad(t){return{line:t.line,column:t.column,offset:t.offset}}function i5(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?i5(t,i):Iae(t,i)}}function Iae(t,e){let n;for(n in e)if(n5.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function QI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Jg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Jg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jg({start:e.start,end:e.end})+") is still open")}function Lae(t){const e=this;e.parser=n;function n(i){return Pae(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Nae(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Oae(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function kae(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function Dae(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fae(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Bae(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Cm(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let o,a=t.footnoteCounts.get(i);a===void 0?(a=0,t.footnoteOrder.push(i),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(i,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function Uae(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zae(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function r5(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function Hae(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return r5(t,e);const r={src:Cm(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,s),t.applyData(e,s)}function Vae(t,e){const n={src:Cm(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function jae(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function Wae(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return r5(t,e);const r={href:Cm(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Gae(t,e){const n={href:Cm(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Yae(t,e,n){const i=t.all(e),r=n?Xae(n):s5(e),s={},o=[];if(typeof e.checked=="boolean"){const f=i[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const f=i[a];(r||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!r?o.push(...f.children):o.push(f)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,d),t.applyData(e,d)}function Xae(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=s5(n[i])}return e}function s5(t){const e=t.spread;return e??t.children.length>1}function qae(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Zae(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kae(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $ae(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qae(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Lu(e.children[1]),u=N1(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Jae(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let u=-1;const d=[];for(;++u<a;){const p=e.children[u],y={},v=o?o[u]:void 0;v&&(y.align=v);let T={type:"element",tagName:s,properties:y,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),d.push(T)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function ele(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const JI=9,e3=32;function tle(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const s=[];for(;i;)s.push(t3(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return s.push(t3(e.slice(r),r>0,!1)),s.join("")}function t3(t,e,n){let i=0,r=t.length;if(e){let s=t.codePointAt(i);for(;s===JI||s===e3;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(r-1);for(;s===JI||s===e3;)r--,s=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function nle(t,e){const n={type:"text",value:tle(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ile(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rle={blockquote:Nae,break:Oae,code:kae,delete:Dae,emphasis:Fae,footnoteReference:Bae,heading:Uae,html:zae,imageReference:Hae,image:Vae,inlineCode:jae,linkReference:Wae,link:Gae,listItem:Yae,list:qae,paragraph:Zae,root:Kae,strong:$ae,table:Qae,tableCell:ele,tableRow:Jae,text:nle,thematicBreak:ile,toml:t_,yaml:t_,definition:t_,footnoteDefinition:t_};function t_(){}const o5=-1,k1=0,t0=1,Rx=2,oA=3,aA=4,lA=5,uA=6,a5=7,l5=8,n3=typeof self=="object"?self:globalThis,sle=(t,e)=>{const n=(r,s)=>(t.set(s,r),r),i=r=>{if(t.has(r))return t.get(r);const[s,o]=e[r];switch(s){case k1:case o5:return n(o,r);case t0:{const a=n([],r);for(const u of o)a.push(i(u));return a}case Rx:{const a=n({},r);for(const[u,d]of o)a[i(u)]=i(d);return a}case oA:return n(new Date(o),r);case aA:{const{source:a,flags:u}=o;return n(new RegExp(a,u),r)}case lA:{const a=n(new Map,r);for(const[u,d]of o)a.set(i(u),i(d));return a}case uA:{const a=n(new Set,r);for(const u of o)a.add(i(u));return a}case a5:{const{name:a,message:u}=o;return n(new n3[a](u),r)}case l5:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new n3[s](o),r)};return i},i3=t=>sle(new Map,t)(0),Tp="",{toString:ole}={},{keys:ale}=Object,Mg=t=>{const e=typeof t;if(e!=="object"||!t)return[k1,e];const n=ole.call(t).slice(8,-1);switch(n){case"Array":return[t0,Tp];case"Object":return[Rx,Tp];case"Date":return[oA,Tp];case"RegExp":return[aA,Tp];case"Map":return[lA,Tp];case"Set":return[uA,Tp];case"DataView":return[t0,n]}return n.includes("Array")?[t0,n]:n.includes("Error")?[a5,n]:[Rx,n]},n_=([t,e])=>t===k1&&(e==="function"||e==="symbol"),lle=(t,e,n,i)=>{const r=(o,a)=>{const u=i.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Mg(o);switch(a){case k1:{let f=o;switch(u){case"bigint":a=l5,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return r([o5],o)}return r([a,f],o)}case t0:{if(u){let y=o;return u==="DataView"?y=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(o)),r([u,[...y]],o)}const f=[],p=r([a,f],o);for(const y of o)f.push(s(y));return p}case Rx:{if(u)switch(u){case"BigInt":return r([u,o.toString()],o);case"Boolean":case"Number":case"String":return r([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],p=r([a,f],o);for(const y of ale(o))(t||!n_(Mg(o[y])))&&f.push([s(y),s(o[y])]);return p}case oA:return r([a,o.toISOString()],o);case aA:{const{source:f,flags:p}=o;return r([a,{source:f,flags:p}],o)}case lA:{const f=[],p=r([a,f],o);for(const[y,v]of o)(t||!(n_(Mg(y))||n_(Mg(v))))&&f.push([s(y),s(v)]);return p}case uA:{const f=[],p=r([a,f],o);for(const y of o)(t||!n_(Mg(y)))&&f.push(s(y));return p}}const{message:d}=o;return r([a,{name:u,message:d}],o)};return s},r3=(t,{json:e,lossy:n}={})=>{const i=[];return lle(!(e||n),!!e,new Map,i)(t),i},sm=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?i3(r3(t,e)):structuredClone(t):(t,e)=>i3(r3(t,e));function ule(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function cle(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function dle(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ule,i=t.options.footnoteBackLabel||cle,r=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),y=Cm(p.toLowerCase());let v=0;const T=[],S=t.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){T.length>0&&T.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,v);typeof R=="string"&&(R={type:"text",value:R}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,v),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const R=b.children[b.children.length-1];R&&R.type==="text"?R.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...T)}else f.push(...T);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(f,!0)};t.patch(d,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...sm(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const u5=function(t){if(t==null)return mle;if(typeof t=="function")return D1(t);if(typeof t=="object")return Array.isArray(t)?hle(t):fle(t);if(typeof t=="string")return ple(t);throw new Error("Expected function, string, or object as test")};function hle(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=u5(t[n]);return D1(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function fle(t){const e=t;return D1(n);function n(i){const r=i;let s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function ple(t){return D1(e);function e(n){return n&&n.type===t}}function D1(t){return e;function e(n,i,r){return!!(gle(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function mle(){return!0}function gle(t){return t!==null&&typeof t=="object"&&"type"in t}const c5=[],yle=!0,s3=!1,vle="skip";function _le(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const s=u5(r),o=i?-1:1;a(t,void 0,[])();function a(u,d,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=c5,T,S,b;if((!e||s(u,d,f[f.length-1]||void 0))&&(v=xle(n(u,f)),v[0]===s3))return v;if("children"in u&&u.children){const E=u;if(E.children&&v[0]!==vle)for(S=(i?E.children.length:-1)+o,b=f.concat(E);S>-1&&S<E.children.length;){const R=E.children[S];if(T=a(R,S,b)(),T[0]===s3)return T;S=typeof T[1]=="number"?T[1]:S+o}}return v}}}function xle(t){return Array.isArray(t)?t:typeof t=="number"?[yle,t]:t==null?c5:[t]}function cA(t,e,n,i){let r,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,r=n):(s=e,o=n,r=i),_le(t,s,a,r);function a(u,d){const f=d[d.length-1],p=f?f.children.indexOf(u):void 0;return o(u,p,f)}}const US={}.hasOwnProperty,Ele={};function Tle(t,e){const n=e||Ele,i=new Map,r=new Map,s=new Map,o={...rle,...n.handlers},a={all:d,applyData:Sle,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:ble,wrap:Cle};return cA(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?i:r,y=String(f.identifier).toUpperCase();p.has(y)||p.set(y,f)}}),a;function u(f,p){const y=f.type,v=a.handlers[y];if(US.call(a.handlers,y)&&v)return v(a,f,p);if(a.options.passThrough&&a.options.passThrough.includes(y)){if("children"in f){const{children:S,...b}=f,E=sm(b);return E.children=a.all(f),E}return sm(f)}return(a.options.unknownHandler||wle)(a,f,p)}function d(f){const p=[];if("children"in f){const y=f.children;let v=-1;for(;++v<y.length;){const T=a.one(y[v],f);if(T){if(v&&y[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=o3(T.value)),!Array.isArray(T)&&T.type==="element")){const S=T.children[0];S&&S.type==="text"&&(S.value=o3(S.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function ble(t,e){t.position&&(e.position=ose(t))}function Sle(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const o="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,sm(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function wle(t,e){const n=e.data||{},i="value"in e&&!(US.call(n,"hProperties")||US.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Cle(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function o3(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function a3(t,e){const n=Tle(t,e),i=n.one(t,void 0),r=dle(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Ale(t,e){return t&&"run"in t?async function(n,i){const r=a3(n,{file:i,...e});await t.run(r,i)}:function(n,i){return a3(n,{file:i,...t||e})}}function l3(t){if(t)throw t}var pb,u3;function Mle(){if(u3)return pb;u3=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},o=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},a=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(i)return i(d,f).value}else return;return d[f]};return pb=function u(){var d,f,p,y,v,T,S=arguments[0],b=1,E=arguments.length,R=!1;for(typeof S=="boolean"&&(R=S,S=arguments[1]||{},b=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});b<E;++b)if(d=arguments[b],d!=null)for(f in d)p=a(S,f),y=a(d,f),S!==y&&(R&&y&&(s(y)||(v=r(y)))?(v?(v=!1,T=p&&r(p)?p:[]):T=p&&s(p)?p:{},o(S,{name:f,newValue:u(R,T,y)})):typeof y<"u"&&o(S,{name:f,newValue:y}));return S},pb}var Ple=Mle();const mb=qa(Ple);function zS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Rle(){const t=[],e={run:n,use:i};return e;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(u,...d){const f=t[++s];let p=-1;if(u){o(u);return}for(;++p<r.length;)(d[p]===null||d[p]===void 0)&&(d[p]=r[p]);r=d,f?Ile(f,a)(...d):o(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function Ile(t,e){let n;return i;function i(...o){const a=t.length>o.length;let u;a&&o.push(r);try{u=t.apply(this,o)}catch(d){const f=d;if(a&&n)throw f;return r(f)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,r):u instanceof Error?r(u):s(u))}function r(o,...a){n||(n=!0,e(o,...a))}function s(o){r(null,o)}}const du={basename:Lle,dirname:Nle,extname:Ole,join:kle,sep:"/"};function Lle(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');fy(t);let n=0,i=-1,r=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let o=-1,a=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(t.codePointAt(r)===e.codePointAt(a--)?a<0&&(i=r):(a=-1,i=o));return n===i?i=o:i<0&&(i=t.length),t.slice(n,i)}function Nle(t){if(fy(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ole(t){fy(t);let e=t.length,n=-1,i=0,r=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){i=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function kle(...t){let e=-1,n;for(;++e<t.length;)fy(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Dle(n)}function Dle(t){fy(t);const e=t.codePointAt(0)===47;let n=Fle(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Fle(t,e){let n="",i=0,r=-1,s=0,o=-1,a,u;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,o):n=t.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function fy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Ble={cwd:Ule};function Ule(){return"/"}function HS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zle(t){if(typeof t=="string")t=new URL(t);else if(!HS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Hle(t)}function Hle(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const gb=["history","path","basename","stem","extname","dirname"];class d5{constructor(e){let n;e?HS(e)?n={path:e}:typeof e=="string"||Vle(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Ble.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<gb.length;){const s=gb[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)gb.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?du.basename(this.path):void 0}set basename(e){vb(e,"basename"),yb(e,"basename"),this.path=du.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?du.dirname(this.path):void 0}set dirname(e){c3(this.basename,"dirname"),this.path=du.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?du.extname(this.path):void 0}set extname(e){if(yb(e,"extname"),c3(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=du.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){HS(e)&&(e=zle(e)),vb(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?du.basename(this.path,this.extname):void 0}set stem(e){vb(e,"stem"),yb(e,"stem"),this.path=du.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new Zs(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function yb(t,e){if(t&&t.includes(du.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+du.sep+"`")}function vb(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function c3(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Vle(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jle=function(t){const i=this.constructor.prototype,r=i[t],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},Wle={}.hasOwnProperty;class dA extends jle{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Rle()}copy(){const e=new dA;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(mb(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Eb("data",this.frozen),this.namespace[e]=n,this):Wle.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Eb("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=i_(e),i=this.parser||this.Parser;return _b("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),_b("process",this.parser||this.Parser),xb("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,o){const a=i_(e),u=i.parse(a);i.run(u,a,function(f,p,y){if(f||!p||!y)return d(f);const v=p,T=i.stringify(v,y);Xle(T)?y.value=T:y.result=T,d(f,y)});function d(f,p){f||!p?o(f):s?s(p):n(void 0,p)}}}processSync(e){let n=!1,i;return this.freeze(),_b("processSync",this.parser||this.Parser),xb("processSync",this.compiler||this.Compiler),this.process(e,r),h3("processSync","process",n),i;function r(s,o){n=!0,l3(s),i=o}}run(e,n,i){d3(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(o,a){const u=i_(n);r.run(e,u,d);function d(f,p,y){const v=p||e;f?a(f):o?o(v):i(void 0,v,y)}}}runSync(e,n){let i=!1,r;return this.run(e,n,s),h3("runSync","run",i),r;function s(o,a){l3(o),r=a,i=!0}}stringify(e,n){this.freeze();const i=i_(n),r=this.compiler||this.Compiler;return xb("stringify",r),d3(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(Eb("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;u(f,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(d.plugins),d.settings&&(r.settings=mb(!0,r.settings,d.settings))}function a(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let p=-1,y=-1;for(;++p<i.length;)if(i[p][0]===d){y=p;break}if(y===-1)i.push([d,...f]);else if(f.length>0){let[v,...T]=f;const S=i[y][1];zS(S)&&zS(v)&&(v=mb(!0,S,v)),i[y]=[d,v,...T]}}}}const Gle=new dA().freeze();function _b(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function xb(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Eb(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function d3(t){if(!zS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function h3(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function i_(t){return Yle(t)?t:new d5(t)}function Yle(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Xle(t){return typeof t=="string"||qle(t)}function qle(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Zle="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f3=[],p3={allowDangerousHtml:!0},Kle=/^(https?|ircs?|mailto|xmpp)$/i,$le=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Qle(t){const e=Jle(t),n=eue(t);return tue(e.runSync(e.parse(n),n),t)}function Jle(t){const e=t.rehypePlugins||f3,n=t.remarkPlugins||f3,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...p3}:p3;return Gle().use(Lae).use(n).use(Ale,i).use(e)}function eue(t){const e=t.children||"",n=new d5;return typeof e=="string"&&(n.value=e),n}function tue(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,u=e.urlTransform||nue;for(const f of $le)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Zle+f.id,void 0);return cA(t,d),dse(t,{Fragment:F.Fragment,components:r,ignoreInvalidStyle:!0,jsx:F.jsx,jsxs:F.jsxs,passKeys:!0,passNode:!0});function d(f,p,y){if(f.type==="raw"&&y&&typeof p=="number")return o?y.children.splice(p,1):y.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let v;for(v in db)if(Object.hasOwn(db,v)&&Object.hasOwn(f.properties,v)){const T=f.properties[v],S=db[v];(S===null||S.includes(f.tagName))&&(f.properties[v]=u(String(T||""),v,f))}}if(f.type==="element"){let v=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!v&&i&&typeof p=="number"&&(v=!i(f,p,y)),v&&y&&typeof p=="number")return a&&f.children?y.children.splice(p,1,...f.children):y.children.splice(p,1),p}}}function nue(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||Kle.test(t.slice(0,e))?t:""}const m3=/[#.]/g;function iue(t,e){const n=t||"",i={};let r=0,s,o;for(;r<n.length;){m3.lastIndex=r;const a=m3.exec(n),u=n.slice(r,a?a.index:n.length);u&&(s?s==="#"?i.id=u:Array.isArray(i.className)?i.className.push(u):i.className=[u]:o=u,r+=u.length),a&&(s=a[0],r++)}return{type:"element",tagName:o||e||"div",properties:i,children:[]}}function h5(t,e,n){const i=n?aue(n):void 0;function r(s,o,...a){let u;if(s==null){u={type:"root",children:[]};const d=o;a.unshift(d)}else{u=iue(s,e);const d=u.tagName.toLowerCase(),f=i?i.get(d):void 0;if(u.tagName=f||d,rue(o))a.unshift(o);else for(const[p,y]of Object.entries(o))sue(t,u.properties,p,y)}for(const d of a)VS(u.children,d);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return r}function rue(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const i of n){const r=e[i];if(r&&typeof r=="object"){if(!Array.isArray(r))return!0;const s=r;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function sue(t,e,n,i){const r=JC(t,n);let s;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;s=i}else typeof i=="boolean"?s=i:typeof i=="string"?r.spaceSeparated?s=OI(i):r.commaSeparated?s=PI(i):r.commaOrSpaceSeparated?s=OI(PI(i).join(" ")):s=g3(r,r.property,i):Array.isArray(i)?s=[...i]:s=r.property==="style"?oue(i):String(i);if(Array.isArray(s)){const o=[];for(const a of s)o.push(g3(r,r.property,a));s=o}r.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[r.property]=s}}function VS(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)VS(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?VS(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function g3(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||z0(n)===z0(e)))return!0}return n}function oue(t){const e=[];for(const[n,i]of Object.entries(t))e.push([n,i].join(": "));return e.join("; ")}function aue(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const lue=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],uue=h5(L1,"div"),cue=h5(wm,"g",lue);function due(t){const e=String(t),n=[];return{toOffset:r,toPoint:i};function i(s){if(typeof s=="number"&&s>-1&&s<=e.length){let o=0;for(;;){let a=n[o];if(a===void 0){const u=y3(e,n[o-1]);a=u===-1?e.length+1:u+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function r(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],u=y3(e,a),d=u===-1?e.length+1:u+1;if(a===d)break;n.push(d)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function y3(t,e){const n=t.indexOf("\r",e),i=t.indexOf(`
`,e);return i===-1?n:n===-1||n+1===i?i:n<i?n:i}const ef={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f5={}.hasOwnProperty,hue=Object.prototype;function fue(t,e){const n=e||{};return hA({file:n.file||void 0,location:!1,schema:n.space==="svg"?wm:L1,verbose:n.verbose||!1},t)}function hA(t,e){let n;switch(e.nodeName){case"#comment":{const i=e;return n={type:"comment",value:i.data},b_(t,i,n),n}case"#document":case"#document-fragment":{const i=e,r="mode"in i?i.mode==="quirks"||i.mode==="limited-quirks":!1;if(n={type:"root",children:p5(t,e.childNodes),data:{quirksMode:r}},t.file&&t.location){const s=String(t.file),o=due(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const i=e;return n={type:"doctype"},b_(t,i,n),n}case"#text":{const i=e;return n={type:"text",value:i.value},b_(t,i,n),n}default:return n=pue(t,e),n}}function p5(t,e){let n=-1;const i=[];for(;++n<e.length;){const r=hA(t,e[n]);i.push(r)}return i}function pue(t,e){const n=t.schema;t.schema=e.namespaceURI===ef.svg?wm:L1;let i=-1;const r={};for(;++i<e.attrs.length;){const a=e.attrs[i],u=(a.prefix?a.prefix+":":"")+a.name;f5.call(hue,u)||(r[u]=a.value)}const o=(t.schema.space==="svg"?cue:uue)(e.tagName,r,p5(t,e.childNodes));if(b_(t,e,o),o.tagName==="template"){const a=e,u=a.sourceCodeLocation,d=u&&u.startTag&&kp(u.startTag),f=u&&u.endTag&&kp(u.endTag),p=hA(t,a.content);d&&f&&t.file&&(p.position={start:d.end,end:f.start}),o.content=p}return t.schema=n,o}function b_(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const i=mue(t,n,e.sourceCodeLocation);i&&(t.location=!0,n.position=i)}}function mue(t,e,n){const i=kp(n);if(e.type==="element"){const r=e.children[e.children.length-1];if(i&&!n.endTag&&r&&r.position&&r.position.end&&(i.end=Object.assign({},r.position.end)),t.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)f5.call(n.attrs,o)&&(s[JC(t.schema,o).property]=kp(n.attrs[o]));n.startTag;const a=kp(n.startTag),u=n.endTag?kp(n.endTag):void 0,d={opening:a};u&&(d.closing=u),d.properties=s,e.data={position:d}}}return i}function kp(t){const e=v3({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=v3({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function v3(t){return t.line&&t.column?t:void 0}class py{constructor(e,n,i){this.property=e,this.normal=n,i&&(this.space=i)}}py.prototype.property={};py.prototype.normal={};py.prototype.space=null;function m5(t,e){const n={},i={};let r=-1;for(;++r<t.length;)Object.assign(n,t[r].property),Object.assign(i,t[r].normal);return new py(n,i,e)}function jS(t){return t.toLowerCase()}class Ka{constructor(e,n){this.property=e,this.attribute=n}}Ka.prototype.space=null;Ka.prototype.boolean=!1;Ka.prototype.booleanish=!1;Ka.prototype.overloadedBoolean=!1;Ka.prototype.number=!1;Ka.prototype.commaSeparated=!1;Ka.prototype.spaceSeparated=!1;Ka.prototype.commaOrSpaceSeparated=!1;Ka.prototype.mustUseProperty=!1;Ka.prototype.defined=!1;let gue=0;const Bn=Sf(),Ir=Sf(),g5=Sf(),Mt=Sf(),Pi=Sf(),Wp=Sf(),va=Sf();function Sf(){return 2**++gue}const WS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bn,booleanish:Ir,commaOrSpaceSeparated:va,commaSeparated:Wp,number:Mt,overloadedBoolean:g5,spaceSeparated:Pi},Symbol.toStringTag,{value:"Module"})),Tb=Object.keys(WS);class fA extends Ka{constructor(e,n,i,r){let s=-1;if(super(e,n),_3(this,"space",r),typeof i=="number")for(;++s<Tb.length;){const o=Tb[s];_3(this,Tb[s],(i&WS[o])===WS[o])}}}fA.prototype.defined=!0;function _3(t,e,n){n&&(t[e]=n)}const yue={}.hasOwnProperty;function Am(t){const e={},n={};let i;for(i in t.properties)if(yue.call(t.properties,i)){const r=t.properties[i],s=new fA(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[jS(i)]=i,n[jS(s.attribute)]=i}return new py(e,n,t.space)}const y5=Am({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),v5=Am({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function _5(t,e){return e in t?t[e]:e}function x5(t,e){return _5(t,e.toLowerCase())}const E5=Am({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:x5,properties:{xmlns:null,xmlnsXLink:null}}),T5=Am({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ir,ariaAutoComplete:null,ariaBusy:Ir,ariaChecked:Ir,ariaColCount:Mt,ariaColIndex:Mt,ariaColSpan:Mt,ariaControls:Pi,ariaCurrent:null,ariaDescribedBy:Pi,ariaDetails:null,ariaDisabled:Ir,ariaDropEffect:Pi,ariaErrorMessage:null,ariaExpanded:Ir,ariaFlowTo:Pi,ariaGrabbed:Ir,ariaHasPopup:null,ariaHidden:Ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Pi,ariaLevel:Mt,ariaLive:null,ariaModal:Ir,ariaMultiLine:Ir,ariaMultiSelectable:Ir,ariaOrientation:null,ariaOwns:Pi,ariaPlaceholder:null,ariaPosInSet:Mt,ariaPressed:Ir,ariaReadOnly:Ir,ariaRelevant:null,ariaRequired:Ir,ariaRoleDescription:Pi,ariaRowCount:Mt,ariaRowIndex:Mt,ariaRowSpan:Mt,ariaSelected:Ir,ariaSetSize:Mt,ariaSort:null,ariaValueMax:Mt,ariaValueMin:Mt,ariaValueNow:Mt,ariaValueText:null,role:null}}),vue=Am({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:x5,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wp,acceptCharset:Pi,accessKey:Pi,action:null,allow:null,allowFullScreen:Bn,allowPaymentRequest:Bn,allowUserMedia:Bn,alt:null,as:null,async:Bn,autoCapitalize:null,autoComplete:Pi,autoFocus:Bn,autoPlay:Bn,blocking:Pi,capture:null,charSet:null,checked:Bn,cite:null,className:Pi,cols:Mt,colSpan:null,content:null,contentEditable:Ir,controls:Bn,controlsList:Pi,coords:Mt|Wp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bn,defer:Bn,dir:null,dirName:null,disabled:Bn,download:g5,draggable:Ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bn,formTarget:null,headers:Pi,height:Mt,hidden:Bn,high:Mt,href:null,hrefLang:null,htmlFor:Pi,httpEquiv:Pi,id:null,imageSizes:null,imageSrcSet:null,inert:Bn,inputMode:null,integrity:null,is:null,isMap:Bn,itemId:null,itemProp:Pi,itemRef:Pi,itemScope:Bn,itemType:Pi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bn,low:Mt,manifest:null,max:null,maxLength:Mt,media:null,method:null,min:null,minLength:Mt,multiple:Bn,muted:Bn,name:null,nonce:null,noModule:Bn,noValidate:Bn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bn,optimum:Mt,pattern:null,ping:Pi,placeholder:null,playsInline:Bn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Bn,referrerPolicy:null,rel:Pi,required:Bn,reversed:Bn,rows:Mt,rowSpan:Mt,sandbox:Pi,scope:null,scoped:Bn,seamless:Bn,selected:Bn,shadowRootClonable:Bn,shadowRootDelegatesFocus:Bn,shadowRootMode:null,shape:null,size:Mt,sizes:null,slot:null,span:Mt,spellCheck:Ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Mt,step:null,style:null,tabIndex:Mt,target:null,title:null,translate:null,type:null,typeMustMatch:Bn,useMap:null,value:Ir,width:Mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Pi,axis:null,background:null,bgColor:null,border:Mt,borderColor:null,bottomMargin:Mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bn,declare:Bn,event:null,face:null,frame:null,frameBorder:null,hSpace:Mt,leftMargin:Mt,link:null,longDesc:null,lowSrc:null,marginHeight:Mt,marginWidth:Mt,noResize:Bn,noHref:Bn,noShade:Bn,noWrap:Bn,object:null,profile:null,prompt:null,rev:null,rightMargin:Mt,rules:null,scheme:null,scrolling:Ir,standby:null,summary:null,text:null,topMargin:Mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bn,disableRemotePlayback:Bn,prefix:null,property:null,results:Mt,security:null,unselectable:null}}),_ue=Am({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:_5,properties:{about:va,accentHeight:Mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Mt,amplitude:Mt,arabicForm:null,ascent:Mt,attributeName:null,attributeType:null,azimuth:Mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Mt,by:null,calcMode:null,capHeight:Mt,className:Pi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Mt,diffuseConstant:Mt,direction:null,display:null,dur:null,divisor:Mt,dominantBaseline:null,download:Bn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Mt,enableBackground:null,end:null,event:null,exponent:Mt,externalResourcesRequired:null,fill:null,fillOpacity:Mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wp,g2:Wp,glyphName:Wp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Mt,horizOriginX:Mt,horizOriginY:Mt,id:null,ideographic:Mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Mt,k:Mt,k1:Mt,k2:Mt,k3:Mt,k4:Mt,kernelMatrix:va,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Mt,overlineThickness:Mt,paintOrder:null,panose1:null,path:null,pathLength:Mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Pi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Mt,pointsAtY:Mt,pointsAtZ:Mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:va,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:va,rev:va,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:va,requiredFeatures:va,requiredFonts:va,requiredFormats:va,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Mt,specularExponent:Mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Mt,strikethroughThickness:Mt,string:null,stroke:null,strokeDashArray:va,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Mt,strokeOpacity:Mt,strokeWidth:null,style:null,surfaceScale:Mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:va,tabIndex:Mt,tableValues:null,target:null,targetX:Mt,targetY:Mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:va,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Mt,underlineThickness:Mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Mt,values:null,vAlphabetic:Mt,vMathematical:Mt,vectorEffect:null,vHanging:Mt,vIdeographic:Mt,version:null,vertAdvY:Mt,vertOriginX:Mt,vertOriginY:Mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),xue=/^data[-\w.:]+$/i,x3=/-[a-z]/g,Eue=/[A-Z]/g;function Tue(t,e){const n=jS(e);let i=e,r=Ka;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xue.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(x3,Sue);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!x3.test(s)){let o=s.replace(Eue,bue);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=fA}return new r(i,e)}function bue(t){return"-"+t.toLowerCase()}function Sue(t){return t.charAt(1).toUpperCase()}const wue=m5([v5,y5,E5,T5,vue],"html"),b5=m5([v5,y5,E5,T5,_ue],"svg"),E3={}.hasOwnProperty;function S5(t,e){const n=e||{};function i(r,...s){let o=i.invalid;const a=i.handlers;if(r&&E3.call(r,t)){const u=String(r[t]);o=E3.call(a,u)?a[u]:i.unknown}if(o)return o.call(this,r,...s)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const Cue={},Aue={}.hasOwnProperty,w5=S5("type",{handlers:{root:Pue,element:Oue,text:Lue,comment:Nue,doctype:Iue}});function Mue(t,e){const i=(e||Cue).space;return w5(t,i==="svg"?b5:wue)}function Pue(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=pA(t.children,n,e),Mm(t,n),n}function Rue(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=pA(t.children,n,e),Mm(t,n),n}function Iue(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Mm(t,e),e}function Lue(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Mm(t,e),e}function Nue(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Mm(t,e),e}function Oue(t,e){const n=e;let i=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=b5);const r=[];let s;if(t.properties){for(s in t.properties)if(s!=="children"&&Aue.call(t.properties,s)){const u=kue(i,s,t.properties[s]);u&&r.push(u)}}const o=i.space,a={nodeName:t.tagName,tagName:t.tagName,attrs:r,namespaceURI:ef[o],childNodes:[],parentNode:null};return a.childNodes=pA(t.children,a,i),Mm(t,a),t.tagName==="template"&&t.content&&(a.content=Rue(t.content,i)),a}function kue(t,e,n){const i=Tue(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&i.boolean)return;Array.isArray(n)&&(n=i.commaSeparated?I6(n):U6(n));const r={name:i.attribute,value:n===!0?"":String(n)};if(i.space&&i.space!=="html"&&i.space!=="svg"){const s=r.name.indexOf(":");s<0?r.prefix="":(r.name=r.name.slice(s+1),r.prefix=i.attribute.slice(0,s)),r.namespace=ef[i.space]}return r}function pA(t,e,n){let i=-1;const r=[];if(t)for(;++i<t.length;){const s=w5(t[i],n);s.parentNode=e,r.push(s)}return r}function Mm(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Due=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Fue=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Xi="";var ce;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ce||(ce={}));const Fo={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function C5(t){return t>=55296&&t<=57343}function Bue(t){return t>=56320&&t<=57343}function Uue(t,e){return(t-55296)*1024+9216+e}function A5(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function M5(t){return t>=64976&&t<=65007||Fue.has(t)}var Ze;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ze||(Ze={}));const zue=65536;class Hue{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=zue,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:i,col:r,offset:s}=this,o=r+n,a=s+n;return{code:e,startLine:i,endLine:i,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Bue(n))return this.pos++,this._addGap(),Uue(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ce.EOF;return this._err(Ze.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let i=0;i<e.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==e.charCodeAt(i))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ce.EOF;const i=this.html.charCodeAt(n);return i===ce.CARRIAGE_RETURN?ce.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ce.EOF;let e=this.html.charCodeAt(this.pos);return e===ce.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ce.LINE_FEED):e===ce.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,C5(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===ce.LINE_FEED||e===ce.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){A5(e)?this._err(Ze.controlCharacterInInputStream):M5(e)&&this._err(Ze.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Xn||(Xn={}));function P5(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const Vue=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),jue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Wue(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=jue.get(t))!==null&&e!==void 0?e:t}var cs;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(cs||(cs={}));const Gue=32;var Ud;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ud||(Ud={}));function GS(t){return t>=cs.ZERO&&t<=cs.NINE}function Yue(t){return t>=cs.UPPER_A&&t<=cs.UPPER_F||t>=cs.LOWER_A&&t<=cs.LOWER_F}function Xue(t){return t>=cs.UPPER_A&&t<=cs.UPPER_Z||t>=cs.LOWER_A&&t<=cs.LOWER_Z||GS(t)}function que(t){return t===cs.EQUALS||Xue(t)}var ls;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ls||(ls={}));var Ec;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ec||(Ec={}));class Zue{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=ls.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ec.Strict}startEntity(e){this.decodeMode=e,this.state=ls.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ls.EntityStart:return e.charCodeAt(n)===cs.NUM?(this.state=ls.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ls.NamedEntity,this.stateNamedEntity(e,n));case ls.NumericStart:return this.stateNumericStart(e,n);case ls.NumericDecimal:return this.stateNumericDecimal(e,n);case ls.NumericHex:return this.stateNumericHex(e,n);case ls.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Gue)===cs.LOWER_X?(this.state=ls.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ls.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,r){if(n!==i){const s=i-n;this.result=this.result*Math.pow(r,s)+Number.parseInt(e.substr(n,s),r),this.consumed+=s}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(GS(r)||Yue(r))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(GS(r))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===cs.SEMI)this.consumed+=1;else if(this.decodeMode===Ec.Strict)return 0;return this.emitCodePoint(Wue(this.result),this.consumed),this.errors&&(e!==cs.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&Ud.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=Kue(i,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ec.Attribute&&(s===0||que(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&Ud.VALUE_LENGTH)>>14,s!==0){if(o===cs.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ec.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,r=(i[n]&Ud.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[e]&~Ud.VALUE_LENGTH:r[e+1],i),n===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case ls.NamedEntity:return this.result!==0&&(this.decodeMode!==Ec.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ls.NumericDecimal:return this.emitNumericEntity(0,2);case ls.NumericHex:return this.emitNumericEntity(0,3);case ls.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ls.EntityStart:return 0}}}function Kue(t,e,n,i){const r=(e&Ud.BRANCH_LENGTH)>>7,s=e&Ud.JUMP_TABLE;if(r===0)return s!==0&&i===s?n:-1;if(s){const u=i-s;return u<0||u>=r?-1:t[n+u]-1}let o=n,a=o+r-1;for(;o<=a;){const u=o+a>>>1,d=t[u];if(d<i)o=u+1;else if(d>i)a=u-1;else return t[u+r]}return-1}var gt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(gt||(gt={}));var df;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(df||(df={}));var Va;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Va||(Va={}));var ze;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ze||(ze={}));var I;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(I||(I={}));const $ue=new Map([[ze.A,I.A],[ze.ADDRESS,I.ADDRESS],[ze.ANNOTATION_XML,I.ANNOTATION_XML],[ze.APPLET,I.APPLET],[ze.AREA,I.AREA],[ze.ARTICLE,I.ARTICLE],[ze.ASIDE,I.ASIDE],[ze.B,I.B],[ze.BASE,I.BASE],[ze.BASEFONT,I.BASEFONT],[ze.BGSOUND,I.BGSOUND],[ze.BIG,I.BIG],[ze.BLOCKQUOTE,I.BLOCKQUOTE],[ze.BODY,I.BODY],[ze.BR,I.BR],[ze.BUTTON,I.BUTTON],[ze.CAPTION,I.CAPTION],[ze.CENTER,I.CENTER],[ze.CODE,I.CODE],[ze.COL,I.COL],[ze.COLGROUP,I.COLGROUP],[ze.DD,I.DD],[ze.DESC,I.DESC],[ze.DETAILS,I.DETAILS],[ze.DIALOG,I.DIALOG],[ze.DIR,I.DIR],[ze.DIV,I.DIV],[ze.DL,I.DL],[ze.DT,I.DT],[ze.EM,I.EM],[ze.EMBED,I.EMBED],[ze.FIELDSET,I.FIELDSET],[ze.FIGCAPTION,I.FIGCAPTION],[ze.FIGURE,I.FIGURE],[ze.FONT,I.FONT],[ze.FOOTER,I.FOOTER],[ze.FOREIGN_OBJECT,I.FOREIGN_OBJECT],[ze.FORM,I.FORM],[ze.FRAME,I.FRAME],[ze.FRAMESET,I.FRAMESET],[ze.H1,I.H1],[ze.H2,I.H2],[ze.H3,I.H3],[ze.H4,I.H4],[ze.H5,I.H5],[ze.H6,I.H6],[ze.HEAD,I.HEAD],[ze.HEADER,I.HEADER],[ze.HGROUP,I.HGROUP],[ze.HR,I.HR],[ze.HTML,I.HTML],[ze.I,I.I],[ze.IMG,I.IMG],[ze.IMAGE,I.IMAGE],[ze.INPUT,I.INPUT],[ze.IFRAME,I.IFRAME],[ze.KEYGEN,I.KEYGEN],[ze.LABEL,I.LABEL],[ze.LI,I.LI],[ze.LINK,I.LINK],[ze.LISTING,I.LISTING],[ze.MAIN,I.MAIN],[ze.MALIGNMARK,I.MALIGNMARK],[ze.MARQUEE,I.MARQUEE],[ze.MATH,I.MATH],[ze.MENU,I.MENU],[ze.META,I.META],[ze.MGLYPH,I.MGLYPH],[ze.MI,I.MI],[ze.MO,I.MO],[ze.MN,I.MN],[ze.MS,I.MS],[ze.MTEXT,I.MTEXT],[ze.NAV,I.NAV],[ze.NOBR,I.NOBR],[ze.NOFRAMES,I.NOFRAMES],[ze.NOEMBED,I.NOEMBED],[ze.NOSCRIPT,I.NOSCRIPT],[ze.OBJECT,I.OBJECT],[ze.OL,I.OL],[ze.OPTGROUP,I.OPTGROUP],[ze.OPTION,I.OPTION],[ze.P,I.P],[ze.PARAM,I.PARAM],[ze.PLAINTEXT,I.PLAINTEXT],[ze.PRE,I.PRE],[ze.RB,I.RB],[ze.RP,I.RP],[ze.RT,I.RT],[ze.RTC,I.RTC],[ze.RUBY,I.RUBY],[ze.S,I.S],[ze.SCRIPT,I.SCRIPT],[ze.SEARCH,I.SEARCH],[ze.SECTION,I.SECTION],[ze.SELECT,I.SELECT],[ze.SOURCE,I.SOURCE],[ze.SMALL,I.SMALL],[ze.SPAN,I.SPAN],[ze.STRIKE,I.STRIKE],[ze.STRONG,I.STRONG],[ze.STYLE,I.STYLE],[ze.SUB,I.SUB],[ze.SUMMARY,I.SUMMARY],[ze.SUP,I.SUP],[ze.TABLE,I.TABLE],[ze.TBODY,I.TBODY],[ze.TEMPLATE,I.TEMPLATE],[ze.TEXTAREA,I.TEXTAREA],[ze.TFOOT,I.TFOOT],[ze.TD,I.TD],[ze.TH,I.TH],[ze.THEAD,I.THEAD],[ze.TITLE,I.TITLE],[ze.TR,I.TR],[ze.TRACK,I.TRACK],[ze.TT,I.TT],[ze.U,I.U],[ze.UL,I.UL],[ze.SVG,I.SVG],[ze.VAR,I.VAR],[ze.WBR,I.WBR],[ze.XMP,I.XMP]]);function Pm(t){var e;return(e=$ue.get(t))!==null&&e!==void 0?e:I.UNKNOWN}const bt=I,Que={[gt.HTML]:new Set([bt.ADDRESS,bt.APPLET,bt.AREA,bt.ARTICLE,bt.ASIDE,bt.BASE,bt.BASEFONT,bt.BGSOUND,bt.BLOCKQUOTE,bt.BODY,bt.BR,bt.BUTTON,bt.CAPTION,bt.CENTER,bt.COL,bt.COLGROUP,bt.DD,bt.DETAILS,bt.DIR,bt.DIV,bt.DL,bt.DT,bt.EMBED,bt.FIELDSET,bt.FIGCAPTION,bt.FIGURE,bt.FOOTER,bt.FORM,bt.FRAME,bt.FRAMESET,bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6,bt.HEAD,bt.HEADER,bt.HGROUP,bt.HR,bt.HTML,bt.IFRAME,bt.IMG,bt.INPUT,bt.LI,bt.LINK,bt.LISTING,bt.MAIN,bt.MARQUEE,bt.MENU,bt.META,bt.NAV,bt.NOEMBED,bt.NOFRAMES,bt.NOSCRIPT,bt.OBJECT,bt.OL,bt.P,bt.PARAM,bt.PLAINTEXT,bt.PRE,bt.SCRIPT,bt.SECTION,bt.SELECT,bt.SOURCE,bt.STYLE,bt.SUMMARY,bt.TABLE,bt.TBODY,bt.TD,bt.TEMPLATE,bt.TEXTAREA,bt.TFOOT,bt.TH,bt.THEAD,bt.TITLE,bt.TR,bt.TRACK,bt.UL,bt.WBR,bt.XMP]),[gt.MATHML]:new Set([bt.MI,bt.MO,bt.MN,bt.MS,bt.MTEXT,bt.ANNOTATION_XML]),[gt.SVG]:new Set([bt.TITLE,bt.FOREIGN_OBJECT,bt.DESC]),[gt.XLINK]:new Set,[gt.XML]:new Set,[gt.XMLNS]:new Set},YS=new Set([bt.H1,bt.H2,bt.H3,bt.H4,bt.H5,bt.H6]);ze.STYLE,ze.SCRIPT,ze.XMP,ze.IFRAME,ze.NOEMBED,ze.NOFRAMES,ze.PLAINTEXT;var ye;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ye||(ye={}));const Tr={DATA:ye.DATA,RCDATA:ye.RCDATA,RAWTEXT:ye.RAWTEXT,SCRIPT_DATA:ye.SCRIPT_DATA,PLAINTEXT:ye.PLAINTEXT,CDATA_SECTION:ye.CDATA_SECTION};function Jue(t){return t>=ce.DIGIT_0&&t<=ce.DIGIT_9}function Dg(t){return t>=ce.LATIN_CAPITAL_A&&t<=ce.LATIN_CAPITAL_Z}function ece(t){return t>=ce.LATIN_SMALL_A&&t<=ce.LATIN_SMALL_Z}function Ld(t){return ece(t)||Dg(t)}function T3(t){return Ld(t)||Jue(t)}function r_(t){return t+32}function R5(t){return t===ce.SPACE||t===ce.LINE_FEED||t===ce.TABULATION||t===ce.FORM_FEED}function b3(t){return R5(t)||t===ce.SOLIDUS||t===ce.GREATER_THAN_SIGN}function tce(t){return t===ce.NULL?Ze.nullCharacterReference:t>1114111?Ze.characterReferenceOutsideUnicodeRange:C5(t)?Ze.surrogateCharacterReference:M5(t)?Ze.noncharacterCharacterReference:A5(t)||t===ce.CARRIAGE_RETURN?Ze.controlCharacterReference:null}class nce{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ye.DATA,this.returnState=ye.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Hue(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Zue(Vue,(i,r)=>{this.preprocessor.pos=this.entityStartPos+r-1,this._flushCodePointConsumedAsCharacterReference(i)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ze.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(Ze.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const r=tce(i);r&&this._err(r,1)}}:void 0)}_err(e,n=0){var i,r;(r=(i=this.handler).onParseError)===null||r===void 0||r.call(i,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,i){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xn.START_TAG,tagName:"",tagID:I.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xn.END_TAG,tagName:"",tagID:I.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Xn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Xn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const i=this.currentToken;if(P5(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const r=(e=(n=i.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);r[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ze.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Pm(e.tagName),e.type===Xn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Ze.endTagWithAttributes),e.selfClosing&&this._err(Ze.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Xn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Xn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=R5(e)?Xn.WHITESPACE_CHARACTER:e===ce.NULL?Xn.NULL_CHARACTER:Xn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Xn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=ye.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ec.Attribute:Ec.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ye.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ye.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case ye.DATA:{this._stateData(e);break}case ye.RCDATA:{this._stateRcdata(e);break}case ye.RAWTEXT:{this._stateRawtext(e);break}case ye.SCRIPT_DATA:{this._stateScriptData(e);break}case ye.PLAINTEXT:{this._statePlaintext(e);break}case ye.TAG_OPEN:{this._stateTagOpen(e);break}case ye.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case ye.TAG_NAME:{this._stateTagName(e);break}case ye.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case ye.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case ye.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case ye.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case ye.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case ye.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case ye.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case ye.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case ye.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case ye.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case ye.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case ye.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case ye.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case ye.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case ye.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case ye.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case ye.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case ye.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case ye.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case ye.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case ye.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case ye.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case ye.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case ye.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case ye.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case ye.BOGUS_COMMENT:{this._stateBogusComment(e);break}case ye.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case ye.COMMENT_START:{this._stateCommentStart(e);break}case ye.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case ye.COMMENT:{this._stateComment(e);break}case ye.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case ye.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case ye.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case ye.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case ye.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case ye.COMMENT_END:{this._stateCommentEnd(e);break}case ye.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case ye.DOCTYPE:{this._stateDoctype(e);break}case ye.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case ye.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case ye.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case ye.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case ye.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case ye.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case ye.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case ye.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case ye.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case ye.CDATA_SECTION:{this._stateCdataSection(e);break}case ye.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case ye.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case ye.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ye.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case ce.LESS_THAN_SIGN:{this.state=ye.TAG_OPEN;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitCodePoint(e);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case ce.AMPERSAND:{this._startCharacterReference();break}case ce.LESS_THAN_SIGN:{this.state=ye.RCDATA_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case ce.LESS_THAN_SIGN:{this.state=ye.RAWTEXT_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ld(e))this._createStartTagToken(),this.state=ye.TAG_NAME,this._stateTagName(e);else switch(e){case ce.EXCLAMATION_MARK:{this.state=ye.MARKUP_DECLARATION_OPEN;break}case ce.SOLIDUS:{this.state=ye.END_TAG_OPEN;break}case ce.QUESTION_MARK:{this._err(Ze.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(e);break}case ce.EOF:{this._err(Ze.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ze.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ye.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ld(e))this._createEndTagToken(),this.state=ye.TAG_NAME,this._stateTagName(e);else switch(e){case ce.GREATER_THAN_SIGN:{this._err(Ze.missingEndTagName),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ze.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case ce.SOLIDUS:{this.state=ye.SELF_CLOSING_START_TAG;break}case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentTagToken();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.tagName+=Xi;break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Dg(e)?r_(e):e)}}_stateRcdataLessThanSign(e){e===ce.SOLIDUS?this.state=ye.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ye.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ld(e)?(this.state=ye.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=ye.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ye.BEFORE_ATTRIBUTE_NAME,!1;case ce.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ye.SELF_CLOSING_START_TAG,!1;case ce.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ye.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=ye.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===ce.SOLIDUS?this.state=ye.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ye.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ld(e)?(this.state=ye.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=ye.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=ye.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case ce.SOLIDUS:{this.state=ye.SCRIPT_DATA_END_TAG_OPEN;break}case ce.EXCLAMATION_MARK:{this.state=ye.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ye.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ld(e)?(this.state=ye.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=ye.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=ye.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===ce.HYPHEN_MINUS?(this.state=ye.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ye.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===ce.HYPHEN_MINUS?(this.state=ye.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ye.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case ce.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case ce.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_ESCAPED,this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case ce.HYPHEN_MINUS:{this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ce.GREATER_THAN_SIGN:{this.state=ye.SCRIPT_DATA,this._emitChars(">");break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_ESCAPED,this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===ce.SOLIDUS?this.state=ye.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ld(e)?(this._emitChars("<"),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ld(e)?(this.state=ye.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Fo.SCRIPT,!1)&&b3(this.preprocessor.peek(Fo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Fo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ye.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case ce.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case ce.HYPHEN_MINUS:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case ce.HYPHEN_MINUS:{this._emitChars("-");break}case ce.LESS_THAN_SIGN:{this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ce.GREATER_THAN_SIGN:{this.state=ye.SCRIPT_DATA,this._emitChars(">");break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Xi);break}case ce.EOF:{this._err(Ze.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===ce.SOLIDUS?(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Fo.SCRIPT,!1)&&b3(this.preprocessor.peek(Fo.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Fo.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ye.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ye.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.SOLIDUS:case ce.GREATER_THAN_SIGN:case ce.EOF:{this.state=ye.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case ce.EQUALS_SIGN:{this._err(Ze.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ye.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ye.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:case ce.SOLIDUS:case ce.GREATER_THAN_SIGN:case ce.EOF:{this._leaveAttrName(),this.state=ye.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case ce.EQUALS_SIGN:{this._leaveAttrName(),this.state=ye.BEFORE_ATTRIBUTE_VALUE;break}case ce.QUOTATION_MARK:case ce.APOSTROPHE:case ce.LESS_THAN_SIGN:{this._err(Ze.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.currentAttr.name+=Xi;break}default:this.currentAttr.name+=String.fromCodePoint(Dg(e)?r_(e):e)}}_stateAfterAttributeName(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.SOLIDUS:{this.state=ye.SELF_CLOSING_START_TAG;break}case ce.EQUALS_SIGN:{this.state=ye.BEFORE_ATTRIBUTE_VALUE;break}case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ye.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{this.state=ye.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this.state=ye.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingAttributeValue),this.state=ye.DATA,this.emitCurrentTagToken();break}default:this.state=ye.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case ce.QUOTATION_MARK:{this.state=ye.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.currentAttr.value+=Xi;break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case ce.APOSTROPHE:{this.state=ye.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.currentAttr.value+=Xi;break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this._leaveAttrValue(),this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case ce.AMPERSAND:{this._startCharacterReference();break}case ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ye.DATA,this.emitCurrentTagToken();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this.currentAttr.value+=Xi;break}case ce.QUOTATION_MARK:case ce.APOSTROPHE:case ce.LESS_THAN_SIGN:case ce.EQUALS_SIGN:case ce.GRAVE_ACCENT:{this._err(Ze.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this._leaveAttrValue(),this.state=ye.BEFORE_ATTRIBUTE_NAME;break}case ce.SOLIDUS:{this._leaveAttrValue(),this.state=ye.SELF_CLOSING_START_TAG;break}case ce.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ye.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this._err(Ze.missingWhitespaceBetweenAttributes),this.state=ye.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case ce.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ye.DATA,this.emitCurrentTagToken();break}case ce.EOF:{this._err(Ze.eofInTag),this._emitEOFToken();break}default:this._err(Ze.unexpectedSolidusInTag),this.state=ye.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.data+=Xi;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Fo.DASH_DASH,!0)?(this._createCommentToken(Fo.DASH_DASH.length+1),this.state=ye.COMMENT_START):this._consumeSequenceIfMatch(Fo.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Fo.DOCTYPE.length+1),this.state=ye.DOCTYPE):this._consumeSequenceIfMatch(Fo.CDATA_START,!0)?this.inForeignNode?this.state=ye.CDATA_SECTION:(this._err(Ze.cdataInHtmlContent),this._createCommentToken(Fo.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ye.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ze.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ye.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case ce.HYPHEN_MINUS:{this.state=ye.COMMENT_START_DASH;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptClosingOfEmptyComment),this.state=ye.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ye.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case ce.HYPHEN_MINUS:{this.state=ye.COMMENT_END;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptClosingOfEmptyComment),this.state=ye.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this._err(Ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ye.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case ce.HYPHEN_MINUS:{this.state=ye.COMMENT_END_DASH;break}case ce.LESS_THAN_SIGN:{n.data+="<",this.state=ye.COMMENT_LESS_THAN_SIGN;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.data+=Xi;break}case ce.EOF:{this._err(Ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case ce.EXCLAMATION_MARK:{n.data+="!",this.state=ye.COMMENT_LESS_THAN_SIGN_BANG;break}case ce.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ye.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===ce.HYPHEN_MINUS?this.state=ye.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ye.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===ce.HYPHEN_MINUS?this.state=ye.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ye.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==ce.GREATER_THAN_SIGN&&e!==ce.EOF&&this._err(Ze.nestedComment),this.state=ye.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case ce.HYPHEN_MINUS:{this.state=ye.COMMENT_END;break}case ce.EOF:{this._err(Ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ye.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentComment(n);break}case ce.EXCLAMATION_MARK:{this.state=ye.COMMENT_END_BANG;break}case ce.HYPHEN_MINUS:{n.data+="-";break}case ce.EOF:{this._err(Ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ye.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case ce.HYPHEN_MINUS:{n.data+="--!",this.state=ye.COMMENT_END_DASH;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.incorrectlyClosedComment),this.state=ye.DATA,this.emitCurrentComment(n);break}case ce.EOF:{this._err(Ze.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ye.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this.state=ye.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case ce.EOF:{this._err(Ze.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingWhitespaceBeforeDoctypeName),this.state=ye.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Dg(e))this._createDoctypeToken(String.fromCharCode(r_(e))),this.state=ye.DOCTYPE_NAME;else switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.NULL:{this._err(Ze.unexpectedNullCharacter),this._createDoctypeToken(Xi),this.state=ye.DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=ye.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.AFTER_DOCTYPE_NAME;break}case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.name+=Xi;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Dg(e)?r_(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Fo.PUBLIC,!1)?this.state=ye.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Fo.SYSTEM,!1)?this.state=ye.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ze.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.QUOTATION_MARK:{this._err(Ze.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ze.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.publicId="",this.state=ye.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case ce.QUOTATION_MARK:{this.state=ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.publicId+=Xi;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case ce.APOSTROPHE:{this.state=ye.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.publicId+=Xi;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ce.GREATER_THAN_SIGN:{this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.QUOTATION_MARK:{this._err(Ze.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ze.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.QUOTATION_MARK:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:{this.state=ye.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.QUOTATION_MARK:{this._err(Ze.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{this._err(Ze.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.QUOTATION_MARK:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ce.APOSTROPHE:{n.systemId="",this.state=ye.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.DATA,this.emitCurrentDoctype(n);break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case ce.QUOTATION_MARK:{this.state=ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.systemId+=Xi;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case ce.APOSTROPHE:{this.state=ye.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter),n.systemId+=Xi;break}case ce.GREATER_THAN_SIGN:{this._err(Ze.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case ce.SPACE:case ce.LINE_FEED:case ce.TABULATION:case ce.FORM_FEED:break;case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.EOF:{this._err(Ze.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ze.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ye.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case ce.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ye.DATA;break}case ce.NULL:{this._err(Ze.unexpectedNullCharacter);break}case ce.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case ce.RIGHT_SQUARE_BRACKET:{this.state=ye.CDATA_SECTION_BRACKET;break}case ce.EOF:{this._err(Ze.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===ce.RIGHT_SQUARE_BRACKET?this.state=ye.CDATA_SECTION_END:(this._emitChars("]"),this.state=ye.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case ce.GREATER_THAN_SIGN:{this.state=ye.DATA;break}case ce.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ye.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ce.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&T3(this.preprocessor.peek(1))?ye.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){T3(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===ce.SEMICOLON&&this._err(Ze.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const I5=new Set([I.DD,I.DT,I.LI,I.OPTGROUP,I.OPTION,I.P,I.RB,I.RP,I.RT,I.RTC]),S3=new Set([...I5,I.CAPTION,I.COLGROUP,I.TBODY,I.TD,I.TFOOT,I.TH,I.THEAD,I.TR]),Ix=new Set([I.APPLET,I.CAPTION,I.HTML,I.MARQUEE,I.OBJECT,I.TABLE,I.TD,I.TEMPLATE,I.TH]),ice=new Set([...Ix,I.OL,I.UL]),rce=new Set([...Ix,I.BUTTON]),w3=new Set([I.ANNOTATION_XML,I.MI,I.MN,I.MO,I.MS,I.MTEXT]),C3=new Set([I.DESC,I.FOREIGN_OBJECT,I.TITLE]),sce=new Set([I.TR,I.TEMPLATE,I.HTML]),oce=new Set([I.TBODY,I.TFOOT,I.THEAD,I.TEMPLATE,I.HTML]),ace=new Set([I.TABLE,I.TEMPLATE,I.HTML]),lce=new Set([I.TD,I.TH]);class uce{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,i){this.treeAdapter=n,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=I.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===I.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===gt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const i=this._indexOf(e);this.items[i]=n,i===this.stackTop&&(this.current=n)}insertAfter(e,n,i){const r=this._indexOf(e)+1;this.items.splice(r,0,n),this.tagIDs.splice(r,0,i),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==gt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const i=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(YS,gt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(lce,gt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let i=this.stackTop;i>=0;i--)if(e.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===n)return i;return-1}clearBackTo(e,n){const i=this._indexOfTagNames(e,n);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(ace,gt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(oce,gt.HTML)}clearBackToTableRowContext(){this.clearBackTo(sce,gt.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===I.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===I.HTML}hasInDynamicScope(e,n){for(let i=this.stackTop;i>=0;i--){const r=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case gt.HTML:{if(r===e)return!0;if(n.has(r))return!1;break}case gt.SVG:{if(C3.has(r))return!1;break}case gt.MATHML:{if(w3.has(r))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Ix)}hasInListItemScope(e){return this.hasInDynamicScope(e,ice)}hasInButtonScope(e){return this.hasInDynamicScope(e,rce)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case gt.HTML:{if(YS.has(n))return!0;if(Ix.has(n))return!1;break}case gt.SVG:{if(C3.has(n))return!1;break}case gt.MATHML:{if(w3.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===gt.HTML)switch(this.tagIDs[n]){case e:return!0;case I.TABLE:case I.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===gt.HTML)switch(this.tagIDs[e]){case I.TBODY:case I.THEAD:case I.TFOOT:return!0;case I.TABLE:case I.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===gt.HTML)switch(this.tagIDs[n]){case e:return!0;case I.OPTION:case I.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&I5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&S3.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&S3.has(this.currentTagId);)this.pop()}}const bb=3;var hu;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(hu||(hu={}));const A3={type:hu.Marker};class cce{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const i=[],r=n.length,s=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===hu.Marker)break;const{element:d}=u;if(this.treeAdapter.getTagName(d)===s&&this.treeAdapter.getNamespaceURI(d)===o){const f=this.treeAdapter.getAttrList(d);f.length===r&&i.push({idx:a,attrs:f})}}return i}_ensureNoahArkCondition(e){if(this.entries.length<bb)return;const n=this.treeAdapter.getAttrList(e),i=this._getNoahArkConditionCandidates(e,n);if(i.length<bb)return;const r=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<i.length;o++){const a=i[o];a.attrs.every(u=>r.get(u.name)===u.value)&&(s+=1,s>=bb&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(A3)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:hu.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:hu.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(A3);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(i=>i.type===hu.Marker||this.treeAdapter.getTagName(i.element)===e);return n&&n.type===hu.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===hu.Element&&n.element===e)}}const Nd={createDocument(){return{nodeName:"#document",mode:Va.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const i=t.childNodes.indexOf(n);t.childNodes.splice(i,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,i){const r=t.childNodes.find(s=>s.nodeName==="#documentType");if(r)r.name=e,r.publicId=n,r.systemId=i;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:i,parentNode:null};Nd.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Nd.isTextNode(n)){n.value+=e;return}}Nd.appendChild(t,Nd.createTextNode(e))},insertTextBefore(t,e,n){const i=t.childNodes[t.childNodes.indexOf(n)-1];i&&Nd.isTextNode(i)?i.value+=e:Nd.insertBefore(t,Nd.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(i=>i.name));for(let i=0;i<e.length;i++)n.has(e[i].name)||t.attrs.push(e[i])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},L5="html",dce="about:legacy-compat",hce="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",N5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],fce=[...N5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pce=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),O5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],mce=[...O5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function M3(t,e){return e.some(n=>t.startsWith(n))}function gce(t){return t.name===L5&&t.publicId===null&&(t.systemId===null||t.systemId===dce)}function yce(t){if(t.name!==L5)return Va.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===hce)return Va.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),pce.has(n))return Va.QUIRKS;let i=e===null?fce:N5;if(M3(n,i))return Va.QUIRKS;if(i=e===null?O5:mce,M3(n,i))return Va.LIMITED_QUIRKS}return Va.NO_QUIRKS}const P3={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},vce="definitionurl",_ce="definitionURL",xce=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Ece=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:gt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:gt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:gt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:gt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:gt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:gt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:gt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:gt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:gt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:gt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:gt.XMLNS}]]),Tce=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),bce=new Set([I.B,I.BIG,I.BLOCKQUOTE,I.BODY,I.BR,I.CENTER,I.CODE,I.DD,I.DIV,I.DL,I.DT,I.EM,I.EMBED,I.H1,I.H2,I.H3,I.H4,I.H5,I.H6,I.HEAD,I.HR,I.I,I.IMG,I.LI,I.LISTING,I.MENU,I.META,I.NOBR,I.OL,I.P,I.PRE,I.RUBY,I.S,I.SMALL,I.SPAN,I.STRONG,I.STRIKE,I.SUB,I.SUP,I.TABLE,I.TT,I.U,I.UL,I.VAR]);function Sce(t){const e=t.tagID;return e===I.FONT&&t.attrs.some(({name:i})=>i===df.COLOR||i===df.SIZE||i===df.FACE)||bce.has(e)}function k5(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===vce){t.attrs[e].name=_ce;break}}function D5(t){for(let e=0;e<t.attrs.length;e++){const n=xce.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function mA(t){for(let e=0;e<t.attrs.length;e++){const n=Ece.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function wce(t){const e=Tce.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Pm(t.tagName))}function Cce(t,e){return e===gt.MATHML&&(t===I.MI||t===I.MO||t===I.MN||t===I.MS||t===I.MTEXT)}function Ace(t,e,n){if(e===gt.MATHML&&t===I.ANNOTATION_XML){for(let i=0;i<n.length;i++)if(n[i].name===df.ENCODING){const r=n[i].value.toLowerCase();return r===P3.TEXT_HTML||r===P3.APPLICATION_XML}}return e===gt.SVG&&(t===I.FOREIGN_OBJECT||t===I.DESC||t===I.TITLE)}function Mce(t,e,n,i){return(!i||i===gt.HTML)&&Ace(t,e,n)||(!i||i===gt.MATHML)&&Cce(t,e)}const Pce="hidden",Rce=8,Ice=3;var Ee;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ee||(Ee={}));const Lce={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},F5=new Set([I.TABLE,I.TBODY,I.TFOOT,I.THEAD,I.TR]),R3={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Nd,onParseError:null};class I3{constructor(e,n,i=null,r=null){this.fragmentContext=i,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=Ee.INITIAL,this.originalInsertionMode=Ee.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...R3,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new nce(this.options,this),this.activeFormattingElements=new cce(this.treeAdapter),this.fragmentContextID=i?Pm(this.treeAdapter.getTagName(i)):I.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new uce(this.document,this.treeAdapter,this)}static parse(e,n){const i=new this(n);return i.tokenizer.write(e,!0),i.document}static getFragmentParser(e,n){const i={...R3,...n};e??(e=i.treeAdapter.createElement(ze.TEMPLATE,gt.HTML,[]));const r=i.treeAdapter.createElement("documentmock",gt.HTML,[]),s=new this(i,r,e);return s.fragmentContextID===I.TEMPLATE&&s.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,i){var r;if(!this.onParseError)return;const s=(r=e.location)!==null&&r!==void 0?r:Lce,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:i?s.startLine:s.endLine,endCol:i?s.startCol:s.endCol,endOffset:i?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(e,n,i){var r,s;(s=(r=this.treeAdapter).onItemPush)===null||s===void 0||s.call(r,e),i&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var i,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(r=(i=this.treeAdapter).onItemPop)===null||r===void 0||r.call(i,e,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(e,n){const i=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===gt.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,gt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ee.TEXT}switchToPlaintextParsing(){this.insertionMode=Ee.TEXT,this.originalInsertionMode=Ee.IN_BODY,this.tokenizer.state=Tr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ze.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==gt.HTML))switch(this.fragmentContextID){case I.TITLE:case I.TEXTAREA:{this.tokenizer.state=Tr.RCDATA;break}case I.STYLE:case I.XMP:case I.IFRAME:case I.NOEMBED:case I.NOFRAMES:case I.NOSCRIPT:{this.tokenizer.state=Tr.RAWTEXT;break}case I.SCRIPT:{this.tokenizer.state=Tr.SCRIPT_DATA;break}case I.PLAINTEXT:{this.tokenizer.state=Tr.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",i=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,i,r),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const i=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,e)}}_appendElement(e,n){const i=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(i,e.location)}_insertElement(e,n){const i=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(i,e.location),this.openElements.push(i,e.tagID)}_insertFakeElement(e,n){const i=this.treeAdapter.createElement(e,gt.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,gt.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,i),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ze.HTML,gt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,I.HTML)}_appendCommentNode(e,n){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_insertCharacters(e){let n,i;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(n,e.chars,i):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(n),s=i?r.lastIndexOf(i):r.length,o=r[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:d,endOffset:f}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:d,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,n){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(n,i)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const i=n.location,r=this.treeAdapter.getTagName(e),s=n.type===Xn.END_TAG&&r===n.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,i;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,i=this.fragmentContextID):{current:n,currentTagId:i}=this.openElements,e.tagID===I.SVG&&this.treeAdapter.getTagName(n)===ze.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===gt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===I.MGLYPH||e.tagID===I.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,n,gt.HTML)}_processToken(e){switch(e.type){case Xn.CHARACTER:{this.onCharacter(e);break}case Xn.NULL_CHARACTER:{this.onNullCharacter(e);break}case Xn.COMMENT:{this.onComment(e);break}case Xn.DOCTYPE:{this.onDoctype(e);break}case Xn.START_TAG:{this._processStartTag(e);break}case Xn.END_TAG:{this.onEndTag(e);break}case Xn.EOF:{this.onEof(e);break}case Xn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,i){const r=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Mce(e,r,s,i)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(r=>r.type===hu.Marker||this.openElements.contains(r.element)),i=n===-1?e-1:n-1;for(let r=i;r>=0;r--){const s=this.activeFormattingElements.entries[r];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ee.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(I.P),this.openElements.popUntilTagNamePopped(I.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case I.TR:{this.insertionMode=Ee.IN_ROW;return}case I.TBODY:case I.THEAD:case I.TFOOT:{this.insertionMode=Ee.IN_TABLE_BODY;return}case I.CAPTION:{this.insertionMode=Ee.IN_CAPTION;return}case I.COLGROUP:{this.insertionMode=Ee.IN_COLUMN_GROUP;return}case I.TABLE:{this.insertionMode=Ee.IN_TABLE;return}case I.BODY:{this.insertionMode=Ee.IN_BODY;return}case I.FRAMESET:{this.insertionMode=Ee.IN_FRAMESET;return}case I.SELECT:{this._resetInsertionModeForSelect(e);return}case I.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case I.HTML:{this.insertionMode=this.headElement?Ee.AFTER_HEAD:Ee.BEFORE_HEAD;return}case I.TD:case I.TH:{if(e>0){this.insertionMode=Ee.IN_CELL;return}break}case I.HEAD:{if(e>0){this.insertionMode=Ee.IN_HEAD;return}break}}this.insertionMode=Ee.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const i=this.openElements.tagIDs[n];if(i===I.TEMPLATE)break;if(i===I.TABLE){this.insertionMode=Ee.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ee.IN_SELECT}_isElementCausesFosterParenting(e){return F5.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case I.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===gt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case I.TABLE:{const i=this.treeAdapter.getParentNode(n);return i?{parent:i,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const i=this.treeAdapter.getNamespaceURI(e);return Que[i].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){lhe(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{Pg(this,e);break}case Ee.BEFORE_HTML:{n0(this,e);break}case Ee.BEFORE_HEAD:{i0(this,e);break}case Ee.IN_HEAD:{r0(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{s0(this,e);break}case Ee.AFTER_HEAD:{o0(this,e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:{U5(this,e);break}case Ee.TEXT:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{Sb(this,e);break}case Ee.IN_TABLE_TEXT:{G5(this,e);break}case Ee.IN_COLUMN_GROUP:{Lx(this,e);break}case Ee.AFTER_BODY:{Nx(this,e);break}case Ee.AFTER_AFTER_BODY:{S_(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ahe(this,e);return}switch(this.insertionMode){case Ee.INITIAL:{Pg(this,e);break}case Ee.BEFORE_HTML:{n0(this,e);break}case Ee.BEFORE_HEAD:{i0(this,e);break}case Ee.IN_HEAD:{r0(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{s0(this,e);break}case Ee.AFTER_HEAD:{o0(this,e);break}case Ee.TEXT:{this._insertCharacters(e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{Sb(this,e);break}case Ee.IN_COLUMN_GROUP:{Lx(this,e);break}case Ee.AFTER_BODY:{Nx(this,e);break}case Ee.AFTER_AFTER_BODY:{S_(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){XS(this,e);return}switch(this.insertionMode){case Ee.INITIAL:case Ee.BEFORE_HTML:case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_TEMPLATE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{XS(this,e);break}case Ee.IN_TABLE_TEXT:{Rg(this,e);break}case Ee.AFTER_BODY:{Uce(this,e);break}case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{zce(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Ee.INITIAL:{Hce(this,e);break}case Ee.BEFORE_HEAD:case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:{this._err(e,Ze.misplacedDoctype);break}case Ee.IN_TABLE_TEXT:{Rg(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Ze.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?uhe(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{Pg(this,e);break}case Ee.BEFORE_HTML:{Vce(this,e);break}case Ee.BEFORE_HEAD:{Wce(this,e);break}case Ee.IN_HEAD:{jl(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{Xce(this,e);break}case Ee.AFTER_HEAD:{Zce(this,e);break}case Ee.IN_BODY:{Ks(this,e);break}case Ee.IN_TABLE:{om(this,e);break}case Ee.IN_TABLE_TEXT:{Rg(this,e);break}case Ee.IN_CAPTION:{Gde(this,e);break}case Ee.IN_COLUMN_GROUP:{vA(this,e);break}case Ee.IN_TABLE_BODY:{U1(this,e);break}case Ee.IN_ROW:{z1(this,e);break}case Ee.IN_CELL:{qde(this,e);break}case Ee.IN_SELECT:{q5(this,e);break}case Ee.IN_SELECT_IN_TABLE:{Kde(this,e);break}case Ee.IN_TEMPLATE:{Qde(this,e);break}case Ee.AFTER_BODY:{ehe(this,e);break}case Ee.IN_FRAMESET:{the(this,e);break}case Ee.AFTER_FRAMESET:{ihe(this,e);break}case Ee.AFTER_AFTER_BODY:{she(this,e);break}case Ee.AFTER_AFTER_FRAMESET:{ohe(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?che(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Ee.INITIAL:{Pg(this,e);break}case Ee.BEFORE_HTML:{jce(this,e);break}case Ee.BEFORE_HEAD:{Gce(this,e);break}case Ee.IN_HEAD:{Yce(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{qce(this,e);break}case Ee.AFTER_HEAD:{Kce(this,e);break}case Ee.IN_BODY:{B1(this,e);break}case Ee.TEXT:{kde(this,e);break}case Ee.IN_TABLE:{V0(this,e);break}case Ee.IN_TABLE_TEXT:{Rg(this,e);break}case Ee.IN_CAPTION:{Yde(this,e);break}case Ee.IN_COLUMN_GROUP:{Xde(this,e);break}case Ee.IN_TABLE_BODY:{qS(this,e);break}case Ee.IN_ROW:{X5(this,e);break}case Ee.IN_CELL:{Zde(this,e);break}case Ee.IN_SELECT:{Z5(this,e);break}case Ee.IN_SELECT_IN_TABLE:{$de(this,e);break}case Ee.IN_TEMPLATE:{Jde(this,e);break}case Ee.AFTER_BODY:{$5(this,e);break}case Ee.IN_FRAMESET:{nhe(this,e);break}case Ee.AFTER_FRAMESET:{rhe(this,e);break}case Ee.AFTER_AFTER_BODY:{S_(this,e);break}}}onEof(e){switch(this.insertionMode){case Ee.INITIAL:{Pg(this,e);break}case Ee.BEFORE_HTML:{n0(this,e);break}case Ee.BEFORE_HEAD:{i0(this,e);break}case Ee.IN_HEAD:{r0(this,e);break}case Ee.IN_HEAD_NO_SCRIPT:{s0(this,e);break}case Ee.AFTER_HEAD:{o0(this,e);break}case Ee.IN_BODY:case Ee.IN_TABLE:case Ee.IN_CAPTION:case Ee.IN_COLUMN_GROUP:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:case Ee.IN_CELL:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:{j5(this,e);break}case Ee.TEXT:{Dde(this,e);break}case Ee.IN_TABLE_TEXT:{Rg(this,e);break}case Ee.IN_TEMPLATE:{K5(this,e);break}case Ee.AFTER_BODY:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{yA(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===ce.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Ee.IN_HEAD:case Ee.IN_HEAD_NO_SCRIPT:case Ee.AFTER_HEAD:case Ee.TEXT:case Ee.IN_COLUMN_GROUP:case Ee.IN_SELECT:case Ee.IN_SELECT_IN_TABLE:case Ee.IN_FRAMESET:case Ee.AFTER_FRAMESET:{this._insertCharacters(e);break}case Ee.IN_BODY:case Ee.IN_CAPTION:case Ee.IN_CELL:case Ee.IN_TEMPLATE:case Ee.AFTER_BODY:case Ee.AFTER_AFTER_BODY:case Ee.AFTER_AFTER_FRAMESET:{B5(this,e);break}case Ee.IN_TABLE:case Ee.IN_TABLE_BODY:case Ee.IN_ROW:{Sb(this,e);break}case Ee.IN_TABLE_TEXT:{W5(this,e);break}}}}function Nce(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):V5(t,e),n}function Oce(t,e){let n=null,i=t.openElements.stackTop;for(;i>=0;i--){const r=t.openElements.items[i];if(r===e.element)break;t._isSpecialElement(r,t.openElements.tagIDs[i])&&(n=r)}return n||(t.openElements.shortenToLength(Math.max(i,0)),t.activeFormattingElements.removeEntry(e)),n}function kce(t,e,n){let i=e,r=t.openElements.getCommonAncestor(e);for(let s=0,o=r;o!==n;s++,o=r){r=t.openElements.getCommonAncestor(o);const a=t.activeFormattingElements.getElementEntry(o),u=a&&s>=Ice;!a||u?(u&&t.activeFormattingElements.removeEntry(a),t.openElements.remove(o)):(o=Dce(t,a),i===e&&(t.activeFormattingElements.bookmark=a),t.treeAdapter.detachNode(i),t.treeAdapter.appendChild(o,i),i=o)}return i}function Dce(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),i=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,i),e.element=i,i}function Fce(t,e,n){const i=t.treeAdapter.getTagName(e),r=Pm(i);if(t._isElementCausesFosterParenting(r))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);r===I.TEMPLATE&&s===gt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function Bce(t,e,n){const i=t.treeAdapter.getNamespaceURI(n.element),{token:r}=n,s=t.treeAdapter.createElement(r.tagName,i,r.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,r),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,r.tagID)}function gA(t,e){for(let n=0;n<Rce;n++){const i=Nce(t,e);if(!i)break;const r=Oce(t,i);if(!r)break;t.activeFormattingElements.bookmark=i;const s=kce(t,r,i.element),o=t.openElements.getCommonAncestor(i.element);t.treeAdapter.detachNode(s),o&&Fce(t,o,s),Bce(t,r,i)}}function XS(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function Uce(t,e){t._appendCommentNode(e,t.openElements.items[0])}function zce(t,e){t._appendCommentNode(e,t.document)}function yA(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let i=t.openElements.stackTop;i>=n;i--)t._setEndLocation(t.openElements.items[i],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const i=t.openElements.items[0],r=t.treeAdapter.getNodeSourceCodeLocation(i);if(r&&!r.endTag&&(t._setEndLocation(i,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],o=t.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&t._setEndLocation(s,e)}}}}function Hce(t,e){t._setDocumentType(e);const n=e.forceQuirks?Va.QUIRKS:yce(e);gce(e)||t._err(e,Ze.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Ee.BEFORE_HTML}function Pg(t,e){t._err(e,Ze.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Va.QUIRKS),t.insertionMode=Ee.BEFORE_HTML,t._processToken(e)}function Vce(t,e){e.tagID===I.HTML?(t._insertElement(e,gt.HTML),t.insertionMode=Ee.BEFORE_HEAD):n0(t,e)}function jce(t,e){const n=e.tagID;(n===I.HTML||n===I.HEAD||n===I.BODY||n===I.BR)&&n0(t,e)}function n0(t,e){t._insertFakeRootElement(),t.insertionMode=Ee.BEFORE_HEAD,t._processToken(e)}function Wce(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.HEAD:{t._insertElement(e,gt.HTML),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD;break}default:i0(t,e)}}function Gce(t,e){const n=e.tagID;n===I.HEAD||n===I.BODY||n===I.HTML||n===I.BR?i0(t,e):t._err(e,Ze.endTagWithoutMatchingOpenElement)}function i0(t,e){t._insertFakeElement(ze.HEAD,I.HEAD),t.headElement=t.openElements.current,t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function jl(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:{t._appendElement(e,gt.HTML),e.ackSelfClosing=!0;break}case I.TITLE:{t._switchToTextParsing(e,Tr.RCDATA);break}case I.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Tr.RAWTEXT):(t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_HEAD_NO_SCRIPT);break}case I.NOFRAMES:case I.STYLE:{t._switchToTextParsing(e,Tr.RAWTEXT);break}case I.SCRIPT:{t._switchToTextParsing(e,Tr.SCRIPT_DATA);break}case I.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Ee.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Ee.IN_TEMPLATE);break}case I.HEAD:{t._err(e,Ze.misplacedStartTagForHeadElement);break}default:r0(t,e)}}function Yce(t,e){switch(e.tagID){case I.HEAD:{t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD;break}case I.BODY:case I.BR:case I.HTML:{r0(t,e);break}case I.TEMPLATE:{wf(t,e);break}default:t._err(e,Ze.endTagWithoutMatchingOpenElement)}}function wf(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==I.TEMPLATE&&t._err(e,Ze.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(I.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Ze.endTagWithoutMatchingOpenElement)}function r0(t,e){t.openElements.pop(),t.insertionMode=Ee.AFTER_HEAD,t._processToken(e)}function Xce(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.BASEFONT:case I.BGSOUND:case I.HEAD:case I.LINK:case I.META:case I.NOFRAMES:case I.STYLE:{jl(t,e);break}case I.NOSCRIPT:{t._err(e,Ze.nestedNoscriptInHead);break}default:s0(t,e)}}function qce(t,e){switch(e.tagID){case I.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Ee.IN_HEAD;break}case I.BR:{s0(t,e);break}default:t._err(e,Ze.endTagWithoutMatchingOpenElement)}}function s0(t,e){const n=e.type===Xn.EOF?Ze.openElementsLeftAfterEof:Ze.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Ee.IN_HEAD,t._processToken(e)}function Zce(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.BODY:{t._insertElement(e,gt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_BODY;break}case I.FRAMESET:{t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_FRAMESET;break}case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:case I.NOFRAMES:case I.SCRIPT:case I.STYLE:case I.TEMPLATE:case I.TITLE:{t._err(e,Ze.abandonedHeadElementChild),t.openElements.push(t.headElement,I.HEAD),jl(t,e),t.openElements.remove(t.headElement);break}case I.HEAD:{t._err(e,Ze.misplacedStartTagForHeadElement);break}default:o0(t,e)}}function Kce(t,e){switch(e.tagID){case I.BODY:case I.HTML:case I.BR:{o0(t,e);break}case I.TEMPLATE:{wf(t,e);break}default:t._err(e,Ze.endTagWithoutMatchingOpenElement)}}function o0(t,e){t._insertFakeElement(ze.BODY,I.BODY),t.insertionMode=Ee.IN_BODY,F1(t,e)}function F1(t,e){switch(e.type){case Xn.CHARACTER:{U5(t,e);break}case Xn.WHITESPACE_CHARACTER:{B5(t,e);break}case Xn.COMMENT:{XS(t,e);break}case Xn.START_TAG:{Ks(t,e);break}case Xn.END_TAG:{B1(t,e);break}case Xn.EOF:{j5(t,e);break}}}function B5(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function U5(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function $ce(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Qce(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Jce(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_FRAMESET)}function ede(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML)}function tde(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&YS.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,gt.HTML)}function nde(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function ide(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML),n||(t.formElement=t.openElements.current))}function rde(t,e){t.framesetOk=!1;const n=e.tagID;for(let i=t.openElements.stackTop;i>=0;i--){const r=t.openElements.tagIDs[i];if(n===I.LI&&r===I.LI||(n===I.DD||n===I.DT)&&(r===I.DD||r===I.DT)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.popUntilTagNamePopped(r);break}if(r!==I.ADDRESS&&r!==I.DIV&&r!==I.P&&t._isSpecialElement(t.openElements.items[i],r))break}t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML)}function sde(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML),t.tokenizer.state=Tr.PLAINTEXT}function ode(t,e){t.openElements.hasInScope(I.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(I.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML),t.framesetOk=!1}function ade(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(ze.A);n&&(gA(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function lde(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function ude(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(I.NOBR)&&(gA(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,gt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function cde(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function dde(t,e){t.treeAdapter.getDocumentMode(t.document)!==Va.QUIRKS&&t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._insertElement(e,gt.HTML),t.framesetOk=!1,t.insertionMode=Ee.IN_TABLE}function z5(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,gt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function H5(t){const e=P5(t,df.TYPE);return e!=null&&e.toLowerCase()===Pce}function hde(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,gt.HTML),H5(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function fde(t,e){t._appendElement(e,gt.HTML),e.ackSelfClosing=!0}function pde(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._appendElement(e,gt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function mde(t,e){e.tagName=ze.IMG,e.tagID=I.IMG,z5(t,e)}function gde(t,e){t._insertElement(e,gt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Tr.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Ee.TEXT}function yde(t,e){t.openElements.hasInButtonScope(I.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Tr.RAWTEXT)}function vde(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Tr.RAWTEXT)}function L3(t,e){t._switchToTextParsing(e,Tr.RAWTEXT)}function _de(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Ee.IN_TABLE||t.insertionMode===Ee.IN_CAPTION||t.insertionMode===Ee.IN_TABLE_BODY||t.insertionMode===Ee.IN_ROW||t.insertionMode===Ee.IN_CELL?Ee.IN_SELECT_IN_TABLE:Ee.IN_SELECT}function xde(t,e){t.openElements.currentTagId===I.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML)}function Ede(t,e){t.openElements.hasInScope(I.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,gt.HTML)}function Tde(t,e){t.openElements.hasInScope(I.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(I.RTC),t._insertElement(e,gt.HTML)}function bde(t,e){t._reconstructActiveFormattingElements(),k5(e),mA(e),e.selfClosing?t._appendElement(e,gt.MATHML):t._insertElement(e,gt.MATHML),e.ackSelfClosing=!0}function Sde(t,e){t._reconstructActiveFormattingElements(),D5(e),mA(e),e.selfClosing?t._appendElement(e,gt.SVG):t._insertElement(e,gt.SVG),e.ackSelfClosing=!0}function N3(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,gt.HTML)}function Ks(t,e){switch(e.tagID){case I.I:case I.S:case I.B:case I.U:case I.EM:case I.TT:case I.BIG:case I.CODE:case I.FONT:case I.SMALL:case I.STRIKE:case I.STRONG:{lde(t,e);break}case I.A:{ade(t,e);break}case I.H1:case I.H2:case I.H3:case I.H4:case I.H5:case I.H6:{tde(t,e);break}case I.P:case I.DL:case I.OL:case I.UL:case I.DIV:case I.DIR:case I.NAV:case I.MAIN:case I.MENU:case I.ASIDE:case I.CENTER:case I.FIGURE:case I.FOOTER:case I.HEADER:case I.HGROUP:case I.DIALOG:case I.DETAILS:case I.ADDRESS:case I.ARTICLE:case I.SEARCH:case I.SECTION:case I.SUMMARY:case I.FIELDSET:case I.BLOCKQUOTE:case I.FIGCAPTION:{ede(t,e);break}case I.LI:case I.DD:case I.DT:{rde(t,e);break}case I.BR:case I.IMG:case I.WBR:case I.AREA:case I.EMBED:case I.KEYGEN:{z5(t,e);break}case I.HR:{pde(t,e);break}case I.RB:case I.RTC:{Ede(t,e);break}case I.RT:case I.RP:{Tde(t,e);break}case I.PRE:case I.LISTING:{nde(t,e);break}case I.XMP:{yde(t,e);break}case I.SVG:{Sde(t,e);break}case I.HTML:{$ce(t,e);break}case I.BASE:case I.LINK:case I.META:case I.STYLE:case I.TITLE:case I.SCRIPT:case I.BGSOUND:case I.BASEFONT:case I.TEMPLATE:{jl(t,e);break}case I.BODY:{Qce(t,e);break}case I.FORM:{ide(t,e);break}case I.NOBR:{ude(t,e);break}case I.MATH:{bde(t,e);break}case I.TABLE:{dde(t,e);break}case I.INPUT:{hde(t,e);break}case I.PARAM:case I.TRACK:case I.SOURCE:{fde(t,e);break}case I.IMAGE:{mde(t,e);break}case I.BUTTON:{ode(t,e);break}case I.APPLET:case I.OBJECT:case I.MARQUEE:{cde(t,e);break}case I.IFRAME:{vde(t,e);break}case I.SELECT:{_de(t,e);break}case I.OPTION:case I.OPTGROUP:{xde(t,e);break}case I.NOEMBED:case I.NOFRAMES:{L3(t,e);break}case I.FRAMESET:{Jce(t,e);break}case I.TEXTAREA:{gde(t,e);break}case I.NOSCRIPT:{t.options.scriptingEnabled?L3(t,e):N3(t,e);break}case I.PLAINTEXT:{sde(t,e);break}case I.COL:case I.TH:case I.TD:case I.TR:case I.HEAD:case I.FRAME:case I.TBODY:case I.TFOOT:case I.THEAD:case I.CAPTION:case I.COLGROUP:break;default:N3(t,e)}}function wde(t,e){if(t.openElements.hasInScope(I.BODY)&&(t.insertionMode=Ee.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Cde(t,e){t.openElements.hasInScope(I.BODY)&&(t.insertionMode=Ee.AFTER_BODY,$5(t,e))}function Ade(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Mde(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(I.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(I.FORM):n&&t.openElements.remove(n))}function Pde(t){t.openElements.hasInButtonScope(I.P)||t._insertFakeElement(ze.P,I.P),t._closePElement()}function Rde(t){t.openElements.hasInListItemScope(I.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(I.LI),t.openElements.popUntilTagNamePopped(I.LI))}function Ide(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function Lde(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function Nde(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function Ode(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ze.BR,I.BR),t.openElements.pop(),t.framesetOk=!1}function V5(t,e){const n=e.tagName,i=e.tagID;for(let r=t.openElements.stackTop;r>0;r--){const s=t.openElements.items[r],o=t.openElements.tagIDs[r];if(i===o&&(i!==I.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.stackTop>=r&&t.openElements.shortenToLength(r);break}if(t._isSpecialElement(s,o))break}}function B1(t,e){switch(e.tagID){case I.A:case I.B:case I.I:case I.S:case I.U:case I.EM:case I.TT:case I.BIG:case I.CODE:case I.FONT:case I.NOBR:case I.SMALL:case I.STRIKE:case I.STRONG:{gA(t,e);break}case I.P:{Pde(t);break}case I.DL:case I.UL:case I.OL:case I.DIR:case I.DIV:case I.NAV:case I.PRE:case I.MAIN:case I.MENU:case I.ASIDE:case I.BUTTON:case I.CENTER:case I.FIGURE:case I.FOOTER:case I.HEADER:case I.HGROUP:case I.DIALOG:case I.ADDRESS:case I.ARTICLE:case I.DETAILS:case I.SEARCH:case I.SECTION:case I.SUMMARY:case I.LISTING:case I.FIELDSET:case I.BLOCKQUOTE:case I.FIGCAPTION:{Ade(t,e);break}case I.LI:{Rde(t);break}case I.DD:case I.DT:{Ide(t,e);break}case I.H1:case I.H2:case I.H3:case I.H4:case I.H5:case I.H6:{Lde(t);break}case I.BR:{Ode(t);break}case I.BODY:{wde(t,e);break}case I.HTML:{Cde(t,e);break}case I.FORM:{Mde(t);break}case I.APPLET:case I.OBJECT:case I.MARQUEE:{Nde(t,e);break}case I.TEMPLATE:{wf(t,e);break}default:V5(t,e)}}function j5(t,e){t.tmplInsertionModeStack.length>0?K5(t,e):yA(t,e)}function kde(t,e){var n;e.tagID===I.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function Dde(t,e){t._err(e,Ze.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Sb(t,e){if(t.openElements.currentTagId!==void 0&&F5.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Ee.IN_TABLE_TEXT,e.type){case Xn.CHARACTER:{G5(t,e);break}case Xn.WHITESPACE_CHARACTER:{W5(t,e);break}}else my(t,e)}function Fde(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_CAPTION}function Bde(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_COLUMN_GROUP}function Ude(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ze.COLGROUP,I.COLGROUP),t.insertionMode=Ee.IN_COLUMN_GROUP,vA(t,e)}function zde(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_TABLE_BODY}function Hde(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ze.TBODY,I.TBODY),t.insertionMode=Ee.IN_TABLE_BODY,U1(t,e)}function Vde(t,e){t.openElements.hasInTableScope(I.TABLE)&&(t.openElements.popUntilTagNamePopped(I.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function jde(t,e){H5(e)?t._appendElement(e,gt.HTML):my(t,e),e.ackSelfClosing=!0}function Wde(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,gt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function om(t,e){switch(e.tagID){case I.TD:case I.TH:case I.TR:{Hde(t,e);break}case I.STYLE:case I.SCRIPT:case I.TEMPLATE:{jl(t,e);break}case I.COL:{Ude(t,e);break}case I.FORM:{Wde(t,e);break}case I.TABLE:{Vde(t,e);break}case I.TBODY:case I.TFOOT:case I.THEAD:{zde(t,e);break}case I.INPUT:{jde(t,e);break}case I.CAPTION:{Fde(t,e);break}case I.COLGROUP:{Bde(t,e);break}default:my(t,e)}}function V0(t,e){switch(e.tagID){case I.TABLE:{t.openElements.hasInTableScope(I.TABLE)&&(t.openElements.popUntilTagNamePopped(I.TABLE),t._resetInsertionMode());break}case I.TEMPLATE:{wf(t,e);break}case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TBODY:case I.TD:case I.TFOOT:case I.TH:case I.THEAD:case I.TR:break;default:my(t,e)}}function my(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,F1(t,e),t.fosterParentingEnabled=n}function W5(t,e){t.pendingCharacterTokens.push(e)}function G5(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Rg(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)my(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Y5=new Set([I.CAPTION,I.COL,I.COLGROUP,I.TBODY,I.TD,I.TFOOT,I.TH,I.THEAD,I.TR]);function Gde(t,e){const n=e.tagID;Y5.has(n)?t.openElements.hasInTableScope(I.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(I.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,om(t,e)):Ks(t,e)}function Yde(t,e){const n=e.tagID;switch(n){case I.CAPTION:case I.TABLE:{t.openElements.hasInTableScope(I.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(I.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_TABLE,n===I.TABLE&&V0(t,e));break}case I.BODY:case I.COL:case I.COLGROUP:case I.HTML:case I.TBODY:case I.TD:case I.TFOOT:case I.TH:case I.THEAD:case I.TR:break;default:B1(t,e)}}function vA(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.COL:{t._appendElement(e,gt.HTML),e.ackSelfClosing=!0;break}case I.TEMPLATE:{jl(t,e);break}default:Lx(t,e)}}function Xde(t,e){switch(e.tagID){case I.COLGROUP:{t.openElements.currentTagId===I.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case I.TEMPLATE:{wf(t,e);break}case I.COL:break;default:Lx(t,e)}}function Lx(t,e){t.openElements.currentTagId===I.COLGROUP&&(t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,t._processToken(e))}function U1(t,e){switch(e.tagID){case I.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_ROW;break}case I.TH:case I.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ze.TR,I.TR),t.insertionMode=Ee.IN_ROW,z1(t,e);break}case I.CAPTION:case I.COL:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,om(t,e));break}default:om(t,e)}}function qS(t,e){const n=e.tagID;switch(e.tagID){case I.TBODY:case I.TFOOT:case I.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE);break}case I.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE,V0(t,e));break}case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TD:case I.TH:case I.TR:break;default:V0(t,e)}}function z1(t,e){switch(e.tagID){case I.TH:case I.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,gt.HTML),t.insertionMode=Ee.IN_CELL,t.activeFormattingElements.insertMarker();break}case I.CAPTION:case I.COL:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:case I.TR:{t.openElements.hasInTableScope(I.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,U1(t,e));break}default:om(t,e)}}function X5(t,e){switch(e.tagID){case I.TR:{t.openElements.hasInTableScope(I.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY);break}case I.TABLE:{t.openElements.hasInTableScope(I.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,qS(t,e));break}case I.TBODY:case I.TFOOT:case I.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(I.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Ee.IN_TABLE_BODY,qS(t,e));break}case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TD:case I.TH:break;default:V0(t,e)}}function qde(t,e){const n=e.tagID;Y5.has(n)?(t.openElements.hasInTableScope(I.TD)||t.openElements.hasInTableScope(I.TH))&&(t._closeTableCell(),z1(t,e)):Ks(t,e)}function Zde(t,e){const n=e.tagID;switch(n){case I.TD:case I.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Ee.IN_ROW);break}case I.TABLE:case I.TBODY:case I.TFOOT:case I.THEAD:case I.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),X5(t,e));break}case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:break;default:B1(t,e)}}function q5(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.OPTION:{t.openElements.currentTagId===I.OPTION&&t.openElements.pop(),t._insertElement(e,gt.HTML);break}case I.OPTGROUP:{t.openElements.currentTagId===I.OPTION&&t.openElements.pop(),t.openElements.currentTagId===I.OPTGROUP&&t.openElements.pop(),t._insertElement(e,gt.HTML);break}case I.HR:{t.openElements.currentTagId===I.OPTION&&t.openElements.pop(),t.openElements.currentTagId===I.OPTGROUP&&t.openElements.pop(),t._appendElement(e,gt.HTML),e.ackSelfClosing=!0;break}case I.INPUT:case I.KEYGEN:case I.TEXTAREA:case I.SELECT:{t.openElements.hasInSelectScope(I.SELECT)&&(t.openElements.popUntilTagNamePopped(I.SELECT),t._resetInsertionMode(),e.tagID!==I.SELECT&&t._processStartTag(e));break}case I.SCRIPT:case I.TEMPLATE:{jl(t,e);break}}}function Z5(t,e){switch(e.tagID){case I.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===I.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===I.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===I.OPTGROUP&&t.openElements.pop();break}case I.OPTION:{t.openElements.currentTagId===I.OPTION&&t.openElements.pop();break}case I.SELECT:{t.openElements.hasInSelectScope(I.SELECT)&&(t.openElements.popUntilTagNamePopped(I.SELECT),t._resetInsertionMode());break}case I.TEMPLATE:{wf(t,e);break}}}function Kde(t,e){const n=e.tagID;n===I.CAPTION||n===I.TABLE||n===I.TBODY||n===I.TFOOT||n===I.THEAD||n===I.TR||n===I.TD||n===I.TH?(t.openElements.popUntilTagNamePopped(I.SELECT),t._resetInsertionMode(),t._processStartTag(e)):q5(t,e)}function $de(t,e){const n=e.tagID;n===I.CAPTION||n===I.TABLE||n===I.TBODY||n===I.TFOOT||n===I.THEAD||n===I.TR||n===I.TD||n===I.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(I.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Z5(t,e)}function Qde(t,e){switch(e.tagID){case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:case I.NOFRAMES:case I.SCRIPT:case I.STYLE:case I.TEMPLATE:case I.TITLE:{jl(t,e);break}case I.CAPTION:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE,t.insertionMode=Ee.IN_TABLE,om(t,e);break}case I.COL:{t.tmplInsertionModeStack[0]=Ee.IN_COLUMN_GROUP,t.insertionMode=Ee.IN_COLUMN_GROUP,vA(t,e);break}case I.TR:{t.tmplInsertionModeStack[0]=Ee.IN_TABLE_BODY,t.insertionMode=Ee.IN_TABLE_BODY,U1(t,e);break}case I.TD:case I.TH:{t.tmplInsertionModeStack[0]=Ee.IN_ROW,t.insertionMode=Ee.IN_ROW,z1(t,e);break}default:t.tmplInsertionModeStack[0]=Ee.IN_BODY,t.insertionMode=Ee.IN_BODY,Ks(t,e)}}function Jde(t,e){e.tagID===I.TEMPLATE&&wf(t,e)}function K5(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(I.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):yA(t,e)}function ehe(t,e){e.tagID===I.HTML?Ks(t,e):Nx(t,e)}function $5(t,e){var n;if(e.tagID===I.HTML){if(t.fragmentContext||(t.insertionMode=Ee.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===I.HTML){t._setEndLocation(t.openElements.items[0],e);const i=t.openElements.items[1];i&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(i))===null||n===void 0)&&n.endTag)&&t._setEndLocation(i,e)}}else Nx(t,e)}function Nx(t,e){t.insertionMode=Ee.IN_BODY,F1(t,e)}function the(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.FRAMESET:{t._insertElement(e,gt.HTML);break}case I.FRAME:{t._appendElement(e,gt.HTML),e.ackSelfClosing=!0;break}case I.NOFRAMES:{jl(t,e);break}}}function nhe(t,e){e.tagID===I.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==I.FRAMESET&&(t.insertionMode=Ee.AFTER_FRAMESET))}function ihe(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.NOFRAMES:{jl(t,e);break}}}function rhe(t,e){e.tagID===I.HTML&&(t.insertionMode=Ee.AFTER_AFTER_FRAMESET)}function she(t,e){e.tagID===I.HTML?Ks(t,e):S_(t,e)}function S_(t,e){t.insertionMode=Ee.IN_BODY,F1(t,e)}function ohe(t,e){switch(e.tagID){case I.HTML:{Ks(t,e);break}case I.NOFRAMES:{jl(t,e);break}}}function ahe(t,e){e.chars=Xi,t._insertCharacters(e)}function lhe(t,e){t._insertCharacters(e),t.framesetOk=!1}function Q5(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==gt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function uhe(t,e){if(Sce(e))Q5(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),i=t.treeAdapter.getNamespaceURI(n);i===gt.MATHML?k5(e):i===gt.SVG&&(wce(e),D5(e)),mA(e),e.selfClosing?t._appendElement(e,i):t._insertElement(e,i),e.ackSelfClosing=!0}}function che(t,e){if(e.tagID===I.P||e.tagID===I.BR){Q5(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const i=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(i)===gt.HTML){t._endTagOutsideForeignContent(e);break}const r=t.treeAdapter.getTagName(i);if(r.toLowerCase()===e.tagName){e.tagName=r,t.openElements.shortenToLength(n);break}}}ze.AREA,ze.BASE,ze.BASEFONT,ze.BGSOUND,ze.BR,ze.COL,ze.EMBED,ze.FRAME,ze.HR,ze.IMG,ze.INPUT,ze.KEYGEN,ze.LINK,ze.META,ze.PARAM,ze.SOURCE,ze.TRACK,ze.WBR;const dhe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,hhe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),O3={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function J5(t,e){const n=The(t),i=S5("type",{handlers:{root:fhe,element:phe,text:mhe,comment:tF,doctype:ghe,raw:vhe},unknown:_he}),r={parser:n?new I3(O3):I3.getFragmentParser(void 0,O3),handle(a){i(a,r)},stitches:!1,options:e||{}};i(t,r),Rm(r,Lu());const s=n?r.parser.document:r.parser.getFragment(),o=fue(s,{file:r.options.file});return r.stitches&&cA(o,"comment",function(a,u,d){const f=a;if(f.value.stitch&&d&&u!==void 0){const p=d.children;return p[u]=f.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===t.type?o.children[0]:o}function eF(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function fhe(t,e){eF(t.children,e)}function phe(t,e){xhe(t,e),eF(t.children,e),Ehe(t,e)}function mhe(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:Xn.CHARACTER,chars:t.value,location:gy(t)};Rm(e,Lu(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function ghe(t,e){const n={type:Xn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:gy(t)};Rm(e,Lu(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function yhe(t,e){e.stitches=!0;const n=bhe(t);if("children"in t&&"children"in n){const i=J5({type:"root",children:t.children},e.options);n.children=i.children}tF({type:"comment",value:{stitch:n}},e)}function tF(t,e){const n=t.value,i={type:Xn.COMMENT,data:n,location:gy(t)};Rm(e,Lu(t)),e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken)}function vhe(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,nF(e,Lu(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(dhe,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function _he(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))yhe(n,e);else{let i="";throw hhe.has(n.type)&&(i=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+i)}}function Rm(t,e){nF(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Tr.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function nF(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function xhe(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Tr.PLAINTEXT)return;Rm(e,Lu(t));const i=e.parser.openElements.current;let r="namespaceURI"in i?i.namespaceURI:ef.html;r===ef.html&&n==="svg"&&(r=ef.svg);const s=Mue({...t,children:[]},{space:r===ef.svg?"svg":"html"}),o={type:Xn.START_TAG,tagName:n,tagID:Pm(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:gy(t)};e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function Ehe(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&Due.includes(n)||e.parser.tokenizer.state===Tr.PLAINTEXT)return;Rm(e,N1(t));const i={type:Xn.END_TAG,tagName:n,tagID:Pm(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:gy(t)};e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Tr.RCDATA||e.parser.tokenizer.state===Tr.RAWTEXT||e.parser.tokenizer.state===Tr.SCRIPT_DATA)&&(e.parser.tokenizer.state=Tr.DATA)}function The(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function gy(t){const e=Lu(t)||{line:void 0,column:void 0,offset:void 0},n=N1(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function bhe(t){return"children"in t?sm({...t,children:[]}):sm(t)}function She(t){return function(e,n){return J5(e,{...t,file:n})}}const whe=()=>{const{slug:t}=oH(),[e,n]=X.useState(""),[i,r]=X.useState(""),[s,o]=X.useState([]);return X.useEffect(()=>{const a=async()=>{try{const f=await(await fetch(`/content/services/${t}.md`)).text();r(t?.replace(/-/g," ").replace(/\b\w/g,p=>p.toUpperCase())||"Service Detail"),n(f)}catch{const d=`# Service Not Found
The requested service does not exist.`;r("Service Not Found"),n(d)}},u=async()=>{try{const p=(await(await fetch("/content/services/grouped-services.json")).json()).map(y=>({group:y.title,services:y.services.map(v=>CD(v.title,{lower:!0,strict:!0}))}));o(p)}catch{o([])}};a(),u()},[t]),F.jsxs(fm,{children:[F.jsxs(m0,{children:[F.jsxs("title",{children:[i," | Torres Pest Control Davao"]}),F.jsx("meta",{name:"description",content:`Learn about ${i}  professional pest control in Davao. Safe, reliable, eco-conscious solutions from Torres Pest Control.`}),F.jsx("meta",{name:"author",content:"Torres Pest Control PH"}),F.jsx("meta",{property:"og:title",content:`${i} | Torres Pest Control Davao`}),F.jsx("meta",{property:"og:description",content:`Explore ${i}  trusted pest and sanitation service for homes and businesses in Davao.`}),F.jsx("meta",{property:"og:url",content:`https://torrespestcontrol.ph/services/${t}`}),F.jsx("meta",{property:"og:image",content:"https://torrespestcontrol.ph/images/og-banner.jpg"}),F.jsx("meta",{name:"robots",content:"index, follow"}),F.jsx("link",{rel:"canonical",href:`https://torrespestcontrol.ph/services/${t}`})]}),F.jsxs("section",{className:"relative h-[400px] flex items-center justify-center bg-cover bg-center bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${I1})`,backgroundAttachment:"fixed"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),F.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[F.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t?.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase())}),F.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto text-gray-200",children:"Comprehensive Service Overview"})]})]}),F.jsx("div",{className:"container mx-auto px-4 pt-3",children:F.jsx(dy,{})}),F.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-16 grid grid-cols-1 lg:grid-cols-4 gap-10",children:[F.jsxs("div",{className:"lg:col-span-3 prose dark:prose-invert max-w-none",children:[F.jsx(Xp,{to:"/#services",className:"inline-block mb-6 text-green-600 dark:text-green-400 hover:underline",children:" Back to Services"}),F.jsx(Qle,{rehypePlugins:[She],children:e})]}),F.jsxs("aside",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm lg:sticky top-32 mt-20",children:[F.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Explore Other Services"}),F.jsx("div",{children:s.map(a=>F.jsxs("div",{className:"mb-6 mt-10",children:[F.jsx("h4",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:a.group}),F.jsx("ul",{className:"space-y-1",children:a.services.filter(u=>u!==t).map(u=>F.jsx("li",{children:F.jsx(Xp,{to:`/services/${u}`,className:"text-sm text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400",children:u.replace(/-/g," ").replace(/\b\w/g,d=>d.toUpperCase())})},u))})]},a.group))})]})]})]})},Che=new M9,Ahe=()=>{const{hash:t}=_f();return X.useEffect(()=>{if(t){const e=document.querySelector(t);e&&e.scrollIntoView({behavior:"smooth"})}},[t]),null},Mhe=()=>F.jsx(ML,{defaultTheme:"light",children:F.jsx(R9,{client:Che,children:F.jsxs(r9,{children:[F.jsx(jU,{}),F.jsx(y8,{}),F.jsxs(PH,{children:[F.jsx(Ahe,{}),F.jsxs(TH,{children:[F.jsx(Md,{path:"/",element:F.jsx(hJ,{})}),F.jsx(Md,{path:"/services/:slug",element:F.jsx(whe,{})}),F.jsx(Md,{path:"/about",element:F.jsx(Zie,{})}),F.jsx(Md,{path:"/certificates",element:F.jsx(fre,{})}),F.jsx(Md,{path:"/regions",element:F.jsx(zre,{})}),F.jsx(Md,{path:"/gallery",element:F.jsx(Fre,{})}),F.jsx(Md,{path:"*",element:F.jsx(Xie,{})})]})]})]})})}),Phe=()=>F.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-yellow-50 text-yellow-900 overflow-hidden",children:[F.jsx("div",{className:"animate-bounce-slow mb-6",children:F.jsx("span",{className:"text-6xl",children:""})}),F.jsx("h1",{className:"text-4xl font-bold mb-4 animate-fade-in",children:F.jsx("span",{className:"inline-block animate-slide-up",children:"Site Under Construction"})}),F.jsx("p",{className:"text-lg animate-fade-in animation-delay-300",children:"We're working hard to launch soon. Stay tuned!"}),F.jsxs("div",{className:"mt-12 flex items-center animate-fade-in animation-delay-600",children:[F.jsx("div",{className:"hammer-animation mr-2",children:""}),F.jsx("div",{className:"wrench-animation ml-2",children:""})]})]}),Rhe=()=>F.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:[F.jsx("h1",{className:"text-4xl font-bold mb-4",children:" Site Under Maintenance"}),F.jsx("p",{className:"text-lg",children:"We'll be back shortly. Thanks for your patience!"})]}),Ihe=kF.createRoot(document.getElementById("root")),Lhe=()=>{switch(cQ){case"construction":return F.jsx(Phe,{});case"maintenance":return F.jsx(Rhe,{});default:return F.jsx(ML,{defaultTheme:"light",children:F.jsx(Mhe,{})})}};Ihe.render(Lhe());
