function Ok(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Zm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var B_={exports:{}},Ap={},V_={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function Dk(){if(aT)return In;aT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,C={};function T(K,oe,we){this.props=K,this.context=oe,this.refs=C,this.updater=we||x}T.prototype.isReactComponent={},T.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},T.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function w(){}w.prototype=T.prototype;function R(K,oe,we){this.props=K,this.context=oe,this.refs=C,this.updater=we||x}var k=R.prototype=new w;k.constructor=R,M(k,T.prototype),k.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,X={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function z(K,oe,we){var ce,me={},_e=null,xe=null;if(oe!=null)for(ce in oe.ref!==void 0&&(xe=oe.ref),oe.key!==void 0&&(_e=""+oe.key),oe)j.call(oe,ce)&&!Z.hasOwnProperty(ce)&&(me[ce]=oe[ce]);var Ge=arguments.length-2;if(Ge===1)me.children=we;else if(1<Ge){for(var $e=Array(Ge),Qe=0;Qe<Ge;Qe++)$e[Qe]=arguments[Qe+2];me.children=$e}if(K&&K.defaultProps)for(ce in Ge=K.defaultProps,Ge)me[ce]===void 0&&(me[ce]=Ge[ce]);return{$$typeof:n,type:K,key:_e,ref:xe,props:me,_owner:X.current}}function U(K,oe){return{$$typeof:n,type:K.type,key:oe,ref:K.ref,props:K.props,_owner:K._owner}}function N(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function Y(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(we){return oe[we]})}var Q=/\/+/g;function ae(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?Y(""+K.key):oe.toString(36)}function se(K,oe,we,ce,me){var _e=typeof K;(_e==="undefined"||_e==="boolean")&&(K=null);var xe=!1;if(K===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(K.$$typeof){case n:case e:xe=!0}}if(xe)return xe=K,me=me(xe),K=ce===""?"."+ae(xe,0):ce,O(me)?(we="",K!=null&&(we=K.replace(Q,"$&/")+"/"),se(me,oe,we,"",function(Qe){return Qe})):me!=null&&(N(me)&&(me=U(me,we+(!me.key||xe&&xe.key===me.key?"":(""+me.key).replace(Q,"$&/")+"/")+K)),oe.push(me)),1;if(xe=0,ce=ce===""?".":ce+":",O(K))for(var Ge=0;Ge<K.length;Ge++){_e=K[Ge];var $e=ce+ae(_e,Ge);xe+=se(_e,oe,we,$e,me)}else if($e=_(K),typeof $e=="function")for(K=$e.call(K),Ge=0;!(_e=K.next()).done;)_e=_e.value,$e=ce+ae(_e,Ge++),xe+=se(_e,oe,we,$e,me);else if(_e==="object")throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return xe}function ge(K,oe,we){if(K==null)return K;var ce=[],me=0;return se(K,ce,"","",function(_e){return oe.call(we,_e,me++)}),ce}function he(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(we){(K._status===0||K._status===-1)&&(K._status=1,K._result=we)},function(we){(K._status===0||K._status===-1)&&(K._status=2,K._result=we)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var de={current:null},W={transition:null},ie={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:W,ReactCurrentOwner:X};function ee(){throw Error("act(...) is not supported in production builds of React.")}return In.Children={map:ge,forEach:function(K,oe,we){ge(K,function(){oe.apply(this,arguments)},we)},count:function(K){var oe=0;return ge(K,function(){oe++}),oe},toArray:function(K){return ge(K,function(oe){return oe})||[]},only:function(K){if(!N(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},In.Component=T,In.Fragment=t,In.Profiler=r,In.PureComponent=R,In.StrictMode=i,In.Suspense=d,In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,In.act=ee,In.cloneElement=function(K,oe,we){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var ce=M({},K.props),me=K.key,_e=K.ref,xe=K._owner;if(oe!=null){if(oe.ref!==void 0&&(_e=oe.ref,xe=X.current),oe.key!==void 0&&(me=""+oe.key),K.type&&K.type.defaultProps)var Ge=K.type.defaultProps;for($e in oe)j.call(oe,$e)&&!Z.hasOwnProperty($e)&&(ce[$e]=oe[$e]===void 0&&Ge!==void 0?Ge[$e]:oe[$e])}var $e=arguments.length-2;if($e===1)ce.children=we;else if(1<$e){Ge=Array($e);for(var Qe=0;Qe<$e;Qe++)Ge[Qe]=arguments[Qe+2];ce.children=Ge}return{$$typeof:n,type:K.type,key:me,ref:_e,props:ce,_owner:xe}},In.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},In.createElement=z,In.createFactory=function(K){var oe=z.bind(null,K);return oe.type=K,oe},In.createRef=function(){return{current:null}},In.forwardRef=function(K){return{$$typeof:l,render:K}},In.isValidElement=N,In.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:he}},In.memo=function(K,oe){return{$$typeof:f,type:K,compare:oe===void 0?null:oe}},In.startTransition=function(K){var oe=W.transition;W.transition={};try{K()}finally{W.transition=oe}},In.unstable_act=ee,In.useCallback=function(K,oe){return de.current.useCallback(K,oe)},In.useContext=function(K){return de.current.useContext(K)},In.useDebugValue=function(){},In.useDeferredValue=function(K){return de.current.useDeferredValue(K)},In.useEffect=function(K,oe){return de.current.useEffect(K,oe)},In.useId=function(){return de.current.useId()},In.useImperativeHandle=function(K,oe,we){return de.current.useImperativeHandle(K,oe,we)},In.useInsertionEffect=function(K,oe){return de.current.useInsertionEffect(K,oe)},In.useLayoutEffect=function(K,oe){return de.current.useLayoutEffect(K,oe)},In.useMemo=function(K,oe){return de.current.useMemo(K,oe)},In.useReducer=function(K,oe,we){return de.current.useReducer(K,oe,we)},In.useRef=function(K){return de.current.useRef(K)},In.useState=function(K){return de.current.useState(K)},In.useSyncExternalStore=function(K,oe,we){return de.current.useSyncExternalStore(K,oe,we)},In.useTransition=function(){return de.current.useTransition()},In.version="18.3.1",In}var lT;function Ym(){return lT||(lT=1,V_.exports=Dk()),V_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function Fk(){if(uT)return Ap;uT=1;var n=Ym(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,f){var m,v={},_=null,x=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)i.call(d,m)&&!s.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:l,key:_,ref:x,props:v,_owner:r.current}}return Ap.Fragment=t,Ap.jsx=o,Ap.jsxs=o,Ap}var cT;function zk(){return cT||(cT=1,B_.exports=Fk()),B_.exports}var V=zk(),qg={},H_={exports:{}},so={},j_={exports:{}},W_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function Uk(){return dT||(dT=1,function(n){function e(W,ie){var ee=W.length;W.push(ie);e:for(;0<ee;){var K=ee-1>>>1,oe=W[K];if(0<r(oe,ie))W[K]=ie,W[ee]=oe,ee=K;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ie=W[0],ee=W.pop();if(ee!==ie){W[0]=ee;e:for(var K=0,oe=W.length,we=oe>>>1;K<we;){var ce=2*(K+1)-1,me=W[ce],_e=ce+1,xe=W[_e];if(0>r(me,ee))_e<oe&&0>r(xe,me)?(W[K]=xe,W[_e]=ee,K=_e):(W[K]=me,W[ce]=ee,K=ce);else if(_e<oe&&0>r(xe,ee))W[K]=xe,W[_e]=ee,K=_e;else break e}}return ie}function r(W,ie){var ee=W.sortIndex-ie.sortIndex;return ee!==0?ee:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var d=[],f=[],m=1,v=null,_=3,x=!1,M=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var ie=t(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=W)i(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function O(W){if(C=!1,k(W),!M)if(t(d)!==null)M=!0,he(j);else{var ie=t(f);ie!==null&&de(O,ie.startTime-W)}}function j(W,ie){M=!1,C&&(C=!1,w(z),z=-1),x=!0;var ee=_;try{for(k(ie),v=t(d);v!==null&&(!(v.expirationTime>ie)||W&&!Y());){var K=v.callback;if(typeof K=="function"){v.callback=null,_=v.priorityLevel;var oe=K(v.expirationTime<=ie);ie=n.unstable_now(),typeof oe=="function"?v.callback=oe:v===t(d)&&i(d),k(ie)}else i(d);v=t(d)}if(v!==null)var we=!0;else{var ce=t(f);ce!==null&&de(O,ce.startTime-ie),we=!1}return we}finally{v=null,_=ee,x=!1}}var X=!1,Z=null,z=-1,U=5,N=-1;function Y(){return!(n.unstable_now()-N<U)}function Q(){if(Z!==null){var W=n.unstable_now();N=W;var ie=!0;try{ie=Z(!0,W)}finally{ie?ae():(X=!1,Z=null)}}else X=!1}var ae;if(typeof R=="function")ae=function(){R(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ge=se.port2;se.port1.onmessage=Q,ae=function(){ge.postMessage(null)}}else ae=function(){T(Q,0)};function he(W){Z=W,X||(X=!0,ae())}function de(W,ie){z=T(function(){W(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){M||x||(M=!0,he(j))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var ee=_;_=ie;try{return W()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=_;_=W;try{return ie()}finally{_=ee}},n.unstable_scheduleCallback=function(W,ie,ee){var K=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?K+ee:K):ee=K,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,W={id:m++,callback:ie,priorityLevel:W,startTime:ee,expirationTime:oe,sortIndex:-1},ee>K?(W.sortIndex=ee,e(f,W),t(d)===null&&W===t(f)&&(C?(w(z),z=-1):C=!0,de(O,ee-K))):(W.sortIndex=oe,e(d,W),M||x||(M=!0,he(j))),W},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(W){var ie=_;return function(){var ee=_;_=ie;try{return W.apply(this,arguments)}finally{_=ee}}}}(W_)),W_}var hT;function Bk(){return hT||(hT=1,j_.exports=Uk()),j_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function Vk(){if(fT)return so;fT=1;var n=Ym(),e=Bk();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,y=1;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(r[a]=c,a=0;a<c.length;a++)i.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function _(a){return d.call(v,a)?!0:d.call(m,a)?!1:f.test(a)?v[a]=!0:(m[a]=!0,!1)}function x(a,c,y,E){if(y!==null&&y.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return E?!1:y!==null?!y.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function M(a,c,y,E){if(c===null||typeof c>"u"||x(a,c,y,E))return!0;if(E)return!1;if(y!==null)switch(y.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function C(a,c,y,E,I,F,$){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=E,this.attributeNamespace=I,this.mustUseProperty=y,this.propertyName=a,this.type=c,this.sanitizeURL=F,this.removeEmptyString=$}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new C(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];T[c]=new C(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new C(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new C(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new C(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){T[a]=new C(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){T[a]=new C(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){T[a]=new C(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){T[a]=new C(a,5,!1,a.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(w,R);T[c]=new C(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(w,R);T[c]=new C(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(w,R);T[c]=new C(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){T[a]=new C(a,1,!1,a.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){T[a]=new C(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,y,E){var I=T.hasOwnProperty(c)?T[c]:null;(I!==null?I.type!==0:E||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(M(c,y,I,E)&&(y=null),E||I===null?_(c)&&(y===null?a.removeAttribute(c):a.setAttribute(c,""+y)):I.mustUseProperty?a[I.propertyName]=y===null?I.type===3?!1:"":y:(c=I.attributeName,E=I.attributeNamespace,y===null?a.removeAttribute(c):(I=I.type,y=I===3||I===4&&y===!0?"":""+y,E?a.setAttributeNS(E,c,y):a.setAttribute(c,y))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),X=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),W=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,K;function oe(a){if(K===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);K=c&&c[1]||""}return`
`+K+a}var we=!1;function ce(a,c){if(!a||we)return"";we=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ze){var E=ze}Reflect.construct(a,[],c)}else{try{c.call()}catch(ze){E=ze}a.call(c.prototype)}else{try{throw Error()}catch(ze){E=ze}a()}}catch(ze){if(ze&&E&&typeof ze.stack=="string"){for(var I=ze.stack.split(`
`),F=E.stack.split(`
`),$=I.length-1,fe=F.length-1;1<=$&&0<=fe&&I[$]!==F[fe];)fe--;for(;1<=$&&0<=fe;$--,fe--)if(I[$]!==F[fe]){if($!==1||fe!==1)do if($--,fe--,0>fe||I[$]!==F[fe]){var ve=`
`+I[$].replace(" at new "," at ");return a.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",a.displayName)),ve}while(1<=$&&0<=fe);break}}}finally{we=!1,Error.prepareStackTrace=y}return(a=a?a.displayName||a.name:"")?oe(a):""}function me(a){switch(a.tag){case 5:return oe(a.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return a=ce(a.type,!1),a;case 11:return a=ce(a.type.render,!1),a;case 1:return a=ce(a.type,!0),a;default:return""}}function _e(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Z:return"Fragment";case X:return"Portal";case U:return"Profiler";case z:return"StrictMode";case ae:return"Suspense";case se:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Y:return(a.displayName||"Context")+".Consumer";case N:return(a._context.displayName||"Context")+".Provider";case Q:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ge:return c=a.displayName||null,c!==null?c:_e(a.type)||"Memo";case he:c=a._payload,a=a._init;try{return _e(a(c))}catch{}}return null}function xe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(c);case 8:return c===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ge(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function $e(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Qe(a){var c=$e(a)?"checked":"value",y=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),E=""+a[c];if(!a.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var I=y.get,F=y.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return I.call(this)},set:function($){E=""+$,F.call(this,$)}}),Object.defineProperty(a,c,{enumerable:y.enumerable}),{getValue:function(){return E},setValue:function($){E=""+$},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function nt(a){a._valueTracker||(a._valueTracker=Qe(a))}function ht(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var y=c.getValue(),E="";return a&&(E=$e(a)?a.checked?"true":"false":a.value),a=E,a!==y?(c.setValue(a),!0):!1}function ct(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function re(a,c){var y=c.checked;return ee({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??a._wrapperState.initialChecked})}function rt(a,c){var y=c.defaultValue==null?"":c.defaultValue,E=c.checked!=null?c.checked:c.defaultChecked;y=Ge(c.value!=null?c.value:y),a._wrapperState={initialChecked:E,initialValue:y,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ze(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function Be(a,c){Ze(a,c);var y=Ge(c.value),E=c.type;if(y!=null)E==="number"?(y===0&&a.value===""||a.value!=y)&&(a.value=""+y):a.value!==""+y&&(a.value=""+y);else if(E==="submit"||E==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Xe(a,c.type,y):c.hasOwnProperty("defaultValue")&&Xe(a,c.type,Ge(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Pe(a,c,y){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var E=c.type;if(!(E!=="submit"&&E!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,y||c===a.value||(a.value=c),a.defaultValue=c}y=a.name,y!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,y!==""&&(a.name=y)}function Xe(a,c,y){(c!=="number"||ct(a.ownerDocument)!==a)&&(y==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+y&&(a.defaultValue=""+y))}var Me=Array.isArray;function We(a,c,y,E){if(a=a.options,c){c={};for(var I=0;I<y.length;I++)c["$"+y[I]]=!0;for(y=0;y<a.length;y++)I=c.hasOwnProperty("$"+a[y].value),a[y].selected!==I&&(a[y].selected=I),I&&E&&(a[y].defaultSelected=!0)}else{for(y=""+Ge(y),c=null,I=0;I<a.length;I++){if(a[I].value===y){a[I].selected=!0,E&&(a[I].defaultSelected=!0);return}c!==null||a[I].disabled||(c=a[I])}c!==null&&(c.selected=!0)}}function it(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ne(a,c){var y=c.value;if(y==null){if(y=c.children,c=c.defaultValue,y!=null){if(c!=null)throw Error(t(92));if(Me(y)){if(1<y.length)throw Error(t(93));y=y[0]}c=y}c==null&&(c=""),y=c}a._wrapperState={initialValue:Ge(y)}}function q(a,c){var y=Ge(c.value),E=Ge(c.defaultValue);y!=null&&(y=""+y,y!==a.value&&(a.value=y),c.defaultValue==null&&a.defaultValue!==y&&(a.defaultValue=y)),E!=null&&(a.defaultValue=""+E)}function Se(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Re(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Re(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ue,It=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,y,E,I){MSApp.execUnsafeLocalFunction(function(){return a(c,y,E,I)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ue.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function ot(a,c){if(c){var y=a.firstChild;if(y&&y===a.lastChild&&y.nodeType===3){y.nodeValue=c;return}}a.textContent=c}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(a){yt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),At[c]=At[a]})});function qe(a,c,y){return c==null||typeof c=="boolean"||c===""?"":y||typeof c!="number"||c===0||At.hasOwnProperty(a)&&At[a]?(""+c).trim():c+"px"}function _t(a,c){a=a.style;for(var y in c)if(c.hasOwnProperty(y)){var E=y.indexOf("--")===0,I=qe(y,c[y],E);y==="float"&&(y="cssFloat"),E?a.setProperty(y,I):a[y]=I}}var Wt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(a,c){if(c){if(Wt[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function pt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function ye(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xt=null,et=null,Mt=null;function st(a){if(a=Ls(a)){if(typeof xt!="function")throw Error(t(280));var c=a.stateNode;c&&(c=sc(c),xt(a.stateNode,a.type,c))}}function Ye(a){et?Mt?Mt.push(a):Mt=[a]:et=a}function Ke(){if(et){var a=et,c=Mt;if(Mt=et=null,st(a),c)for(a=0;a<c.length;a++)st(c[a])}}function Et(a,c){return a(c)}function Jt(){}var an=!1;function Un(a,c,y){if(an)return a(c,y);an=!0;try{return Et(a,c,y)}finally{an=!1,(et!==null||Mt!==null)&&(Jt(),Ke())}}function ti(a,c){var y=a.stateNode;if(y===null)return null;var E=sc(y);if(E===null)return null;y=E[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(a=a.type,E=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!E;break e;default:a=!1}if(a)return null;if(y&&typeof y!="function")throw Error(t(231,c,typeof y));return y}var br=!1;if(l)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){br=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{br=!1}function Ai(a,c,y,E,I,F,$,fe,ve){var ze=Array.prototype.slice.call(arguments,3);try{c.apply(y,ze)}catch(lt){this.onError(lt)}}var _i=!1,Vt=null,os=!1,go=null,zl={onError:function(a){_i=!0,Vt=a}};function ua(a,c,y,E,I,F,$,fe,ve){_i=!1,Vt=null,Ai.apply(zl,arguments)}function el(a,c,y,E,I,F,$,fe,ve){if(ua.apply(this,arguments),_i){if(_i){var ze=Vt;_i=!1,Vt=null}else throw Error(t(198));os||(os=!0,go=ze)}}function Ss(a){var c=a,y=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(y=c.return),a=c.return;while(a)}return c.tag===3?y:null}function vo(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Ul(a){if(Ss(a)!==a)throw Error(t(188))}function Fu(a){var c=a.alternate;if(!c){if(c=Ss(a),c===null)throw Error(t(188));return c!==a?null:a}for(var y=a,E=c;;){var I=y.return;if(I===null)break;var F=I.alternate;if(F===null){if(E=I.return,E!==null){y=E;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===y)return Ul(I),a;if(F===E)return Ul(I),c;F=F.sibling}throw Error(t(188))}if(y.return!==E.return)y=I,E=F;else{for(var $=!1,fe=I.child;fe;){if(fe===y){$=!0,y=I,E=F;break}if(fe===E){$=!0,E=I,y=F;break}fe=fe.sibling}if(!$){for(fe=F.child;fe;){if(fe===y){$=!0,y=F,E=I;break}if(fe===E){$=!0,E=F,y=I;break}fe=fe.sibling}if(!$)throw Error(t(189))}}if(y.alternate!==E)throw Error(t(190))}if(y.tag!==3)throw Error(t(188));return y.stateNode.current===y?a:c}function zu(a){return a=Fu(a),a!==null?Uu(a):null}function Uu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Uu(a);if(c!==null)return c;a=a.sibling}return null}var Bu=e.unstable_scheduleCallback,te=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,De=e.unstable_requestPaint,Ie=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,Lt=e.unstable_LowPriority,Zt=e.unstable_IdlePriority,Yt=null,ft=null;function Nt(a){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Yt,a,void 0,(a.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:mn,jt=Math.log,cn=Math.LN2;function mn(a){return a>>>=0,a===0?32:31-(jt(a)/cn|0)|0}var Dt=64,dn=4194304;function wt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function wn(a,c){var y=a.pendingLanes;if(y===0)return 0;var E=0,I=a.suspendedLanes,F=a.pingedLanes,$=y&268435455;if($!==0){var fe=$&~I;fe!==0?E=wt(fe):(F&=$,F!==0&&(E=wt(F)))}else $=y&~I,$!==0?E=wt($):F!==0&&(E=wt(F));if(E===0)return 0;if(c!==0&&c!==E&&(c&I)===0&&(I=E&-E,F=c&-c,I>=F||I===16&&(F&4194240)!==0))return c;if((E&4)!==0&&(E|=y&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=E;0<c;)y=31-bt(c),I=1<<y,E|=a[y],c&=~I;return E}function bs(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(a,c){for(var y=a.suspendedLanes,E=a.pingedLanes,I=a.expirationTimes,F=a.pendingLanes;0<F;){var $=31-bt(F),fe=1<<$,ve=I[$];ve===-1?((fe&y)===0||(fe&E)!==0)&&(I[$]=bs(fe,c)):ve<=c&&(a.expiredLanes|=fe),F&=~fe}}function fi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Cn(){var a=Dt;return Dt<<=1,(Dt&4194240)===0&&(Dt=64),a}function Pi(a){for(var c=[],y=0;31>y;y++)c.push(a);return c}function ni(a,c,y){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-bt(c),a[c]=y}function Rn(a,c){var y=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var E=a.eventTimes;for(a=a.expirationTimes;0<y;){var I=31-bt(y),F=1<<I;c[I]=0,E[I]=-1,a[I]=-1,y&=~F}}function Gn(a,c){var y=a.entangledLanes|=c;for(a=a.entanglements;y;){var E=31-bt(y),I=1<<E;I&c|a[E]&c&&(a[E]|=c),y&=~I}}var gn=0;function Di(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ca,da,Vu,tl,ha,yo=!1,nl=[],zr=null,vn=null,Ts=null,fa=new Map,sn=new Map,Gi=[],Yn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xi(a,c){switch(a){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":fa.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(c.pointerId)}}function _o(a,c,y,E,I,F){return a===null||a.nativeEvent!==F?(a={blockedOn:c,domEventName:y,eventSystemFlags:E,nativeEvent:F,targetContainers:[I]},c!==null&&(c=Ls(c),c!==null&&da(c)),a):(a.eventSystemFlags|=E,c=a.targetContainers,I!==null&&c.indexOf(I)===-1&&c.push(I),a)}function $c(a,c,y,E,I){switch(c){case"focusin":return zr=_o(zr,a,c,y,E,I),!0;case"dragenter":return vn=_o(vn,a,c,y,E,I),!0;case"mouseover":return Ts=_o(Ts,a,c,y,E,I),!0;case"pointerover":var F=I.pointerId;return fa.set(F,_o(fa.get(F)||null,a,c,y,E,I)),!0;case"gotpointercapture":return F=I.pointerId,sn.set(F,_o(sn.get(F)||null,a,c,y,E,I)),!0}return!1}function il(a){var c=Zo(a.target);if(c!==null){var y=Ss(c);if(y!==null){if(c=y.tag,c===13){if(c=vo(y),c!==null){a.blockedOn=c,ha(a.priority,function(){Vu(y)});return}}else if(c===3&&y.stateNode.current.memoizedState.isDehydrated){a.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xs(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var y=Br(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(y===null){y=a.nativeEvent;var E=new y.constructor(y.type,y);en=E,y.target.dispatchEvent(E),en=null}else return c=Ls(y),c!==null&&da(c),a.blockedOn=y,!1;c.shift()}return!0}function pa(a,c,y){Xs(a)&&y.delete(c)}function Tr(){yo=!1,zr!==null&&Xs(zr)&&(zr=null),vn!==null&&Xs(vn)&&(vn=null),Ts!==null&&Xs(Ts)&&(Ts=null),fa.forEach(pa),sn.forEach(pa)}function pi(a,c){a.blockedOn===c&&(a.blockedOn=null,yo||(yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tr)))}function Ms(a){function c(I){return pi(I,a)}if(0<nl.length){pi(nl[0],a);for(var y=1;y<nl.length;y++){var E=nl[y];E.blockedOn===a&&(E.blockedOn=null)}}for(zr!==null&&pi(zr,a),vn!==null&&pi(vn,a),Ts!==null&&pi(Ts,a),fa.forEach(c),sn.forEach(c),y=0;y<Gi.length;y++)E=Gi[y],E.blockedOn===a&&(E.blockedOn=null);for(;0<Gi.length&&(y=Gi[0],y.blockedOn===null);)il(y),y.blockedOn===null&&Gi.shift()}var Qi=O.ReactCurrentBatchConfig,Ur=!0;function Hu(a,c,y,E){var I=gn,F=Qi.transition;Qi.transition=null;try{gn=1,rl(a,c,y,E)}finally{gn=I,Qi.transition=F}}function ju(a,c,y,E){var I=gn,F=Qi.transition;Qi.transition=null;try{gn=4,rl(a,c,y,E)}finally{gn=I,Qi.transition=F}}function rl(a,c,y,E){if(Ur){var I=Br(a,c,y,E);if(I===null)u(a,c,E,Wu,y),xi(a,E);else if($c(I,a,c,y,E))E.stopPropagation();else if(xi(a,E),c&4&&-1<Yn.indexOf(a)){for(;I!==null;){var F=Ls(I);if(F!==null&&ca(F),F=Br(a,c,y,E),F===null&&u(a,c,E,Wu,y),F===I)break;I=F}I!==null&&E.stopPropagation()}else u(a,c,E,null,y)}}var Wu=null;function Br(a,c,y,E){if(Wu=null,a=ye(E),a=Zo(a),a!==null)if(c=Ss(a),c===null)a=null;else if(y=c.tag,y===13){if(a=vo(c),a!==null)return a;a=null}else if(y===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Wu=a,null}function Ln(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ee()){case ut:return 1;case Tt:return 4;case Ot:case Lt:return 16;case Zt:return 536870912;default:return 16}default:return 16}}var Es=null,Vr=null,Fi=null;function sl(){if(Fi)return Fi;var a,c=Vr,y=c.length,E,I="value"in Es?Es.value:Es.textContent,F=I.length;for(a=0;a<y&&c[a]===I[a];a++);var $=y-a;for(E=1;E<=$&&c[y-E]===I[F-E];E++);return Fi=I.slice(a,1<E?1-E:void 0)}function ma(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Cs(){return!0}function Gu(){return!1}function er(a){function c(y,E,I,F,$){this._reactName=y,this._targetInst=I,this.type=E,this.nativeEvent=F,this.target=$,this.currentTarget=null;for(var fe in a)a.hasOwnProperty(fe)&&(y=a[fe],this[fe]=y?y(F):F[fe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Cs:Gu,this.isPropagationStopped=Gu,this}return ee(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),c}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=er(ga),xo=ee({},ga,{view:0,detail:0}),ol=er(xo),ai,as,Hr,jr=ee({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Hr&&(Hr&&a.type==="mousemove"?(ai=a.screenX-Hr.screenX,as=a.screenY-Hr.screenY):as=ai=0,Hr=a),ai)},movementY:function(a){return"movementY"in a?a.movementY:as}}),Xu=er(jr),Zs=ee({},jr,{dataTransfer:0}),Ys=er(Zs),Zu=ee({},xo,{relatedTarget:0}),Vl=er(Zu),Hl=ee({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=er(Hl),gh=ee({},ga,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jl=er(gh),Yu=ee({},ga,{data:0}),qu=er(Yu),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=wo[a])?!!c[a]:!1}function ls(){return al}var hr=ee({},xo,{key:function(a){if(a.key){var c=Kc[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ma(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Wl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(a){return a.type==="keypress"?ma(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ma(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Gl=er(hr),Wr=ee({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gr=er(Wr),So=ee({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),As=er(So),bo=ee({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=er(bo),Jc=ee({},jr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Qc=er(Jc),Xr=[9,13,27,32],wi=l&&"CompositionEvent"in window,Xi=null;l&&"documentMode"in document&&(Xi=document.documentMode);var kn=l&&"TextEvent"in window&&!Xi,ll=l&&(!wi||Xi&&8<Xi&&11>=Xi),Zi=" ",ed=!1;function ya(a,c){switch(a){case"keyup":return Xr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ps=!1;function vh(a,c){switch(a){case"compositionend":return Xl(c);case"keypress":return c.which!==32?null:(ed=!0,Zi);case"textInput":return a=c.data,a===Zi&&ed?null:a;default:return null}}function us(a,c){if(Ps)return a==="compositionend"||!wi&&ya(a,c)?(a=sl(),Fi=Vr=Es=null,Ps=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ll&&c.locale!=="ko"?null:c.data;default:return null}}var To={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!To[a.type]:c==="textarea"}function Vo(a,c,y,E){Ye(E),c=S(c,"onChange"),0<c.length&&(y=new Bl("onChange","change",null,y,E),a.push({event:y,listeners:c}))}var Ho=null,Mr=null;function yh(a){ba(a,0)}function Er(a){var c=ci(a);if(ht(c))return a}function _h(a,c){if(a==="change")return c}var Cr=!1;if(l){var Yi;if(l){var jo="oninput"in document;if(!jo){var Mo=document.createElement("div");Mo.setAttribute("oninput","return;"),jo=typeof Mo.oninput=="function"}Yi=jo}else Yi=!1;Cr=Yi&&(!document.documentMode||9<document.documentMode)}function Ar(){Ho&&(Ho.detachEvent("onpropertychange",ul),Mr=Ho=null)}function ul(a){if(a.propertyName==="value"&&Er(Mr)){var c=[];Vo(c,Mr,a,ye(a)),Un(yh,c)}}function Eo(a,c,y){a==="focusin"?(Ar(),Ho=c,Mr=y,Ho.attachEvent("onpropertychange",ul)):a==="focusout"&&Ar()}function _a(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Er(Mr)}function cl(a,c){if(a==="click")return Er(c)}function Kn(a,c){if(a==="input"||a==="change")return Er(c)}function Zl(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Zr=typeof Object.is=="function"?Object.is:Zl;function qs(a,c){if(Zr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var y=Object.keys(a),E=Object.keys(c);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var I=y[E];if(!d.call(c,I)||!Zr(a[I],c[I]))return!1}return!0}function Yl(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Pr(a,c){var y=Yl(a);a=0;for(var E;y;){if(y.nodeType===3){if(E=a+y.textContent.length,a<=c&&E>=c)return{node:y,offset:c-a};a=E}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Yl(y)}}function xa(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?xa(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function ii(){for(var a=window,c=ct();c instanceof a.HTMLIFrameElement;){try{var y=typeof c.contentWindow.location.href=="string"}catch{y=!1}if(y)a=c.contentWindow;else break;c=ct(a.document)}return c}function zi(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Xn(a){var c=ii(),y=a.focusedElem,E=a.selectionRange;if(c!==y&&y&&y.ownerDocument&&xa(y.ownerDocument.documentElement,y)){if(E!==null&&zi(y)){if(c=E.start,a=E.end,a===void 0&&(a=c),"selectionStart"in y)y.selectionStart=c,y.selectionEnd=Math.min(a,y.value.length);else if(a=(c=y.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var I=y.textContent.length,F=Math.min(E.start,I);E=E.end===void 0?F:Math.min(E.end,I),!a.extend&&F>E&&(I=E,E=F,F=I),I=Pr(y,F);var $=Pr(y,E);I&&$&&(a.rangeCount!==1||a.anchorNode!==I.node||a.anchorOffset!==I.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(c=c.createRange(),c.setStart(I.node,I.offset),a.removeAllRanges(),F>E?(a.addRange(c),a.extend($.node,$.offset)):(c.setEnd($.node,$.offset),a.addRange(c)))}}for(c=[],a=y;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<c.length;y++)a=c[y],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wa=l&&"documentMode"in document&&11>=document.documentMode,$s=null,Ks=null,ql=null,Ri=!1;function Ku(a,c,y){var E=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ri||$s==null||$s!==ct(E)||(E=$s,"selectionStart"in E&&zi(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),ql&&qs(ql,E)||(ql=E,E=S(Ks,"onSelect"),0<E.length&&(c=new Bl("onSelect","select",null,c,y),a.push({event:c,listeners:E}),c.target=$s)))}function Js(a,c){var y={};return y[a.toLowerCase()]=c.toLowerCase(),y["Webkit"+a]="webkit"+c,y["Moz"+a]="moz"+c,y}var Wo={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},tr={},cs={};l&&(cs=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Rs(a){if(tr[a])return tr[a];if(!Wo[a])return a;var c=Wo[a],y;for(y in c)if(c.hasOwnProperty(y)&&y in cs)return tr[a]=c[y];return a}var $l=Rs("animationend"),Yr=Rs("animationiteration"),Ju=Rs("animationstart"),Qu=Rs("transitionend"),Sa=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(a,c){Sa.set(a,c),s(c,[a])}for(var Go=0;Go<td.length;Go++){var dl=td[Go],hl=dl.toLowerCase(),xh=dl[0].toUpperCase()+dl.slice(1);ds(hl,"on"+xh)}ds($l,"onAnimationEnd"),ds(Yr,"onAnimationIteration"),ds(Ju,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(Qu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Jl(a,c,y){var E=a.type||"unknown-event";a.currentTarget=y,el(E,c,void 0,a),a.currentTarget=null}function ba(a,c){c=(c&4)!==0;for(var y=0;y<a.length;y++){var E=a[y],I=E.event;E=E.listeners;e:{var F=void 0;if(c)for(var $=E.length-1;0<=$;$--){var fe=E[$],ve=fe.instance,ze=fe.currentTarget;if(fe=fe.listener,ve!==F&&I.isPropagationStopped())break e;Jl(I,fe,ze),F=ve}else for($=0;$<E.length;$++){if(fe=E[$],ve=fe.instance,ze=fe.currentTarget,fe=fe.listener,ve!==F&&I.isPropagationStopped())break e;Jl(I,fe,ze),F=ve}}}if(os)throw a=go,os=!1,go=null,a}function Zn(a,c){var y=c[Qs];y===void 0&&(y=c[Qs]=new Set);var E=a+"__bubble";y.has(E)||(tc(c,a,2,!1),y.add(E))}function ec(a,c,y){var E=0;c&&(E|=4),tc(y,a,E,c)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Ta(a){if(!a[fl]){a[fl]=!0,i.forEach(function(y){y!=="selectionchange"&&(Kl.has(y)||ec(y,!1,a),ec(y,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[fl]||(c[fl]=!0,ec("selectionchange",!1,c))}}function tc(a,c,y,E){switch(Ln(c)){case 1:var I=Hu;break;case 4:I=ju;break;default:I=rl}y=I.bind(null,c,y,a),I=void 0,!br||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(I=!0),E?I!==void 0?a.addEventListener(c,y,{capture:!0,passive:I}):a.addEventListener(c,y,!0):I!==void 0?a.addEventListener(c,y,{passive:I}):a.addEventListener(c,y,!1)}function u(a,c,y,E,I){var F=E;if((c&1)===0&&(c&2)===0&&E!==null)e:for(;;){if(E===null)return;var $=E.tag;if($===3||$===4){var fe=E.stateNode.containerInfo;if(fe===I||fe.nodeType===8&&fe.parentNode===I)break;if($===4)for($=E.return;$!==null;){var ve=$.tag;if((ve===3||ve===4)&&(ve=$.stateNode.containerInfo,ve===I||ve.nodeType===8&&ve.parentNode===I))return;$=$.return}for(;fe!==null;){if($=Zo(fe),$===null)return;if(ve=$.tag,ve===5||ve===6){E=F=$;continue e}fe=fe.parentNode}}E=E.return}Un(function(){var ze=F,lt=ye(y),dt=[];e:{var at=Sa.get(a);if(at!==void 0){var Ft=Bl,Gt=a;switch(a){case"keypress":if(ma(y)===0)break e;case"keydown":case"keyup":Ft=Gl;break;case"focusin":Gt="focus",Ft=Vl;break;case"focusout":Gt="blur",Ft=Vl;break;case"beforeblur":case"afterblur":Ft=Vl;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Ys;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=As;break;case $l:case Yr:case Ju:Ft=mh;break;case Qu:Ft=va;break;case"scroll":Ft=ol;break;case"wheel":Ft=Qc;break;case"copy":case"cut":case"paste":Ft=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Gr}var qt=(c&4)!==0,$i=!qt&&a==="scroll",ke=qt?at!==null?at+"Capture":null:at;qt=[];for(var be=ze,Ne;be!==null;){Ne=be;var gt=Ne.stateNode;if(Ne.tag===5&&gt!==null&&(Ne=gt,ke!==null&&(gt=ti(be,ke),gt!=null&&qt.push(g(be,gt,Ne)))),$i)break;be=be.return}0<qt.length&&(at=new Ft(at,Gt,null,y,lt),dt.push({event:at,listeners:qt}))}}if((c&7)===0){e:{if(at=a==="mouseover"||a==="pointerover",Ft=a==="mouseout"||a==="pointerout",at&&y!==en&&(Gt=y.relatedTarget||y.fromElement)&&(Zo(Gt)||Gt[Nn]))break e;if((Ft||at)&&(at=lt.window===lt?lt:(at=lt.ownerDocument)?at.defaultView||at.parentWindow:window,Ft?(Gt=y.relatedTarget||y.toElement,Ft=ze,Gt=Gt?Zo(Gt):null,Gt!==null&&($i=Ss(Gt),Gt!==$i||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Ft=null,Gt=ze),Ft!==Gt)){if(qt=Xu,gt="onMouseLeave",ke="onMouseEnter",be="mouse",(a==="pointerout"||a==="pointerover")&&(qt=Gr,gt="onPointerLeave",ke="onPointerEnter",be="pointer"),$i=Ft==null?at:ci(Ft),Ne=Gt==null?at:ci(Gt),at=new qt(gt,be+"leave",Ft,y,lt),at.target=$i,at.relatedTarget=Ne,gt=null,Zo(lt)===ze&&(qt=new qt(ke,be+"enter",Gt,y,lt),qt.target=Ne,qt.relatedTarget=$i,gt=qt),$i=gt,Ft&&Gt)t:{for(qt=Ft,ke=Gt,be=0,Ne=qt;Ne;Ne=P(Ne))be++;for(Ne=0,gt=ke;gt;gt=P(gt))Ne++;for(;0<be-Ne;)qt=P(qt),be--;for(;0<Ne-be;)ke=P(ke),Ne--;for(;be--;){if(qt===ke||ke!==null&&qt===ke.alternate)break t;qt=P(qt),ke=P(ke)}qt=null}else qt=null;Ft!==null&&B(dt,at,Ft,qt,!1),Gt!==null&&$i!==null&&B(dt,$i,Gt,qt,!0)}}e:{if(at=ze?ci(ze):window,Ft=at.nodeName&&at.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&at.type==="file")var Kt=_h;else if($u(at))if(Cr)Kt=Kn;else{Kt=_a;var nn=Eo}else(Ft=at.nodeName)&&Ft.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(Kt=cl);if(Kt&&(Kt=Kt(a,ze))){Vo(dt,Kt,y,lt);break e}nn&&nn(a,at,ze),a==="focusout"&&(nn=at._wrapperState)&&nn.controlled&&at.type==="number"&&Xe(at,"number",at.value)}switch(nn=ze?ci(ze):window,a){case"focusin":($u(nn)||nn.contentEditable==="true")&&($s=nn,Ks=ze,ql=null);break;case"focusout":ql=Ks=$s=null;break;case"mousedown":Ri=!0;break;case"contextmenu":case"mouseup":case"dragend":Ri=!1,Ku(dt,y,lt);break;case"selectionchange":if(wa)break;case"keydown":case"keyup":Ku(dt,y,lt)}var rn;if(wi)e:{switch(a){case"compositionstart":var hn="onCompositionStart";break e;case"compositionend":hn="onCompositionEnd";break e;case"compositionupdate":hn="onCompositionUpdate";break e}hn=void 0}else Ps?ya(a,y)&&(hn="onCompositionEnd"):a==="keydown"&&y.keyCode===229&&(hn="onCompositionStart");hn&&(ll&&y.locale!=="ko"&&(Ps||hn!=="onCompositionStart"?hn==="onCompositionEnd"&&Ps&&(rn=sl()):(Es=lt,Vr="value"in Es?Es.value:Es.textContent,Ps=!0)),nn=S(ze,hn),0<nn.length&&(hn=new qu(hn,a,null,y,lt),dt.push({event:hn,listeners:nn}),rn?hn.data=rn:(rn=Xl(y),rn!==null&&(hn.data=rn)))),(rn=kn?vh(a,y):us(a,y))&&(ze=S(ze,"onBeforeInput"),0<ze.length&&(lt=new qu("onBeforeInput","beforeinput",null,y,lt),dt.push({event:lt,listeners:ze}),lt.data=rn))}ba(dt,c)})}function g(a,c,y){return{instance:a,listener:c,currentTarget:y}}function S(a,c){for(var y=c+"Capture",E=[];a!==null;){var I=a,F=I.stateNode;I.tag===5&&F!==null&&(I=F,F=ti(a,y),F!=null&&E.unshift(g(a,F,I)),F=ti(a,c),F!=null&&E.push(g(a,F,I))),a=a.return}return E}function P(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function B(a,c,y,E,I){for(var F=c._reactName,$=[];y!==null&&y!==E;){var fe=y,ve=fe.alternate,ze=fe.stateNode;if(ve!==null&&ve===E)break;fe.tag===5&&ze!==null&&(fe=ze,I?(ve=ti(y,F),ve!=null&&$.unshift(g(y,ve,fe))):I||(ve=ti(y,F),ve!=null&&$.push(g(y,ve,fe)))),y=y.return}$.length!==0&&a.push({event:c,listeners:$})}var J=/\r\n?/g,pe=/\u0000|\uFFFD/g;function Le(a){return(typeof a=="string"?a:""+a).replace(J,`
`).replace(pe,"")}function Fe(a,c,y){if(c=Le(c),Le(a)!==c&&y)throw Error(t(425))}function Je(){}var Ct=null,Qt=null;function yn(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var qi=typeof setTimeout=="function"?setTimeout:void 0,Si=typeof clearTimeout=="function"?clearTimeout:void 0,fr=typeof Promise=="function"?Promise:void 0,Rr=typeof queueMicrotask=="function"?queueMicrotask:typeof fr<"u"?function(a){return fr.resolve(null).then(a).catch(Ma)}:qi;function Ma(a){setTimeout(function(){throw a})}function nc(a,c){var y=c,E=0;do{var I=y.nextSibling;if(a.removeChild(y),I&&I.nodeType===8)if(y=I.data,y==="/$"){if(E===0){a.removeChild(I),Ms(c);return}E--}else y!=="$"&&y!=="$?"&&y!=="$!"||E++;y=I}while(y);Ms(c)}function Ao(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function nd(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var y=a.data;if(y==="$"||y==="$!"||y==="$?"){if(c===0)return a;c--}else y==="/$"&&c++}a=a.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Li="__reactFiber$"+Xo,Ea="__reactProps$"+Xo,Nn="__reactContainer$"+Xo,Qs="__reactEvents$"+Xo,ic="__reactListeners$"+Xo,rc="__reactHandles$"+Xo;function Zo(a){var c=a[Li];if(c)return c;for(var y=a.parentNode;y;){if(c=y[Nn]||y[Li]){if(y=c.alternate,c.child!==null||y!==null&&y.child!==null)for(a=nd(a);a!==null;){if(y=a[Li])return y;a=nd(a)}return c}a=y,y=a.parentNode}return null}function Ls(a){return a=a[Li]||a[Nn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ci(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function sc(a){return a[Ea]||null}var np=[],nr=-1;function bi(a){return{current:a}}function ri(a){0>nr||(a.current=np[nr],np[nr]=null,nr--)}function Jn(a,c){nr++,np[nr]=a.current,a.current=c}var Ca={},pr=bi(Ca),qr=bi(!1),Aa=Ca;function Ql(a,c){var y=a.type.contextTypes;if(!y)return Ca;var E=a.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===c)return E.__reactInternalMemoizedMaskedChildContext;var I={},F;for(F in y)I[F]=c[F];return E&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=I),I}function Lr(a){return a=a.childContextTypes,a!=null}function id(){ri(qr),ri(pr)}function ip(a,c,y){if(pr.current!==Ca)throw Error(t(168));Jn(pr,c),Jn(qr,y)}function rd(a,c,y){var E=a.stateNode;if(c=c.childContextTypes,typeof E.getChildContext!="function")return y;E=E.getChildContext();for(var I in E)if(!(I in c))throw Error(t(108,xe(a)||"Unknown",I));return ee({},y,E)}function eu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ca,Aa=pr.current,Jn(pr,a),Jn(qr,qr.current),!0}function rp(a,c,y){var E=a.stateNode;if(!E)throw Error(t(169));y?(a=rd(a,c,Aa),E.__reactInternalMemoizedMergedChildContext=a,ri(qr),ri(pr),Jn(pr,a)):ri(qr),Jn(qr,y)}var Po=null,sd=!1,wh=!1;function od(a){Po===null?Po=[a]:Po.push(a)}function yg(a){sd=!0,od(a)}function Yo(){if(!wh&&Po!==null){wh=!0;var a=0,c=gn;try{var y=Po;for(gn=1;a<y.length;a++){var E=y[a];do E=E(!0);while(E!==null)}Po=null,sd=!1}catch(I){throw Po!==null&&(Po=Po.slice(a+1)),Bu(ut,Yo),I}finally{gn=c,wh=!1}}return null}var tu=[],hs=0,Sh=null,bh=0,$r=[],ir=0,nu=null,St=1,eo="";function Pa(a,c){tu[hs++]=bh,tu[hs++]=Sh,Sh=a,bh=c}function sp(a,c,y){$r[ir++]=St,$r[ir++]=eo,$r[ir++]=nu,nu=a;var E=St;a=eo;var I=32-bt(E)-1;E&=~(1<<I),y+=1;var F=32-bt(c)+I;if(30<F){var $=I-I%5;F=(E&(1<<$)-1).toString(32),E>>=$,I-=$,St=1<<32-bt(c)+I|y<<I|E,eo=F+a}else St=1<<F|y<<I|E,eo=a}function op(a){a.return!==null&&(Pa(a,1),sp(a,1,0))}function Ra(a){for(;a===Sh;)Sh=tu[--hs],tu[hs]=null,bh=tu[--hs],tu[hs]=null;for(;a===nu;)nu=$r[--ir],$r[ir]=null,eo=$r[--ir],$r[ir]=null,St=$r[--ir],$r[ir]=null}var mr=null,Kr=null,li=!1,to=null;function ap(a,c){var y=Qo(5,null,null,0);y.elementType="DELETED",y.stateNode=c,y.return=a,c=a.deletions,c===null?(a.deletions=[y],a.flags|=16):c.push(y)}function lp(a,c){switch(a.tag){case 5:var y=a.type;return c=c.nodeType!==1||y.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,mr=a,Kr=Ao(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,mr=a,Kr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(y=nu!==null?{id:St,overflow:eo}:null,a.memoizedState={dehydrated:c,treeContext:y,retryLane:1073741824},y=Qo(18,null,null,0),y.stateNode=c,y.return=a,a.child=y,mr=a,Kr=null,!0):!1;default:return!1}}function Th(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Mh(a){if(li){var c=Kr;if(c){var y=c;if(!lp(a,c)){if(Th(a))throw Error(t(418));c=Ao(y.nextSibling);var E=mr;c&&lp(a,c)?ap(E,y):(a.flags=a.flags&-4097|2,li=!1,mr=a)}}else{if(Th(a))throw Error(t(418));a.flags=a.flags&-4097|2,li=!1,mr=a}}}function Eh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;mr=a}function oc(a){if(a!==mr)return!1;if(!li)return Eh(a),li=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!yn(a.type,a.memoizedProps)),c&&(c=Kr)){if(Th(a))throw up(),Error(t(418));for(;c;)ap(a,c),c=Ao(c.nextSibling)}if(Eh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var y=a.data;if(y==="/$"){if(c===0){Kr=Ao(a.nextSibling);break e}c--}else y!=="$"&&y!=="$!"&&y!=="$?"||c++}a=a.nextSibling}Kr=null}}else Kr=mr?Ao(a.stateNode.nextSibling):null;return!0}function up(){for(var a=Kr;a;)a=Ao(a.nextSibling)}function pl(){Kr=mr=null,li=!1}function ac(a){to===null?to=[a]:to.push(a)}var m_=O.ReactCurrentBatchConfig;function ad(a,c,y){if(a=y.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(t(309));var E=y.stateNode}if(!E)throw Error(t(147,a));var I=E,F=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===F?c.ref:(c=function($){var fe=I.refs;$===null?delete fe[F]:fe[F]=$},c._stringRef=F,c)}if(typeof a!="string")throw Error(t(284));if(!y._owner)throw Error(t(290,a))}return a}function ld(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function cp(a){var c=a._init;return c(a._payload)}function dp(a){function c(ke,be){if(a){var Ne=ke.deletions;Ne===null?(ke.deletions=[be],ke.flags|=16):Ne.push(be)}}function y(ke,be){if(!a)return null;for(;be!==null;)c(ke,be),be=be.sibling;return null}function E(ke,be){for(ke=new Map;be!==null;)be.key!==null?ke.set(be.key,be):ke.set(be.index,be),be=be.sibling;return ke}function I(ke,be){return ke=yc(ke,be),ke.index=0,ke.sibling=null,ke}function F(ke,be,Ne){return ke.index=Ne,a?(Ne=ke.alternate,Ne!==null?(Ne=Ne.index,Ne<be?(ke.flags|=2,be):Ne):(ke.flags|=2,be)):(ke.flags|=1048576,be)}function $(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function fe(ke,be,Ne,gt){return be===null||be.tag!==6?(be=N_(Ne,ke.mode,gt),be.return=ke,be):(be=I(be,Ne),be.return=ke,be)}function ve(ke,be,Ne,gt){var Kt=Ne.type;return Kt===Z?lt(ke,be,Ne.props.children,gt,Ne.key):be!==null&&(be.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===he&&cp(Kt)===be.type)?(gt=I(be,Ne.props),gt.ref=ad(ke,be,Ne),gt.return=ke,gt):(gt=Vg(Ne.type,Ne.key,Ne.props,null,ke.mode,gt),gt.ref=ad(ke,be,Ne),gt.return=ke,gt)}function ze(ke,be,Ne,gt){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ne.containerInfo||be.stateNode.implementation!==Ne.implementation?(be=O_(Ne,ke.mode,gt),be.return=ke,be):(be=I(be,Ne.children||[]),be.return=ke,be)}function lt(ke,be,Ne,gt,Kt){return be===null||be.tag!==7?(be=Md(Ne,ke.mode,gt,Kt),be.return=ke,be):(be=I(be,Ne),be.return=ke,be)}function dt(ke,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number")return be=N_(""+be,ke.mode,Ne),be.return=ke,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case j:return Ne=Vg(be.type,be.key,be.props,null,ke.mode,Ne),Ne.ref=ad(ke,null,be),Ne.return=ke,Ne;case X:return be=O_(be,ke.mode,Ne),be.return=ke,be;case he:var gt=be._init;return dt(ke,gt(be._payload),Ne)}if(Me(be)||ie(be))return be=Md(be,ke.mode,Ne,null),be.return=ke,be;ld(ke,be)}return null}function at(ke,be,Ne,gt){var Kt=be!==null?be.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Kt!==null?null:fe(ke,be,""+Ne,gt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:return Ne.key===Kt?ve(ke,be,Ne,gt):null;case X:return Ne.key===Kt?ze(ke,be,Ne,gt):null;case he:return Kt=Ne._init,at(ke,be,Kt(Ne._payload),gt)}if(Me(Ne)||ie(Ne))return Kt!==null?null:lt(ke,be,Ne,gt,null);ld(ke,Ne)}return null}function Ft(ke,be,Ne,gt,Kt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ke=ke.get(Ne)||null,fe(be,ke,""+gt,Kt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case j:return ke=ke.get(gt.key===null?Ne:gt.key)||null,ve(be,ke,gt,Kt);case X:return ke=ke.get(gt.key===null?Ne:gt.key)||null,ze(be,ke,gt,Kt);case he:var nn=gt._init;return Ft(ke,be,Ne,nn(gt._payload),Kt)}if(Me(gt)||ie(gt))return ke=ke.get(Ne)||null,lt(be,ke,gt,Kt,null);ld(be,gt)}return null}function Gt(ke,be,Ne,gt){for(var Kt=null,nn=null,rn=be,hn=be=0,Or=null;rn!==null&&hn<Ne.length;hn++){rn.index>hn?(Or=rn,rn=null):Or=rn.sibling;var Wn=at(ke,rn,Ne[hn],gt);if(Wn===null){rn===null&&(rn=Or);break}a&&rn&&Wn.alternate===null&&c(ke,rn),be=F(Wn,be,hn),nn===null?Kt=Wn:nn.sibling=Wn,nn=Wn,rn=Or}if(hn===Ne.length)return y(ke,rn),li&&Pa(ke,hn),Kt;if(rn===null){for(;hn<Ne.length;hn++)rn=dt(ke,Ne[hn],gt),rn!==null&&(be=F(rn,be,hn),nn===null?Kt=rn:nn.sibling=rn,nn=rn);return li&&Pa(ke,hn),Kt}for(rn=E(ke,rn);hn<Ne.length;hn++)Or=Ft(rn,ke,hn,Ne[hn],gt),Or!==null&&(a&&Or.alternate!==null&&rn.delete(Or.key===null?hn:Or.key),be=F(Or,be,hn),nn===null?Kt=Or:nn.sibling=Or,nn=Or);return a&&rn.forEach(function(_c){return c(ke,_c)}),li&&Pa(ke,hn),Kt}function qt(ke,be,Ne,gt){var Kt=ie(Ne);if(typeof Kt!="function")throw Error(t(150));if(Ne=Kt.call(Ne),Ne==null)throw Error(t(151));for(var nn=Kt=null,rn=be,hn=be=0,Or=null,Wn=Ne.next();rn!==null&&!Wn.done;hn++,Wn=Ne.next()){rn.index>hn?(Or=rn,rn=null):Or=rn.sibling;var _c=at(ke,rn,Wn.value,gt);if(_c===null){rn===null&&(rn=Or);break}a&&rn&&_c.alternate===null&&c(ke,rn),be=F(_c,be,hn),nn===null?Kt=_c:nn.sibling=_c,nn=_c,rn=Or}if(Wn.done)return y(ke,rn),li&&Pa(ke,hn),Kt;if(rn===null){for(;!Wn.done;hn++,Wn=Ne.next())Wn=dt(ke,Wn.value,gt),Wn!==null&&(be=F(Wn,be,hn),nn===null?Kt=Wn:nn.sibling=Wn,nn=Wn);return li&&Pa(ke,hn),Kt}for(rn=E(ke,rn);!Wn.done;hn++,Wn=Ne.next())Wn=Ft(rn,ke,hn,Wn.value,gt),Wn!==null&&(a&&Wn.alternate!==null&&rn.delete(Wn.key===null?hn:Wn.key),be=F(Wn,be,hn),nn===null?Kt=Wn:nn.sibling=Wn,nn=Wn);return a&&rn.forEach(function(Nk){return c(ke,Nk)}),li&&Pa(ke,hn),Kt}function $i(ke,be,Ne,gt){if(typeof Ne=="object"&&Ne!==null&&Ne.type===Z&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:e:{for(var Kt=Ne.key,nn=be;nn!==null;){if(nn.key===Kt){if(Kt=Ne.type,Kt===Z){if(nn.tag===7){y(ke,nn.sibling),be=I(nn,Ne.props.children),be.return=ke,ke=be;break e}}else if(nn.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===he&&cp(Kt)===nn.type){y(ke,nn.sibling),be=I(nn,Ne.props),be.ref=ad(ke,nn,Ne),be.return=ke,ke=be;break e}y(ke,nn);break}else c(ke,nn);nn=nn.sibling}Ne.type===Z?(be=Md(Ne.props.children,ke.mode,gt,Ne.key),be.return=ke,ke=be):(gt=Vg(Ne.type,Ne.key,Ne.props,null,ke.mode,gt),gt.ref=ad(ke,be,Ne),gt.return=ke,ke=gt)}return $(ke);case X:e:{for(nn=Ne.key;be!==null;){if(be.key===nn)if(be.tag===4&&be.stateNode.containerInfo===Ne.containerInfo&&be.stateNode.implementation===Ne.implementation){y(ke,be.sibling),be=I(be,Ne.children||[]),be.return=ke,ke=be;break e}else{y(ke,be);break}else c(ke,be);be=be.sibling}be=O_(Ne,ke.mode,gt),be.return=ke,ke=be}return $(ke);case he:return nn=Ne._init,$i(ke,be,nn(Ne._payload),gt)}if(Me(Ne))return Gt(ke,be,Ne,gt);if(ie(Ne))return qt(ke,be,Ne,gt);ld(ke,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,be!==null&&be.tag===6?(y(ke,be.sibling),be=I(be,Ne),be.return=ke,ke=be):(y(ke,be),be=N_(Ne,ke.mode,gt),be.return=ke,ke=be),$(ke)):y(ke,be)}return $i}var iu=dp(!0),ud=dp(!1),ru=bi(null),su=null,La=null,lc=null;function ou(){lc=La=su=null}function cd(a){var c=ru.current;ri(ru),a._currentValue=c}function dd(a,c,y){for(;a!==null;){var E=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,E!==null&&(E.childLanes|=c)):E!==null&&(E.childLanes&c)!==c&&(E.childLanes|=c),a===y)break;a=a.return}}function ml(a,c){su=a,lc=La=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Mn=!0),a.firstContext=null)}function Is(a){var c=a._currentValue;if(lc!==a)if(a={context:a,memoizedValue:c,next:null},La===null){if(su===null)throw Error(t(308));La=a,su.dependencies={lanes:0,firstContext:a}}else La=La.next=a;return c}var Ia=null;function hp(a){Ia===null?Ia=[a]:Ia.push(a)}function hd(a,c,y,E){var I=c.interleaved;return I===null?(y.next=y,hp(c)):(y.next=I.next,I.next=y),c.interleaved=y,Ro(a,E)}function Ro(a,c){a.lanes|=c;var y=a.alternate;for(y!==null&&(y.lanes|=c),y=a,a=a.return;a!==null;)a.childLanes|=c,y=a.alternate,y!==null&&(y.childLanes|=c),y=a,a=a.return;return y.tag===3?y.stateNode:null}var qn=!1;function Sn(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ii(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function $n(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function di(a,c,y){var E=a.updateQueue;if(E===null)return null;if(E=E.shared,(Bn&2)!==0){var I=E.pending;return I===null?c.next=c:(c.next=I.next,I.next=c),E.pending=c,Ro(a,y)}return I=E.interleaved,I===null?(c.next=c,hp(E)):(c.next=I.next,I.next=c),E.interleaved=c,Ro(a,y)}function Ir(a,c,y){if(c=c.updateQueue,c!==null&&(c=c.shared,(y&4194240)!==0)){var E=c.lanes;E&=a.pendingLanes,y|=E,c.lanes=y,Gn(a,y)}}function au(a,c){var y=a.updateQueue,E=a.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var I=null,F=null;if(y=y.firstBaseUpdate,y!==null){do{var $={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};F===null?I=F=$:F=F.next=$,y=y.next}while(y!==null);F===null?I=F=c:F=F.next=c}else I=F=c;y={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:E.shared,effects:E.effects},a.updateQueue=y;return}a=y.lastBaseUpdate,a===null?y.firstBaseUpdate=c:a.next=c,y.lastBaseUpdate=c}function Ti(a,c,y,E){var I=a.updateQueue;qn=!1;var F=I.firstBaseUpdate,$=I.lastBaseUpdate,fe=I.shared.pending;if(fe!==null){I.shared.pending=null;var ve=fe,ze=ve.next;ve.next=null,$===null?F=ze:$.next=ze,$=ve;var lt=a.alternate;lt!==null&&(lt=lt.updateQueue,fe=lt.lastBaseUpdate,fe!==$&&(fe===null?lt.firstBaseUpdate=ze:fe.next=ze,lt.lastBaseUpdate=ve))}if(F!==null){var dt=I.baseState;$=0,lt=ze=ve=null,fe=F;do{var at=fe.lane,Ft=fe.eventTime;if((E&at)===at){lt!==null&&(lt=lt.next={eventTime:Ft,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var Gt=a,qt=fe;switch(at=c,Ft=y,qt.tag){case 1:if(Gt=qt.payload,typeof Gt=="function"){dt=Gt.call(Ft,dt,at);break e}dt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=qt.payload,at=typeof Gt=="function"?Gt.call(Ft,dt,at):Gt,at==null)break e;dt=ee({},dt,at);break e;case 2:qn=!0}}fe.callback!==null&&fe.lane!==0&&(a.flags|=64,at=I.effects,at===null?I.effects=[fe]:at.push(fe))}else Ft={eventTime:Ft,lane:at,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},lt===null?(ze=lt=Ft,ve=dt):lt=lt.next=Ft,$|=at;if(fe=fe.next,fe===null){if(fe=I.shared.pending,fe===null)break;at=fe,fe=at.next,at.next=null,I.lastBaseUpdate=at,I.shared.pending=null}}while(!0);if(lt===null&&(ve=dt),I.baseState=ve,I.firstBaseUpdate=ze,I.lastBaseUpdate=lt,c=I.shared.interleaved,c!==null){I=c;do $|=I.lane,I=I.next;while(I!==c)}else F===null&&(I.shared.lanes=0);wd|=$,a.lanes=$,a.memoizedState=dt}}function uc(a,c,y){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var E=a[c],I=E.callback;if(I!==null){if(E.callback=null,E=y,typeof I!="function")throw Error(t(191,I));I.call(E)}}}var qo={},ks=bi(qo),lu=bi(qo),ka=bi(qo);function Ui(a){if(a===qo)throw Error(t(174));return a}function fd(a,c){switch(Jn(ka,c),Jn(lu,a),Jn(ks,qo),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:He(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=He(c,a)}ri(ks),Jn(ks,c)}function gl(){ri(ks),ri(lu),ri(ka)}function uu(a){Ui(ka.current);var c=Ui(ks.current),y=He(c,a.type);c!==y&&(Jn(lu,a),Jn(ks,y))}function cc(a){lu.current===a&&(ri(ks),ri(lu))}var ui=bi(0);function Lo(a){for(var c=a;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var dc=[];function $o(){for(var a=0;a<dc.length;a++)dc[a]._workInProgressVersionPrimary=null;dc.length=0}var cu=O.ReactCurrentDispatcher,du=O.ReactCurrentBatchConfig,Na=0,si=null,Mi=null,Fn=null,Io=!1,kr=!1,vl=0,fs=0;function gr(){throw Error(t(321))}function pd(a,c){if(c===null)return!1;for(var y=0;y<c.length&&y<a.length;y++)if(!Zr(a[y],c[y]))return!1;return!0}function md(a,c,y,E,I,F){if(Na=F,si=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,cu.current=a===null||a.memoizedState===null?Mg:Eg,a=y(E,I),kr){F=0;do{if(kr=!1,vl=0,25<=F)throw Error(t(301));F+=1,Fn=Mi=null,c.updateQueue=null,cu.current=Cg,a=y(E,I)}while(kr)}if(cu.current=kh,c=Mi!==null&&Mi.next!==null,Na=0,Fn=Mi=si=null,Io=!1,c)throw Error(t(300));return a}function fp(){var a=vl!==0;return vl=0,a}function vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?si.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Ns(){if(Mi===null){var a=si.alternate;a=a!==null?a.memoizedState:null}else a=Mi.next;var c=Fn===null?si.memoizedState:Fn.next;if(c!==null)Fn=c,Mi=a;else{if(a===null)throw Error(t(310));Mi=a,a={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Fn===null?si.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function hc(a,c){return typeof c=="function"?c(a):c}function gd(a){var c=Ns(),y=c.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=a;var E=Mi,I=E.baseQueue,F=y.pending;if(F!==null){if(I!==null){var $=I.next;I.next=F.next,F.next=$}E.baseQueue=I=F,y.pending=null}if(I!==null){F=I.next,E=E.baseState;var fe=$=null,ve=null,ze=F;do{var lt=ze.lane;if((Na&lt)===lt)ve!==null&&(ve=ve.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),E=ze.hasEagerState?ze.eagerState:a(E,ze.action);else{var dt={lane:lt,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};ve===null?(fe=ve=dt,$=E):ve=ve.next=dt,si.lanes|=lt,wd|=lt}ze=ze.next}while(ze!==null&&ze!==F);ve===null?$=E:ve.next=fe,Zr(E,c.memoizedState)||(Mn=!0),c.memoizedState=E,c.baseState=$,c.baseQueue=ve,y.lastRenderedState=E}if(a=y.interleaved,a!==null){I=a;do F=I.lane,si.lanes|=F,wd|=F,I=I.next;while(I!==a)}else I===null&&(y.lanes=0);return[c.memoizedState,y.dispatch]}function Oa(a){var c=Ns(),y=c.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=a;var E=y.dispatch,I=y.pending,F=c.memoizedState;if(I!==null){y.pending=null;var $=I=I.next;do F=a(F,$.action),$=$.next;while($!==I);Zr(F,c.memoizedState)||(Mn=!0),c.memoizedState=F,c.baseQueue===null&&(c.baseState=F),y.lastRenderedState=F}return[F,E]}function pp(){}function mp(a,c){var y=si,E=Ns(),I=c(),F=!Zr(E.memoizedState,I);if(F&&(E.memoizedState=I,Mn=!0),E=E.queue,yp(_g.bind(null,y,E,a),[a]),E.getSnapshot!==c||F||Fn!==null&&Fn.memoizedState.tag&1){if(y.flags|=2048,ko(9,vd.bind(null,y,E,I,c),void 0,null),Nr===null)throw Error(t(349));(Na&30)!==0||Ch(y,c,I)}return I}function Ch(a,c,y){a.flags|=16384,a={getSnapshot:c,value:y},c=si.updateQueue,c===null?(c={lastEffect:null,stores:null},si.updateQueue=c,c.stores=[a]):(y=c.stores,y===null?c.stores=[a]:y.push(a))}function vd(a,c,y,E){c.value=y,c.getSnapshot=E,xg(c)&&gp(a)}function _g(a,c,y){return y(function(){xg(c)&&gp(a)})}function xg(a){var c=a.getSnapshot;a=a.value;try{var y=c();return!Zr(a,y)}catch{return!0}}function gp(a){var c=Ro(a,1);c!==null&&Ba(c,a,1,-1)}function vp(a){var c=vr();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:a},c.queue=a,a=a.dispatch=hu.bind(null,si,a),[c.memoizedState,a]}function ko(a,c,y,E){return a={tag:a,create:c,destroy:y,deps:E,next:null},c=si.updateQueue,c===null?(c={lastEffect:null,stores:null},si.updateQueue=c,c.lastEffect=a.next=a):(y=c.lastEffect,y===null?c.lastEffect=a.next=a:(E=y.next,y.next=a,a.next=E,c.lastEffect=a)),a}function wg(){return Ns().memoizedState}function Ko(a,c,y,E){var I=vr();si.flags|=a,I.memoizedState=ko(1|c,y,void 0,E===void 0?null:E)}function yd(a,c,y,E){var I=Ns();E=E===void 0?null:E;var F=void 0;if(Mi!==null){var $=Mi.memoizedState;if(F=$.destroy,E!==null&&pd(E,$.deps)){I.memoizedState=ko(c,y,F,E);return}}si.flags|=a,I.memoizedState=ko(1|c,y,F,E)}function Jr(a,c){return Ko(8390656,8,a,c)}function yp(a,c){return yd(2048,8,a,c)}function _p(a,c){return yd(4,2,a,c)}function Sg(a,c){return yd(4,4,a,c)}function bg(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function xp(a,c,y){return y=y!=null?y.concat([a]):null,yd(4,4,bg.bind(null,c,a),y)}function Ah(){}function Tg(a,c){var y=Ns();c=c===void 0?null:c;var E=y.memoizedState;return E!==null&&c!==null&&pd(c,E[1])?E[0]:(y.memoizedState=[a,c],a)}function Os(a,c){var y=Ns();c=c===void 0?null:c;var E=y.memoizedState;return E!==null&&c!==null&&pd(c,E[1])?E[0]:(a=a(),y.memoizedState=[a,c],a)}function Ph(a,c,y){return(Na&21)===0?(a.baseState&&(a.baseState=!1,Mn=!0),a.memoizedState=y):(Zr(y,c)||(y=Cn(),si.lanes|=y,wd|=y,a.baseState=!0),c)}function g_(a,c){var y=gn;gn=y!==0&&4>y?y:4,a(!0);var E=du.transition;du.transition={};try{a(!1),c()}finally{gn=y,du.transition=E}}function Da(){return Ns().memoizedState}function Rh(a,c,y){var E=gc(a);if(y={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null},_d(a))Lh(c,y);else if(y=hd(a,c,y,E),y!==null){var I=Fs();Ba(y,a,E,I),Ih(y,c,E)}}function hu(a,c,y){var E=gc(a),I={lane:E,action:y,hasEagerState:!1,eagerState:null,next:null};if(_d(a))Lh(c,I);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=c.lastRenderedReducer,F!==null))try{var $=c.lastRenderedState,fe=F($,y);if(I.hasEagerState=!0,I.eagerState=fe,Zr(fe,$)){var ve=c.interleaved;ve===null?(I.next=I,hp(c)):(I.next=ve.next,ve.next=I),c.interleaved=I;return}}catch{}finally{}y=hd(a,c,I,E),y!==null&&(I=Fs(),Ba(y,a,E,I),Ih(y,c,E))}}function _d(a){var c=a.alternate;return a===si||c!==null&&c===si}function Lh(a,c){kr=Io=!0;var y=a.pending;y===null?c.next=c:(c.next=y.next,y.next=c),a.pending=c}function Ih(a,c,y){if((y&4194240)!==0){var E=c.lanes;E&=a.pendingLanes,y|=E,c.lanes=y,Gn(a,y)}}var kh={readContext:Is,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},Mg={readContext:Is,useCallback:function(a,c){return vr().memoizedState=[a,c===void 0?null:c],a},useContext:Is,useEffect:Jr,useImperativeHandle:function(a,c,y){return y=y!=null?y.concat([a]):null,Ko(4194308,4,bg.bind(null,c,a),y)},useLayoutEffect:function(a,c){return Ko(4194308,4,a,c)},useInsertionEffect:function(a,c){return Ko(4,2,a,c)},useMemo:function(a,c){var y=vr();return c=c===void 0?null:c,a=a(),y.memoizedState=[a,c],a},useReducer:function(a,c,y){var E=vr();return c=y!==void 0?y(c):c,E.memoizedState=E.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},E.queue=a,a=a.dispatch=Rh.bind(null,si,a),[E.memoizedState,a]},useRef:function(a){var c=vr();return a={current:a},c.memoizedState=a},useState:vp,useDebugValue:Ah,useDeferredValue:function(a){return vr().memoizedState=a},useTransition:function(){var a=vp(!1),c=a[0];return a=g_.bind(null,a[1]),vr().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,y){var E=si,I=vr();if(li){if(y===void 0)throw Error(t(407));y=y()}else{if(y=c(),Nr===null)throw Error(t(349));(Na&30)!==0||Ch(E,c,y)}I.memoizedState=y;var F={value:y,getSnapshot:c};return I.queue=F,Jr(_g.bind(null,E,F,a),[a]),E.flags|=2048,ko(9,vd.bind(null,E,F,y,c),void 0,null),y},useId:function(){var a=vr(),c=Nr.identifierPrefix;if(li){var y=eo,E=St;y=(E&~(1<<32-bt(E)-1)).toString(32)+y,c=":"+c+"R"+y,y=vl++,0<y&&(c+="H"+y.toString(32)),c+=":"}else y=fs++,c=":"+c+"r"+y.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},Eg={readContext:Is,useCallback:Tg,useContext:Is,useEffect:yp,useImperativeHandle:xp,useInsertionEffect:_p,useLayoutEffect:Sg,useMemo:Os,useReducer:gd,useRef:wg,useState:function(){return gd(hc)},useDebugValue:Ah,useDeferredValue:function(a){var c=Ns();return Ph(c,Mi.memoizedState,a)},useTransition:function(){var a=gd(hc)[0],c=Ns().memoizedState;return[a,c]},useMutableSource:pp,useSyncExternalStore:mp,useId:Da,unstable_isNewReconciler:!1},Cg={readContext:Is,useCallback:Tg,useContext:Is,useEffect:yp,useImperativeHandle:xp,useInsertionEffect:_p,useLayoutEffect:Sg,useMemo:Os,useReducer:Oa,useRef:wg,useState:function(){return Oa(hc)},useDebugValue:Ah,useDeferredValue:function(a){var c=Ns();return Mi===null?c.memoizedState=a:Ph(c,Mi.memoizedState,a)},useTransition:function(){var a=Oa(hc)[0],c=Ns().memoizedState;return[a,c]},useMutableSource:pp,useSyncExternalStore:mp,useId:Da,unstable_isNewReconciler:!1};function no(a,c){if(a&&a.defaultProps){c=ee({},c),a=a.defaultProps;for(var y in a)c[y]===void 0&&(c[y]=a[y]);return c}return c}function xd(a,c,y,E){c=a.memoizedState,y=y(E,c),y=y==null?c:ee({},c,y),a.memoizedState=y,a.lanes===0&&(a.updateQueue.baseState=y)}var Nh={isMounted:function(a){return(a=a._reactInternals)?Ss(a)===a:!1},enqueueSetState:function(a,c,y){a=a._reactInternals;var E=Fs(),I=gc(a),F=$n(E,I);F.payload=c,y!=null&&(F.callback=y),c=di(a,F,I),c!==null&&(Ba(c,a,I,E),Ir(c,a,I))},enqueueReplaceState:function(a,c,y){a=a._reactInternals;var E=Fs(),I=gc(a),F=$n(E,I);F.tag=1,F.payload=c,y!=null&&(F.callback=y),c=di(a,F,I),c!==null&&(Ba(c,a,I,E),Ir(c,a,I))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var y=Fs(),E=gc(a),I=$n(y,E);I.tag=2,c!=null&&(I.callback=c),c=di(a,I,E),c!==null&&(Ba(c,a,E,y),Ir(c,a,E))}};function Ag(a,c,y,E,I,F,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(E,F,$):c.prototype&&c.prototype.isPureReactComponent?!qs(y,E)||!qs(I,F):!0}function h(a,c,y){var E=!1,I=Ca,F=c.contextType;return typeof F=="object"&&F!==null?F=Is(F):(I=Lr(c)?Aa:pr.current,E=c.contextTypes,F=(E=E!=null)?Ql(a,I):Ca),c=new c(y,F),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Nh,a.stateNode=c,c._reactInternals=a,E&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=I,a.__reactInternalMemoizedMaskedChildContext=F),c}function p(a,c,y,E){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,E),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,E),c.state!==a&&Nh.enqueueReplaceState(c,c.state,null)}function b(a,c,y,E){var I=a.stateNode;I.props=y,I.state=a.memoizedState,I.refs={},Sn(a);var F=c.contextType;typeof F=="object"&&F!==null?I.context=Is(F):(F=Lr(c)?Aa:pr.current,I.context=Ql(a,F)),I.state=a.memoizedState,F=c.getDerivedStateFromProps,typeof F=="function"&&(xd(a,c,F,y),I.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(c=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),c!==I.state&&Nh.enqueueReplaceState(I,I.state,null),Ti(a,y,I,E),I.state=a.memoizedState),typeof I.componentDidMount=="function"&&(a.flags|=4194308)}function A(a,c){try{var y="",E=c;do y+=me(E),E=E.return;while(E);var I=y}catch(F){I=`
Error generating stack: `+F.message+`
`+F.stack}return{value:a,source:c,stack:I,digest:null}}function D(a,c,y){return{value:a,source:null,stack:y??null,digest:c??null}}function H(a,c){try{console.error(c.value)}catch(y){setTimeout(function(){throw y})}}var ue=typeof WeakMap=="function"?WeakMap:Map;function Te(a,c,y){y=$n(-1,y),y.tag=3,y.payload={element:null};var E=c.value;return y.callback=function(){Og||(Og=!0,E_=E),H(a,c)},y}function je(a,c,y){y=$n(-1,y),y.tag=3;var E=a.type.getDerivedStateFromError;if(typeof E=="function"){var I=c.value;y.payload=function(){return E(I)},y.callback=function(){H(a,c)}}var F=a.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(y.callback=function(){H(a,c),typeof E!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})}),y}function mt(a,c,y){var E=a.pingCache;if(E===null){E=a.pingCache=new ue;var I=new Set;E.set(c,I)}else I=E.get(c),I===void 0&&(I=new Set,E.set(c,I));I.has(y)||(I.add(y),a=bk.bind(null,a,c,y),c.then(a,a))}function Bt(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function fn(a,c,y,E,I){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(c=$n(-1,1),c.tag=2,di(y,c,1))),y.lanes|=1),a):(a.flags|=65536,a.lanes=I,a)}var tn=O.ReactCurrentOwner,Mn=!1;function kt(a,c,y,E){c.child=a===null?ud(c,null,y,E):iu(c,a.child,y,E)}function yr(a,c,y,E,I){y=y.render;var F=c.ref;return ml(c,I),E=md(a,c,y,E,F,I),y=fp(),a!==null&&!Mn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~I,fu(a,c,I)):(li&&y&&op(c),c.flags|=1,kt(a,c,E,I),c.child)}function Ds(a,c,y,E,I){if(a===null){var F=y.type;return typeof F=="function"&&!k_(F)&&F.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(c.tag=15,c.type=F,Oe(a,c,F,E,I)):(a=Vg(y.type,null,E,c,c.mode,I),a.ref=c.ref,a.return=c,c.child=a)}if(F=a.child,(a.lanes&I)===0){var $=F.memoizedProps;if(y=y.compare,y=y!==null?y:qs,y($,E)&&a.ref===c.ref)return fu(a,c,I)}return c.flags|=1,a=yc(F,E),a.ref=c.ref,a.return=c,c.child=a}function Oe(a,c,y,E,I){if(a!==null){var F=a.memoizedProps;if(qs(F,E)&&a.ref===c.ref)if(Mn=!1,c.pendingProps=E=F,(a.lanes&I)!==0)(a.flags&131072)!==0&&(Mn=!0);else return c.lanes=a.lanes,fu(a,c,I)}return Pt(a,c,y,E,I)}function Ce(a,c,y){var E=c.pendingProps,I=E.children,F=a!==null?a.memoizedState:null;if(E.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Dh,No),No|=y;else{if((y&1073741824)===0)return a=F!==null?F.baseLanes|y:y,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Jn(Dh,No),No|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=F!==null?F.baseLanes:y,Jn(Dh,No),No|=E}else F!==null?(E=F.baseLanes|y,c.memoizedState=null):E=y,Jn(Dh,No),No|=E;return kt(a,c,I,y),c.child}function Ve(a,c){var y=c.ref;(a===null&&y!==null||a!==null&&a.ref!==y)&&(c.flags|=512,c.flags|=2097152)}function Pt(a,c,y,E,I){var F=Lr(y)?Aa:pr.current;return F=Ql(c,F),ml(c,I),y=md(a,c,y,E,F,I),E=fp(),a!==null&&!Mn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~I,fu(a,c,I)):(li&&E&&op(c),c.flags|=1,kt(a,c,y,I),c.child)}function $t(a,c,y,E,I){if(Lr(y)){var F=!0;eu(c)}else F=!1;if(ml(c,I),c.stateNode===null)Rg(a,c),h(c,y,E),b(c,y,E,I),E=!0;else if(a===null){var $=c.stateNode,fe=c.memoizedProps;$.props=fe;var ve=$.context,ze=y.contextType;typeof ze=="object"&&ze!==null?ze=Is(ze):(ze=Lr(y)?Aa:pr.current,ze=Ql(c,ze));var lt=y.getDerivedStateFromProps,dt=typeof lt=="function"||typeof $.getSnapshotBeforeUpdate=="function";dt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(fe!==E||ve!==ze)&&p(c,$,E,ze),qn=!1;var at=c.memoizedState;$.state=at,Ti(c,E,$,I),ve=c.memoizedState,fe!==E||at!==ve||qr.current||qn?(typeof lt=="function"&&(xd(c,y,lt,E),ve=c.memoizedState),(fe=qn||Ag(c,y,fe,E,at,ve,ze))?(dt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(c.flags|=4194308)):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=E,c.memoizedState=ve),$.props=E,$.state=ve,$.context=ze,E=fe):(typeof $.componentDidMount=="function"&&(c.flags|=4194308),E=!1)}else{$=c.stateNode,Ii(a,c),fe=c.memoizedProps,ze=c.type===c.elementType?fe:no(c.type,fe),$.props=ze,dt=c.pendingProps,at=$.context,ve=y.contextType,typeof ve=="object"&&ve!==null?ve=Is(ve):(ve=Lr(y)?Aa:pr.current,ve=Ql(c,ve));var Ft=y.getDerivedStateFromProps;(lt=typeof Ft=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(fe!==dt||at!==ve)&&p(c,$,E,ve),qn=!1,at=c.memoizedState,$.state=at,Ti(c,E,$,I);var Gt=c.memoizedState;fe!==dt||at!==Gt||qr.current||qn?(typeof Ft=="function"&&(xd(c,y,Ft,E),Gt=c.memoizedState),(ze=qn||Ag(c,y,ze,E,at,Gt,ve)||!1)?(lt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(E,Gt,ve),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(E,Gt,ve)),typeof $.componentDidUpdate=="function"&&(c.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof $.componentDidUpdate!="function"||fe===a.memoizedProps&&at===a.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||fe===a.memoizedProps&&at===a.memoizedState||(c.flags|=1024),c.memoizedProps=E,c.memoizedState=Gt),$.props=E,$.state=Gt,$.context=ve,E=ze):(typeof $.componentDidUpdate!="function"||fe===a.memoizedProps&&at===a.memoizedState||(c.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||fe===a.memoizedProps&&at===a.memoizedState||(c.flags|=1024),E=!1)}return _n(a,c,y,E,F,I)}function _n(a,c,y,E,I,F){Ve(a,c);var $=(c.flags&128)!==0;if(!E&&!$)return I&&rp(c,y,!1),fu(a,c,F);E=c.stateNode,tn.current=c;var fe=$&&typeof y.getDerivedStateFromError!="function"?null:E.render();return c.flags|=1,a!==null&&$?(c.child=iu(c,a.child,null,F),c.child=iu(c,null,fe,F)):kt(a,c,fe,F),c.memoizedState=E.state,I&&rp(c,y,!0),c.child}function pn(a){var c=a.stateNode;c.pendingContext?ip(a,c.pendingContext,c.pendingContext!==c.context):c.context&&ip(a,c.context,!1),fd(a,c.containerInfo)}function Dn(a,c,y,E,I){return pl(),ac(I),c.flags|=256,kt(a,c,y,E),c.child}var Bi={dehydrated:null,treeContext:null,retryLane:0};function On(a){return{baseLanes:a,cachePool:null,transitions:null}}function Fa(a,c,y){var E=c.pendingProps,I=ui.current,F=!1,$=(c.flags&128)!==0,fe;if((fe=$)||(fe=a!==null&&a.memoizedState===null?!1:(I&2)!==0),fe?(F=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(I|=1),Jn(ui,I&1),a===null)return Mh(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):($=E.children,a=E.fallback,F?(E=c.mode,F=c.child,$={mode:"hidden",children:$},(E&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=$):F=Hg($,E,0,null),a=Md(a,E,y,null),F.return=c,a.return=c,F.sibling=a,c.child=F,c.child.memoizedState=On(y),c.memoizedState=Bi,a):wp(c,$));if(I=a.memoizedState,I!==null&&(fe=I.dehydrated,fe!==null))return dk(a,c,$,E,fe,I,y);if(F){F=E.fallback,$=c.mode,I=a.child,fe=I.sibling;var ve={mode:"hidden",children:E.children};return($&1)===0&&c.child!==I?(E=c.child,E.childLanes=0,E.pendingProps=ve,c.deletions=null):(E=yc(I,ve),E.subtreeFlags=I.subtreeFlags&14680064),fe!==null?F=yc(fe,F):(F=Md(F,$,y,null),F.flags|=2),F.return=c,E.return=c,E.sibling=F,c.child=E,E=F,F=c.child,$=a.child.memoizedState,$=$===null?On(y):{baseLanes:$.baseLanes|y,cachePool:null,transitions:$.transitions},F.memoizedState=$,F.childLanes=a.childLanes&~y,c.memoizedState=Bi,E}return F=a.child,a=F.sibling,E=yc(F,{mode:"visible",children:E.children}),(c.mode&1)===0&&(E.lanes=y),E.return=c,E.sibling=null,a!==null&&(y=c.deletions,y===null?(c.deletions=[a],c.flags|=16):y.push(a)),c.child=E,c.memoizedState=null,E}function wp(a,c){return c=Hg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Pg(a,c,y,E){return E!==null&&ac(E),iu(c,a.child,null,y),a=wp(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function dk(a,c,y,E,I,F,$){if(y)return c.flags&256?(c.flags&=-257,E=D(Error(t(422))),Pg(a,c,$,E)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(F=E.fallback,I=c.mode,E=Hg({mode:"visible",children:E.children},I,0,null),F=Md(F,I,$,null),F.flags|=2,E.return=c,F.return=c,E.sibling=F,c.child=E,(c.mode&1)!==0&&iu(c,a.child,null,$),c.child.memoizedState=On($),c.memoizedState=Bi,F);if((c.mode&1)===0)return Pg(a,c,$,null);if(I.data==="$!"){if(E=I.nextSibling&&I.nextSibling.dataset,E)var fe=E.dgst;return E=fe,F=Error(t(419)),E=D(F,E,void 0),Pg(a,c,$,E)}if(fe=($&a.childLanes)!==0,Mn||fe){if(E=Nr,E!==null){switch($&-$){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(E.suspendedLanes|$))!==0?0:I,I!==0&&I!==F.retryLane&&(F.retryLane=I,Ro(a,I),Ba(E,a,I,-1))}return I_(),E=D(Error(t(421))),Pg(a,c,$,E)}return I.data==="$?"?(c.flags|=128,c.child=a.child,c=Tk.bind(null,a),I._reactRetry=c,null):(a=F.treeContext,Kr=Ao(I.nextSibling),mr=c,li=!0,to=null,a!==null&&($r[ir++]=St,$r[ir++]=eo,$r[ir++]=nu,St=a.id,eo=a.overflow,nu=c),c=wp(c,E.children),c.flags|=4096,c)}function Rb(a,c,y){a.lanes|=c;var E=a.alternate;E!==null&&(E.lanes|=c),dd(a.return,c,y)}function v_(a,c,y,E,I){var F=a.memoizedState;F===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:I}:(F.isBackwards=c,F.rendering=null,F.renderingStartTime=0,F.last=E,F.tail=y,F.tailMode=I)}function Lb(a,c,y){var E=c.pendingProps,I=E.revealOrder,F=E.tail;if(kt(a,c,E.children,y),E=ui.current,(E&2)!==0)E=E&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Rb(a,y,c);else if(a.tag===19)Rb(a,y,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}E&=1}if(Jn(ui,E),(c.mode&1)===0)c.memoizedState=null;else switch(I){case"forwards":for(y=c.child,I=null;y!==null;)a=y.alternate,a!==null&&Lo(a)===null&&(I=y),y=y.sibling;y=I,y===null?(I=c.child,c.child=null):(I=y.sibling,y.sibling=null),v_(c,!1,I,y,F);break;case"backwards":for(y=null,I=c.child,c.child=null;I!==null;){if(a=I.alternate,a!==null&&Lo(a)===null){c.child=I;break}a=I.sibling,I.sibling=y,y=I,I=a}v_(c,!0,y,null,F);break;case"together":v_(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Rg(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function fu(a,c,y){if(a!==null&&(c.dependencies=a.dependencies),wd|=c.lanes,(y&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,y=yc(a,a.pendingProps),c.child=y,y.return=c;a.sibling!==null;)a=a.sibling,y=y.sibling=yc(a,a.pendingProps),y.return=c;y.sibling=null}return c.child}function hk(a,c,y){switch(c.tag){case 3:pn(c),pl();break;case 5:uu(c);break;case 1:Lr(c.type)&&eu(c);break;case 4:fd(c,c.stateNode.containerInfo);break;case 10:var E=c.type._context,I=c.memoizedProps.value;Jn(ru,E._currentValue),E._currentValue=I;break;case 13:if(E=c.memoizedState,E!==null)return E.dehydrated!==null?(Jn(ui,ui.current&1),c.flags|=128,null):(y&c.child.childLanes)!==0?Fa(a,c,y):(Jn(ui,ui.current&1),a=fu(a,c,y),a!==null?a.sibling:null);Jn(ui,ui.current&1);break;case 19:if(E=(y&c.childLanes)!==0,(a.flags&128)!==0){if(E)return Lb(a,c,y);c.flags|=128}if(I=c.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Jn(ui,ui.current),E)break;return null;case 22:case 23:return c.lanes=0,Ce(a,c,y)}return fu(a,c,y)}var Ib,y_,kb,Nb;Ib=function(a,c){for(var y=c.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break;for(;y.sibling===null;){if(y.return===null||y.return===c)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},y_=function(){},kb=function(a,c,y,E){var I=a.memoizedProps;if(I!==E){a=c.stateNode,Ui(ks.current);var F=null;switch(y){case"input":I=re(a,I),E=re(a,E),F=[];break;case"select":I=ee({},I,{value:void 0}),E=ee({},E,{value:void 0}),F=[];break;case"textarea":I=it(a,I),E=it(a,E),F=[];break;default:typeof I.onClick!="function"&&typeof E.onClick=="function"&&(a.onclick=Je)}Ut(y,E);var $;y=null;for(ze in I)if(!E.hasOwnProperty(ze)&&I.hasOwnProperty(ze)&&I[ze]!=null)if(ze==="style"){var fe=I[ze];for($ in fe)fe.hasOwnProperty($)&&(y||(y={}),y[$]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(r.hasOwnProperty(ze)?F||(F=[]):(F=F||[]).push(ze,null));for(ze in E){var ve=E[ze];if(fe=I?.[ze],E.hasOwnProperty(ze)&&ve!==fe&&(ve!=null||fe!=null))if(ze==="style")if(fe){for($ in fe)!fe.hasOwnProperty($)||ve&&ve.hasOwnProperty($)||(y||(y={}),y[$]="");for($ in ve)ve.hasOwnProperty($)&&fe[$]!==ve[$]&&(y||(y={}),y[$]=ve[$])}else y||(F||(F=[]),F.push(ze,y)),y=ve;else ze==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,fe=fe?fe.__html:void 0,ve!=null&&fe!==ve&&(F=F||[]).push(ze,ve)):ze==="children"?typeof ve!="string"&&typeof ve!="number"||(F=F||[]).push(ze,""+ve):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(r.hasOwnProperty(ze)?(ve!=null&&ze==="onScroll"&&Zn("scroll",a),F||fe===ve||(F=[])):(F=F||[]).push(ze,ve))}y&&(F=F||[]).push("style",y);var ze=F;(c.updateQueue=ze)&&(c.flags|=4)}},Nb=function(a,c,y,E){y!==E&&(c.flags|=4)};function Sp(a,c){if(!li)switch(a.tailMode){case"hidden":c=a.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?a.tail=null:y.sibling=null;break;case"collapsed":y=a.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:E.sibling=null}}function ps(a){var c=a.alternate!==null&&a.alternate.child===a.child,y=0,E=0;if(c)for(var I=a.child;I!==null;)y|=I.lanes|I.childLanes,E|=I.subtreeFlags&14680064,E|=I.flags&14680064,I.return=a,I=I.sibling;else for(I=a.child;I!==null;)y|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=a,I=I.sibling;return a.subtreeFlags|=E,a.childLanes=y,c}function fk(a,c,y){var E=c.pendingProps;switch(Ra(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(c),null;case 1:return Lr(c.type)&&id(),ps(c),null;case 3:return E=c.stateNode,gl(),ri(qr),ri(pr),$o(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(a===null||a.child===null)&&(oc(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,to!==null&&(P_(to),to=null))),y_(a,c),ps(c),null;case 5:cc(c);var I=Ui(ka.current);if(y=c.type,a!==null&&c.stateNode!=null)kb(a,c,y,E,I),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!E){if(c.stateNode===null)throw Error(t(166));return ps(c),null}if(a=Ui(ks.current),oc(c)){E=c.stateNode,y=c.type;var F=c.memoizedProps;switch(E[Li]=c,E[Ea]=F,a=(c.mode&1)!==0,y){case"dialog":Zn("cancel",E),Zn("close",E);break;case"iframe":case"object":case"embed":Zn("load",E);break;case"video":case"audio":for(I=0;I<Co.length;I++)Zn(Co[I],E);break;case"source":Zn("error",E);break;case"img":case"image":case"link":Zn("error",E),Zn("load",E);break;case"details":Zn("toggle",E);break;case"input":rt(E,F),Zn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!F.multiple},Zn("invalid",E);break;case"textarea":ne(E,F),Zn("invalid",E)}Ut(y,F),I=null;for(var $ in F)if(F.hasOwnProperty($)){var fe=F[$];$==="children"?typeof fe=="string"?E.textContent!==fe&&(F.suppressHydrationWarning!==!0&&Fe(E.textContent,fe,a),I=["children",fe]):typeof fe=="number"&&E.textContent!==""+fe&&(F.suppressHydrationWarning!==!0&&Fe(E.textContent,fe,a),I=["children",""+fe]):r.hasOwnProperty($)&&fe!=null&&$==="onScroll"&&Zn("scroll",E)}switch(y){case"input":nt(E),Pe(E,F,!0);break;case"textarea":nt(E),Se(E);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(E.onclick=Je)}E=I,c.updateQueue=E,E!==null&&(c.flags|=4)}else{$=I.nodeType===9?I:I.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Re(y)),a==="http://www.w3.org/1999/xhtml"?y==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof E.is=="string"?a=$.createElement(y,{is:E.is}):(a=$.createElement(y),y==="select"&&($=a,E.multiple?$.multiple=!0:E.size&&($.size=E.size))):a=$.createElementNS(a,y),a[Li]=c,a[Ea]=E,Ib(a,c,!1,!1),c.stateNode=a;e:{switch($=pt(y,E),y){case"dialog":Zn("cancel",a),Zn("close",a),I=E;break;case"iframe":case"object":case"embed":Zn("load",a),I=E;break;case"video":case"audio":for(I=0;I<Co.length;I++)Zn(Co[I],a);I=E;break;case"source":Zn("error",a),I=E;break;case"img":case"image":case"link":Zn("error",a),Zn("load",a),I=E;break;case"details":Zn("toggle",a),I=E;break;case"input":rt(a,E),I=re(a,E),Zn("invalid",a);break;case"option":I=E;break;case"select":a._wrapperState={wasMultiple:!!E.multiple},I=ee({},E,{value:void 0}),Zn("invalid",a);break;case"textarea":ne(a,E),I=it(a,E),Zn("invalid",a);break;default:I=E}Ut(y,I),fe=I;for(F in fe)if(fe.hasOwnProperty(F)){var ve=fe[F];F==="style"?_t(a,ve):F==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&It(a,ve)):F==="children"?typeof ve=="string"?(y!=="textarea"||ve!=="")&&ot(a,ve):typeof ve=="number"&&ot(a,""+ve):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(r.hasOwnProperty(F)?ve!=null&&F==="onScroll"&&Zn("scroll",a):ve!=null&&k(a,F,ve,$))}switch(y){case"input":nt(a),Pe(a,E,!1);break;case"textarea":nt(a),Se(a);break;case"option":E.value!=null&&a.setAttribute("value",""+Ge(E.value));break;case"select":a.multiple=!!E.multiple,F=E.value,F!=null?We(a,!!E.multiple,F,!1):E.defaultValue!=null&&We(a,!!E.multiple,E.defaultValue,!0);break;default:typeof I.onClick=="function"&&(a.onclick=Je)}switch(y){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ps(c),null;case 6:if(a&&c.stateNode!=null)Nb(a,c,a.memoizedProps,E);else{if(typeof E!="string"&&c.stateNode===null)throw Error(t(166));if(y=Ui(ka.current),Ui(ks.current),oc(c)){if(E=c.stateNode,y=c.memoizedProps,E[Li]=c,(F=E.nodeValue!==y)&&(a=mr,a!==null))switch(a.tag){case 3:Fe(E.nodeValue,y,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Fe(E.nodeValue,y,(a.mode&1)!==0)}F&&(c.flags|=4)}else E=(y.nodeType===9?y:y.ownerDocument).createTextNode(E),E[Li]=c,c.stateNode=E}return ps(c),null;case 13:if(ri(ui),E=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(li&&Kr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)up(),pl(),c.flags|=98560,F=!1;else if(F=oc(c),E!==null&&E.dehydrated!==null){if(a===null){if(!F)throw Error(t(318));if(F=c.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[Li]=c}else pl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ps(c),F=!1}else to!==null&&(P_(to),to=null),F=!0;if(!F)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=y,c):(E=E!==null,E!==(a!==null&&a.memoizedState!==null)&&E&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(ui.current&1)!==0?_r===0&&(_r=3):I_())),c.updateQueue!==null&&(c.flags|=4),ps(c),null);case 4:return gl(),y_(a,c),a===null&&Ta(c.stateNode.containerInfo),ps(c),null;case 10:return cd(c.type._context),ps(c),null;case 17:return Lr(c.type)&&id(),ps(c),null;case 19:if(ri(ui),F=c.memoizedState,F===null)return ps(c),null;if(E=(c.flags&128)!==0,$=F.rendering,$===null)if(E)Sp(F,!1);else{if(_r!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if($=Lo(a),$!==null){for(c.flags|=128,Sp(F,!1),E=$.updateQueue,E!==null&&(c.updateQueue=E,c.flags|=4),c.subtreeFlags=0,E=y,y=c.child;y!==null;)F=y,a=E,F.flags&=14680066,$=F.alternate,$===null?(F.childLanes=0,F.lanes=a,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=$.childLanes,F.lanes=$.lanes,F.child=$.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=$.memoizedProps,F.memoizedState=$.memoizedState,F.updateQueue=$.updateQueue,F.type=$.type,a=$.dependencies,F.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),y=y.sibling;return Jn(ui,ui.current&1|2),c.child}a=a.sibling}F.tail!==null&&Ie()>Fh&&(c.flags|=128,E=!0,Sp(F,!1),c.lanes=4194304)}else{if(!E)if(a=Lo($),a!==null){if(c.flags|=128,E=!0,y=a.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),Sp(F,!0),F.tail===null&&F.tailMode==="hidden"&&!$.alternate&&!li)return ps(c),null}else 2*Ie()-F.renderingStartTime>Fh&&y!==1073741824&&(c.flags|=128,E=!0,Sp(F,!1),c.lanes=4194304);F.isBackwards?($.sibling=c.child,c.child=$):(y=F.last,y!==null?y.sibling=$:c.child=$,F.last=$)}return F.tail!==null?(c=F.tail,F.rendering=c,F.tail=c.sibling,F.renderingStartTime=Ie(),c.sibling=null,y=ui.current,Jn(ui,E?y&1|2:y&1),c):(ps(c),null);case 22:case 23:return L_(),E=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==E&&(c.flags|=8192),E&&(c.mode&1)!==0?(No&1073741824)!==0&&(ps(c),c.subtreeFlags&6&&(c.flags|=8192)):ps(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function pk(a,c){switch(Ra(c),c.tag){case 1:return Lr(c.type)&&id(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return gl(),ri(qr),ri(pr),$o(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return cc(c),null;case 13:if(ri(ui),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));pl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return ri(ui),null;case 4:return gl(),null;case 10:return cd(c.type._context),null;case 22:case 23:return L_(),null;case 24:return null;default:return null}}var Lg=!1,ms=!1,mk=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Oh(a,c){var y=a.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(E){Vi(a,c,E)}else y.current=null}function __(a,c,y){try{y()}catch(E){Vi(a,c,E)}}var Ob=!1;function gk(a,c){if(Ct=Ur,a=ii(),zi(a)){if("selectionStart"in a)var y={start:a.selectionStart,end:a.selectionEnd};else e:{y=(y=a.ownerDocument)&&y.defaultView||window;var E=y.getSelection&&y.getSelection();if(E&&E.rangeCount!==0){y=E.anchorNode;var I=E.anchorOffset,F=E.focusNode;E=E.focusOffset;try{y.nodeType,F.nodeType}catch{y=null;break e}var $=0,fe=-1,ve=-1,ze=0,lt=0,dt=a,at=null;t:for(;;){for(var Ft;dt!==y||I!==0&&dt.nodeType!==3||(fe=$+I),dt!==F||E!==0&&dt.nodeType!==3||(ve=$+E),dt.nodeType===3&&($+=dt.nodeValue.length),(Ft=dt.firstChild)!==null;)at=dt,dt=Ft;for(;;){if(dt===a)break t;if(at===y&&++ze===I&&(fe=$),at===F&&++lt===E&&(ve=$),(Ft=dt.nextSibling)!==null)break;dt=at,at=dt.parentNode}dt=Ft}y=fe===-1||ve===-1?null:{start:fe,end:ve}}else y=null}y=y||{start:0,end:0}}else y=null;for(Qt={focusedElem:a,selectionRange:y},Ur=!1,Ht=c;Ht!==null;)if(c=Ht,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ht=a;else for(;Ht!==null;){c=Ht;try{var Gt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var qt=Gt.memoizedProps,$i=Gt.memoizedState,ke=c.stateNode,be=ke.getSnapshotBeforeUpdate(c.elementType===c.type?qt:no(c.type,qt),$i);ke.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Ne=c.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(gt){Vi(c,c.return,gt)}if(a=c.sibling,a!==null){a.return=c.return,Ht=a;break}Ht=c.return}return Gt=Ob,Ob=!1,Gt}function bp(a,c,y){var E=c.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var I=E=E.next;do{if((I.tag&a)===a){var F=I.destroy;I.destroy=void 0,F!==void 0&&__(c,y,F)}I=I.next}while(I!==E)}}function Ig(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var y=c=c.next;do{if((y.tag&a)===a){var E=y.create;y.destroy=E()}y=y.next}while(y!==c)}}function x_(a){var c=a.ref;if(c!==null){var y=a.stateNode;switch(a.tag){case 5:a=y;break;default:a=y}typeof c=="function"?c(a):c.current=a}}function Db(a){var c=a.alternate;c!==null&&(a.alternate=null,Db(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Li],delete c[Ea],delete c[Qs],delete c[ic],delete c[rc])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Fb(a){return a.tag===5||a.tag===3||a.tag===4}function zb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function w_(a,c,y){var E=a.tag;if(E===5||E===6)a=a.stateNode,c?y.nodeType===8?y.parentNode.insertBefore(a,c):y.insertBefore(a,c):(y.nodeType===8?(c=y.parentNode,c.insertBefore(a,y)):(c=y,c.appendChild(a)),y=y._reactRootContainer,y!=null||c.onclick!==null||(c.onclick=Je));else if(E!==4&&(a=a.child,a!==null))for(w_(a,c,y),a=a.sibling;a!==null;)w_(a,c,y),a=a.sibling}function S_(a,c,y){var E=a.tag;if(E===5||E===6)a=a.stateNode,c?y.insertBefore(a,c):y.appendChild(a);else if(E!==4&&(a=a.child,a!==null))for(S_(a,c,y),a=a.sibling;a!==null;)S_(a,c,y),a=a.sibling}var Qr=null,za=!1;function fc(a,c,y){for(y=y.child;y!==null;)Ub(a,c,y),y=y.sibling}function Ub(a,c,y){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Yt,y)}catch{}switch(y.tag){case 5:ms||Oh(y,c);case 6:var E=Qr,I=za;Qr=null,fc(a,c,y),Qr=E,za=I,Qr!==null&&(za?(a=Qr,y=y.stateNode,a.nodeType===8?a.parentNode.removeChild(y):a.removeChild(y)):Qr.removeChild(y.stateNode));break;case 18:Qr!==null&&(za?(a=Qr,y=y.stateNode,a.nodeType===8?nc(a.parentNode,y):a.nodeType===1&&nc(a,y),Ms(a)):nc(Qr,y.stateNode));break;case 4:E=Qr,I=za,Qr=y.stateNode.containerInfo,za=!0,fc(a,c,y),Qr=E,za=I;break;case 0:case 11:case 14:case 15:if(!ms&&(E=y.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){I=E=E.next;do{var F=I,$=F.destroy;F=F.tag,$!==void 0&&((F&2)!==0||(F&4)!==0)&&__(y,c,$),I=I.next}while(I!==E)}fc(a,c,y);break;case 1:if(!ms&&(Oh(y,c),E=y.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=y.memoizedProps,E.state=y.memoizedState,E.componentWillUnmount()}catch(fe){Vi(y,c,fe)}fc(a,c,y);break;case 21:fc(a,c,y);break;case 22:y.mode&1?(ms=(E=ms)||y.memoizedState!==null,fc(a,c,y),ms=E):fc(a,c,y);break;default:fc(a,c,y)}}function Bb(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var y=a.stateNode;y===null&&(y=a.stateNode=new mk),c.forEach(function(E){var I=Mk.bind(null,a,E);y.has(E)||(y.add(E),E.then(I,I))})}}function Ua(a,c){var y=c.deletions;if(y!==null)for(var E=0;E<y.length;E++){var I=y[E];try{var F=a,$=c,fe=$;e:for(;fe!==null;){switch(fe.tag){case 5:Qr=fe.stateNode,za=!1;break e;case 3:Qr=fe.stateNode.containerInfo,za=!0;break e;case 4:Qr=fe.stateNode.containerInfo,za=!0;break e}fe=fe.return}if(Qr===null)throw Error(t(160));Ub(F,$,I),Qr=null,za=!1;var ve=I.alternate;ve!==null&&(ve.return=null),I.return=null}catch(ze){Vi(I,c,ze)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Vb(c,a),c=c.sibling}function Vb(a,c){var y=a.alternate,E=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ua(c,a),yl(a),E&4){try{bp(3,a,a.return),Ig(3,a)}catch(qt){Vi(a,a.return,qt)}try{bp(5,a,a.return)}catch(qt){Vi(a,a.return,qt)}}break;case 1:Ua(c,a),yl(a),E&512&&y!==null&&Oh(y,y.return);break;case 5:if(Ua(c,a),yl(a),E&512&&y!==null&&Oh(y,y.return),a.flags&32){var I=a.stateNode;try{ot(I,"")}catch(qt){Vi(a,a.return,qt)}}if(E&4&&(I=a.stateNode,I!=null)){var F=a.memoizedProps,$=y!==null?y.memoizedProps:F,fe=a.type,ve=a.updateQueue;if(a.updateQueue=null,ve!==null)try{fe==="input"&&F.type==="radio"&&F.name!=null&&Ze(I,F),pt(fe,$);var ze=pt(fe,F);for($=0;$<ve.length;$+=2){var lt=ve[$],dt=ve[$+1];lt==="style"?_t(I,dt):lt==="dangerouslySetInnerHTML"?It(I,dt):lt==="children"?ot(I,dt):k(I,lt,dt,ze)}switch(fe){case"input":Be(I,F);break;case"textarea":q(I,F);break;case"select":var at=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!F.multiple;var Ft=F.value;Ft!=null?We(I,!!F.multiple,Ft,!1):at!==!!F.multiple&&(F.defaultValue!=null?We(I,!!F.multiple,F.defaultValue,!0):We(I,!!F.multiple,F.multiple?[]:"",!1))}I[Ea]=F}catch(qt){Vi(a,a.return,qt)}}break;case 6:if(Ua(c,a),yl(a),E&4){if(a.stateNode===null)throw Error(t(162));I=a.stateNode,F=a.memoizedProps;try{I.nodeValue=F}catch(qt){Vi(a,a.return,qt)}}break;case 3:if(Ua(c,a),yl(a),E&4&&y!==null&&y.memoizedState.isDehydrated)try{Ms(c.containerInfo)}catch(qt){Vi(a,a.return,qt)}break;case 4:Ua(c,a),yl(a);break;case 13:Ua(c,a),yl(a),I=a.child,I.flags&8192&&(F=I.memoizedState!==null,I.stateNode.isHidden=F,!F||I.alternate!==null&&I.alternate.memoizedState!==null||(M_=Ie())),E&4&&Bb(a);break;case 22:if(lt=y!==null&&y.memoizedState!==null,a.mode&1?(ms=(ze=ms)||lt,Ua(c,a),ms=ze):Ua(c,a),yl(a),E&8192){if(ze=a.memoizedState!==null,(a.stateNode.isHidden=ze)&&!lt&&(a.mode&1)!==0)for(Ht=a,lt=a.child;lt!==null;){for(dt=Ht=lt;Ht!==null;){switch(at=Ht,Ft=at.child,at.tag){case 0:case 11:case 14:case 15:bp(4,at,at.return);break;case 1:Oh(at,at.return);var Gt=at.stateNode;if(typeof Gt.componentWillUnmount=="function"){E=at,y=at.return;try{c=E,Gt.props=c.memoizedProps,Gt.state=c.memoizedState,Gt.componentWillUnmount()}catch(qt){Vi(E,y,qt)}}break;case 5:Oh(at,at.return);break;case 22:if(at.memoizedState!==null){Wb(dt);continue}}Ft!==null?(Ft.return=at,Ht=Ft):Wb(dt)}lt=lt.sibling}e:for(lt=null,dt=a;;){if(dt.tag===5){if(lt===null){lt=dt;try{I=dt.stateNode,ze?(F=I.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(fe=dt.stateNode,ve=dt.memoizedProps.style,$=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,fe.style.display=qe("display",$))}catch(qt){Vi(a,a.return,qt)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=ze?"":dt.memoizedProps}catch(qt){Vi(a,a.return,qt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===a)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===a)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===a)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:Ua(c,a),yl(a),E&4&&Bb(a);break;case 21:break;default:Ua(c,a),yl(a)}}function yl(a){var c=a.flags;if(c&2){try{e:{for(var y=a.return;y!==null;){if(Fb(y)){var E=y;break e}y=y.return}throw Error(t(160))}switch(E.tag){case 5:var I=E.stateNode;E.flags&32&&(ot(I,""),E.flags&=-33);var F=zb(a);S_(a,F,I);break;case 3:case 4:var $=E.stateNode.containerInfo,fe=zb(a);w_(a,fe,$);break;default:throw Error(t(161))}}catch(ve){Vi(a,a.return,ve)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function vk(a,c,y){Ht=a,Hb(a)}function Hb(a,c,y){for(var E=(a.mode&1)!==0;Ht!==null;){var I=Ht,F=I.child;if(I.tag===22&&E){var $=I.memoizedState!==null||Lg;if(!$){var fe=I.alternate,ve=fe!==null&&fe.memoizedState!==null||ms;fe=Lg;var ze=ms;if(Lg=$,(ms=ve)&&!ze)for(Ht=I;Ht!==null;)$=Ht,ve=$.child,$.tag===22&&$.memoizedState!==null?Gb(I):ve!==null?(ve.return=$,Ht=ve):Gb(I);for(;F!==null;)Ht=F,Hb(F),F=F.sibling;Ht=I,Lg=fe,ms=ze}jb(a)}else(I.subtreeFlags&8772)!==0&&F!==null?(F.return=I,Ht=F):jb(a)}}function jb(a){for(;Ht!==null;){var c=Ht;if((c.flags&8772)!==0){var y=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ms||Ig(5,c);break;case 1:var E=c.stateNode;if(c.flags&4&&!ms)if(y===null)E.componentDidMount();else{var I=c.elementType===c.type?y.memoizedProps:no(c.type,y.memoizedProps);E.componentDidUpdate(I,y.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var F=c.updateQueue;F!==null&&uc(c,F,E);break;case 3:var $=c.updateQueue;if($!==null){if(y=null,c.child!==null)switch(c.child.tag){case 5:y=c.child.stateNode;break;case 1:y=c.child.stateNode}uc(c,$,y)}break;case 5:var fe=c.stateNode;if(y===null&&c.flags&4){y=fe;var ve=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&y.focus();break;case"img":ve.src&&(y.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ze=c.alternate;if(ze!==null){var lt=ze.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&Ms(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ms||c.flags&512&&x_(c)}catch(at){Vi(c,c.return,at)}}if(c===a){Ht=null;break}if(y=c.sibling,y!==null){y.return=c.return,Ht=y;break}Ht=c.return}}function Wb(a){for(;Ht!==null;){var c=Ht;if(c===a){Ht=null;break}var y=c.sibling;if(y!==null){y.return=c.return,Ht=y;break}Ht=c.return}}function Gb(a){for(;Ht!==null;){var c=Ht;try{switch(c.tag){case 0:case 11:case 15:var y=c.return;try{Ig(4,c)}catch(ve){Vi(c,y,ve)}break;case 1:var E=c.stateNode;if(typeof E.componentDidMount=="function"){var I=c.return;try{E.componentDidMount()}catch(ve){Vi(c,I,ve)}}var F=c.return;try{x_(c)}catch(ve){Vi(c,F,ve)}break;case 5:var $=c.return;try{x_(c)}catch(ve){Vi(c,$,ve)}}}catch(ve){Vi(c,c.return,ve)}if(c===a){Ht=null;break}var fe=c.sibling;if(fe!==null){fe.return=c.return,Ht=fe;break}Ht=c.return}}var yk=Math.ceil,kg=O.ReactCurrentDispatcher,b_=O.ReactCurrentOwner,Jo=O.ReactCurrentBatchConfig,Bn=0,Nr=null,rr=null,es=0,No=0,Dh=bi(0),_r=0,Tp=null,wd=0,Ng=0,T_=0,Mp=null,io=null,M_=0,Fh=1/0,pu=null,Og=!1,E_=null,pc=null,Dg=!1,mc=null,Fg=0,Ep=0,C_=null,zg=-1,Ug=0;function Fs(){return(Bn&6)!==0?Ie():zg!==-1?zg:zg=Ie()}function gc(a){return(a.mode&1)===0?1:(Bn&2)!==0&&es!==0?es&-es:m_.transition!==null?(Ug===0&&(Ug=Cn()),Ug):(a=gn,a!==0||(a=window.event,a=a===void 0?16:Ln(a.type)),a)}function Ba(a,c,y,E){if(50<Ep)throw Ep=0,C_=null,Error(t(185));ni(a,y,E),((Bn&2)===0||a!==Nr)&&(a===Nr&&((Bn&2)===0&&(Ng|=y),_r===4&&vc(a,es)),ro(a,E),y===1&&Bn===0&&(c.mode&1)===0&&(Fh=Ie()+500,sd&&Yo()))}function ro(a,c){var y=a.callbackNode;hi(a,c);var E=wn(a,a===Nr?es:0);if(E===0)y!==null&&te(y),a.callbackNode=null,a.callbackPriority=0;else if(c=E&-E,a.callbackPriority!==c){if(y!=null&&te(y),c===1)a.tag===0?yg(Zb.bind(null,a)):od(Zb.bind(null,a)),Rr(function(){(Bn&6)===0&&Yo()}),y=null;else{switch(Di(E)){case 1:y=ut;break;case 4:y=Tt;break;case 16:y=Ot;break;case 536870912:y=Zt;break;default:y=Ot}y=tT(y,Xb.bind(null,a))}a.callbackPriority=c,a.callbackNode=y}}function Xb(a,c){if(zg=-1,Ug=0,(Bn&6)!==0)throw Error(t(327));var y=a.callbackNode;if(zh()&&a.callbackNode!==y)return null;var E=wn(a,a===Nr?es:0);if(E===0)return null;if((E&30)!==0||(E&a.expiredLanes)!==0||c)c=Bg(a,E);else{c=E;var I=Bn;Bn|=2;var F=qb();(Nr!==a||es!==c)&&(pu=null,Fh=Ie()+500,bd(a,c));do try{wk();break}catch(fe){Yb(a,fe)}while(!0);ou(),kg.current=F,Bn=I,rr!==null?c=0:(Nr=null,es=0,c=_r)}if(c!==0){if(c===2&&(I=fi(a),I!==0&&(E=I,c=A_(a,I))),c===1)throw y=Tp,bd(a,0),vc(a,E),ro(a,Ie()),y;if(c===6)vc(a,E);else{if(I=a.current.alternate,(E&30)===0&&!_k(I)&&(c=Bg(a,E),c===2&&(F=fi(a),F!==0&&(E=F,c=A_(a,F))),c===1))throw y=Tp,bd(a,0),vc(a,E),ro(a,Ie()),y;switch(a.finishedWork=I,a.finishedLanes=E,c){case 0:case 1:throw Error(t(345));case 2:Td(a,io,pu);break;case 3:if(vc(a,E),(E&130023424)===E&&(c=M_+500-Ie(),10<c)){if(wn(a,0)!==0)break;if(I=a.suspendedLanes,(I&E)!==E){Fs(),a.pingedLanes|=a.suspendedLanes&I;break}a.timeoutHandle=qi(Td.bind(null,a,io,pu),c);break}Td(a,io,pu);break;case 4:if(vc(a,E),(E&4194240)===E)break;for(c=a.eventTimes,I=-1;0<E;){var $=31-bt(E);F=1<<$,$=c[$],$>I&&(I=$),E&=~F}if(E=I,E=Ie()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*yk(E/1960))-E,10<E){a.timeoutHandle=qi(Td.bind(null,a,io,pu),E);break}Td(a,io,pu);break;case 5:Td(a,io,pu);break;default:throw Error(t(329))}}}return ro(a,Ie()),a.callbackNode===y?Xb.bind(null,a):null}function A_(a,c){var y=Mp;return a.current.memoizedState.isDehydrated&&(bd(a,c).flags|=256),a=Bg(a,c),a!==2&&(c=io,io=y,c!==null&&P_(c)),a}function P_(a){io===null?io=a:io.push.apply(io,a)}function _k(a){for(var c=a;;){if(c.flags&16384){var y=c.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var E=0;E<y.length;E++){var I=y[E],F=I.getSnapshot;I=I.value;try{if(!Zr(F(),I))return!1}catch{return!1}}}if(y=c.child,c.subtreeFlags&16384&&y!==null)y.return=c,c=y;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function vc(a,c){for(c&=~T_,c&=~Ng,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var y=31-bt(c),E=1<<y;a[y]=-1,c&=~E}}function Zb(a){if((Bn&6)!==0)throw Error(t(327));zh();var c=wn(a,0);if((c&1)===0)return ro(a,Ie()),null;var y=Bg(a,c);if(a.tag!==0&&y===2){var E=fi(a);E!==0&&(c=E,y=A_(a,E))}if(y===1)throw y=Tp,bd(a,0),vc(a,c),ro(a,Ie()),y;if(y===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Td(a,io,pu),ro(a,Ie()),null}function R_(a,c){var y=Bn;Bn|=1;try{return a(c)}finally{Bn=y,Bn===0&&(Fh=Ie()+500,sd&&Yo())}}function Sd(a){mc!==null&&mc.tag===0&&(Bn&6)===0&&zh();var c=Bn;Bn|=1;var y=Jo.transition,E=gn;try{if(Jo.transition=null,gn=1,a)return a()}finally{gn=E,Jo.transition=y,Bn=c,(Bn&6)===0&&Yo()}}function L_(){No=Dh.current,ri(Dh)}function bd(a,c){a.finishedWork=null,a.finishedLanes=0;var y=a.timeoutHandle;if(y!==-1&&(a.timeoutHandle=-1,Si(y)),rr!==null)for(y=rr.return;y!==null;){var E=y;switch(Ra(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&id();break;case 3:gl(),ri(qr),ri(pr),$o();break;case 5:cc(E);break;case 4:gl();break;case 13:ri(ui);break;case 19:ri(ui);break;case 10:cd(E.type._context);break;case 22:case 23:L_()}y=y.return}if(Nr=a,rr=a=yc(a.current,null),es=No=c,_r=0,Tp=null,T_=Ng=wd=0,io=Mp=null,Ia!==null){for(c=0;c<Ia.length;c++)if(y=Ia[c],E=y.interleaved,E!==null){y.interleaved=null;var I=E.next,F=y.pending;if(F!==null){var $=F.next;F.next=I,E.next=$}y.pending=E}Ia=null}return a}function Yb(a,c){do{var y=rr;try{if(ou(),cu.current=kh,Io){for(var E=si.memoizedState;E!==null;){var I=E.queue;I!==null&&(I.pending=null),E=E.next}Io=!1}if(Na=0,Fn=Mi=si=null,kr=!1,vl=0,b_.current=null,y===null||y.return===null){_r=1,Tp=c,rr=null;break}e:{var F=a,$=y.return,fe=y,ve=c;if(c=es,fe.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var ze=ve,lt=fe,dt=lt.tag;if((lt.mode&1)===0&&(dt===0||dt===11||dt===15)){var at=lt.alternate;at?(lt.updateQueue=at.updateQueue,lt.memoizedState=at.memoizedState,lt.lanes=at.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var Ft=Bt($);if(Ft!==null){Ft.flags&=-257,fn(Ft,$,fe,F,c),Ft.mode&1&&mt(F,ze,c),c=Ft,ve=ze;var Gt=c.updateQueue;if(Gt===null){var qt=new Set;qt.add(ve),c.updateQueue=qt}else Gt.add(ve);break e}else{if((c&1)===0){mt(F,ze,c),I_();break e}ve=Error(t(426))}}else if(li&&fe.mode&1){var $i=Bt($);if($i!==null){($i.flags&65536)===0&&($i.flags|=256),fn($i,$,fe,F,c),ac(A(ve,fe));break e}}F=ve=A(ve,fe),_r!==4&&(_r=2),Mp===null?Mp=[F]:Mp.push(F),F=$;do{switch(F.tag){case 3:F.flags|=65536,c&=-c,F.lanes|=c;var ke=Te(F,ve,c);au(F,ke);break e;case 1:fe=ve;var be=F.type,Ne=F.stateNode;if((F.flags&128)===0&&(typeof be.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(pc===null||!pc.has(Ne)))){F.flags|=65536,c&=-c,F.lanes|=c;var gt=je(F,fe,c);au(F,gt);break e}}F=F.return}while(F!==null)}Kb(y)}catch(Kt){c=Kt,rr===y&&y!==null&&(rr=y=y.return);continue}break}while(!0)}function qb(){var a=kg.current;return kg.current=kh,a===null?kh:a}function I_(){(_r===0||_r===3||_r===2)&&(_r=4),Nr===null||(wd&268435455)===0&&(Ng&268435455)===0||vc(Nr,es)}function Bg(a,c){var y=Bn;Bn|=2;var E=qb();(Nr!==a||es!==c)&&(pu=null,bd(a,c));do try{xk();break}catch(I){Yb(a,I)}while(!0);if(ou(),Bn=y,kg.current=E,rr!==null)throw Error(t(261));return Nr=null,es=0,_r}function xk(){for(;rr!==null;)$b(rr)}function wk(){for(;rr!==null&&!Ae();)$b(rr)}function $b(a){var c=eT(a.alternate,a,No);a.memoizedProps=a.pendingProps,c===null?Kb(a):rr=c,b_.current=null}function Kb(a){var c=a;do{var y=c.alternate;if(a=c.return,(c.flags&32768)===0){if(y=fk(y,c,No),y!==null){rr=y;return}}else{if(y=pk(y,c),y!==null){y.flags&=32767,rr=y;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{_r=6,rr=null;return}}if(c=c.sibling,c!==null){rr=c;return}rr=c=a}while(c!==null);_r===0&&(_r=5)}function Td(a,c,y){var E=gn,I=Jo.transition;try{Jo.transition=null,gn=1,Sk(a,c,y,E)}finally{Jo.transition=I,gn=E}return null}function Sk(a,c,y,E){do zh();while(mc!==null);if((Bn&6)!==0)throw Error(t(327));y=a.finishedWork;var I=a.finishedLanes;if(y===null)return null;if(a.finishedWork=null,a.finishedLanes=0,y===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var F=y.lanes|y.childLanes;if(Rn(a,F),a===Nr&&(rr=Nr=null,es=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Dg||(Dg=!0,tT(Ot,function(){return zh(),null})),F=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||F){F=Jo.transition,Jo.transition=null;var $=gn;gn=1;var fe=Bn;Bn|=4,b_.current=null,gk(a,y),Vb(y,a),Xn(Qt),Ur=!!Ct,Qt=Ct=null,a.current=y,vk(y),De(),Bn=fe,gn=$,Jo.transition=F}else a.current=y;if(Dg&&(Dg=!1,mc=a,Fg=I),F=a.pendingLanes,F===0&&(pc=null),Nt(y.stateNode),ro(a,Ie()),c!==null)for(E=a.onRecoverableError,y=0;y<c.length;y++)I=c[y],E(I.value,{componentStack:I.stack,digest:I.digest});if(Og)throw Og=!1,a=E_,E_=null,a;return(Fg&1)!==0&&a.tag!==0&&zh(),F=a.pendingLanes,(F&1)!==0?a===C_?Ep++:(Ep=0,C_=a):Ep=0,Yo(),null}function zh(){if(mc!==null){var a=Di(Fg),c=Jo.transition,y=gn;try{if(Jo.transition=null,gn=16>a?16:a,mc===null)var E=!1;else{if(a=mc,mc=null,Fg=0,(Bn&6)!==0)throw Error(t(331));var I=Bn;for(Bn|=4,Ht=a.current;Ht!==null;){var F=Ht,$=F.child;if((Ht.flags&16)!==0){var fe=F.deletions;if(fe!==null){for(var ve=0;ve<fe.length;ve++){var ze=fe[ve];for(Ht=ze;Ht!==null;){var lt=Ht;switch(lt.tag){case 0:case 11:case 15:bp(8,lt,F)}var dt=lt.child;if(dt!==null)dt.return=lt,Ht=dt;else for(;Ht!==null;){lt=Ht;var at=lt.sibling,Ft=lt.return;if(Db(lt),lt===ze){Ht=null;break}if(at!==null){at.return=Ft,Ht=at;break}Ht=Ft}}}var Gt=F.alternate;if(Gt!==null){var qt=Gt.child;if(qt!==null){Gt.child=null;do{var $i=qt.sibling;qt.sibling=null,qt=$i}while(qt!==null)}}Ht=F}}if((F.subtreeFlags&2064)!==0&&$!==null)$.return=F,Ht=$;else e:for(;Ht!==null;){if(F=Ht,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:bp(9,F,F.return)}var ke=F.sibling;if(ke!==null){ke.return=F.return,Ht=ke;break e}Ht=F.return}}var be=a.current;for(Ht=be;Ht!==null;){$=Ht;var Ne=$.child;if(($.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=$,Ht=Ne;else e:for($=be;Ht!==null;){if(fe=Ht,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Ig(9,fe)}}catch(Kt){Vi(fe,fe.return,Kt)}if(fe===$){Ht=null;break e}var gt=fe.sibling;if(gt!==null){gt.return=fe.return,Ht=gt;break e}Ht=fe.return}}if(Bn=I,Yo(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Yt,a)}catch{}E=!0}return E}finally{gn=y,Jo.transition=c}}return!1}function Jb(a,c,y){c=A(y,c),c=Te(a,c,1),a=di(a,c,1),c=Fs(),a!==null&&(ni(a,1,c),ro(a,c))}function Vi(a,c,y){if(a.tag===3)Jb(a,a,y);else for(;c!==null;){if(c.tag===3){Jb(c,a,y);break}else if(c.tag===1){var E=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(pc===null||!pc.has(E))){a=A(y,a),a=je(c,a,1),c=di(c,a,1),a=Fs(),c!==null&&(ni(c,1,a),ro(c,a));break}}c=c.return}}function bk(a,c,y){var E=a.pingCache;E!==null&&E.delete(c),c=Fs(),a.pingedLanes|=a.suspendedLanes&y,Nr===a&&(es&y)===y&&(_r===4||_r===3&&(es&130023424)===es&&500>Ie()-M_?bd(a,0):T_|=y),ro(a,c)}function Qb(a,c){c===0&&((a.mode&1)===0?c=1:(c=dn,dn<<=1,(dn&130023424)===0&&(dn=4194304)));var y=Fs();a=Ro(a,c),a!==null&&(ni(a,c,y),ro(a,y))}function Tk(a){var c=a.memoizedState,y=0;c!==null&&(y=c.retryLane),Qb(a,y)}function Mk(a,c){var y=0;switch(a.tag){case 13:var E=a.stateNode,I=a.memoizedState;I!==null&&(y=I.retryLane);break;case 19:E=a.stateNode;break;default:throw Error(t(314))}E!==null&&E.delete(c),Qb(a,y)}var eT;eT=function(a,c,y){if(a!==null)if(a.memoizedProps!==c.pendingProps||qr.current)Mn=!0;else{if((a.lanes&y)===0&&(c.flags&128)===0)return Mn=!1,hk(a,c,y);Mn=(a.flags&131072)!==0}else Mn=!1,li&&(c.flags&1048576)!==0&&sp(c,bh,c.index);switch(c.lanes=0,c.tag){case 2:var E=c.type;Rg(a,c),a=c.pendingProps;var I=Ql(c,pr.current);ml(c,y),I=md(null,c,E,a,I,y);var F=fp();return c.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Lr(E)?(F=!0,eu(c)):F=!1,c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Sn(c),I.updater=Nh,c.stateNode=I,I._reactInternals=c,b(c,E,a,y),c=_n(null,c,E,!0,F,y)):(c.tag=0,li&&F&&op(c),kt(null,c,I,y),c=c.child),c;case 16:E=c.elementType;e:{switch(Rg(a,c),a=c.pendingProps,I=E._init,E=I(E._payload),c.type=E,I=c.tag=Ck(E),a=no(E,a),I){case 0:c=Pt(null,c,E,a,y);break e;case 1:c=$t(null,c,E,a,y);break e;case 11:c=yr(null,c,E,a,y);break e;case 14:c=Ds(null,c,E,no(E.type,a),y);break e}throw Error(t(306,E,""))}return c;case 0:return E=c.type,I=c.pendingProps,I=c.elementType===E?I:no(E,I),Pt(a,c,E,I,y);case 1:return E=c.type,I=c.pendingProps,I=c.elementType===E?I:no(E,I),$t(a,c,E,I,y);case 3:e:{if(pn(c),a===null)throw Error(t(387));E=c.pendingProps,F=c.memoizedState,I=F.element,Ii(a,c),Ti(c,E,null,y);var $=c.memoizedState;if(E=$.element,F.isDehydrated)if(F={element:E,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},c.updateQueue.baseState=F,c.memoizedState=F,c.flags&256){I=A(Error(t(423)),c),c=Dn(a,c,E,y,I);break e}else if(E!==I){I=A(Error(t(424)),c),c=Dn(a,c,E,y,I);break e}else for(Kr=Ao(c.stateNode.containerInfo.firstChild),mr=c,li=!0,to=null,y=ud(c,null,E,y),c.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(pl(),E===I){c=fu(a,c,y);break e}kt(a,c,E,y)}c=c.child}return c;case 5:return uu(c),a===null&&Mh(c),E=c.type,I=c.pendingProps,F=a!==null?a.memoizedProps:null,$=I.children,yn(E,I)?$=null:F!==null&&yn(E,F)&&(c.flags|=32),Ve(a,c),kt(a,c,$,y),c.child;case 6:return a===null&&Mh(c),null;case 13:return Fa(a,c,y);case 4:return fd(c,c.stateNode.containerInfo),E=c.pendingProps,a===null?c.child=iu(c,null,E,y):kt(a,c,E,y),c.child;case 11:return E=c.type,I=c.pendingProps,I=c.elementType===E?I:no(E,I),yr(a,c,E,I,y);case 7:return kt(a,c,c.pendingProps,y),c.child;case 8:return kt(a,c,c.pendingProps.children,y),c.child;case 12:return kt(a,c,c.pendingProps.children,y),c.child;case 10:e:{if(E=c.type._context,I=c.pendingProps,F=c.memoizedProps,$=I.value,Jn(ru,E._currentValue),E._currentValue=$,F!==null)if(Zr(F.value,$)){if(F.children===I.children&&!qr.current){c=fu(a,c,y);break e}}else for(F=c.child,F!==null&&(F.return=c);F!==null;){var fe=F.dependencies;if(fe!==null){$=F.child;for(var ve=fe.firstContext;ve!==null;){if(ve.context===E){if(F.tag===1){ve=$n(-1,y&-y),ve.tag=2;var ze=F.updateQueue;if(ze!==null){ze=ze.shared;var lt=ze.pending;lt===null?ve.next=ve:(ve.next=lt.next,lt.next=ve),ze.pending=ve}}F.lanes|=y,ve=F.alternate,ve!==null&&(ve.lanes|=y),dd(F.return,y,c),fe.lanes|=y;break}ve=ve.next}}else if(F.tag===10)$=F.type===c.type?null:F.child;else if(F.tag===18){if($=F.return,$===null)throw Error(t(341));$.lanes|=y,fe=$.alternate,fe!==null&&(fe.lanes|=y),dd($,y,c),$=F.sibling}else $=F.child;if($!==null)$.return=F;else for($=F;$!==null;){if($===c){$=null;break}if(F=$.sibling,F!==null){F.return=$.return,$=F;break}$=$.return}F=$}kt(a,c,I.children,y),c=c.child}return c;case 9:return I=c.type,E=c.pendingProps.children,ml(c,y),I=Is(I),E=E(I),c.flags|=1,kt(a,c,E,y),c.child;case 14:return E=c.type,I=no(E,c.pendingProps),I=no(E.type,I),Ds(a,c,E,I,y);case 15:return Oe(a,c,c.type,c.pendingProps,y);case 17:return E=c.type,I=c.pendingProps,I=c.elementType===E?I:no(E,I),Rg(a,c),c.tag=1,Lr(E)?(a=!0,eu(c)):a=!1,ml(c,y),h(c,E,I),b(c,E,I,y),_n(null,c,E,!0,a,y);case 19:return Lb(a,c,y);case 22:return Ce(a,c,y)}throw Error(t(156,c.tag))};function tT(a,c){return Bu(a,c)}function Ek(a,c,y,E){this.tag=a,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(a,c,y,E){return new Ek(a,c,y,E)}function k_(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ck(a){if(typeof a=="function")return k_(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Q)return 11;if(a===ge)return 14}return 2}function yc(a,c){var y=a.alternate;return y===null?(y=Qo(a.tag,c,a.key,a.mode),y.elementType=a.elementType,y.type=a.type,y.stateNode=a.stateNode,y.alternate=a,a.alternate=y):(y.pendingProps=c,y.type=a.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=a.flags&14680064,y.childLanes=a.childLanes,y.lanes=a.lanes,y.child=a.child,y.memoizedProps=a.memoizedProps,y.memoizedState=a.memoizedState,y.updateQueue=a.updateQueue,c=a.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=a.sibling,y.index=a.index,y.ref=a.ref,y}function Vg(a,c,y,E,I,F){var $=2;if(E=a,typeof a=="function")k_(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case Z:return Md(y.children,I,F,c);case z:$=8,I|=8;break;case U:return a=Qo(12,y,c,I|2),a.elementType=U,a.lanes=F,a;case ae:return a=Qo(13,y,c,I),a.elementType=ae,a.lanes=F,a;case se:return a=Qo(19,y,c,I),a.elementType=se,a.lanes=F,a;case de:return Hg(y,I,F,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:$=10;break e;case Y:$=9;break e;case Q:$=11;break e;case ge:$=14;break e;case he:$=16,E=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=Qo($,y,c,I),c.elementType=a,c.type=E,c.lanes=F,c}function Md(a,c,y,E){return a=Qo(7,a,E,c),a.lanes=y,a}function Hg(a,c,y,E){return a=Qo(22,a,E,c),a.elementType=de,a.lanes=y,a.stateNode={isHidden:!1},a}function N_(a,c,y){return a=Qo(6,a,null,c),a.lanes=y,a}function O_(a,c,y){return c=Qo(4,a.children!==null?a.children:[],a.key,c),c.lanes=y,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function Ak(a,c,y,E,I){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=E,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function D_(a,c,y,E,I,F,$,fe,ve){return a=new Ak(a,c,y,fe,ve),c===1?(c=1,F===!0&&(c|=8)):c=0,F=Qo(3,null,null,c),a.current=F,F.stateNode=a,F.memoizedState={element:E,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sn(F),a}function Pk(a,c,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:E==null?null:""+E,children:a,containerInfo:c,implementation:y}}function nT(a){if(!a)return Ca;a=a._reactInternals;e:{if(Ss(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Lr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var y=a.type;if(Lr(y))return rd(a,y,c)}return c}function iT(a,c,y,E,I,F,$,fe,ve){return a=D_(y,E,!0,a,I,F,$,fe,ve),a.context=nT(null),y=a.current,E=Fs(),I=gc(y),F=$n(E,I),F.callback=c??null,di(y,F,I),a.current.lanes=I,ni(a,I,E),ro(a,E),a}function jg(a,c,y,E){var I=c.current,F=Fs(),$=gc(I);return y=nT(y),c.context===null?c.context=y:c.pendingContext=y,c=$n(F,$),c.payload={element:a},E=E===void 0?null:E,E!==null&&(c.callback=E),a=di(I,c,$),a!==null&&(Ba(a,I,$,F),Ir(a,I,$)),$}function Wg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function rT(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var y=a.retryLane;a.retryLane=y!==0&&y<c?y:c}}function F_(a,c){rT(a,c),(a=a.alternate)&&rT(a,c)}function Rk(){return null}var sT=typeof reportError=="function"?reportError:function(a){console.error(a)};function z_(a){this._internalRoot=a}Gg.prototype.render=z_.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));jg(a,c,null,null)},Gg.prototype.unmount=z_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Sd(function(){jg(null,a,null,null)}),c[Nn]=null}};function Gg(a){this._internalRoot=a}Gg.prototype.unstable_scheduleHydration=function(a){if(a){var c=tl();a={blockedOn:null,target:a,priority:c};for(var y=0;y<Gi.length&&c!==0&&c<Gi[y].priority;y++);Gi.splice(y,0,a),y===0&&il(a)}};function U_(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Xg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function oT(){}function Lk(a,c,y,E,I){if(I){if(typeof E=="function"){var F=E;E=function(){var ze=Wg($);F.call(ze)}}var $=iT(c,E,a,0,null,!1,!1,"",oT);return a._reactRootContainer=$,a[Nn]=$.current,Ta(a.nodeType===8?a.parentNode:a),Sd(),$}for(;I=a.lastChild;)a.removeChild(I);if(typeof E=="function"){var fe=E;E=function(){var ze=Wg(ve);fe.call(ze)}}var ve=D_(a,0,!1,null,null,!1,!1,"",oT);return a._reactRootContainer=ve,a[Nn]=ve.current,Ta(a.nodeType===8?a.parentNode:a),Sd(function(){jg(c,ve,y,E)}),ve}function Zg(a,c,y,E,I){var F=y._reactRootContainer;if(F){var $=F;if(typeof I=="function"){var fe=I;I=function(){var ve=Wg($);fe.call(ve)}}jg(c,$,a,I)}else $=Lk(y,c,a,I,E);return Wg($)}ca=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var y=wt(c.pendingLanes);y!==0&&(Gn(c,y|1),ro(c,Ie()),(Bn&6)===0&&(Fh=Ie()+500,Yo()))}break;case 13:Sd(function(){var E=Ro(a,1);if(E!==null){var I=Fs();Ba(E,a,1,I)}}),F_(a,1)}},da=function(a){if(a.tag===13){var c=Ro(a,134217728);if(c!==null){var y=Fs();Ba(c,a,134217728,y)}F_(a,134217728)}},Vu=function(a){if(a.tag===13){var c=gc(a),y=Ro(a,c);if(y!==null){var E=Fs();Ba(y,a,c,E)}F_(a,c)}},tl=function(){return gn},ha=function(a,c){var y=gn;try{return gn=a,c()}finally{gn=y}},xt=function(a,c,y){switch(c){case"input":if(Be(a,y),c=y.name,y.type==="radio"&&c!=null){for(y=a;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<y.length;c++){var E=y[c];if(E!==a&&E.form===a.form){var I=sc(E);if(!I)throw Error(t(90));ht(E),Be(E,I)}}}break;case"textarea":q(a,y);break;case"select":c=y.value,c!=null&&We(a,!!y.multiple,c,!1)}},Et=R_,Jt=Sd;var Ik={usingClientEntryPoint:!1,Events:[Ls,ci,sc,Ye,Ke,R_]},Cp={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kk={bundleType:Cp.bundleType,version:Cp.version,rendererPackageName:Cp.rendererPackageName,rendererConfig:Cp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=zu(a),a===null?null:a.stateNode},findFiberByHostInstance:Cp.findFiberByHostInstance||Rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yg.isDisabled&&Yg.supportsFiber)try{Yt=Yg.inject(kk),ft=Yg}catch{}}return so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik,so.createPortal=function(a,c){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U_(c))throw Error(t(200));return Pk(a,c,null,y)},so.createRoot=function(a,c){if(!U_(a))throw Error(t(299));var y=!1,E="",I=sT;return c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=D_(a,1,!1,null,null,y,!1,E,I),a[Nn]=c.current,Ta(a.nodeType===8?a.parentNode:a),new z_(c)},so.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=zu(c),a=a===null?null:a.stateNode,a},so.flushSync=function(a){return Sd(a)},so.hydrate=function(a,c,y){if(!Xg(c))throw Error(t(200));return Zg(null,a,c,!0,y)},so.hydrateRoot=function(a,c,y){if(!U_(a))throw Error(t(405));var E=y!=null&&y.hydratedSources||null,I=!1,F="",$=sT;if(y!=null&&(y.unstable_strictMode===!0&&(I=!0),y.identifierPrefix!==void 0&&(F=y.identifierPrefix),y.onRecoverableError!==void 0&&($=y.onRecoverableError)),c=iT(c,null,a,1,y??null,I,!1,F,$),a[Nn]=c.current,Ta(a),E)for(a=0;a<E.length;a++)y=E[a],I=y._getVersion,I=I(y._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[y,I]:c.mutableSourceEagerHydrationData.push(y,I);return new Gg(c)},so.render=function(a,c,y){if(!Xg(c))throw Error(t(200));return Zg(null,a,c,!1,y)},so.unmountComponentAtNode=function(a){if(!Xg(a))throw Error(t(40));return a._reactRootContainer?(Sd(function(){Zg(null,null,a,!1,function(){a._reactRootContainer=null,a[Nn]=null})}),!0):!1},so.unstable_batchedUpdates=R_,so.unstable_renderSubtreeIntoContainer=function(a,c,y,E){if(!Xg(y))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Zg(a,c,y,!1,E)},so.version="18.3.1-next-f1338f8080-20240426",so}var pT;function RA(){if(pT)return H_.exports;pT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),H_.exports=Vk(),H_.exports}var mT;function Hk(){if(mT)return qg;mT=1;var n=RA();return qg.createRoot=n.createRoot,qg.hydrateRoot=n.hydrateRoot,qg}var jk=Hk(),G=Ym();const vt=Zm(G),I1=Ok({__proto__:null,default:vt},[G]),Wk=1,Gk=1e6;let G_=0;function Xk(){return G_=(G_+1)%Number.MAX_SAFE_INTEGER,G_.toString()}const X_=new Map,gT=n=>{if(X_.has(n))return;const e=setTimeout(()=>{X_.delete(n),Qp({type:"REMOVE_TOAST",toastId:n})},Gk);X_.set(n,e)},Zk=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,Wk)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?gT(t):n.toasts.forEach(i=>{gT(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ny=[];let iy={toasts:[]};function Qp(n){iy=Zk(iy,n),ny.forEach(e=>{e(iy)})}function Yk({...n}){const e=Xk(),t=r=>Qp({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Qp({type:"DISMISS_TOAST",toastId:e});return Qp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function qk(){const[n,e]=G.useState(iy);return G.useEffect(()=>(ny.push(e),()=>{const t=ny.indexOf(e);t>-1&&ny.splice(t,1)}),[n]),{...n,toast:Yk,dismiss:t=>Qp({type:"DISMISS_TOAST",toastId:t})}}var qm=RA();const LA=Zm(qm);function Ei(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function vT(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function IA(...n){return e=>{let t=!1;const i=n.map(r=>{const s=vT(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():vT(n[r],null)}}}}function Ws(...n){return G.useCallback(IA(...n),n)}function $k(n,e){const t=G.createContext(e),i=s=>{const{children:o,...l}=s,d=G.useMemo(()=>l,Object.values(l));return V.jsx(t.Provider,{value:d,children:o})};i.displayName=n+"Provider";function r(s){const o=G.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function $m(n,e=[]){let t=[];function i(s,o){const l=G.createContext(o),d=t.length;t=[...t,o];const f=v=>{const{scope:_,children:x,...M}=v,C=_?.[n]?.[d]||l,T=G.useMemo(()=>M,Object.values(M));return V.jsx(C.Provider,{value:T,children:x})};f.displayName=s+"Provider";function m(v,_){const x=_?.[n]?.[d]||l,M=G.useContext(x);if(M)return M;if(o!==void 0)return o;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[f,m]}const r=()=>{const s=t.map(o=>G.createContext(o));return function(l){const d=l?.[n]||s;return G.useMemo(()=>({[`__scope${n}`]:{...l,[n]:d}}),[l,d])}};return r.scopeName=n,[i,Kk(r,...e)]}function Kk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:d,scopeName:f})=>{const v=d(s)[`__scope${f}`];return{...l,...v}},{});return G.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function gm(n){const e=Qk(n),t=G.forwardRef((i,r)=>{const{children:s,...o}=i,l=G.Children.toArray(s),d=l.find(tN);if(d){const f=d.props.children,m=l.map(v=>v===d?G.Children.count(f)>1?G.Children.only(null):G.isValidElement(f)?f.props.children:null:v);return V.jsx(e,{...o,ref:r,children:G.isValidElement(f)?G.cloneElement(f,void 0,m):null})}return V.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var Jk=gm("Slot");function Qk(n){const e=G.forwardRef((t,i)=>{const{children:r,...s}=t;if(G.isValidElement(r)){const o=iN(r),l=nN(s,r.props);return r.type!==G.Fragment&&(l.ref=i?IA(i,o):o),G.cloneElement(r,l)}return G.Children.count(r)>1?G.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var kA=Symbol("radix.slottable");function eN(n){const e=({children:t})=>V.jsx(V.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=kA,e}function tN(n){return G.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===kA}function nN(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...l)=>{const d=s(...l);return r(...l),d}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function iN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function rN(n){const e=n+"CollectionProvider",[t,i]=$m(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:T,children:w}=C,R=vt.useRef(null),k=vt.useRef(new Map).current;return V.jsx(r,{scope:T,itemMap:k,collectionRef:R,children:w})};o.displayName=e;const l=n+"CollectionSlot",d=gm(l),f=vt.forwardRef((C,T)=>{const{scope:w,children:R}=C,k=s(l,w),O=Ws(T,k.collectionRef);return V.jsx(d,{ref:O,children:R})});f.displayName=l;const m=n+"CollectionItemSlot",v="data-radix-collection-item",_=gm(m),x=vt.forwardRef((C,T)=>{const{scope:w,children:R,...k}=C,O=vt.useRef(null),j=Ws(T,O),X=s(m,w);return vt.useEffect(()=>(X.itemMap.set(O,{ref:O,...k}),()=>void X.itemMap.delete(O))),V.jsx(_,{[v]:"",ref:j,children:R})});x.displayName=m;function M(C){const T=s(n+"CollectionConsumer",C);return vt.useCallback(()=>{const R=T.collectionRef.current;if(!R)return[];const k=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((X,Z)=>k.indexOf(X.ref.current)-k.indexOf(Z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:f,ItemSlot:x},M,i]}var sN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cr=sN.reduce((n,e)=>{const t=gm(`Primitive.${e}`),i=G.forwardRef((r,s)=>{const{asChild:o,...l}=r,d=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(d,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function NA(n,e){n&&qm.flushSync(()=>n.dispatchEvent(e))}function Il(n){const e=G.useRef(n);return G.useEffect(()=>{e.current=n}),G.useMemo(()=>(...t)=>e.current?.(...t),[])}function oN(n,e=globalThis?.document){const t=Il(n);G.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var aN="DismissableLayer",Rw="dismissableLayer.update",lN="dismissableLayer.pointerDownOutside",uN="dismissableLayer.focusOutside",yT,OA=G.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_0=G.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...d}=n,f=G.useContext(OA),[m,v]=G.useState(null),_=m?.ownerDocument??globalThis?.document,[,x]=G.useState({}),M=Ws(e,Z=>v(Z)),C=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=C.indexOf(T),R=m?C.indexOf(m):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,O=R>=w,j=dN(Z=>{const z=Z.target,U=[...f.branches].some(N=>N.contains(z));!O||U||(r?.(Z),o?.(Z),Z.defaultPrevented||l?.())},_),X=hN(Z=>{const z=Z.target;[...f.branches].some(N=>N.contains(z))||(s?.(Z),o?.(Z),Z.defaultPrevented||l?.())},_);return oN(Z=>{R===f.layers.size-1&&(i?.(Z),!Z.defaultPrevented&&l&&(Z.preventDefault(),l()))},_),G.useEffect(()=>{if(m)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(yT=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),_T(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=yT)}},[m,_,t,f]),G.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),_T())},[m,f]),G.useEffect(()=>{const Z=()=>x({});return document.addEventListener(Rw,Z),()=>document.removeEventListener(Rw,Z)},[]),V.jsx(cr.div,{...d,ref:M,style:{pointerEvents:k?O?"auto":"none":void 0,...n.style},onFocusCapture:Ei(n.onFocusCapture,X.onFocusCapture),onBlurCapture:Ei(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Ei(n.onPointerDownCapture,j.onPointerDownCapture)})});_0.displayName=aN;var cN="DismissableLayerBranch",DA=G.forwardRef((n,e)=>{const t=G.useContext(OA),i=G.useRef(null),r=Ws(e,i);return G.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),V.jsx(cr.div,{...n,ref:r})});DA.displayName=cN;function dN(n,e=globalThis?.document){const t=Il(n),i=G.useRef(!1),r=G.useRef(()=>{});return G.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let d=function(){FA(lN,t,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function hN(n,e=globalThis?.document){const t=Il(n),i=G.useRef(!1);return G.useEffect(()=>{const r=s=>{s.target&&!i.current&&FA(uN,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function _T(){const n=new CustomEvent(Rw);document.dispatchEvent(n)}function FA(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?NA(r,s):r.dispatchEvent(s)}var fN=_0,pN=DA,Au=globalThis?.document?G.useLayoutEffect:()=>{},mN="Portal",k1=G.forwardRef((n,e)=>{const{container:t,...i}=n,[r,s]=G.useState(!1);Au(()=>s(!0),[]);const o=t||r&&globalThis?.document?.body;return o?LA.createPortal(V.jsx(cr.div,{...i,ref:e}),o):null});k1.displayName=mN;function gN(n,e){return G.useReducer((t,i)=>e[t][i]??t,n)}var Bf=n=>{const{present:e,children:t}=n,i=vN(e),r=typeof t=="function"?t({present:i.isPresent}):G.Children.only(t),s=Ws(i.ref,yN(r));return typeof t=="function"||i.isPresent?G.cloneElement(r,{ref:s}):null};Bf.displayName="Presence";function vN(n){const[e,t]=G.useState(),i=G.useRef(null),r=G.useRef(n),s=G.useRef("none"),o=n?"mounted":"unmounted",[l,d]=gN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return G.useEffect(()=>{const f=$g(i.current);s.current=l==="mounted"?f:"none"},[l]),Au(()=>{const f=i.current,m=r.current;if(m!==n){const _=s.current,x=$g(f);n?d("MOUNT"):x==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&_!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,d]),Au(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,v=x=>{const C=$g(i.current).includes(x.animationName);if(x.target===e&&C&&(d("ANIMATION_END"),!r.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},_=x=>{x.target===e&&(s.current=$g(i.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:G.useCallback(f=>{i.current=f?getComputedStyle(f):null,t(f)},[])}}function $g(n){return n?.animationName||"none"}function yN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var _N=I1[" useInsertionEffect ".trim().toString()]||Au;function zA({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[r,s,o]=xN({defaultProp:e,onChange:t}),l=n!==void 0,d=l?n:r;{const m=G.useRef(n!==void 0);G.useEffect(()=>{const v=m.current;v!==l&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,i])}const f=G.useCallback(m=>{if(l){const v=wN(m)?m(n):m;v!==n&&o.current?.(v)}else s(m)},[l,n,s,o]);return[d,f]}function xN({defaultProp:n,onChange:e}){const[t,i]=G.useState(n),r=G.useRef(t),s=G.useRef(e);return _N(()=>{s.current=e},[e]),G.useEffect(()=>{r.current!==t&&(s.current?.(t),r.current=t)},[t,r]),[t,i,s]}function wN(n){return typeof n=="function"}var SN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bN="VisuallyHidden",x0=G.forwardRef((n,e)=>V.jsx(cr.span,{...n,ref:e,style:{...SN,...n.style}}));x0.displayName=bN;var TN=x0,N1="ToastProvider",[O1,MN,EN]=rN("Toast"),[UA,H$]=$m("Toast",[EN]),[CN,w0]=UA(N1),BA=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[l,d]=G.useState(null),[f,m]=G.useState(0),v=G.useRef(!1),_=G.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${N1}\`. Expected non-empty \`string\`.`),V.jsx(O1.Provider,{scope:e,children:V.jsx(CN,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:f,viewport:l,onViewportChange:d,onToastAdd:G.useCallback(()=>m(x=>x+1),[]),onToastRemove:G.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:_,children:o})})};BA.displayName=N1;var VA="ToastViewport",AN=["F8"],Lw="toast.viewportPause",Iw="toast.viewportResume",HA=G.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=AN,label:r="Notifications ({hotkey})",...s}=n,o=w0(VA,t),l=MN(t),d=G.useRef(null),f=G.useRef(null),m=G.useRef(null),v=G.useRef(null),_=Ws(e,v,o.onViewportChange),x=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=o.toastCount>0;G.useEffect(()=>{const T=w=>{i.length!==0&&i.every(k=>w[k]||w.code===k)&&v.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),G.useEffect(()=>{const T=d.current,w=v.current;if(M&&T&&w){const R=()=>{if(!o.isClosePausedRef.current){const X=new CustomEvent(Lw);w.dispatchEvent(X),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const X=new CustomEvent(Iw);w.dispatchEvent(X),o.isClosePausedRef.current=!1}},O=X=>{!T.contains(X.relatedTarget)&&k()},j=()=>{T.contains(document.activeElement)||k()};return T.addEventListener("focusin",R),T.addEventListener("focusout",O),T.addEventListener("pointermove",R),T.addEventListener("pointerleave",j),window.addEventListener("blur",R),window.addEventListener("focus",k),()=>{T.removeEventListener("focusin",R),T.removeEventListener("focusout",O),T.removeEventListener("pointermove",R),T.removeEventListener("pointerleave",j),window.removeEventListener("blur",R),window.removeEventListener("focus",k)}}},[M,o.isClosePausedRef]);const C=G.useCallback(({tabbingDirection:T})=>{const R=l().map(k=>{const O=k.ref.current,j=[O,...VN(O)];return T==="forwards"?j:j.reverse()});return(T==="forwards"?R.reverse():R).flat()},[l]);return G.useEffect(()=>{const T=v.current;if(T){const w=R=>{const k=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!k){const j=document.activeElement,X=R.shiftKey;if(R.target===T&&X){f.current?.focus();return}const U=C({tabbingDirection:X?"backwards":"forwards"}),N=U.findIndex(Y=>Y===j);Z_(U.slice(N+1))?R.preventDefault():X?f.current?.focus():m.current?.focus()}};return T.addEventListener("keydown",w),()=>T.removeEventListener("keydown",w)}},[l,C]),V.jsxs(pN,{ref:d,role:"region","aria-label":r.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:M?void 0:"none"},children:[M&&V.jsx(kw,{ref:f,onFocusFromOutsideViewport:()=>{const T=C({tabbingDirection:"forwards"});Z_(T)}}),V.jsx(O1.Slot,{scope:t,children:V.jsx(cr.ol,{tabIndex:-1,...s,ref:_})}),M&&V.jsx(kw,{ref:m,onFocusFromOutsideViewport:()=>{const T=C({tabbingDirection:"backwards"});Z_(T)}})]})});HA.displayName=VA;var jA="ToastFocusProxy",kw=G.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=w0(jA,t);return V.jsx(x0,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&i()}})});kw.displayName=jA;var Km="Toast",PN="toast.swipeStart",RN="toast.swipeMove",LN="toast.swipeCancel",IN="toast.swipeEnd",WA=G.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[l,d]=zA({prop:i,defaultProp:r??!0,onChange:s,caller:Km});return V.jsx(Bf,{present:t||l,children:V.jsx(ON,{open:l,...o,ref:e,onClose:()=>d(!1),onPause:Il(n.onPause),onResume:Il(n.onResume),onSwipeStart:Ei(n.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ei(n.onSwipeMove,f=>{const{x:m,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Ei(n.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ei(n.onSwipeEnd,f=>{const{x:m,y:v}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),d(!1)})})})});WA.displayName=Km;var[kN,NN]=UA(Km,{onClose(){}}),ON=G.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:_,onSwipeEnd:x,...M}=n,C=w0(Km,t),[T,w]=G.useState(null),R=Ws(e,se=>w(se)),k=G.useRef(null),O=G.useRef(null),j=r||C.duration,X=G.useRef(0),Z=G.useRef(j),z=G.useRef(0),{onToastAdd:U,onToastRemove:N}=C,Y=Il(()=>{T?.contains(document.activeElement)&&C.viewport?.focus(),o()}),Q=G.useCallback(se=>{!se||se===1/0||(window.clearTimeout(z.current),X.current=new Date().getTime(),z.current=window.setTimeout(Y,se))},[Y]);G.useEffect(()=>{const se=C.viewport;if(se){const ge=()=>{Q(Z.current),f?.()},he=()=>{const de=new Date().getTime()-X.current;Z.current=Z.current-de,window.clearTimeout(z.current),d?.()};return se.addEventListener(Lw,he),se.addEventListener(Iw,ge),()=>{se.removeEventListener(Lw,he),se.removeEventListener(Iw,ge)}}},[C.viewport,j,d,f,Q]),G.useEffect(()=>{s&&!C.isClosePausedRef.current&&Q(j)},[s,j,C.isClosePausedRef,Q]),G.useEffect(()=>(U(),()=>N()),[U,N]);const ae=G.useMemo(()=>T?KA(T):null,[T]);return C.viewport?V.jsxs(V.Fragment,{children:[ae&&V.jsx(DN,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:ae}),V.jsx(kN,{scope:t,onClose:Y,children:qm.createPortal(V.jsx(O1.ItemSlot,{scope:t,children:V.jsx(fN,{asChild:!0,onEscapeKeyDown:Ei(l,()=>{C.isFocusedToastEscapeKeyDownRef.current||Y(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:V.jsx(cr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":C.swipeDirection,...M,ref:R,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ei(n.onKeyDown,se=>{se.key==="Escape"&&(l?.(se.nativeEvent),se.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:Ei(n.onPointerDown,se=>{se.button===0&&(k.current={x:se.clientX,y:se.clientY})}),onPointerMove:Ei(n.onPointerMove,se=>{if(!k.current)return;const ge=se.clientX-k.current.x,he=se.clientY-k.current.y,de=!!O.current,W=["left","right"].includes(C.swipeDirection),ie=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,ee=W?ie(0,ge):0,K=W?0:ie(0,he),oe=se.pointerType==="touch"?10:2,we={x:ee,y:K},ce={originalEvent:se,delta:we};de?(O.current=we,Kg(RN,v,ce,{discrete:!1})):xT(we,C.swipeDirection,oe)?(O.current=we,Kg(PN,m,ce,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(ge)>oe||Math.abs(he)>oe)&&(k.current=null)}),onPointerUp:Ei(n.onPointerUp,se=>{const ge=O.current,he=se.target;if(he.hasPointerCapture(se.pointerId)&&he.releasePointerCapture(se.pointerId),O.current=null,k.current=null,ge){const de=se.currentTarget,W={originalEvent:se,delta:ge};xT(ge,C.swipeDirection,C.swipeThreshold)?Kg(IN,x,W,{discrete:!0}):Kg(LN,_,W,{discrete:!0}),de.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),DN=n=>{const{__scopeToast:e,children:t,...i}=n,r=w0(Km,e),[s,o]=G.useState(!1),[l,d]=G.useState(!1);return UN(()=>o(!0)),G.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:V.jsx(k1,{asChild:!0,children:V.jsx(x0,{...i,children:s&&V.jsxs(V.Fragment,{children:[r.label," ",t]})})})},FN="ToastTitle",GA=G.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return V.jsx(cr.div,{...i,ref:e})});GA.displayName=FN;var zN="ToastDescription",XA=G.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return V.jsx(cr.div,{...i,ref:e})});XA.displayName=zN;var ZA="ToastAction",YA=G.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?V.jsx($A,{altText:t,asChild:!0,children:V.jsx(D1,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZA}\`. Expected non-empty \`string\`.`),null)});YA.displayName=ZA;var qA="ToastClose",D1=G.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=NN(qA,t);return V.jsx($A,{asChild:!0,children:V.jsx(cr.button,{type:"button",...i,ref:e,onClick:Ei(n.onClick,r.onClose)})})});D1.displayName=qA;var $A=G.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return V.jsx(cr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function KA(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),BN(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...KA(i))}}),e}function Kg(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?NA(r,s):r.dispatchEvent(s)}var xT=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function UN(n=()=>{}){const e=Il(n);Au(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function BN(n){return n.nodeType===n.ELEMENT_NODE}function VN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Z_(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var HN=BA,JA=HA,QA=WA,eP=GA,tP=XA,nP=YA,iP=D1;function rP(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=rP(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function sP(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=rP(n))&&(i&&(i+=" "),i+=e);return i}const wT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ST=sP,F1=(n,e)=>t=>{var i;if(e?.variants==null)return ST(n,t?.class,t?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(f=>{const m=t?.[f],v=s?.[f];if(m===null)return null;const _=wT(m)||wT(v);return r[f][_]}),l=t&&Object.entries(t).reduce((f,m)=>{let[v,_]=m;return _===void 0||(f[v]=_),f},{}),d=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((f,m)=>{let{class:v,className:_,...x}=m;return Object.entries(x).every(M=>{let[C,T]=M;return Array.isArray(T)?T.includes({...s,...l}[C]):{...s,...l}[C]===T})?[...f,v,_]:f},[]);return ST(n,o,d,t?.class,t?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oP=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},d)=>G.createElement("svg",{ref:d,...WN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:oP("lucide",r),...l},[...o.map(([f,m])=>G.createElement(f,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=(n,e)=>{const t=G.forwardRef(({className:i,...r},s)=>G.createElement(GN,{ref:s,iconNode:e,className:oP(`lucide-${jN(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ei("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ei("Bomb",[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ei("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ei("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ei("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ei("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ei("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ei("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ei("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ei("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ei("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ei("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ei("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ei("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ei("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ei("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ei("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ei("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ei("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ei("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=ei("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ei("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=ei("Rat",[["path",{d:"M17 5c0-1.7-1.3-3-3-3s-3 1.3-3 3c0 .8.3 1.5.8 2H11c-3.9 0-7 3.1-7 7c0 2.2 1.8 4 4 4",key:"1wq71c"}],["path",{d:"M16.8 3.9c.3-.3.6-.5 1-.7 1.5-.6 3.3.1 3.9 1.6.6 1.5-.1 3.3-1.6 3.9l1.6 2.8c.2.3.2.7.2 1-.2.8-.9 1.2-1.7 1.1 0 0-1.6-.3-2.7-.6H17c-1.7 0-3 1.3-3 3",key:"1crdmb"}],["path",{d:"M13.2 18a3 3 0 0 0-2.2-5",key:"1ol3lk"}],["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M16 9h.01",key:"1bdo4e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ei("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ei("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ei("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ei("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ei("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ei("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),B1="-",oO=n=>{const e=lO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const l=o.split(B1);return l[0]===""&&l.length!==1&&l.shift(),cP(l,e)||aO(o)},getConflictingClassGroupIds:(o,l)=>{const d=t[o]||[];return l&&i[o]?[...d,...i[o]]:d}}},cP=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?cP(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(B1);return e.validators.find(({validator:o})=>o(s))?.classGroupId},AT=/^\[(.+)\]$/,aO=n=>{if(AT.test(n)){const e=AT.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lO=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return cO(Object.entries(n.classGroups),t).forEach(([s,o])=>{Ow(o,i,s,e)}),i},Ow=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:PT(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(uO(r)){Ow(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{Ow(o,PT(e,s),t,i)})})},PT=(n,e)=>{let t=n;return e.split(B1).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},uO=n=>n.isThemeGetter,cO=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[t,r]}):n,dO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},dP="!",hO=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=l=>{const d=[];let f=0,m=0,v;for(let T=0;T<l.length;T++){let w=l[T];if(f===0){if(w===r&&(i||l.slice(T,T+s)===e)){d.push(l.slice(m,T)),m=T+s;continue}if(w==="/"){v=T;continue}}w==="["?f++:w==="]"&&f--}const _=d.length===0?l:l.substring(m),x=_.startsWith(dP),M=x?_.substring(1):_,C=v&&v>m?v-m:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:M,maybePostfixModifierPosition:C}};return t?l=>t({className:l,parseClassName:o}):o},fO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},pO=n=>({cache:dO(n.cacheSize),parseClassName:hO(n),...oO(n)}),mO=/\s+/,gO=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(mO);let l="";for(let d=o.length-1;d>=0;d-=1){const f=o[d],{modifiers:m,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:x}=t(f);let M=!!x,C=i(M?_.substring(0,x):_);if(!C){if(!M){l=f+(l.length>0?" "+l:l);continue}if(C=i(_),!C){l=f+(l.length>0?" "+l:l);continue}M=!1}const T=fO(m).join(":"),w=v?T+dP:T,R=w+C;if(s.includes(R))continue;s.push(R);const k=r(C,M);for(let O=0;O<k.length;++O){const j=k[O];s.push(w+j)}l=f+(l.length>0?" "+l:l)}return l};function vO(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=hP(e))&&(i&&(i+=" "),i+=t);return i}const hP=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=hP(n[i]))&&(t&&(t+=" "),t+=e);return t};function yO(n,...e){let t,i,r,s=o;function o(d){const f=e.reduce((m,v)=>v(m),n());return t=pO(f),i=t.cache.get,r=t.cache.set,s=l,l(d)}function l(d){const f=i(d);if(f)return f;const m=gO(d,t);return r(d,m),m}return function(){return s(vO.apply(null,arguments))}}const mi=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},fP=/^\[(?:([a-z-]+):)?(.+)\]$/i,_O=/^\d+\/\d+$/,xO=new Set(["px","full","screen"]),wO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mu=n=>Sf(n)||xO.has(n)||_O.test(n),xc=n=>Vf(n,"length",kO),Sf=n=>!!n&&!Number.isNaN(Number(n)),$_=n=>Vf(n,"number",Sf),Pp=n=>!!n&&Number.isInteger(Number(n)),EO=n=>n.endsWith("%")&&Sf(n.slice(0,-1)),An=n=>fP.test(n),wc=n=>wO.test(n),CO=new Set(["length","size","percentage"]),AO=n=>Vf(n,CO,pP),PO=n=>Vf(n,"position",pP),RO=new Set(["image","url"]),LO=n=>Vf(n,RO,OO),IO=n=>Vf(n,"",NO),Rp=()=>!0,Vf=(n,e,t)=>{const i=fP.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},kO=n=>SO.test(n)&&!bO.test(n),pP=()=>!1,NO=n=>TO.test(n),OO=n=>MO.test(n),DO=()=>{const n=mi("colors"),e=mi("spacing"),t=mi("blur"),i=mi("brightness"),r=mi("borderColor"),s=mi("borderRadius"),o=mi("borderSpacing"),l=mi("borderWidth"),d=mi("contrast"),f=mi("grayscale"),m=mi("hueRotate"),v=mi("invert"),_=mi("gap"),x=mi("gradientColorStops"),M=mi("gradientColorStopPositions"),C=mi("inset"),T=mi("margin"),w=mi("opacity"),R=mi("padding"),k=mi("saturate"),O=mi("scale"),j=mi("sepia"),X=mi("skew"),Z=mi("space"),z=mi("translate"),U=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",An,e],Q=()=>[An,e],ae=()=>["",mu,xc],se=()=>["auto",Sf,An],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",An],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Sf,An];return{cacheSize:500,separator:":",theme:{colors:[Rp],spacing:[mu,xc],blur:["none","",wc,An],brightness:K(),borderColor:[n],borderRadius:["none","","full",wc,An],borderSpacing:Q(),borderWidth:ae(),contrast:K(),grayscale:ie(),hueRotate:K(),invert:ie(),gap:Q(),gradientColorStops:[n],gradientColorStopPositions:[EO,xc],inset:Y(),margin:Y(),opacity:K(),padding:Q(),saturate:K(),scale:K(),sepia:ie(),skew:K(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",An]}],container:["container"],columns:[{columns:[wc]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),An]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pp,An]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",An]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Pp,An]}],"grid-cols":[{"grid-cols":[Rp]}],"col-start-end":[{col:["auto",{span:["full",Pp,An]},An]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[Rp]}],"row-start-end":[{row:["auto",{span:[Pp,An]},An]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",An]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",An]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",An,e]}],"min-w":[{"min-w":[An,e,"min","max","fit"]}],"max-w":[{"max-w":[An,e,"none","full","min","max","fit","prose",{screen:[wc]},wc]}],h:[{h:[An,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[An,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[An,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[An,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wc,xc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$_]}],"font-family":[{font:[Rp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",An]}],"line-clamp":[{"line-clamp":["none",Sf,$_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mu,An]}],"list-image":[{"list-image":["none",An]}],"list-style-type":[{list:["none","disc","decimal",An]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mu,xc]}],"underline-offset":[{"underline-offset":["auto",mu,An]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",An]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",An]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),PO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LO]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:he()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[mu,An]}],"outline-w":[{outline:[mu,xc]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[mu,xc]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",wc,IO]}],"shadow-color":[{shadow:[Rp]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",wc,An]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[k]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",An]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",An]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",An]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Pp,An]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",An]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",An]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",An]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[mu,xc,$_]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FO=yO(DO);function dr(...n){return FO(sP(n))}const zO=HN,mP=G.forwardRef(({className:n,...e},t)=>V.jsx(JA,{ref:t,className:dr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));mP.displayName=JA.displayName;const UO=F1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gP=G.forwardRef(({className:n,variant:e,...t},i)=>V.jsx(QA,{ref:i,className:dr(UO({variant:e}),n),...t}));gP.displayName=QA.displayName;const BO=G.forwardRef(({className:n,...e},t)=>V.jsx(nP,{ref:t,className:dr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));BO.displayName=nP.displayName;const vP=G.forwardRef(({className:n,...e},t)=>V.jsx(iP,{ref:t,className:dr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:V.jsx(uP,{className:"h-4 w-4"})}));vP.displayName=iP.displayName;const yP=G.forwardRef(({className:n,...e},t)=>V.jsx(eP,{ref:t,className:dr("text-sm font-semibold",n),...e}));yP.displayName=eP.displayName;const _P=G.forwardRef(({className:n,...e},t)=>V.jsx(tP,{ref:t,className:dr("text-sm opacity-90",n),...e}));_P.displayName=tP.displayName;function VO(){const{toasts:n}=qk();return V.jsxs(zO,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return V.jsxs(gP,{...s,children:[V.jsxs("div",{className:"grid gap-1",children:[t&&V.jsx(yP,{children:t}),i&&V.jsx(_P,{children:i})]}),r,V.jsx(vP,{})]},e)}),V.jsx(mP,{})]})}var HO=n=>{switch(n){case"success":return GO;case"info":return ZO;case"warning":return XO;case"error":return YO;default:return null}},jO=Array(12).fill(0),WO=({visible:n,className:e})=>vt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},vt.createElement("div",{className:"sonner-spinner"},jO.map((t,i)=>vt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),GO=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XO=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZO=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YO=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qO=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},vt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),vt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$O=()=>{let[n,e]=vt.useState(document.hidden);return vt.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Dw=1,KO=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,r=typeof n?.id=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Dw++,s=this.toasts.find(l=>l.id===r),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...n,id:r,title:t}),{...l,...n,id:r,dismissible:o,title:t}):l):this.addToast({title:t,...i,dismissible:o,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),r=t!==void 0,s,o=i.then(async d=>{if(s=["resolve",d],vt.isValidElement(d))r=!1,this.create({id:t,type:"default",message:d});else if(QO(d)&&!d.ok){r=!1;let f=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:t,type:"error",message:f,description:m})}else if(e.success!==void 0){r=!1;let f=typeof e.success=="function"?await e.success(d):e.success,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"success",message:f,description:m})}}).catch(async d=>{if(s=["reject",d],e.error!==void 0){r=!1;let f=typeof e.error=="function"?await e.error(d):e.error,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"error",message:f,description:m})}}).finally(()=>{var d;r&&(this.dismiss(t),t=void 0),(d=e.finally)==null||d.call(e)}),l=()=>new Promise((d,f)=>o.then(()=>s[0]==="reject"?f(s[1]):d(s[1])).catch(f));return typeof t!="string"&&typeof t!="number"?{unwrap:l}:Object.assign(t,{unwrap:l})},this.custom=(n,e)=>{let t=e?.id||Dw++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lo=new KO,JO=(n,e)=>{let t=e?.id||Dw++;return lo.addToast({title:n,...e,id:t}),t},QO=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",eD=JO,tD=()=>lo.toasts,nD=()=>lo.getActiveToasts();Object.assign(eD,{success:lo.success,info:lo.info,warning:lo.warning,error:lo.error,custom:lo.custom,message:lo.message,promise:lo.promise,dismiss:lo.dismiss,loading:lo.loading},{getHistory:tD,getToasts:nD});function iD(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}iD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jg(n){return n.label!==void 0}var rD=3,sD="32px",oD="16px",RT=4e3,aD=356,lD=14,uD=20,cD=200;function Va(...n){return n.filter(Boolean).join(" ")}function dD(n){let[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}var hD=n=>{var e,t,i,r,s,o,l,d,f,m,v;let{invert:_,toast:x,unstyled:M,interacting:C,setHeights:T,visibleToasts:w,heights:R,index:k,toasts:O,expanded:j,removeToast:X,defaultRichColors:Z,closeButton:z,style:U,cancelButtonStyle:N,actionButtonStyle:Y,className:Q="",descriptionClassName:ae="",duration:se,position:ge,gap:he,loadingIcon:de,expandByDefault:W,classNames:ie,icons:ee,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:oe}=n,[we,ce]=vt.useState(null),[me,_e]=vt.useState(null),[xe,Ge]=vt.useState(!1),[$e,Qe]=vt.useState(!1),[nt,ht]=vt.useState(!1),[ct,re]=vt.useState(!1),[rt,Ze]=vt.useState(!1),[Be,Pe]=vt.useState(0),[Xe,Me]=vt.useState(0),We=vt.useRef(x.duration||se||RT),it=vt.useRef(null),ne=vt.useRef(null),q=k===0,Se=k+1<=w,Re=x.type,He=x.dismissible!==!1,Ue=x.className||"",It=x.descriptionClassName||"",ot=vt.useMemo(()=>R.findIndex(Ke=>Ke.toastId===x.id)||0,[R,x.id]),At=vt.useMemo(()=>{var Ke;return(Ke=x.closeButton)!=null?Ke:z},[x.closeButton,z]),yt=vt.useMemo(()=>x.duration||se||RT,[x.duration,se]),qe=vt.useRef(0),_t=vt.useRef(0),Wt=vt.useRef(0),Ut=vt.useRef(null),[pt,en]=ge.split("-"),ye=vt.useMemo(()=>R.reduce((Ke,Et,Jt)=>Jt>=ot?Ke:Ke+Et.height,0),[R,ot]),xt=$O(),et=x.invert||_,Mt=Re==="loading";_t.current=vt.useMemo(()=>ot*he+ye,[ot,ye]),vt.useEffect(()=>{We.current=yt},[yt]),vt.useEffect(()=>{Ge(!0)},[]),vt.useEffect(()=>{let Ke=ne.current;if(Ke){let Et=Ke.getBoundingClientRect().height;return Me(Et),T(Jt=>[{toastId:x.id,height:Et,position:x.position},...Jt]),()=>T(Jt=>Jt.filter(an=>an.toastId!==x.id))}},[T,x.id]),vt.useLayoutEffect(()=>{if(!xe)return;let Ke=ne.current,Et=Ke.style.height;Ke.style.height="auto";let Jt=Ke.getBoundingClientRect().height;Ke.style.height=Et,Me(Jt),T(an=>an.find(Un=>Un.toastId===x.id)?an.map(Un=>Un.toastId===x.id?{...Un,height:Jt}:Un):[{toastId:x.id,height:Jt,position:x.position},...an])},[xe,x.title,x.description,T,x.id]);let st=vt.useCallback(()=>{Qe(!0),Pe(_t.current),T(Ke=>Ke.filter(Et=>Et.toastId!==x.id)),setTimeout(()=>{X(x)},cD)},[x,X,T,_t]);vt.useEffect(()=>{if(x.promise&&Re==="loading"||x.duration===1/0||x.type==="loading")return;let Ke;return j||C||oe&&xt?(()=>{if(Wt.current<qe.current){let Et=new Date().getTime()-qe.current;We.current=We.current-Et}Wt.current=new Date().getTime()})():We.current!==1/0&&(qe.current=new Date().getTime(),Ke=setTimeout(()=>{var Et;(Et=x.onAutoClose)==null||Et.call(x,x),st()},We.current)),()=>clearTimeout(Ke)},[j,C,x,Re,oe,xt,st]),vt.useEffect(()=>{x.delete&&st()},[st,x.delete]);function Ye(){var Ke,Et,Jt;return ee!=null&&ee.loading?vt.createElement("div",{className:Va(ie?.loader,(Ke=x?.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":Re==="loading"},ee.loading):de?vt.createElement("div",{className:Va(ie?.loader,(Et=x?.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":Re==="loading"},de):vt.createElement(WO,{className:Va(ie?.loader,(Jt=x?.classNames)==null?void 0:Jt.loader),visible:Re==="loading"})}return vt.createElement("li",{tabIndex:0,ref:ne,className:Va(Q,Ue,ie?.toast,(e=x?.classNames)==null?void 0:e.toast,ie?.default,ie?.[Re],(t=x?.classNames)==null?void 0:t[Re]),"data-sonner-toast":"","data-rich-colors":(i=x.richColors)!=null?i:Z,"data-styled":!(x.jsx||x.unstyled||M),"data-mounted":xe,"data-promise":!!x.promise,"data-swiped":rt,"data-removed":$e,"data-visible":Se,"data-y-position":pt,"data-x-position":en,"data-index":k,"data-front":q,"data-swiping":nt,"data-dismissible":He,"data-type":Re,"data-invert":et,"data-swipe-out":ct,"data-swipe-direction":me,"data-expanded":!!(j||W&&xe),style:{"--index":k,"--toasts-before":k,"--z-index":O.length-k,"--offset":`${$e?Be:_t.current}px`,"--initial-height":W?"auto":`${Xe}px`,...U,...x.style},onDragEnd:()=>{ht(!1),ce(null),Ut.current=null},onPointerDown:Ke=>{Mt||!He||(it.current=new Date,Pe(_t.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(ht(!0),Ut.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Et,Jt,an;if(ct||!He)return;Ut.current=null;let Un=Number(((Ke=ne.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ti=Number(((Et=ne.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),br=new Date().getTime()-((Jt=it.current)==null?void 0:Jt.getTime()),yi=we==="x"?Un:ti,Ai=Math.abs(yi)/br;if(Math.abs(yi)>=uD||Ai>.11){Pe(_t.current),(an=x.onDismiss)==null||an.call(x,x),_e(we==="x"?Un>0?"right":"left":ti>0?"down":"up"),st(),re(!0),Ze(!1);return}ht(!1),ce(null)},onPointerMove:Ke=>{var Et,Jt,an,Un;if(!Ut.current||!He||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;let ti=Ke.clientY-Ut.current.y,br=Ke.clientX-Ut.current.x,yi=(Jt=n.swipeDirections)!=null?Jt:dD(ge);!we&&(Math.abs(br)>1||Math.abs(ti)>1)&&ce(Math.abs(br)>Math.abs(ti)?"x":"y");let Ai={x:0,y:0};we==="y"?(yi.includes("top")||yi.includes("bottom"))&&(yi.includes("top")&&ti<0||yi.includes("bottom")&&ti>0)&&(Ai.y=ti):we==="x"&&(yi.includes("left")||yi.includes("right"))&&(yi.includes("left")&&br<0||yi.includes("right")&&br>0)&&(Ai.x=br),(Math.abs(Ai.x)>0||Math.abs(Ai.y)>0)&&Ze(!0),(an=ne.current)==null||an.style.setProperty("--swipe-amount-x",`${Ai.x}px`),(Un=ne.current)==null||Un.style.setProperty("--swipe-amount-y",`${Ai.y}px`)}},At&&!x.jsx?vt.createElement("button",{"aria-label":K,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!He?()=>{}:()=>{var Ke;st(),(Ke=x.onDismiss)==null||Ke.call(x,x)},className:Va(ie?.closeButton,(r=x?.classNames)==null?void 0:r.closeButton)},(s=ee?.close)!=null?s:qO):null,x.jsx||G.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:vt.createElement(vt.Fragment,null,Re||x.icon||x.promise?vt.createElement("div",{"data-icon":"",className:Va(ie?.icon,(o=x?.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Ye():null,x.type!=="loading"?x.icon||ee?.[Re]||HO(Re):null):null,vt.createElement("div",{"data-content":"",className:Va(ie?.content,(l=x?.classNames)==null?void 0:l.content)},vt.createElement("div",{"data-title":"",className:Va(ie?.title,(d=x?.classNames)==null?void 0:d.title)},typeof x.title=="function"?x.title():x.title),x.description?vt.createElement("div",{"data-description":"",className:Va(ae,It,ie?.description,(f=x?.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),G.isValidElement(x.cancel)?x.cancel:x.cancel&&Jg(x.cancel)?vt.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||N,onClick:Ke=>{var Et,Jt;Jg(x.cancel)&&He&&((Jt=(Et=x.cancel).onClick)==null||Jt.call(Et,Ke),st())},className:Va(ie?.cancelButton,(m=x?.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,G.isValidElement(x.action)?x.action:x.action&&Jg(x.action)?vt.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||Y,onClick:Ke=>{var Et,Jt;Jg(x.action)&&((Jt=(Et=x.action).onClick)==null||Jt.call(Et,Ke),!Ke.defaultPrevented&&st())},className:Va(ie?.actionButton,(v=x?.classNames)==null?void 0:v.actionButton)},x.action.label):null))};function LT(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function fD(n,e){let t={};return[n,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",l=s?oD:sD;function d(f){["top","right","bottom","left"].forEach(m=>{t[`${o}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(f=>{i[f]===void 0?t[`${o}-${f}`]=l:t[`${o}-${f}`]=typeof i[f]=="number"?`${i[f]}px`:i[f]}):d(l)}),t}var pD=G.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:d,mobileOffset:f,theme:m="light",richColors:v,duration:_,style:x,visibleToasts:M=rD,toastOptions:C,dir:T=LT(),gap:w=lD,loadingIcon:R,icons:k,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:j}=n,[X,Z]=vt.useState([]),z=vt.useMemo(()=>Array.from(new Set([i].concat(X.filter(oe=>oe.position).map(oe=>oe.position)))),[X,i]),[U,N]=vt.useState([]),[Y,Q]=vt.useState(!1),[ae,se]=vt.useState(!1),[ge,he]=vt.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),de=vt.useRef(null),W=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=vt.useRef(null),ee=vt.useRef(!1),K=vt.useCallback(oe=>{Z(we=>{var ce;return(ce=we.find(me=>me.id===oe.id))!=null&&ce.delete||lo.dismiss(oe.id),we.filter(({id:me})=>me!==oe.id)})},[]);return vt.useEffect(()=>lo.subscribe(oe=>{if(oe.dismiss){Z(we=>we.map(ce=>ce.id===oe.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{LA.flushSync(()=>{Z(we=>{let ce=we.findIndex(me=>me.id===oe.id);return ce!==-1?[...we.slice(0,ce),{...we[ce],...oe},...we.slice(ce+1)]:[oe,...we]})})})}),[]),vt.useEffect(()=>{if(m!=="system"){he(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:we})=>{he(we?"dark":"light")})}catch{oe.addListener(({matches:ce})=>{try{he(ce?"dark":"light")}catch(me){console.error(me)}})}},[m]),vt.useEffect(()=>{X.length<=1&&Q(!1)},[X]),vt.useEffect(()=>{let oe=we=>{var ce,me;r.every(_e=>we[_e]||we.code===_e)&&(Q(!0),(ce=de.current)==null||ce.focus()),we.code==="Escape"&&(document.activeElement===de.current||(me=de.current)!=null&&me.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[r]),vt.useEffect(()=>{if(de.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,ee.current=!1)}},[de.current]),vt.createElement("section",{ref:e,"aria-label":`${O} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((oe,we)=>{var ce;let[me,_e]=oe.split("-");return X.length?vt.createElement("ol",{key:oe,dir:T==="auto"?LT():T,tabIndex:-1,ref:de,className:l,"data-sonner-toaster":!0,"data-theme":ge,"data-y-position":me,"data-lifted":Y&&X.length>1&&!s,"data-x-position":_e,style:{"--front-toast-height":`${((ce=U[0])==null?void 0:ce.height)||0}px`,"--width":`${aD}px`,"--gap":`${w}px`,...x,...fD(d,f)},onBlur:xe=>{ee.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(ee.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,ie.current=xe.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{ae||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},X.filter(xe=>!xe.position&&we===0||xe.position===oe).map((xe,Ge)=>{var $e,Qe;return vt.createElement(hD,{key:xe.id,icons:k,index:Ge,toast:xe,defaultRichColors:v,duration:($e=C?.duration)!=null?$e:_,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:t,visibleToasts:M,closeButton:(Qe=C?.closeButton)!=null?Qe:o,interacting:ae,position:oe,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,removeToast:K,toasts:X.filter(nt=>nt.position==xe.position),heights:U.filter(nt=>nt.position==xe.position),setHeights:N,expandByDefault:s,gap:w,loadingIcon:R,expanded:Y,pauseWhenPageIsHidden:j,swipeDirections:n.swipeDirections})})):null}))});const xP=G.createContext(null);function wP({children:n,defaultTheme:e="system",value:t,...i}){const[r,s]=G.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:e}return e});G.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),r==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(d);return}l.classList.add(r)},[r]);const o={theme:r,setTheme:l=>{localStorage.setItem("theme",l),s(l)}};return V.jsx(xP.Provider,{value:o,...i,children:n})}const V1=()=>{const n=G.useContext(xP);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},mD=({...n})=>{const{theme:e}=V1();return V.jsx(pD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var gD=I1[" useId ".trim().toString()]||(()=>{}),vD=0;function K_(n){const[e,t]=G.useState(gD());return Au(()=>{t(i=>i??String(vD++))},[n]),n||(e?`radix-${e}`:"")}const yD=["top","right","bottom","left"],Uc=Math.min,Fo=Math.max,vy=Math.round,Qg=Math.floor,El=n=>({x:n,y:n}),_D={left:"right",right:"left",bottom:"top",top:"bottom"},xD={start:"end",end:"start"};function Fw(n,e,t){return Fo(n,Uc(e,t))}function Pu(n,e){return typeof n=="function"?n(e):n}function Ru(n){return n.split("-")[0]}function Hf(n){return n.split("-")[1]}function H1(n){return n==="x"?"y":"x"}function j1(n){return n==="y"?"height":"width"}const wD=new Set(["top","bottom"]);function bl(n){return wD.has(Ru(n))?"y":"x"}function W1(n){return H1(bl(n))}function SD(n,e,t){t===void 0&&(t=!1);const i=Hf(n),r=W1(n),s=j1(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=yy(o)),[o,yy(o)]}function bD(n){const e=yy(n);return[zw(n),e,zw(e)]}function zw(n){return n.replace(/start|end/g,e=>xD[e])}const IT=["left","right"],kT=["right","left"],TD=["top","bottom"],MD=["bottom","top"];function ED(n,e,t){switch(n){case"top":case"bottom":return t?e?kT:IT:e?IT:kT;case"left":case"right":return e?TD:MD;default:return[]}}function CD(n,e,t,i){const r=Hf(n);let s=ED(Ru(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(zw)))),s}function yy(n){return n.replace(/left|right|bottom|top/g,e=>_D[e])}function AD(n){return{top:0,right:0,bottom:0,left:0,...n}}function SP(n){return typeof n!="number"?AD(n):{top:n,right:n,bottom:n,left:n}}function _y(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function NT(n,e,t){let{reference:i,floating:r}=n;const s=bl(e),o=W1(e),l=j1(o),d=Ru(e),f=s==="y",m=i.x+i.width/2-r.width/2,v=i.y+i.height/2-r.height/2,_=i[l]/2-r[l]/2;let x;switch(d){case"top":x={x:m,y:i.y-r.height};break;case"bottom":x={x:m,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:v};break;case"left":x={x:i.x-r.width,y:v};break;default:x={x:i.x,y:i.y}}switch(Hf(e)){case"start":x[o]-=_*(t&&f?-1:1);break;case"end":x[o]+=_*(t&&f?-1:1);break}return x}const PD=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:m,y:v}=NT(f,i,d),_=i,x={},M=0;for(let C=0;C<l.length;C++){const{name:T,fn:w}=l[C],{x:R,y:k,data:O,reset:j}=await w({x:m,y:v,initialPlacement:i,placement:_,strategy:r,middlewareData:x,rects:f,platform:o,elements:{reference:n,floating:e}});m=R??m,v=k??v,x={...x,[T]:{...x[T],...O}},j&&M<=50&&(M++,typeof j=="object"&&(j.placement&&(_=j.placement),j.rects&&(f=j.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):j.rects),{x:m,y:v}=NT(f,_,d)),C=-1)}return{x:m,y:v,placement:_,strategy:r,middlewareData:x}};async function vm(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:_=!1,padding:x=0}=Pu(e,n),M=SP(x),T=l[_?v==="floating"?"reference":"floating":v],w=_y(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:d})),R=v==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},j=_y(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:k,strategy:d}):R);return{top:(w.top-j.top+M.top)/O.y,bottom:(j.bottom-w.bottom+M.bottom)/O.y,left:(w.left-j.left+M.left)/O.x,right:(j.right-w.right+M.right)/O.x}}const RD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:l,middlewareData:d}=e,{element:f,padding:m=0}=Pu(n,e)||{};if(f==null)return{};const v=SP(m),_={x:t,y:i},x=W1(r),M=j1(x),C=await o.getDimensions(f),T=x==="y",w=T?"top":"left",R=T?"bottom":"right",k=T?"clientHeight":"clientWidth",O=s.reference[M]+s.reference[x]-_[x]-s.floating[M],j=_[x]-s.reference[x],X=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let Z=X?X[k]:0;(!Z||!await(o.isElement==null?void 0:o.isElement(X)))&&(Z=l.floating[k]||s.floating[M]);const z=O/2-j/2,U=Z/2-C[M]/2-1,N=Uc(v[w],U),Y=Uc(v[R],U),Q=N,ae=Z-C[M]-Y,se=Z/2-C[M]/2+z,ge=Fw(Q,se,ae),he=!d.arrow&&Hf(r)!=null&&se!==ge&&s.reference[M]/2-(se<Q?N:Y)-C[M]/2<0,de=he?se<Q?se-Q:se-ae:0;return{[x]:_[x]+de,data:{[x]:ge,centerOffset:se-ge-de,...he&&{alignmentOffset:de}},reset:he}}}),LD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:d,elements:f}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:C=!0,...T}=Pu(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=Ru(r),R=bl(l),k=Ru(l)===l,O=await(d.isRTL==null?void 0:d.isRTL(f.floating)),j=_||(k||!C?[yy(l)]:bD(l)),X=M!=="none";!_&&X&&j.push(...CD(l,C,M,O));const Z=[l,...j],z=await vm(e,T),U=[];let N=((i=s.flip)==null?void 0:i.overflows)||[];if(m&&U.push(z[w]),v){const se=SD(r,o,O);U.push(z[se[0]],z[se[1]])}if(N=[...N,{placement:r,overflows:U}],!U.every(se=>se<=0)){var Y,Q;const se=(((Y=s.flip)==null?void 0:Y.index)||0)+1,ge=Z[se];if(ge&&(!(v==="alignment"?R!==bl(ge):!1)||N.every(W=>W.overflows[0]>0&&bl(W.placement)===R)))return{data:{index:se,overflows:N},reset:{placement:ge}};let he=(Q=N.filter(de=>de.overflows[0]<=0).sort((de,W)=>de.overflows[1]-W.overflows[1])[0])==null?void 0:Q.placement;if(!he)switch(x){case"bestFit":{var ae;const de=(ae=N.filter(W=>{if(X){const ie=bl(W.placement);return ie===R||ie==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ie=>ie>0).reduce((ie,ee)=>ie+ee,0)]).sort((W,ie)=>W[1]-ie[1])[0])==null?void 0:ae[0];de&&(he=de);break}case"initialPlacement":he=l;break}if(r!==he)return{reset:{placement:he}}}return{}}}};function OT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function DT(n){return yD.some(e=>n[e]>=0)}const ID=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Pu(n,e);switch(i){case"referenceHidden":{const s=await vm(e,{...r,elementContext:"reference"}),o=OT(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:DT(o)}}}case"escaped":{const s=await vm(e,{...r,altBoundary:!0}),o=OT(s,t.floating);return{data:{escapedOffsets:o,escaped:DT(o)}}}default:return{}}}}},bP=new Set(["left","top"]);async function kD(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Ru(t),l=Hf(t),d=bl(t)==="y",f=bP.has(o)?-1:1,m=s&&d?-1:1,v=Pu(e,n);let{mainAxis:_,crossAxis:x,alignmentAxis:M}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof M=="number"&&(x=l==="end"?M*-1:M),d?{x:x*m,y:_*f}:{x:_*f,y:x*m}}const ND=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:l}=e,d=await kD(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+d.x,y:s+d.y,data:{...d,placement:o}}}}},OD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:w,y:R}=T;return{x:w,y:R}}},...d}=Pu(n,e),f={x:t,y:i},m=await vm(e,d),v=bl(Ru(r)),_=H1(v);let x=f[_],M=f[v];if(s){const T=_==="y"?"top":"left",w=_==="y"?"bottom":"right",R=x+m[T],k=x-m[w];x=Fw(R,x,k)}if(o){const T=v==="y"?"top":"left",w=v==="y"?"bottom":"right",R=M+m[T],k=M-m[w];M=Fw(R,M,k)}const C=l.fn({...e,[_]:x,[v]:M});return{...C,data:{x:C.x-t,y:C.y-i,enabled:{[_]:s,[v]:o}}}}}},DD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=Pu(n,e),m={x:t,y:i},v=bl(r),_=H1(v);let x=m[_],M=m[v];const C=Pu(l,e),T=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const k=_==="y"?"height":"width",O=s.reference[_]-s.floating[k]+T.mainAxis,j=s.reference[_]+s.reference[k]-T.mainAxis;x<O?x=O:x>j&&(x=j)}if(f){var w,R;const k=_==="y"?"width":"height",O=bP.has(Ru(r)),j=s.reference[v]-s.floating[k]+(O&&((w=o.offset)==null?void 0:w[v])||0)+(O?0:T.crossAxis),X=s.reference[v]+s.reference[k]+(O?0:((R=o.offset)==null?void 0:R[v])||0)-(O?T.crossAxis:0);M<j?M=j:M>X&&(M=X)}return{[_]:x,[v]:M}}}},FD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:d=()=>{},...f}=Pu(n,e),m=await vm(e,f),v=Ru(r),_=Hf(r),x=bl(r)==="y",{width:M,height:C}=s.floating;let T,w;v==="top"||v==="bottom"?(T=v,w=_===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=v,T=_==="end"?"top":"bottom");const R=C-m.top-m.bottom,k=M-m.left-m.right,O=Uc(C-m[T],R),j=Uc(M-m[w],k),X=!e.middlewareData.shift;let Z=O,z=j;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(z=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(Z=R),X&&!_){const N=Fo(m.left,0),Y=Fo(m.right,0),Q=Fo(m.top,0),ae=Fo(m.bottom,0);x?z=M-2*(N!==0||Y!==0?N+Y:Fo(m.left,m.right)):Z=C-2*(Q!==0||ae!==0?Q+ae:Fo(m.top,m.bottom))}await d({...e,availableWidth:z,availableHeight:Z});const U=await o.getDimensions(l.floating);return M!==U.width||C!==U.height?{reset:{rects:!0}}:{}}}};function S0(){return typeof window<"u"}function jf(n){return TP(n)?(n.nodeName||"").toLowerCase():"#document"}function zo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ol(n){var e;return(e=(TP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function TP(n){return S0()?n instanceof Node||n instanceof zo(n).Node:!1}function $a(n){return S0()?n instanceof Element||n instanceof zo(n).Element:!1}function kl(n){return S0()?n instanceof HTMLElement||n instanceof zo(n).HTMLElement:!1}function FT(n){return!S0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zo(n).ShadowRoot}const zD=new Set(["inline","contents"]);function Jm(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Ka(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!zD.has(r)}const UD=new Set(["table","td","th"]);function BD(n){return UD.has(jf(n))}const VD=[":popover-open",":modal"];function b0(n){return VD.some(e=>{try{return n.matches(e)}catch{return!1}})}const HD=["transform","translate","scale","rotate","perspective"],jD=["transform","translate","scale","rotate","perspective","filter"],WD=["paint","layout","strict","content"];function G1(n){const e=X1(),t=$a(n)?Ka(n):n;return HD.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||jD.some(i=>(t.willChange||"").includes(i))||WD.some(i=>(t.contain||"").includes(i))}function GD(n){let e=Bc(n);for(;kl(e)&&!Cf(e);){if(G1(e))return e;if(b0(e))return null;e=Bc(e)}return null}function X1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XD=new Set(["html","body","#document"]);function Cf(n){return XD.has(jf(n))}function Ka(n){return zo(n).getComputedStyle(n)}function T0(n){return $a(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bc(n){if(jf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||FT(n)&&n.host||Ol(n);return FT(e)?e.host:e}function MP(n){const e=Bc(n);return Cf(e)?n.ownerDocument?n.ownerDocument.body:n.body:kl(e)&&Jm(e)?e:MP(e)}function ym(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=MP(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=zo(r);if(s){const l=Uw(o);return e.concat(o,o.visualViewport||[],Jm(r)?r:[],l&&t?ym(l):[])}return e.concat(r,ym(r,[],t))}function Uw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function EP(n){const e=Ka(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=kl(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,l=vy(t)!==s||vy(i)!==o;return l&&(t=s,i=o),{width:t,height:i,$:l}}function Z1(n){return $a(n)?n:n.contextElement}function bf(n){const e=Z1(n);if(!kl(e))return El(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=EP(e);let o=(s?vy(t.width):t.width)/i,l=(s?vy(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ZD=El(0);function CP(n){const e=zo(n);return!X1()||!e.visualViewport?ZD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function YD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==zo(n)?!1:e}function rh(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=Z1(n);let o=El(1);e&&(i?$a(i)&&(o=bf(i)):o=bf(n));const l=YD(s,t,i)?CP(s):El(0);let d=(r.left+l.x)/o.x,f=(r.top+l.y)/o.y,m=r.width/o.x,v=r.height/o.y;if(s){const _=zo(s),x=i&&$a(i)?zo(i):i;let M=_,C=Uw(M);for(;C&&i&&x!==M;){const T=bf(C),w=C.getBoundingClientRect(),R=Ka(C),k=w.left+(C.clientLeft+parseFloat(R.paddingLeft))*T.x,O=w.top+(C.clientTop+parseFloat(R.paddingTop))*T.y;d*=T.x,f*=T.y,m*=T.x,v*=T.y,d+=k,f+=O,M=zo(C),C=Uw(M)}}return _y({width:m,height:v,x:d,y:f})}function Y1(n,e){const t=T0(n).scrollLeft;return e?e.left+t:rh(Ol(n)).left+t}function AP(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:Y1(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function qD(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Ol(i),l=e?b0(e.floating):!1;if(i===o||l&&s)return t;let d={scrollLeft:0,scrollTop:0},f=El(1);const m=El(0),v=kl(i);if((v||!v&&!s)&&((jf(i)!=="body"||Jm(o))&&(d=T0(i)),kl(i))){const x=rh(i);f=bf(i),m.x=x.x+i.clientLeft,m.y=x.y+i.clientTop}const _=o&&!v&&!s?AP(o,d,!0):El(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+m.x+_.x,y:t.y*f.y-d.scrollTop*f.y+m.y+_.y}}function $D(n){return Array.from(n.getClientRects())}function KD(n){const e=Ol(n),t=T0(n),i=n.ownerDocument.body,r=Fo(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Fo(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+Y1(n);const l=-t.scrollTop;return Ka(i).direction==="rtl"&&(o+=Fo(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:l}}function JD(n,e){const t=zo(n),i=Ol(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,d=0;if(r){s=r.width,o=r.height;const f=X1();(!f||f&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:s,height:o,x:l,y:d}}const QD=new Set(["absolute","fixed"]);function eF(n,e){const t=rh(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=kl(n)?bf(n):El(1),o=n.clientWidth*s.x,l=n.clientHeight*s.y,d=r*s.x,f=i*s.y;return{width:o,height:l,x:d,y:f}}function zT(n,e,t){let i;if(e==="viewport")i=JD(n,t);else if(e==="document")i=KD(Ol(n));else if($a(e))i=eF(e,t);else{const r=CP(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return _y(i)}function PP(n,e){const t=Bc(n);return t===e||!$a(t)||Cf(t)?!1:Ka(t).position==="fixed"||PP(t,e)}function tF(n,e){const t=e.get(n);if(t)return t;let i=ym(n,[],!1).filter(l=>$a(l)&&jf(l)!=="body"),r=null;const s=Ka(n).position==="fixed";let o=s?Bc(n):n;for(;$a(o)&&!Cf(o);){const l=Ka(o),d=G1(o);!d&&l.position==="fixed"&&(r=null),(s?!d&&!r:!d&&l.position==="static"&&!!r&&QD.has(r.position)||Jm(o)&&!d&&PP(n,o))?i=i.filter(m=>m!==o):r=l,o=Bc(o)}return e.set(n,i),i}function nF(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?b0(e)?[]:tF(e,this._c):[].concat(t),i],l=o[0],d=o.reduce((f,m)=>{const v=zT(e,m,r);return f.top=Fo(v.top,f.top),f.right=Uc(v.right,f.right),f.bottom=Uc(v.bottom,f.bottom),f.left=Fo(v.left,f.left),f},zT(e,l,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function iF(n){const{width:e,height:t}=EP(n);return{width:e,height:t}}function rF(n,e,t){const i=kl(e),r=Ol(e),s=t==="fixed",o=rh(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const d=El(0);function f(){d.x=Y1(r)}if(i||!i&&!s)if((jf(e)!=="body"||Jm(r))&&(l=T0(e)),i){const x=rh(e,!0,s,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else r&&f();s&&!i&&r&&f();const m=r&&!i&&!s?AP(r,l):El(0),v=o.left+l.scrollLeft-d.x-m.x,_=o.top+l.scrollTop-d.y-m.y;return{x:v,y:_,width:o.width,height:o.height}}function J_(n){return Ka(n).position==="static"}function UT(n,e){if(!kl(n)||Ka(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ol(n)===t&&(t=t.ownerDocument.body),t}function RP(n,e){const t=zo(n);if(b0(n))return t;if(!kl(n)){let r=Bc(n);for(;r&&!Cf(r);){if($a(r)&&!J_(r))return r;r=Bc(r)}return t}let i=UT(n,e);for(;i&&BD(i)&&J_(i);)i=UT(i,e);return i&&Cf(i)&&J_(i)&&!G1(i)?t:i||GD(n)||t}const sF=async function(n){const e=this.getOffsetParent||RP,t=this.getDimensions,i=await t(n.floating);return{reference:rF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function oF(n){return Ka(n).direction==="rtl"}const aF={convertOffsetParentRelativeRectToViewportRelativeRect:qD,getDocumentElement:Ol,getClippingRect:nF,getOffsetParent:RP,getElementRects:sF,getClientRects:$D,getDimensions:iF,getScale:bf,isElement:$a,isRTL:oF};function LP(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lF(n,e){let t=null,i;const r=Ol(n);function s(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),s();const f=n.getBoundingClientRect(),{left:m,top:v,width:_,height:x}=f;if(l||e(),!_||!x)return;const M=Qg(v),C=Qg(r.clientWidth-(m+_)),T=Qg(r.clientHeight-(v+x)),w=Qg(m),k={rootMargin:-M+"px "+-C+"px "+-T+"px "+-w+"px",threshold:Fo(0,Uc(1,d))||1};let O=!0;function j(X){const Z=X[0].intersectionRatio;if(Z!==d){if(!O)return o();Z?o(!1,Z):i=setTimeout(()=>{o(!1,1e-7)},1e3)}Z===1&&!LP(f,n.getBoundingClientRect())&&o(),O=!1}try{t=new IntersectionObserver(j,{...k,root:r.ownerDocument})}catch{t=new IntersectionObserver(j,k)}t.observe(n)}return o(!0),s}function uF(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,f=Z1(n),m=r||s?[...f?ym(f):[],...ym(e)]:[];m.forEach(w=>{r&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const v=f&&l?lF(f,t):null;let _=-1,x=null;o&&(x=new ResizeObserver(w=>{let[R]=w;R&&R.target===f&&x&&(x.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),t()}),f&&!d&&x.observe(f),x.observe(e));let M,C=d?rh(n):null;d&&T();function T(){const w=rh(n);C&&!LP(C,w)&&t(),C=w,M=requestAnimationFrame(T)}return t(),()=>{var w;m.forEach(R=>{r&&R.removeEventListener("scroll",t),s&&R.removeEventListener("resize",t)}),v?.(),(w=x)==null||w.disconnect(),x=null,d&&cancelAnimationFrame(M)}}const cF=ND,dF=OD,hF=LD,fF=FD,pF=ID,BT=RD,mF=DD,gF=(n,e,t)=>{const i=new Map,r={platform:aF,...t},s={...r.platform,_c:i};return PD(n,e,{...r,platform:s})};var vF=typeof document<"u",yF=function(){},ry=vF?G.useLayoutEffect:yF;function xy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!xy(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!xy(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function IP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function VT(n,e){const t=IP(n);return Math.round(e*t)/t}function Q_(n){const e=G.useRef(n);return ry(()=>{e.current=n}),e}function _F(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:d,open:f}=n,[m,v]=G.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,x]=G.useState(i);xy(_,i)||x(i);const[M,C]=G.useState(null),[T,w]=G.useState(null),R=G.useCallback(W=>{W!==X.current&&(X.current=W,C(W))},[]),k=G.useCallback(W=>{W!==Z.current&&(Z.current=W,w(W))},[]),O=s||M,j=o||T,X=G.useRef(null),Z=G.useRef(null),z=G.useRef(m),U=d!=null,N=Q_(d),Y=Q_(r),Q=Q_(f),ae=G.useCallback(()=>{if(!X.current||!Z.current)return;const W={placement:e,strategy:t,middleware:_};Y.current&&(W.platform=Y.current),gF(X.current,Z.current,W).then(ie=>{const ee={...ie,isPositioned:Q.current!==!1};se.current&&!xy(z.current,ee)&&(z.current=ee,qm.flushSync(()=>{v(ee)}))})},[_,e,t,Y,Q]);ry(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(W=>({...W,isPositioned:!1})))},[f]);const se=G.useRef(!1);ry(()=>(se.current=!0,()=>{se.current=!1}),[]),ry(()=>{if(O&&(X.current=O),j&&(Z.current=j),O&&j){if(N.current)return N.current(O,j,ae);ae()}},[O,j,ae,N,U]);const ge=G.useMemo(()=>({reference:X,floating:Z,setReference:R,setFloating:k}),[R,k]),he=G.useMemo(()=>({reference:O,floating:j}),[O,j]),de=G.useMemo(()=>{const W={position:t,left:0,top:0};if(!he.floating)return W;const ie=VT(he.floating,m.x),ee=VT(he.floating,m.y);return l?{...W,transform:"translate("+ie+"px, "+ee+"px)",...IP(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:ee}},[t,l,he.floating,m.x,m.y]);return G.useMemo(()=>({...m,update:ae,refs:ge,elements:he,floatingStyles:de}),[m,ae,ge,he,de])}const xF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?BT({element:i.current,padding:r}).fn(t):{}:i?BT({element:i,padding:r}).fn(t):{}}}},wF=(n,e)=>({...cF(n),options:[n,e]}),SF=(n,e)=>({...dF(n),options:[n,e]}),bF=(n,e)=>({...mF(n),options:[n,e]}),TF=(n,e)=>({...hF(n),options:[n,e]}),MF=(n,e)=>({...fF(n),options:[n,e]}),EF=(n,e)=>({...pF(n),options:[n,e]}),CF=(n,e)=>({...xF(n),options:[n,e]});var AF="Arrow",kP=G.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return V.jsx(cr.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});kP.displayName=AF;var PF=kP;function RF(n){const[e,t]=G.useState(void 0);return Au(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,l=f.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var NP="Popper",[OP,DP]=$m(NP),[j$,FP]=OP(NP),zP="PopperAnchor",UP=G.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=FP(zP,t),o=G.useRef(null),l=Ws(e,o);return G.useEffect(()=>{s.onAnchorChange(i?.current||o.current)}),i?null:V.jsx(cr.div,{...r,ref:l})});UP.displayName=zP;var q1="PopperContent",[LF,IF]=OP(q1),BP=G.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:x="optimized",onPlaced:M,...C}=n,T=FP(q1,t),[w,R]=G.useState(null),k=Ws(e,xe=>R(xe)),[O,j]=G.useState(null),X=RF(O),Z=X?.width??0,z=X?.height??0,U=i+(s!=="center"?"-"+s:""),N=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Y=Array.isArray(f)?f:[f],Q=Y.length>0,ae={padding:N,boundary:Y.filter(NF),altBoundary:Q},{refs:se,floatingStyles:ge,placement:he,isPositioned:de,middlewareData:W}=_F({strategy:"fixed",placement:U,whileElementsMounted:(...xe)=>uF(...xe,{animationFrame:x==="always"}),elements:{reference:T.anchor},middleware:[wF({mainAxis:r+z,alignmentAxis:o}),d&&SF({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?bF():void 0,...ae}),d&&TF({...ae}),MF({...ae,apply:({elements:xe,rects:Ge,availableWidth:$e,availableHeight:Qe})=>{const{width:nt,height:ht}=Ge.reference,ct=xe.floating.style;ct.setProperty("--radix-popper-available-width",`${$e}px`),ct.setProperty("--radix-popper-available-height",`${Qe}px`),ct.setProperty("--radix-popper-anchor-width",`${nt}px`),ct.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),O&&CF({element:O,padding:l}),OF({arrowWidth:Z,arrowHeight:z}),_&&EF({strategy:"referenceHidden",...ae})]}),[ie,ee]=jP(he),K=Il(M);Au(()=>{de&&K?.()},[de,K]);const oe=W.arrow?.x,we=W.arrow?.y,ce=W.arrow?.centerOffset!==0,[me,_e]=G.useState();return Au(()=>{w&&_e(window.getComputedStyle(w).zIndex)},[w]),V.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:de?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:V.jsx(LF,{scope:t,placedSide:ie,onArrowChange:j,arrowX:oe,arrowY:we,shouldHideArrow:ce,children:V.jsx(cr.div,{"data-side":ie,"data-align":ee,...C,ref:k,style:{...C.style,animation:de?void 0:"none"}})})})});BP.displayName=q1;var VP="PopperArrow",kF={top:"bottom",right:"left",bottom:"top",left:"right"},HP=G.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=IF(VP,i),o=kF[s.placedSide];return V.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:V.jsx(PF,{...r,ref:t,style:{...r.style,display:"block"}})})});HP.displayName=VP;function NF(n){return n!==null}var OF=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,l=o?0:n.arrowWidth,d=o?0:n.arrowHeight,[f,m]=jP(t),v={start:"0%",center:"50%",end:"100%"}[m],_=(r.arrow?.x??0)+l/2,x=(r.arrow?.y??0)+d/2;let M="",C="";return f==="bottom"?(M=o?v:`${_}px`,C=`${-d}px`):f==="top"?(M=o?v:`${_}px`,C=`${i.floating.height+d}px`):f==="right"?(M=`${-d}px`,C=o?v:`${x}px`):f==="left"&&(M=`${i.floating.width+d}px`,C=o?v:`${x}px`),{data:{x:M,y:C}}}});function jP(n){const[e,t="center"]=n.split("-");return[e,t]}var DF=UP,FF=BP,zF=HP,[M0,W$]=$m("Tooltip",[DP]),$1=DP(),WP="TooltipProvider",UF=700,HT="tooltip.open",[BF,GP]=M0(WP),XP=n=>{const{__scopeTooltip:e,delayDuration:t=UF,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,o=G.useRef(!0),l=G.useRef(!1),d=G.useRef(0);return G.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),V.jsx(BF,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:G.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:G.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:G.useCallback(f=>{l.current=f},[]),disableHoverableContent:r,children:s})};XP.displayName=WP;var ZP="Tooltip",[G$,E0]=M0(ZP),Bw="TooltipTrigger",VF=G.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=E0(Bw,t),s=GP(Bw,t),o=$1(t),l=G.useRef(null),d=Ws(e,l,r.onTriggerChange),f=G.useRef(!1),m=G.useRef(!1),v=G.useCallback(()=>f.current=!1,[]);return G.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),V.jsx(DF,{asChild:!0,...o,children:V.jsx(cr.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:d,onPointerMove:Ei(n.onPointerMove,_=>{_.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ei(n.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:Ei(n.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ei(n.onFocus,()=>{f.current||r.onOpen()}),onBlur:Ei(n.onBlur,r.onClose),onClick:Ei(n.onClick,r.onClose)})})});VF.displayName=Bw;var HF="TooltipPortal",[X$,jF]=M0(HF,{forceMount:void 0}),Af="TooltipContent",YP=G.forwardRef((n,e)=>{const t=jF(Af,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=E0(Af,n.__scopeTooltip);return V.jsx(Bf,{present:i||o.open,children:o.disableHoverableContent?V.jsx(qP,{side:r,...s,ref:e}):V.jsx(WF,{side:r,...s,ref:e})})}),WF=G.forwardRef((n,e)=>{const t=E0(Af,n.__scopeTooltip),i=GP(Af,n.__scopeTooltip),r=G.useRef(null),s=Ws(e,r),[o,l]=G.useState(null),{trigger:d,onClose:f}=t,m=r.current,{onPointerInTransitChange:v}=i,_=G.useCallback(()=>{l(null),v(!1)},[v]),x=G.useCallback((M,C)=>{const T=M.currentTarget,w={x:M.clientX,y:M.clientY},R=qF(w,T.getBoundingClientRect()),k=$F(w,R),O=KF(C.getBoundingClientRect()),j=QF([...k,...O]);l(j),v(!0)},[v]);return G.useEffect(()=>()=>_(),[_]),G.useEffect(()=>{if(d&&m){const M=T=>x(T,m),C=T=>x(T,d);return d.addEventListener("pointerleave",M),m.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",M),m.removeEventListener("pointerleave",C)}}},[d,m,x,_]),G.useEffect(()=>{if(o){const M=C=>{const T=C.target,w={x:C.clientX,y:C.clientY},R=d?.contains(T)||m?.contains(T),k=!JF(w,o);R?_():k&&(_(),f())};return document.addEventListener("pointermove",M),()=>document.removeEventListener("pointermove",M)}},[d,m,o,f,_]),V.jsx(qP,{...n,ref:s})}),[GF,XF]=M0(ZP,{isInside:!1}),ZF=eN("TooltipContent"),qP=G.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=n,d=E0(Af,t),f=$1(t),{onClose:m}=d;return G.useEffect(()=>(document.addEventListener(HT,m),()=>document.removeEventListener(HT,m)),[m]),G.useEffect(()=>{if(d.trigger){const v=_=>{_.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,m]),V.jsx(_0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:V.jsxs(FF,{"data-state":d.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(ZF,{children:i}),V.jsx(GF,{scope:t,isInside:!0,children:V.jsx(TN,{id:d.contentId,role:"tooltip",children:r||i})})]})})});YP.displayName=Af;var $P="TooltipArrow",YF=G.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=$1(t);return XF($P,t).isInside?null:V.jsx(zF,{...r,...i,ref:e})});YF.displayName=$P;function qF(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function $F(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function KF(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function JF(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],d=e[o],f=l.x,m=l.y,v=d.x,_=d.y;m>i!=_>i&&t<(v-f)*(i-m)/(_-m)+f&&(r=!r)}return r}function QF(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),ez(e)}function ez(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var tz=XP,KP=YP;const nz=tz,iz=G.forwardRef(({className:n,sideOffset:e=4,...t},i)=>V.jsx(KP,{ref:i,sideOffset:e,className:dr("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));iz.displayName=KP.displayName;var C0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},A0=typeof window>"u"||"Deno"in globalThis;function Xa(){}function rz(n,e){return typeof n=="function"?n(e):n}function sz(n){return typeof n=="number"&&n>=0&&n!==1/0}function oz(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Vw(n,e){return typeof n=="function"?n(e):n}function az(n,e){return typeof n=="function"?n(e):n}function jT(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:l}=n;if(o){if(i){if(e.queryHash!==K1(o,e.options))return!1}else if(!xm(e.queryKey,o))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||s&&!s(e))}function WT(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(_m(e.options.mutationKey)!==_m(s))return!1}else if(!xm(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function K1(n,e){return(e?.queryKeyHashFn||_m)(n)}function _m(n){return JSON.stringify(n,(e,t)=>Hw(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function xm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>xm(n[t],e[t])):!1}function JP(n,e){if(n===e)return n;const t=GT(n)&&GT(e);if(t||Hw(n)&&Hw(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,l=t?[]:{},d=new Set(i);let f=0;for(let m=0;m<o;m++){const v=t?m:s[m];(!t&&d.has(v)||t)&&n[v]===void 0&&e[v]===void 0?(l[v]=void 0,f++):(l[v]=JP(n[v],e[v]),l[v]===n[v]&&n[v]!==void 0&&f++)}return r===o&&f===r?n:l}return e}function GT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Hw(n){if(!XT(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!XT(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function XT(n){return Object.prototype.toString.call(n)==="[object Object]"}function lz(n){return new Promise(e=>{setTimeout(e,n)})}function uz(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?JP(n,e):e}function cz(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function dz(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var J1=Symbol();function QP(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===J1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var hz=class extends C0{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!A0&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},eR=new hz,fz=class extends C0{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!A0&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},wy=new fz;function pz(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function mz(n){return Math.min(1e3*2**n,3e4)}function tR(n){return(n??"online")==="online"?wy.isOnline():!0}var nR=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function ex(n){return n instanceof nR}function iR(n){let e=!1,t=0,i=!1,r;const s=pz(),o=C=>{i||(_(new nR(C)),n.abort?.())},l=()=>{e=!0},d=()=>{e=!1},f=()=>eR.isFocused()&&(n.networkMode==="always"||wy.isOnline())&&n.canRun(),m=()=>tR(n.networkMode)&&n.canRun(),v=C=>{i||(i=!0,n.onSuccess?.(C),r?.(),s.resolve(C))},_=C=>{i||(i=!0,n.onError?.(C),r?.(),s.reject(C))},x=()=>new Promise(C=>{r=T=>{(i||f())&&C(T)},n.onPause?.()}).then(()=>{r=void 0,i||n.onContinue?.()}),M=()=>{if(i)return;let C;const T=t===0?n.initialPromise:void 0;try{C=T??n.fn()}catch(w){C=Promise.reject(w)}Promise.resolve(C).then(v).catch(w=>{if(i)return;const R=n.retry??(A0?0:3),k=n.retryDelay??mz,O=typeof k=="function"?k(t,w):k,j=R===!0||typeof R=="number"&&t<R||typeof R=="function"&&R(t,w);if(e||!j){_(w);return}t++,n.onFail?.(t,w),lz(O).then(()=>f()?void 0:x()).then(()=>{e?_(w):M()})})};return{promise:s,cancel:o,continue:()=>(r?.(),s),cancelRetry:l,continueRetry:d,canStart:m,start:()=>(m()?M():x().then(M),s)}}var gz=n=>setTimeout(n,0);function vz(){let n=[],e=0,t=l=>{l()},i=l=>{l()},r=gz;const s=l=>{e?n.push(l):r(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&r(()=>{i(()=>{l.forEach(d=>{t(d)})})})};return{batch:l=>{let d;e++;try{d=l()}finally{e--,e||o()}return d},batchCalls:l=>(...d)=>{s(()=>{l(...d)})},schedule:s,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Bs=vz(),rR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sz(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(A0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},yz=class extends rR{#e;#t;#n;#r;#i;#o;#a;constructor(n){super(),this.#a=!1,this.#o=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#r=n.client,this.#n=this.#r.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=xz(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(n){this.options={...this.#o,...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const t=uz(this.state.data,n,this.options);return this.#s({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#s({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#i?.promise;return this.#i?.cancel(n),e?e.then(Xa).catch(Xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>az(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Vw(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!oz(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(n,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const t=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,t.signal)})},r=()=>{const d=QP(this.options,e),m=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},o=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(d),d})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const l=d=>{ex(d)&&d.silent||this.#s({type:"error",error:d}),ex(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#i=iR({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:t.abort.bind(t),onSuccess:d=>{if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){l(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,..._z(t.data,this.options),fetchMeta:n.meta??null};case"success":return this.#t=void 0,{...t,data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ex(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),Bs.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function _z(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tR(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function xz(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var wz=class extends C0{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const i=e.queryKey,r=e.queryHash??K1(i,e);let s=this.get(r);return s||(s=new yz({client:n,queryKey:i,queryHash:r,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(i)}),this.add(s)),s}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Bs.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>jT(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>jT(n,t)):e}notify(n){Bs.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Bs.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Bs.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Sz=class extends rR{#e;#t;#n;constructor(n){super(),this.mutationId=n.mutationId,this.#t=n.mutationCache,this.#e=[],this.state=n.state||bz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(e=>e!==n),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#r({type:"continue"})};this.#n=iR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",i=!this.#n.canStart();try{if(t)e();else{this.#r({type:"pending",variables:n,isPaused:i}),await this.#t.config.onMutate?.(n,this);const s=await this.options.onMutate?.(n);s!==this.state.context&&this.#r({type:"pending",context:s,variables:n,isPaused:i})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,n,this.state.context,this),await this.options.onSuccess?.(r,n,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,n,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,n,this.state.context,this),await this.options.onError?.(r,n,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,n,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Bs.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(n)}),this.#t.notify({mutation:this,type:"updated",action:n})})}};function bz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tz=class extends C0{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const i=new Sz({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(i),i}add(n){this.#e.add(n);const e=ev(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=ev(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const i=t.indexOf(n);i!==-1&&t.splice(i,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=ev(n);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===n}else return!0}runNext(n){const e=ev(n);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==n&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Bs.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>WT(e,t))}findAll(n={}){return this.getAll().filter(e=>WT(n,e))}notify(n){Bs.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Bs.batch(()=>Promise.all(n.map(e=>e.continue().catch(Xa))))}};function ev(n){return n.options.scope?.id}function ZT(n){return{onFetch:(e,t)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const v=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},_=QP(e.options,e.fetchOptions),x=async(M,C,T)=>{if(m)return Promise.reject();if(C==null&&M.pages.length)return Promise.resolve(M);const R=(()=>{const X={client:e.client,queryKey:e.queryKey,pageParam:C,direction:T?"backward":"forward",meta:e.options.meta};return v(X),X})(),k=await _(R),{maxPages:O}=e.options,j=T?dz:cz;return{pages:j(M.pages,k,O),pageParams:j(M.pageParams,C,O)}};if(r&&s.length){const M=r==="backward",C=M?Mz:YT,T={pages:s,pageParams:o},w=C(i,T);l=await x(T,w,M)}else{const M=n??s.length;do{const C=d===0?o[0]??i.initialPageParam:YT(i,l);if(d>0&&C==null)break;l=await x(l,C),d++}while(d<M)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=f}}}function YT(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function Mz(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var Ez=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(n={}){this.#e=n.queryCache||new wz,this.#t=n.mutationCache||new Tz,this.#n=n.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=eR.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=wy.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Vw(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),s=this.#e.get(i.queryHash)?.state.data,o=rz(e,s);if(o!==void 0)return this.#e.build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Bs.batch(()=>this.#e.findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Bs.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return Bs.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=Bs.batch(()=>this.#e.findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(Xa).catch(Xa)}invalidateQueries(n,e={}){return Bs.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=Bs.batch(()=>this.#e.findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(Xa)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Xa)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Vw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Xa).catch(Xa)}fetchInfiniteQuery(n){return n.behavior=ZT(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Xa).catch(Xa)}ensureInfiniteQueryData(n){return n.behavior=ZT(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return wy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(_m(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(i=>{xm(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){this.#i.set(_m(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(i=>{xm(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=K1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===J1&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Cz=G.createContext(void 0),Az=({client:n,children:e})=>(G.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),V.jsx(Cz.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wm.apply(this,arguments)}var Dc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Dc||(Dc={}));const qT="popstate";function Pz(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return jw("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Sy(r)}return Lz(e,t,null,n)}function ur(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sR(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rz(){return Math.random().toString(36).substr(2,8)}function $T(n,e){return{usr:n.state,key:n.key,idx:e}}function jw(n,e,t,i){return t===void 0&&(t=null),wm({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wf(e):e,{state:t,key:e&&e.key||i||Rz()})}function Sy(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Lz(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Dc.Pop,d=null,f=m();f==null&&(f=0,o.replaceState(wm({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function v(){l=Dc.Pop;let T=m(),w=T==null?null:T-f;f=T,d&&d({action:l,location:C.location,delta:w})}function _(T,w){l=Dc.Push;let R=jw(C.location,T,w);f=m()+1;let k=$T(R,f),O=C.createHref(R);try{o.pushState(k,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(O)}s&&d&&d({action:l,location:C.location,delta:1})}function x(T,w){l=Dc.Replace;let R=jw(C.location,T,w);f=m();let k=$T(R,f),O=C.createHref(R);o.replaceState(k,"",O),s&&d&&d({action:l,location:C.location,delta:0})}function M(T){let w=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof T=="string"?T:Sy(T);return R=R.replace(/ $/,"%20"),ur(w,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,w)}let C={get action(){return l},get location(){return n(r,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(qT,v),d=T,()=>{r.removeEventListener(qT,v),d=null}},createHref(T){return e(r,T)},createURL:M,encodeLocation(T){let w=M(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:x,go(T){return o.go(T)}};return C}var KT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(KT||(KT={}));function Iz(n,e,t){return t===void 0&&(t="/"),kz(n,e,t)}function kz(n,e,t,i){let r=typeof e=="string"?Wf(e):e,s=Q1(r.pathname||"/",t);if(s==null)return null;let o=oR(n);Nz(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let f=Xz(s);l=jz(o[d],f)}return l}function oR(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,l)=>{let d={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};d.relativePath.startsWith("/")&&(ur(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let f=zc([i,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),oR(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Vz(f,s.index),routesMeta:m})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let d of aR(s.path))r(s,o,d)}),e}function aR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=aR(i.join("/")),l=[];return l.push(...o.map(d=>d===""?s:[s,d].join("/"))),r&&l.push(...o),l.map(d=>n.startsWith("/")&&d===""?"/":d)}function Nz(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Hz(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Oz=/^:[\w-]+$/,Dz=3,Fz=2,zz=1,Uz=10,Bz=-2,JT=n=>n==="*";function Vz(n,e){let t=n.split("/"),i=t.length;return t.some(JT)&&(i+=Bz),e&&(i+=Fz),t.filter(r=>!JT(r)).reduce((r,s)=>r+(Oz.test(s)?Dz:s===""?zz:Uz),i)}function Hz(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function jz(n,e,t){let{routesMeta:i}=n,r={},s="/",o=[];for(let l=0;l<i.length;++l){let d=i[l],f=l===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",v=Wz({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!v)return null;Object.assign(r,v.params),o.push({params:r,pathname:zc([s,v.pathname]),pathnameBase:$z(zc([s,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(s=zc([s,v.pathnameBase]))}return o}function Wz(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Gz(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((f,m,v)=>{let{paramName:_,isOptional:x}=m;if(_==="*"){let C=l[v]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const M=l[v];return x&&!M?f[_]=void 0:f[_]=(M||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function Gz(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),sR(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(i.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Xz(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sR(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Q1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Zz(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Wf(n):n;return{pathname:t?t.startsWith("/")?t:Yz(t,e):e,search:Kz(i),hash:Jz(r)}}function Yz(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function tx(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qz(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lR(n,e){let t=qz(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function uR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Wf(n):(r=wm({},n),ur(!r.pathname||!r.pathname.includes("?"),tx("?","pathname","search",r)),ur(!r.pathname||!r.pathname.includes("#"),tx("#","pathname","hash",r)),ur(!r.search||!r.search.includes("#"),tx("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=t;else{let v=e.length-1;if(!i&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}l=v>=0?e[v]:"/"}let d=Zz(r,l),f=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const zc=n=>n.join("/").replace(/\/\/+/g,"/"),$z=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Kz=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Jz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qz(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const cR=["post","put","patch","delete"];new Set(cR);const e4=["get",...cR];new Set(e4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sm.apply(this,arguments)}const eS=G.createContext(null),t4=G.createContext(null),ch=G.createContext(null),P0=G.createContext(null),dh=G.createContext({outlet:null,matches:[],isDataRoute:!1}),dR=G.createContext(null);function n4(n,e){let{relative:t}=e===void 0?{}:e;Qm()||ur(!1);let{basename:i,navigator:r}=G.useContext(ch),{hash:s,pathname:o,search:l}=pR(n,{relative:t}),d=o;return i!=="/"&&(d=o==="/"?i:zc([i,o])),r.createHref({pathname:d,search:l,hash:s})}function Qm(){return G.useContext(P0)!=null}function Gf(){return Qm()||ur(!1),G.useContext(P0).location}function hR(n){G.useContext(ch).static||G.useLayoutEffect(n)}function fR(){let{isDataRoute:n}=G.useContext(dh);return n?m4():i4()}function i4(){Qm()||ur(!1);let n=G.useContext(eS),{basename:e,future:t,navigator:i}=G.useContext(ch),{matches:r}=G.useContext(dh),{pathname:s}=Gf(),o=JSON.stringify(lR(r,t.v7_relativeSplatPath)),l=G.useRef(!1);return hR(()=>{l.current=!0}),G.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){i.go(f);return}let v=uR(f,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zc([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,o,s,n])}function pR(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=G.useContext(ch),{matches:r}=G.useContext(dh),{pathname:s}=Gf(),o=JSON.stringify(lR(r,i.v7_relativeSplatPath));return G.useMemo(()=>uR(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function r4(n,e){return s4(n,e)}function s4(n,e,t,i){Qm()||ur(!1);let{navigator:r}=G.useContext(ch),{matches:s}=G.useContext(dh),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=Gf(),m;if(e){var v;let T=typeof e=="string"?Wf(e):e;d==="/"||(v=T.pathname)!=null&&v.startsWith(d)||ur(!1),m=T}else m=f;let _=m.pathname||"/",x=_;if(d!=="/"){let T=d.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let M=Iz(n,{pathname:x}),C=c4(M&&M.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:zc([d,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:zc([d,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,t,i);return e&&C?G.createElement(P0.Provider,{value:{location:Sm({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Dc.Pop}},C):C}function o4(){let n=p4(),e=Qz(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:r},t):null,null)}const a4=G.createElement(o4,null);class l4 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(dh.Provider,{value:this.props.routeContext},G.createElement(dR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u4(n){let{routeContext:e,match:t,children:i}=n,r=G.useContext(eS);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(dh.Provider,{value:e},i)}function c4(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(r=t)==null?void 0:r.errors;if(l!=null){let m=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);m>=0||ur(!1),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let m=0;m<o.length;m++){let v=o[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:_,errors:x}=t,M=v.route.loader&&_[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||M){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,v,_)=>{let x,M=!1,C=null,T=null;t&&(x=l&&v.route.id?l[v.route.id]:void 0,C=v.route.errorElement||a4,d&&(f<0&&_===0?(g4("route-fallback"),M=!0,T=null):f===_&&(M=!0,T=v.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,_+1)),R=()=>{let k;return x?k=C:M?k=T:v.route.Component?k=G.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=m,G.createElement(u4,{match:v,routeContext:{outlet:m,matches:w,isDataRoute:t!=null},children:k})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?G.createElement(l4,{location:t.location,revalidation:t.revalidation,component:C,error:x,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}var mR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mR||{}),gR=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(gR||{});function d4(n){let e=G.useContext(eS);return e||ur(!1),e}function h4(n){let e=G.useContext(t4);return e||ur(!1),e}function f4(n){let e=G.useContext(dh);return e||ur(!1),e}function vR(n){let e=f4(),t=e.matches[e.matches.length-1];return t.route.id||ur(!1),t.route.id}function p4(){var n;let e=G.useContext(dR),t=h4(),i=vR();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function m4(){let{router:n}=d4(mR.UseNavigateStable),e=vR(gR.UseNavigateStable),t=G.useRef(!1);return hR(()=>{t.current=!0}),G.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Sm({fromRouteId:e},s)))},[n,e])}const QT={};function g4(n,e,t){QT[n]||(QT[n]=!0)}function v4(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Vd(n){ur(!1)}function y4(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Dc.Pop,navigator:s,static:o=!1,future:l}=n;Qm()&&ur(!1);let d=e.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:d,navigator:s,static:o,future:Sm({v7_relativeSplatPath:!1},l)}),[d,l,s,o]);typeof i=="string"&&(i=Wf(i));let{pathname:m="/",search:v="",hash:_="",state:x=null,key:M="default"}=i,C=G.useMemo(()=>{let T=Q1(m,d);return T==null?null:{location:{pathname:T,search:v,hash:_,state:x,key:M},navigationType:r}},[d,m,v,_,x,M,r]);return C==null?null:G.createElement(ch.Provider,{value:f},G.createElement(P0.Provider,{children:t,value:C}))}function _4(n){let{children:e,location:t}=n;return r4(Ww(e),t)}new Promise(()=>{});function Ww(n,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(n,(i,r)=>{if(!G.isValidElement(i))return;let s=[...e,r];if(i.type===G.Fragment){t.push.apply(t,Ww(i.props.children,s));return}i.type!==Vd&&ur(!1),!i.props.index||!i.props.children||ur(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ww(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gw(){return Gw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gw.apply(this,arguments)}function x4(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function w4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S4(n,e){return n.button===0&&(!e||e==="_self")&&!w4(n)}const b4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T4="6";try{window.__reactRouterVersion=T4}catch{}const M4="startTransition",eM=I1[M4];function E4(n){let{basename:e,children:t,future:i,window:r}=n,s=G.useRef();s.current==null&&(s.current=Pz({window:r,v5Compat:!0}));let o=s.current,[l,d]=G.useState({action:o.action,location:o.location}),{v7_startTransition:f}=i||{},m=G.useCallback(v=>{f&&eM?eM(()=>d(v)):d(v)},[d,f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.useEffect(()=>v4(i),[i]),G.createElement(y4,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:i})}const C4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P4=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:d,to:f,preventScrollReset:m,viewTransition:v}=e,_=x4(e,b4),{basename:x}=G.useContext(ch),M,C=!1;if(typeof f=="string"&&A4.test(f)&&(M=f,C4))try{let k=new URL(window.location.href),O=f.startsWith("//")?new URL(k.protocol+f):new URL(f),j=Q1(O.pathname,x);O.origin===k.origin&&j!=null?f=j+O.search+O.hash:C=!0}catch{}let T=n4(f,{relative:r}),w=R4(f,{replace:o,state:l,target:d,preventScrollReset:m,relative:r,viewTransition:v});function R(k){i&&i(k),k.defaultPrevented||w(k)}return G.createElement("a",Gw({},_,{href:M||T,onClick:C||s?i:R,ref:t,target:d}))});var tM;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(tM||(tM={}));var nM;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(nM||(nM={}));function R4(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,d=fR(),f=Gf(),m=pR(n,{relative:o});return G.useCallback(v=>{if(S4(v,t)){v.preventDefault();let _=i!==void 0?i:Sy(f)===Sy(m);d(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[f,d,m,i,r,t,n,s,o,l])}const L4={sidebarOpen:!1,toggleSidebar:()=>{}},I4=G.createContext(L4),k4=({children:n})=>{const[e,t]=G.useState(!1),i=()=>{t(r=>!r)};return V.jsx(I4.Provider,{value:{sidebarOpen:e,toggleSidebar:i},children:n})},N4=F1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Mu=G.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?Jk:"button";return V.jsx(o,{className:dr(N4({variant:e,size:t,className:n})),ref:s,...r})});Mu.displayName="Button";const nx=768;function O4(){const[n,e]=G.useState(void 0);return G.useEffect(()=>{const t=window.matchMedia(`(max-width: ${nx-1}px)`),i=()=>{e(window.innerWidth<nx)};return t.addEventListener("change",i),e(window.innerWidth<nx),()=>t.removeEventListener("change",i)},[]),!!n}var ix="focusScope.autoFocusOnMount",rx="focusScope.autoFocusOnUnmount",iM={bubbles:!1,cancelable:!0},D4="FocusScope",yR=G.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[l,d]=G.useState(null),f=Il(r),m=Il(s),v=G.useRef(null),_=Ws(e,C=>d(C)),x=G.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;G.useEffect(()=>{if(i){let C=function(k){if(x.paused||!l)return;const O=k.target;l.contains(O)?v.current=O:Rc(v.current,{select:!0})},T=function(k){if(x.paused||!l)return;const O=k.relatedTarget;O!==null&&(l.contains(O)||Rc(v.current,{select:!0}))},w=function(k){if(document.activeElement===document.body)for(const j of k)j.removedNodes.length>0&&Rc(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",T);const R=new MutationObserver(w);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",T),R.disconnect()}}},[i,l,x.paused]),G.useEffect(()=>{if(l){sM.add(x);const C=document.activeElement;if(!l.contains(C)){const w=new CustomEvent(ix,iM);l.addEventListener(ix,f),l.dispatchEvent(w),w.defaultPrevented||(F4(H4(_R(l)),{select:!0}),document.activeElement===C&&Rc(l))}return()=>{l.removeEventListener(ix,f),setTimeout(()=>{const w=new CustomEvent(rx,iM);l.addEventListener(rx,m),l.dispatchEvent(w),w.defaultPrevented||Rc(C??document.body,{select:!0}),l.removeEventListener(rx,m),sM.remove(x)},0)}}},[l,f,m,x]);const M=G.useCallback(C=>{if(!t&&!i||x.paused)return;const T=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,w=document.activeElement;if(T&&w){const R=C.currentTarget,[k,O]=z4(R);k&&O?!C.shiftKey&&w===O?(C.preventDefault(),t&&Rc(k,{select:!0})):C.shiftKey&&w===k&&(C.preventDefault(),t&&Rc(O,{select:!0})):w===R&&C.preventDefault()}},[t,i,x.paused]);return V.jsx(cr.div,{tabIndex:-1,...o,ref:_,onKeyDown:M})});yR.displayName=D4;function F4(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Rc(i,{select:e}),document.activeElement!==t)return}function z4(n){const e=_R(n),t=rM(e,n),i=rM(e.reverse(),n);return[t,i]}function _R(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function rM(n,e){for(const t of n)if(!U4(t,{upTo:e}))return t}function U4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function B4(n){return n instanceof HTMLInputElement&&"select"in n}function Rc(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&B4(n)&&e&&n.select()}}var sM=V4();function V4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=oM(n,e),n.unshift(e)},remove(e){n=oM(n,e),n[0]?.resume()}}}function oM(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function H4(n){return n.filter(e=>e.tagName!=="A")}var sx=0;function j4(){G.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??aM()),document.body.insertAdjacentElement("beforeend",n[1]??aM()),sx++,()=>{sx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sx--}},[])}function aM(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var wl=function(){return wl=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},wl.apply(this,arguments)};function xR(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function W4(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var sy="right-scroll-bar-position",oy="width-before-scroll-bar",G4="with-scroll-bars-hidden",X4="--removed-body-scroll-bar-size";function ox(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Z4(n,e){var t=G.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var Y4=typeof window<"u"?G.useLayoutEffect:G.useEffect,lM=new WeakMap;function q4(n,e){var t=Z4(null,function(i){return n.forEach(function(r){return ox(r,i)})});return Y4(function(){var i=lM.get(t);if(i){var r=new Set(i),s=new Set(n),o=t.current;r.forEach(function(l){s.has(l)||ox(l,null)}),s.forEach(function(l){r.has(l)||ox(l,o)})}lM.set(t,n)},[n]),t}function $4(n){return n}function K4(n,e){e===void 0&&(e=$4);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,i);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(i=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(l){return s(l)},filter:function(){return t}}},assignMedium:function(s){i=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(s),o=t}var d=function(){var m=o;o=[],m.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),t}}}};return r}function J4(n){n===void 0&&(n={});var e=K4(null);return e.options=wl({async:!0,ssr:!1},n),e}var wR=function(n){var e=n.sideCar,t=xR(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return G.createElement(i,wl({},t))};wR.isSideCarExport=!0;function Q4(n,e){return n.useMedium(e),wR}var SR=J4(),ax=function(){},R0=G.forwardRef(function(n,e){var t=G.useRef(null),i=G.useState({onScrollCapture:ax,onWheelCapture:ax,onTouchMoveCapture:ax}),r=i[0],s=i[1],o=n.forwardProps,l=n.children,d=n.className,f=n.removeScrollBar,m=n.enabled,v=n.shards,_=n.sideCar,x=n.noRelative,M=n.noIsolation,C=n.inert,T=n.allowPinchZoom,w=n.as,R=w===void 0?"div":w,k=n.gapMode,O=xR(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=_,X=q4([t,e]),Z=wl(wl({},O),r);return G.createElement(G.Fragment,null,m&&G.createElement(j,{sideCar:SR,removeScrollBar:f,shards:v,noRelative:x,noIsolation:M,inert:C,setCallbacks:s,allowPinchZoom:!!T,lockRef:t,gapMode:k}),o?G.cloneElement(G.Children.only(l),wl(wl({},Z),{ref:X})):G.createElement(R,wl({},Z,{className:d,ref:X}),l))});R0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};R0.classNames={fullWidth:oy,zeroRight:sy};var eU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tU(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=eU();return e&&n.setAttribute("nonce",e),n}function nU(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function iU(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var rU=function(){var n=0,e=null;return{add:function(t){n==0&&(e=tU())&&(nU(e,t),iU(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sU=function(){var n=rU();return function(e,t){G.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},bR=function(){var n=sU(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},oU={left:0,top:0,right:0,gap:0},lx=function(n){return parseInt(n||"",10)||0},aU=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[lx(t),lx(i),lx(r)]},lU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return oU;var e=aU(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},uU=bR(),Tf="data-scroll-locked",cU=function(n,e,t,i){var r=n.left,s=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(G4,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Tf,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sy,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(oy,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(sy," .").concat(sy,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(oy," .").concat(oy,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Tf,`] {
    `).concat(X4,": ").concat(l,`px;
  }
`)},uM=function(){var n=parseInt(document.body.getAttribute(Tf)||"0",10);return isFinite(n)?n:0},dU=function(){G.useEffect(function(){return document.body.setAttribute(Tf,(uM()+1).toString()),function(){var n=uM()-1;n<=0?document.body.removeAttribute(Tf):document.body.setAttribute(Tf,n.toString())}},[])},hU=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;dU();var s=G.useMemo(function(){return lU(r)},[r]);return G.createElement(uU,{styles:cU(s,!e,r,t?"":"!important")})},Xw=!1;if(typeof window<"u")try{var tv=Object.defineProperty({},"passive",{get:function(){return Xw=!0,!0}});window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{Xw=!1}var Uh=Xw?{passive:!1}:!1,fU=function(n){return n.tagName==="TEXTAREA"},TR=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!fU(n)&&t[e]==="visible")},pU=function(n){return TR(n,"overflowY")},mU=function(n){return TR(n,"overflowX")},cM=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=MR(n,i);if(r){var s=ER(n,i),o=s[1],l=s[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},gU=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},vU=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},MR=function(n,e){return n==="v"?pU(e):mU(e)},ER=function(n,e){return n==="v"?gU(e):vU(e)},yU=function(n,e){return n==="h"&&e==="rtl"?-1:1},_U=function(n,e,t,i,r){var s=yU(n,window.getComputedStyle(e).direction),o=s*i,l=t.target,d=e.contains(l),f=!1,m=o>0,v=0,_=0;do{if(!l)break;var x=ER(n,l),M=x[0],C=x[1],T=x[2],w=C-T-s*M;(M||w)&&MR(n,l)&&(v+=w,_+=M);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!d&&l!==document.body||d&&(e.contains(l)||e===l));return(m&&Math.abs(v)<1||!m&&Math.abs(_)<1)&&(f=!0),f},nv=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},dM=function(n){return[n.deltaX,n.deltaY]},hM=function(n){return n&&"current"in n?n.current:n},xU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},wU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},SU=0,Bh=[];function bU(n){var e=G.useRef([]),t=G.useRef([0,0]),i=G.useRef(),r=G.useState(SU++)[0],s=G.useState(bR)[0],o=G.useRef(n);G.useEffect(function(){o.current=n},[n]),G.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var C=W4([n.lockRef.current],(n.shards||[]).map(hM),!0).filter(Boolean);return C.forEach(function(T){return T.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),C.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var l=G.useCallback(function(C,T){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var w=nv(C),R=t.current,k="deltaX"in C?C.deltaX:R[0]-w[0],O="deltaY"in C?C.deltaY:R[1]-w[1],j,X=C.target,Z=Math.abs(k)>Math.abs(O)?"h":"v";if("touches"in C&&Z==="h"&&X.type==="range")return!1;var z=cM(Z,X);if(!z)return!0;if(z?j=Z:(j=Z==="v"?"h":"v",z=cM(Z,X)),!z)return!1;if(!i.current&&"changedTouches"in C&&(k||O)&&(i.current=j),!j)return!0;var U=i.current||j;return _U(U,T,C,U==="h"?k:O)},[]),d=G.useCallback(function(C){var T=C;if(!(!Bh.length||Bh[Bh.length-1]!==s)){var w="deltaY"in T?dM(T):nv(T),R=e.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&xU(j.delta,w)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var k=(o.current.shards||[]).map(hM).filter(Boolean).filter(function(j){return j.contains(T.target)}),O=k.length>0?l(T,k[0]):!o.current.noIsolation;O&&T.cancelable&&T.preventDefault()}}},[]),f=G.useCallback(function(C,T,w,R){var k={name:C,delta:T,target:w,should:R,shadowParent:TU(w)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(O){return O!==k})},1)},[]),m=G.useCallback(function(C){t.current=nv(C),i.current=void 0},[]),v=G.useCallback(function(C){f(C.type,dM(C),C.target,l(C,n.lockRef.current))},[]),_=G.useCallback(function(C){f(C.type,nv(C),C.target,l(C,n.lockRef.current))},[]);G.useEffect(function(){return Bh.push(s),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",d,Uh),document.addEventListener("touchmove",d,Uh),document.addEventListener("touchstart",m,Uh),function(){Bh=Bh.filter(function(C){return C!==s}),document.removeEventListener("wheel",d,Uh),document.removeEventListener("touchmove",d,Uh),document.removeEventListener("touchstart",m,Uh)}},[]);var x=n.removeScrollBar,M=n.inert;return G.createElement(G.Fragment,null,M?G.createElement(s,{styles:wU(r)}):null,x?G.createElement(hU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function TU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const MU=Q4(SR,bU);var CR=G.forwardRef(function(n,e){return G.createElement(R0,wl({},n,{ref:e,sideCar:MU}))});CR.classNames=R0.classNames;var EU=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Vh=new WeakMap,iv=new WeakMap,rv={},ux=0,AR=function(n){return n&&(n.host||AR(n.parentNode))},CU=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=AR(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},AU=function(n,e,t,i){var r=CU(e,Array.isArray(n)?n:[n]);rv[t]||(rv[t]=new WeakMap);var s=rv[t],o=[],l=new Set,d=new Set(r),f=function(v){!v||l.has(v)||(l.add(v),f(v.parentNode))};r.forEach(f);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(_){if(l.has(_))m(_);else try{var x=_.getAttribute(i),M=x!==null&&x!=="false",C=(Vh.get(_)||0)+1,T=(s.get(_)||0)+1;Vh.set(_,C),s.set(_,T),o.push(_),C===1&&M&&iv.set(_,!0),T===1&&_.setAttribute(t,"true"),M||_.setAttribute(i,"true")}catch(w){console.error("aria-hidden: cannot operate on ",_,w)}})};return m(e),l.clear(),ux++,function(){o.forEach(function(v){var _=Vh.get(v)-1,x=s.get(v)-1;Vh.set(v,_),s.set(v,x),_||(iv.has(v)||v.removeAttribute(i),iv.delete(v)),x||v.removeAttribute(t)}),ux--,ux||(Vh=new WeakMap,Vh=new WeakMap,iv=new WeakMap,rv={})}},PU=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=EU(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),AU(i,r,t,"aria-hidden")):function(){return null}},L0="Dialog",[PR,Z$]=$m(L0),[RU,Ja]=PR(L0),RR=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=n,l=G.useRef(null),d=G.useRef(null),[f,m]=zA({prop:i,defaultProp:r??!1,onChange:s,caller:L0});return V.jsx(RU,{scope:e,triggerRef:l,contentRef:d,contentId:K_(),titleId:K_(),descriptionId:K_(),open:f,onOpenChange:m,onOpenToggle:G.useCallback(()=>m(v=>!v),[m]),modal:o,children:t})};RR.displayName=L0;var LR="DialogTrigger",IR=G.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Ja(LR,t),s=Ws(e,r.triggerRef);return V.jsx(cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":iS(r.open),...i,ref:s,onClick:Ei(n.onClick,r.onOpenToggle)})});IR.displayName=LR;var tS="DialogPortal",[LU,kR]=PR(tS,{forceMount:void 0}),NR=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=Ja(tS,e);return V.jsx(LU,{scope:e,forceMount:t,children:G.Children.map(i,o=>V.jsx(Bf,{present:t||s.open,children:V.jsx(k1,{asChild:!0,container:r,children:o})}))})};NR.displayName=tS;var by="DialogOverlay",OR=G.forwardRef((n,e)=>{const t=kR(by,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Ja(by,n.__scopeDialog);return s.modal?V.jsx(Bf,{present:i||s.open,children:V.jsx(kU,{...r,ref:e})}):null});OR.displayName=by;var IU=gm("DialogOverlay.RemoveScroll"),kU=G.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Ja(by,t);return V.jsx(CR,{as:IU,allowPinchZoom:!0,shards:[r.contentRef],children:V.jsx(cr.div,{"data-state":iS(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),sh="DialogContent",DR=G.forwardRef((n,e)=>{const t=kR(sh,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Ja(sh,n.__scopeDialog);return V.jsx(Bf,{present:i||s.open,children:s.modal?V.jsx(NU,{...r,ref:e}):V.jsx(OU,{...r,ref:e})})});DR.displayName=sh;var NU=G.forwardRef((n,e)=>{const t=Ja(sh,n.__scopeDialog),i=G.useRef(null),r=Ws(e,t.contentRef,i);return G.useEffect(()=>{const s=i.current;if(s)return PU(s)},[]),V.jsx(FR,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ei(n.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Ei(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ei(n.onFocusOutside,s=>s.preventDefault())})}),OU=G.forwardRef((n,e)=>{const t=Ja(sh,n.__scopeDialog),i=G.useRef(!1),r=G.useRef(!1);return V.jsx(FR,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{n.onCloseAutoFocus?.(s),s.defaultPrevented||(i.current||t.triggerRef.current?.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{n.onInteractOutside?.(s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),FR=G.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=n,l=Ja(sh,t),d=G.useRef(null),f=Ws(e,d);return j4(),V.jsxs(V.Fragment,{children:[V.jsx(yR,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:V.jsx(_0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iS(l.open),...o,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),V.jsxs(V.Fragment,{children:[V.jsx(DU,{titleId:l.titleId}),V.jsx(zU,{contentRef:d,descriptionId:l.descriptionId})]})]})}),nS="DialogTitle",zR=G.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Ja(nS,t);return V.jsx(cr.h2,{id:r.titleId,...i,ref:e})});zR.displayName=nS;var UR="DialogDescription",BR=G.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Ja(UR,t);return V.jsx(cr.p,{id:r.descriptionId,...i,ref:e})});BR.displayName=UR;var VR="DialogClose",HR=G.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Ja(VR,t);return V.jsx(cr.button,{type:"button",...i,ref:e,onClick:Ei(n.onClick,()=>r.onOpenChange(!1))})});HR.displayName=VR;function iS(n){return n?"open":"closed"}var jR="DialogTitleWarning",[Y$,WR]=$k(jR,{contentName:sh,titleName:nS,docsSlug:"dialog"}),DU=({titleId:n})=>{const e=WR(jR),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return G.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},FU="DialogDescriptionWarning",zU=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WR(FU).contentName}}.`;return G.useEffect(()=>{const r=n.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},UU=RR,BU=IR,VU=NR,GR=OR,XR=DR,ZR=zR,YR=BR,HU=HR;const jU=UU,WU=BU,GU=VU,qR=G.forwardRef(({className:n,...e},t)=>V.jsx(GR,{className:dr("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));qR.displayName=GR.displayName;const XU=F1("fixed z-50 gap-4 bg-card border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b rounded-b-xl data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t rounded-t-xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$R=G.forwardRef(({side:n="right",className:e,children:t,...i},r)=>V.jsxs(GU,{children:[V.jsx(qR,{}),V.jsxs(XR,{ref:r,className:dr(XU({side:n}),e),...i,children:[t,V.jsxs(HU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none",children:[V.jsx(uP,{className:"h-8 w-8"}),V.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$R.displayName=XR.displayName;const ZU=G.forwardRef(({className:n,...e},t)=>V.jsx(ZR,{ref:t,className:dr("text-lg font-semibold text-primary/90",n),...e}));ZU.displayName=ZR.displayName;const YU=G.forwardRef(({className:n,...e},t)=>V.jsx(YR,{ref:t,className:dr("text-sm text-muted-foreground mt-2",n),...e}));YU.displayName=YR.displayName;const qU=({isScrolled:n})=>{const[e,t]=G.useState(!1),{theme:i,setTheme:r}=V1(),s=()=>{r(i==="dark"?"light":"dark")},o=fR(),l=d=>{t(!1);const f=d.startsWith("#")||d.startsWith("/#"),m=d.replace("/#","#"),v=d.split("#")[0],_=window.location.pathname===v;if(f&&_){const x=document.querySelector(m);x&&x.scrollIntoView({behavior:"smooth"})}else o(d)};return V.jsxs(jU,{open:e,onOpenChange:t,children:[V.jsx(WU,{asChild:!0,children:V.jsx(Mu,{variant:"ghost",size:"lg",className:"md:hidden",children:V.jsx(nO,{className:"h-5 w-5"})})}),V.jsx($R,{side:"right",className:"w-full h-full p-0 border-none bg-white dark:bg-gray-900",children:V.jsx("div",{className:"relative w-full h-full flex flex-col",children:V.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8 px-8",children:[V.jsx("button",{onClick:()=>l("/#services"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Services"}),V.jsx("button",{onClick:()=>l("/about"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"About"}),V.jsx("button",{onClick:()=>l("/certificates"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Certificates"}),V.jsx("button",{onClick:()=>l("/regions"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Served Regions"}),V.jsx("button",{onClick:()=>l("/gallery"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Gallery"}),V.jsx("button",{onClick:()=>l("/#contact"),className:"text-3xl font-medium text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:"Contact"}),V.jsxs("div",{className:"pt-8 flex flex-col items-center space-y-4",children:[V.jsxs("div",{className:"flex justify-center items-center gap-6",children:[V.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:V.jsx(z1,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),V.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:V.jsx(U1,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})})]}),V.jsxs(Mu,{variant:"outline",onClick:s,className:"px-6 py-3 text-lg",children:[i==="dark"?V.jsx(lP,{className:"h-5 w-5 mr-2"}):V.jsx(aP,{className:"h-5 w-5 mr-2"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})})})]})},$U="/assets/tpc_00-BYwvNTtA.jpg",KU=()=>{const{theme:n,setTheme:e}=V1(),[t,i]=G.useState(!1),r=O4(),s=()=>{e(n==="dark"?"light":"dark")};return G.useEffect(()=>{const o=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),V.jsx("header",{className:`
      transition-all duration-300 border-b border-gray-200 dark:border-gray-700
      md:fixed md:top-0 md:left-0 md:right-0 md:z-50
      ${t?"md:bg-white/80 md:dark:bg-gray-900/80 md:backdrop-blur-md md:shadow-lg":"bg-white dark:bg-gray-900 shadow-sm"}
    `,children:V.jsx("div",{className:"w-full px-6 py-4 max-w-full xl:max-w-none",children:V.jsxs("div",{className:"flex items-center justify-between w-full",children:[V.jsx("div",{className:"flex items-center space-x-2",children:V.jsxs("a",{href:"/",className:"flex items-center space-x-2",children:[V.jsx("img",{src:$U,alt:"Torres Pest Control Logo",className:"h-20- w-20 rounded-full"}),V.jsxs("div",{children:[V.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[V.jsx("span",{className:"text-red-600",children:"TORRES"})," ",V.jsx("span",{className:"text-blue-600",children:"PEST CONTROL"})]}),V.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",style:{paddingLeft:"0.25rem"},children:"Your Trusted Pest Control Specialist"})]})]})}),!r&&V.jsxs("nav",{className:"hidden md:flex items-center space-x-6 mx-auto",children:[V.jsx("a",{href:"/#services",className:"nav-link",children:"Services"}),V.jsx("a",{href:"/about",className:"nav-link",children:"About"}),V.jsx("a",{href:"/certificates",className:"nav-link",children:"Certificates"}),V.jsx("a",{href:"/regions",className:"nav-link",children:"Served Regions"}),V.jsx("a",{href:"/gallery",className:"nav-link",children:"Gallery"}),V.jsx("a",{href:"/#contact",className:"nav-link",children:"Contact"})]}),!r&&V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx(Mu,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:n==="dark"?V.jsx(lP,{className:"h-5 w-5"}):V.jsx(aP,{className:"h-5 w-5"})}),V.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:V.jsx(z1,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),V.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:V.jsx(U1,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})})]}),r&&V.jsx(qU,{isScrolled:t})]})})})},JU=()=>V.jsx("footer",{className:"bg-gray-900 dark:bg-black text-white py-12",children:V.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Torres Pest Control"}),V.jsx("p",{className:"text-gray-300",children:"Professional pest control services in Davao with 14-15 years of experience."})]}),V.jsxs("div",{children:[V.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),V.jsxs("ul",{className:"space-y-2 text-gray-300",children:[V.jsx("li",{children:"Cockroach Control"}),V.jsx("li",{children:"Termite Treatment"}),V.jsx("li",{children:"Rodent Removal"}),V.jsx("li",{children:"Dengue Fogging"})]})]}),V.jsxs("div",{children:[V.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),V.jsx("p",{className:"text-gray-300",children:"Phone: +63 917 139 1908"}),V.jsx("p",{className:"text-gray-300",children:"Service Area: Davao, Philippines"}),V.jsxs("div",{className:"mt-8 flex justify-left items-center gap-6",children:[V.jsx("a",{href:"https://www.facebook.com/torrespestcontrolPH",target:"_blank",rel:"noopener noreferrer",children:V.jsx(z1,{className:"w-7 h-7 text-blue-600 hover:text-blue-800 transition"})}),V.jsx("a",{href:"https://www.instagram.com/torrespestcontrol_ph",target:"_blank",rel:"noopener noreferrer",children:V.jsx(U1,{className:"w-7 h-7 text-pink-500 hover:text-pink-600 transition"})})]})]})]}),V.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:V.jsxs("p",{className:"text-gray-400",children:[" ",new Date().getFullYear()," Torres Pest Control. All rights reserved."]})})]})}),eg=({children:n})=>V.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[V.jsx(KU,{}),n,V.jsx(JU,{})]});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const I0="178",QU={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},eB={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},KR=0,Zw=1,JR=2,tB=3,QR=0,k0=1,tm=2,Za=3,Lu=0,js=1,Sl=2,Eu=0,Kd=1,Yw=2,qw=3,$w=4,e2=5,Oc=100,t2=101,n2=102,i2=103,r2=104,s2=200,o2=201,a2=202,l2=203,Ty=204,My=205,u2=206,c2=207,d2=208,h2=209,f2=210,p2=211,m2=212,g2=213,v2=214,Ey=0,Cy=1,Ay=2,oh=3,Py=4,Ry=5,Ly=6,Iy=7,tg=0,y2=1,_2=2,Cl=0,x2=1,w2=2,S2=3,rS=4,b2=5,T2=6,M2=7,Kw="attached",E2="detached",N0=300,Iu=301,Vc=302,bm=303,Tm=304,Xf=306,Mm=1e3,ia=1001,Em=1002,is=1003,sS=1004,nB=1004,hf=1005,iB=1005,ar=1006,nm=1007,rB=1007,Tl=1008,sB=1008,oa=1009,oS=1010,aS=1011,Pf=1012,O0=1013,ku=1014,ho=1015,Zf=1016,D0=1017,F0=1018,Rf=1020,lS=35902,uS=1021,cS=1022,_s=1023,Lf=1026,If=1027,z0=1028,ng=1029,dS=1030,U0=1031,oB=1032,B0=1033,im=33776,rm=33777,sm=33778,om=33779,ky=35840,Ny=35841,Oy=35842,Dy=35843,Fy=36196,zy=37492,Uy=37496,By=37808,Vy=37809,Hy=37810,jy=37811,Wy=37812,Gy=37813,Xy=37814,Zy=37815,Yy=37816,qy=37817,$y=37818,Ky=37819,Jy=37820,Qy=37821,am=36492,e0=36494,t0=36495,hS=36283,n0=36284,i0=36285,r0=36286,C2=2200,A2=2201,P2=2202,Cm=2300,s0=2301,ay=2302,Xd=2400,Zd=2401,Am=2402,V0=2500,fS=2501,aB=0,lB=1,uB=2,R2=3200,L2=3201,cB=3202,dB=3203,Gc=0,I2=1,bu="",uo="srgb",ah="srgb-linear",Pm="linear",Qn="srgb",hB=0,Hd=7680,fB=7681,pB=7682,mB=7683,gB=34055,vB=34056,yB=5386,_B=512,xB=513,wB=514,SB=515,bB=516,TB=517,MB=518,Jw=519,k2=512,N2=513,O2=514,pS=515,D2=516,F2=517,z2=518,U2=519,Rm=35044,EB=35048,CB=35040,AB=35045,PB=35049,RB=35041,LB=35046,IB=35050,kB=35042,NB="100",Qw="300 es",ra=2e3,Lm=2001,OB={COMPUTE:"compute",RENDER:"render"},DB={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},FB={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Dl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const gs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fM=1234567;const Jd=Math.PI/180,kf=180/Math.PI;function Uo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gs[n&255]+gs[n>>8&255]+gs[n>>16&255]+gs[n>>24&255]+"-"+gs[e&255]+gs[e>>8&255]+"-"+gs[e>>16&15|64]+gs[e>>24&255]+"-"+gs[t&63|128]+gs[t>>8&255]+"-"+gs[t>>16&255]+gs[t>>24&255]+gs[i&255]+gs[i>>8&255]+gs[i>>16&255]+gs[i>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function mS(n,e){return(n%e+e)%e}function zB(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function UB(n,e,t){return n!==e?(t-n)/(e-n):0}function lm(n,e,t){return(1-t)*n+t*e}function BB(n,e,t,i){return lm(n,e,1-Math.exp(-t*i))}function VB(n,e=1){return e-Math.abs(mS(n,e*2)-e)}function HB(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jB(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function WB(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GB(n,e){return n+Math.random()*(e-n)}function XB(n){return n*(.5-Math.random())}function ZB(n){n!==void 0&&(fM=n);let e=fM+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YB(n){return n*Jd}function qB(n){return n*kf}function $B(n){return(n&n-1)===0&&n!==0}function KB(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function JB(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function QB(n,e,t,i,r){const s=Math.cos,o=Math.sin,l=s(t/2),d=o(t/2),f=s((e+i)/2),m=o((e+i)/2),v=s((e-i)/2),_=o((e-i)/2),x=s((i-e)/2),M=o((i-e)/2);switch(r){case"XYX":n.set(l*m,d*v,d*_,l*f);break;case"YZY":n.set(d*_,l*m,d*v,l*f);break;case"ZXZ":n.set(d*v,d*_,l*m,l*f);break;case"XZX":n.set(l*m,d*M,d*x,l*f);break;case"YXY":n.set(d*x,l*m,d*M,l*f);break;case"ZYZ":n.set(d*M,d*x,l*m,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Vs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function En(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const e5={DEG2RAD:Jd,RAD2DEG:kf,generateUUID:Uo,clamp:xn,euclideanModulo:mS,mapLinear:zB,inverseLerp:UB,lerp:lm,damp:BB,pingpong:VB,smoothstep:HB,smootherstep:jB,randInt:WB,randFloat:GB,randFloatSpread:XB,seededRandom:ZB,degToRad:YB,radToDeg:qB,isPowerOfTwo:$B,ceilPowerOfTwo:KB,floorPowerOfTwo:JB,setQuaternionFromProperEuler:QB,normalize:En,denormalize:Vs};class tt{constructor(e=0,t=0){tt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class po{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,l){let d=i[r+0],f=i[r+1],m=i[r+2],v=i[r+3];const _=s[o+0],x=s[o+1],M=s[o+2],C=s[o+3];if(l===0){e[t+0]=d,e[t+1]=f,e[t+2]=m,e[t+3]=v;return}if(l===1){e[t+0]=_,e[t+1]=x,e[t+2]=M,e[t+3]=C;return}if(v!==C||d!==_||f!==x||m!==M){let T=1-l;const w=d*_+f*x+m*M+v*C,R=w>=0?1:-1,k=1-w*w;if(k>Number.EPSILON){const j=Math.sqrt(k),X=Math.atan2(j,w*R);T=Math.sin(T*X)/j,l=Math.sin(l*X)/j}const O=l*R;if(d=d*T+_*O,f=f*T+x*O,m=m*T+M*O,v=v*T+C*O,T===1-l){const j=1/Math.sqrt(d*d+f*f+m*m+v*v);d*=j,f*=j,m*=j,v*=j}}e[t]=d,e[t+1]=f,e[t+2]=m,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,r,s,o){const l=i[r],d=i[r+1],f=i[r+2],m=i[r+3],v=s[o],_=s[o+1],x=s[o+2],M=s[o+3];return e[t]=l*M+m*v+d*x-f*_,e[t+1]=d*M+m*_+f*v-l*x,e[t+2]=f*M+m*x+l*_-d*v,e[t+3]=m*M-l*v-d*_-f*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,l=Math.cos,d=Math.sin,f=l(i/2),m=l(r/2),v=l(s/2),_=d(i/2),x=d(r/2),M=d(s/2);switch(o){case"XYZ":this._x=_*m*v+f*x*M,this._y=f*x*v-_*m*M,this._z=f*m*M+_*x*v,this._w=f*m*v-_*x*M;break;case"YXZ":this._x=_*m*v+f*x*M,this._y=f*x*v-_*m*M,this._z=f*m*M-_*x*v,this._w=f*m*v+_*x*M;break;case"ZXY":this._x=_*m*v-f*x*M,this._y=f*x*v+_*m*M,this._z=f*m*M+_*x*v,this._w=f*m*v-_*x*M;break;case"ZYX":this._x=_*m*v-f*x*M,this._y=f*x*v+_*m*M,this._z=f*m*M-_*x*v,this._w=f*m*v+_*x*M;break;case"YZX":this._x=_*m*v+f*x*M,this._y=f*x*v+_*m*M,this._z=f*m*M-_*x*v,this._w=f*m*v-_*x*M;break;case"XZY":this._x=_*m*v-f*x*M,this._y=f*x*v-_*m*M,this._z=f*m*M+_*x*v,this._w=f*m*v+_*x*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],l=t[5],d=t[9],f=t[2],m=t[6],v=t[10],_=i+l+v;if(_>0){const x=.5/Math.sqrt(_+1);this._w=.25/x,this._x=(m-d)*x,this._y=(s-f)*x,this._z=(o-r)*x}else if(i>l&&i>v){const x=2*Math.sqrt(1+i-l-v);this._w=(m-d)/x,this._x=.25*x,this._y=(r+o)/x,this._z=(s+f)/x}else if(l>v){const x=2*Math.sqrt(1+l-i-v);this._w=(s-f)/x,this._x=(r+o)/x,this._y=.25*x,this._z=(d+m)/x}else{const x=2*Math.sqrt(1+v-i-l);this._w=(o-r)/x,this._x=(s+f)/x,this._y=(d+m)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,l=t._x,d=t._y,f=t._z,m=t._w;return this._x=i*m+o*l+r*f-s*d,this._y=r*m+o*d+s*l-i*f,this._z=s*m+o*f+i*d-r*l,this._w=o*m-i*l-r*d-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let l=o*e._w+i*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const d=1-l*l;if(d<=Number.EPSILON){const x=1-t;return this._w=x*o+t*this._w,this._x=x*i+t*this._x,this._y=x*r+t*this._y,this._z=x*s+t*this._z,this.normalize(),this}const f=Math.sqrt(d),m=Math.atan2(f,l),v=Math.sin((1-t)*m)/f,_=Math.sin(t*m)/f;return this._w=o*v+this._w*_,this._x=i*v+this._x*_,this._y=r*v+this._y*_,this._z=s*v+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,t=0,i=0){le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(pM.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pM.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,l=e.z,d=e.w,f=2*(o*r-l*i),m=2*(l*t-s*r),v=2*(s*i-o*t);return this.x=t+d*f+o*v-l*m,this.y=i+d*m+l*f-s*v,this.z=r+d*v+s*m-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,l=t.y,d=t.z;return this.x=r*d-s*l,this.y=s*o-i*d,this.z=i*l-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return cx.copy(this).projectOnVector(e),this.sub(cx)}reflect(e){return this.sub(cx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cx=new le,pM=new po;class bn{constructor(e,t,i,r,s,o,l,d,f){bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,l,d,f)}set(e,t,i,r,s,o,l,d,f){const m=this.elements;return m[0]=e,m[1]=r,m[2]=l,m[3]=t,m[4]=s,m[5]=d,m[6]=i,m[7]=o,m[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],l=i[3],d=i[6],f=i[1],m=i[4],v=i[7],_=i[2],x=i[5],M=i[8],C=r[0],T=r[3],w=r[6],R=r[1],k=r[4],O=r[7],j=r[2],X=r[5],Z=r[8];return s[0]=o*C+l*R+d*j,s[3]=o*T+l*k+d*X,s[6]=o*w+l*O+d*Z,s[1]=f*C+m*R+v*j,s[4]=f*T+m*k+v*X,s[7]=f*w+m*O+v*Z,s[2]=_*C+x*R+M*j,s[5]=_*T+x*k+M*X,s[8]=_*w+x*O+M*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],f=e[7],m=e[8];return t*o*m-t*l*f-i*s*m+i*l*d+r*s*f-r*o*d}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],f=e[7],m=e[8],v=m*o-l*f,_=l*d-m*s,x=f*s-o*d,M=t*v+i*_+r*x;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/M;return e[0]=v*C,e[1]=(r*f-m*i)*C,e[2]=(l*i-r*o)*C,e[3]=_*C,e[4]=(m*t-r*d)*C,e[5]=(r*s-l*t)*C,e[6]=x*C,e[7]=(i*d-f*t)*C,e[8]=(o*t-i*s)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,l){const d=Math.cos(s),f=Math.sin(s);return this.set(i*d,i*f,-i*(d*o+f*l)+o+e,-r*f,r*d,-r*(-f*o+d*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(dx.makeScale(e,t)),this}rotate(e){return this.premultiply(dx.makeRotation(-e)),this}translate(e,t){return this.premultiply(dx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const dx=new bn;function B2(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const t5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ff(n,e){return new t5[n](e)}function Im(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function V2(){const n=Im("canvas");return n.style.display="block",n}const mM={};function Mf(n){n in mM||(mM[n]=!0,console.warn(n))}function n5(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function i5(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function r5(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const gM=new bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vM=new bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function s5(){const n={enabled:!0,workingColorSpace:ah,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Qn&&(r.r=Cu(r.r),r.g=Cu(r.g),r.b=Cu(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Qn&&(r.r=Ef(r.r),r.g=Ef(r.g),r.b=Ef(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===bu?Pm:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Mf("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Mf("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[ah]:{primaries:e,whitePoint:i,transfer:Pm,toXYZ:gM,fromXYZ:vM,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:uo},outputColorSpaceConfig:{drawingBufferColorSpace:uo}},[uo]:{primaries:e,whitePoint:i,transfer:Qn,toXYZ:gM,fromXYZ:vM,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:uo}}}),n}const zn=s5();function Cu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ef(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Hh;class H2{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Hh===void 0&&(Hh=Im("canvas")),Hh.width=e.width,Hh.height=e.height;const r=Hh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Hh}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Im("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Cu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Cu(t[i]/255)*255):t[i]=Cu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let o5=0;class Fc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:o5++}),this.uuid=Uo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?s.push(hx(r[o].image)):s.push(hx(r[o]))}else s=hx(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function hx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?H2.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let a5=0;const fx=new le;class Oi extends Dl{constructor(e=Oi.DEFAULT_IMAGE,t=Oi.DEFAULT_MAPPING,i=ia,r=ia,s=ar,o=Tl,l=_s,d=oa,f=Oi.DEFAULT_ANISOTROPY,m=bu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:a5++}),this.uuid=Uo(),this.name="",this.source=new Fc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=d,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(fx).x}get height(){return this.source.getSize(fx).y}get depth(){return this.source.getSize(fx).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==N0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mm:e.x=e.x-Math.floor(e.x);break;case ia:e.x=e.x<0?0:1;break;case Em:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mm:e.y=e.y-Math.floor(e.y);break;case ia:e.y=e.y<0?0:1;break;case Em:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Oi.DEFAULT_IMAGE=null;Oi.DEFAULT_MAPPING=N0;Oi.DEFAULT_ANISOTROPY=1;class Hn{constructor(e=0,t=0,i=0,r=1){Hn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const d=e.elements,f=d[0],m=d[4],v=d[8],_=d[1],x=d[5],M=d[9],C=d[2],T=d[6],w=d[10];if(Math.abs(m-_)<.01&&Math.abs(v-C)<.01&&Math.abs(M-T)<.01){if(Math.abs(m+_)<.1&&Math.abs(v+C)<.1&&Math.abs(M+T)<.1&&Math.abs(f+x+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const k=(f+1)/2,O=(x+1)/2,j=(w+1)/2,X=(m+_)/4,Z=(v+C)/4,z=(M+T)/4;return k>O&&k>j?k<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(k),r=X/i,s=Z/i):O>j?O<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(O),i=X/r,s=z/r):j<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(j),i=Z/s,r=z/s),this.set(i,r,s,t),this}let R=Math.sqrt((T-M)*(T-M)+(v-C)*(v-C)+(_-m)*(_-m));return Math.abs(R)<.001&&(R=1),this.x=(T-M)/R,this.y=(v-C)/R,this.z=(_-m)/R,this.w=Math.acos((f+x+w-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xn(this.x,e.x,t.x),this.y=xn(this.y,e.y,t.y),this.z=xn(this.z,e.z,t.z),this.w=xn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xn(this.x,e,t),this.y=xn(this.y,e,t),this.z=xn(this.z,e,t),this.w=xn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class gS extends Dl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ar,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Hn(0,0,e,t),this.scissorTest=!1,this.viewport=new Hn(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new Oi(r);this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:ar,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Fc(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nl extends gS{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class H0 extends Oi{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=is,this.minFilter=is,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class l5 extends Nl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new H0(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class j0 extends Oi{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=is,this.minFilter=is,this.wrapR=ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class u5 extends Nl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new j0(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ws{constructor(e=new le(1/0,1/0,1/0),t=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ha.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ha.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ha.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Ha):Ha.fromBufferAttribute(s,o),Ha.applyMatrix4(e.matrixWorld),this.expandByPoint(Ha);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),sv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),sv.copy(i.boundingBox)),sv.applyMatrix4(e.matrixWorld),this.union(sv)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ha),Ha.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lp),ov.subVectors(this.max,Lp),jh.subVectors(e.a,Lp),Wh.subVectors(e.b,Lp),Gh.subVectors(e.c,Lp),Sc.subVectors(Wh,jh),bc.subVectors(Gh,Wh),Ed.subVectors(jh,Gh);let t=[0,-Sc.z,Sc.y,0,-bc.z,bc.y,0,-Ed.z,Ed.y,Sc.z,0,-Sc.x,bc.z,0,-bc.x,Ed.z,0,-Ed.x,-Sc.y,Sc.x,0,-bc.y,bc.x,0,-Ed.y,Ed.x,0];return!px(t,jh,Wh,Gh,ov)||(t=[1,0,0,0,1,0,0,0,1],!px(t,jh,Wh,Gh,ov))?!1:(av.crossVectors(Sc,bc),t=[av.x,av.y,av.z],px(t,jh,Wh,Gh,ov))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ha).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ha).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const gu=[new le,new le,new le,new le,new le,new le,new le,new le],Ha=new le,sv=new ws,jh=new le,Wh=new le,Gh=new le,Sc=new le,bc=new le,Ed=new le,Lp=new le,ov=new le,av=new le,Cd=new le;function px(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Cd.fromArray(n,s);const l=r.x*Math.abs(Cd.x)+r.y*Math.abs(Cd.y)+r.z*Math.abs(Cd.z),d=e.dot(Cd),f=t.dot(Cd),m=i.dot(Cd);if(Math.max(-Math.max(d,f,m),Math.min(d,f,m))>l)return!1}return!0}const c5=new ws,Ip=new le,mx=new le;class rs{constructor(e=new le,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):c5.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ip.subVectors(e,this.center);const t=Ip.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ip,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ip.copy(e.center).add(mx)),this.expandByPoint(Ip.copy(e.center).sub(mx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const vu=new le,gx=new le,lv=new le,Tc=new le,vx=new le,uv=new le,yx=new le;class Yf{constructor(e=new le,t=new le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vu.copy(this.origin).addScaledVector(this.direction,t),vu.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){gx.copy(e).add(t).multiplyScalar(.5),lv.copy(t).sub(e).normalize(),Tc.copy(this.origin).sub(gx);const s=e.distanceTo(t)*.5,o=-this.direction.dot(lv),l=Tc.dot(this.direction),d=-Tc.dot(lv),f=Tc.lengthSq(),m=Math.abs(1-o*o);let v,_,x,M;if(m>0)if(v=o*d-l,_=o*l-d,M=s*m,v>=0)if(_>=-M)if(_<=M){const C=1/m;v*=C,_*=C,x=v*(v+o*_+2*l)+_*(o*v+_+2*d)+f}else _=s,v=Math.max(0,-(o*_+l)),x=-v*v+_*(_+2*d)+f;else _=-s,v=Math.max(0,-(o*_+l)),x=-v*v+_*(_+2*d)+f;else _<=-M?(v=Math.max(0,-(-o*s+l)),_=v>0?-s:Math.min(Math.max(-s,-d),s),x=-v*v+_*(_+2*d)+f):_<=M?(v=0,_=Math.min(Math.max(-s,-d),s),x=_*(_+2*d)+f):(v=Math.max(0,-(o*s+l)),_=v>0?s:Math.min(Math.max(-s,-d),s),x=-v*v+_*(_+2*d)+f);else _=o>0?-s:s,v=Math.max(0,-(o*_+l)),x=-v*v+_*(_+2*d)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(gx).addScaledVector(lv,_),x}intersectSphere(e,t){vu.subVectors(e.center,this.origin);const i=vu.dot(this.direction),r=vu.dot(vu)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),l=i-o,d=i+o;return d<0?null:l<0?this.at(d,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,l,d;const f=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,_=this.origin;return f>=0?(i=(e.min.x-_.x)*f,r=(e.max.x-_.x)*f):(i=(e.max.x-_.x)*f,r=(e.min.x-_.x)*f),m>=0?(s=(e.min.y-_.y)*m,o=(e.max.y-_.y)*m):(s=(e.max.y-_.y)*m,o=(e.min.y-_.y)*m),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),v>=0?(l=(e.min.z-_.z)*v,d=(e.max.z-_.z)*v):(l=(e.max.z-_.z)*v,d=(e.min.z-_.z)*v),i>d||l>r)||((l>i||i!==i)&&(i=l),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,vu)!==null}intersectTriangle(e,t,i,r,s){vx.subVectors(t,e),uv.subVectors(i,e),yx.crossVectors(vx,uv);let o=this.direction.dot(yx),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Tc.subVectors(this.origin,e);const d=l*this.direction.dot(uv.crossVectors(Tc,uv));if(d<0)return null;const f=l*this.direction.dot(vx.cross(Tc));if(f<0||d+f>o)return null;const m=-l*Tc.dot(yx);return m<0?null:this.at(m/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ln{constructor(e,t,i,r,s,o,l,d,f,m,v,_,x,M,C,T){ln.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,l,d,f,m,v,_,x,M,C,T)}set(e,t,i,r,s,o,l,d,f,m,v,_,x,M,C,T){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=r,w[1]=s,w[5]=o,w[9]=l,w[13]=d,w[2]=f,w[6]=m,w[10]=v,w[14]=_,w[3]=x,w[7]=M,w[11]=C,w[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ln().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Xh.setFromMatrixColumn(e,0).length(),s=1/Xh.setFromMatrixColumn(e,1).length(),o=1/Xh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),l=Math.sin(i),d=Math.cos(r),f=Math.sin(r),m=Math.cos(s),v=Math.sin(s);if(e.order==="XYZ"){const _=o*m,x=o*v,M=l*m,C=l*v;t[0]=d*m,t[4]=-d*v,t[8]=f,t[1]=x+M*f,t[5]=_-C*f,t[9]=-l*d,t[2]=C-_*f,t[6]=M+x*f,t[10]=o*d}else if(e.order==="YXZ"){const _=d*m,x=d*v,M=f*m,C=f*v;t[0]=_+C*l,t[4]=M*l-x,t[8]=o*f,t[1]=o*v,t[5]=o*m,t[9]=-l,t[2]=x*l-M,t[6]=C+_*l,t[10]=o*d}else if(e.order==="ZXY"){const _=d*m,x=d*v,M=f*m,C=f*v;t[0]=_-C*l,t[4]=-o*v,t[8]=M+x*l,t[1]=x+M*l,t[5]=o*m,t[9]=C-_*l,t[2]=-o*f,t[6]=l,t[10]=o*d}else if(e.order==="ZYX"){const _=o*m,x=o*v,M=l*m,C=l*v;t[0]=d*m,t[4]=M*f-x,t[8]=_*f+C,t[1]=d*v,t[5]=C*f+_,t[9]=x*f-M,t[2]=-f,t[6]=l*d,t[10]=o*d}else if(e.order==="YZX"){const _=o*d,x=o*f,M=l*d,C=l*f;t[0]=d*m,t[4]=C-_*v,t[8]=M*v+x,t[1]=v,t[5]=o*m,t[9]=-l*m,t[2]=-f*m,t[6]=x*v+M,t[10]=_-C*v}else if(e.order==="XZY"){const _=o*d,x=o*f,M=l*d,C=l*f;t[0]=d*m,t[4]=-v,t[8]=f*m,t[1]=_*v+C,t[5]=o*m,t[9]=x*v-M,t[2]=M*v-x,t[6]=l*m,t[10]=C*v+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(d5,e,h5)}lookAt(e,t,i){const r=this.elements;return Oo.subVectors(e,t),Oo.lengthSq()===0&&(Oo.z=1),Oo.normalize(),Mc.crossVectors(i,Oo),Mc.lengthSq()===0&&(Math.abs(i.z)===1?Oo.x+=1e-4:Oo.z+=1e-4,Oo.normalize(),Mc.crossVectors(i,Oo)),Mc.normalize(),cv.crossVectors(Oo,Mc),r[0]=Mc.x,r[4]=cv.x,r[8]=Oo.x,r[1]=Mc.y,r[5]=cv.y,r[9]=Oo.y,r[2]=Mc.z,r[6]=cv.z,r[10]=Oo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],l=i[4],d=i[8],f=i[12],m=i[1],v=i[5],_=i[9],x=i[13],M=i[2],C=i[6],T=i[10],w=i[14],R=i[3],k=i[7],O=i[11],j=i[15],X=r[0],Z=r[4],z=r[8],U=r[12],N=r[1],Y=r[5],Q=r[9],ae=r[13],se=r[2],ge=r[6],he=r[10],de=r[14],W=r[3],ie=r[7],ee=r[11],K=r[15];return s[0]=o*X+l*N+d*se+f*W,s[4]=o*Z+l*Y+d*ge+f*ie,s[8]=o*z+l*Q+d*he+f*ee,s[12]=o*U+l*ae+d*de+f*K,s[1]=m*X+v*N+_*se+x*W,s[5]=m*Z+v*Y+_*ge+x*ie,s[9]=m*z+v*Q+_*he+x*ee,s[13]=m*U+v*ae+_*de+x*K,s[2]=M*X+C*N+T*se+w*W,s[6]=M*Z+C*Y+T*ge+w*ie,s[10]=M*z+C*Q+T*he+w*ee,s[14]=M*U+C*ae+T*de+w*K,s[3]=R*X+k*N+O*se+j*W,s[7]=R*Z+k*Y+O*ge+j*ie,s[11]=R*z+k*Q+O*he+j*ee,s[15]=R*U+k*ae+O*de+j*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],l=e[5],d=e[9],f=e[13],m=e[2],v=e[6],_=e[10],x=e[14],M=e[3],C=e[7],T=e[11],w=e[15];return M*(+s*d*v-r*f*v-s*l*_+i*f*_+r*l*x-i*d*x)+C*(+t*d*x-t*f*_+s*o*_-r*o*x+r*f*m-s*d*m)+T*(+t*f*v-t*l*x-s*o*v+i*o*x+s*l*m-i*f*m)+w*(-r*l*m-t*d*v+t*l*_+r*o*v-i*o*_+i*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],f=e[7],m=e[8],v=e[9],_=e[10],x=e[11],M=e[12],C=e[13],T=e[14],w=e[15],R=v*T*f-C*_*f+C*d*x-l*T*x-v*d*w+l*_*w,k=M*_*f-m*T*f-M*d*x+o*T*x+m*d*w-o*_*w,O=m*C*f-M*v*f+M*l*x-o*C*x-m*l*w+o*v*w,j=M*v*d-m*C*d-M*l*_+o*C*_+m*l*T-o*v*T,X=t*R+i*k+r*O+s*j;if(X===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Z=1/X;return e[0]=R*Z,e[1]=(C*_*s-v*T*s-C*r*x+i*T*x+v*r*w-i*_*w)*Z,e[2]=(l*T*s-C*d*s+C*r*f-i*T*f-l*r*w+i*d*w)*Z,e[3]=(v*d*s-l*_*s-v*r*f+i*_*f+l*r*x-i*d*x)*Z,e[4]=k*Z,e[5]=(m*T*s-M*_*s+M*r*x-t*T*x-m*r*w+t*_*w)*Z,e[6]=(M*d*s-o*T*s-M*r*f+t*T*f+o*r*w-t*d*w)*Z,e[7]=(o*_*s-m*d*s+m*r*f-t*_*f-o*r*x+t*d*x)*Z,e[8]=O*Z,e[9]=(M*v*s-m*C*s-M*i*x+t*C*x+m*i*w-t*v*w)*Z,e[10]=(o*C*s-M*l*s+M*i*f-t*C*f-o*i*w+t*l*w)*Z,e[11]=(m*l*s-o*v*s-m*i*f+t*v*f+o*i*x-t*l*x)*Z,e[12]=j*Z,e[13]=(m*C*r-M*v*r+M*i*_-t*C*_-m*i*T+t*v*T)*Z,e[14]=(M*l*r-o*C*r-M*i*d+t*C*d+o*i*T-t*l*T)*Z,e[15]=(o*v*r-m*l*r+m*i*d-t*v*d-o*i*_+t*l*_)*Z,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,l=e.y,d=e.z,f=s*o,m=s*l;return this.set(f*o+i,f*l-r*d,f*d+r*l,0,f*l+r*d,m*l+i,m*d-r*o,0,f*d-r*l,m*d+r*o,s*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,l=t._z,d=t._w,f=s+s,m=o+o,v=l+l,_=s*f,x=s*m,M=s*v,C=o*m,T=o*v,w=l*v,R=d*f,k=d*m,O=d*v,j=i.x,X=i.y,Z=i.z;return r[0]=(1-(C+w))*j,r[1]=(x+O)*j,r[2]=(M-k)*j,r[3]=0,r[4]=(x-O)*X,r[5]=(1-(_+w))*X,r[6]=(T+R)*X,r[7]=0,r[8]=(M+k)*Z,r[9]=(T-R)*Z,r[10]=(1-(_+C))*Z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Xh.set(r[0],r[1],r[2]).length();const o=Xh.set(r[4],r[5],r[6]).length(),l=Xh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ja.copy(this);const f=1/s,m=1/o,v=1/l;return ja.elements[0]*=f,ja.elements[1]*=f,ja.elements[2]*=f,ja.elements[4]*=m,ja.elements[5]*=m,ja.elements[6]*=m,ja.elements[8]*=v,ja.elements[9]*=v,ja.elements[10]*=v,t.setFromRotationMatrix(ja),i.x=s,i.y=o,i.z=l,this}makePerspective(e,t,i,r,s,o,l=ra){const d=this.elements,f=2*s/(t-e),m=2*s/(i-r),v=(t+e)/(t-e),_=(i+r)/(i-r);let x,M;if(l===ra)x=-(o+s)/(o-s),M=-2*o*s/(o-s);else if(l===Lm)x=-o/(o-s),M=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return d[0]=f,d[4]=0,d[8]=v,d[12]=0,d[1]=0,d[5]=m,d[9]=_,d[13]=0,d[2]=0,d[6]=0,d[10]=x,d[14]=M,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,t,i,r,s,o,l=ra){const d=this.elements,f=1/(t-e),m=1/(i-r),v=1/(o-s),_=(t+e)*f,x=(i+r)*m;let M,C;if(l===ra)M=(o+s)*v,C=-2*v;else if(l===Lm)M=s*v,C=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return d[0]=2*f,d[4]=0,d[8]=0,d[12]=-_,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-x,d[2]=0,d[6]=0,d[10]=C,d[14]=-M,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Xh=new le,ja=new ln,d5=new le(0,0,0),h5=new le(1,1,1),Mc=new le,cv=new le,Oo=new le,yM=new ln,_M=new po;class Bo{constructor(e=0,t=0,i=0,r=Bo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],l=r[8],d=r[1],f=r[5],m=r[9],v=r[2],_=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(_,f),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-v,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-v,x),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-xn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(_,x),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(xn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-v,s)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(_,f),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return yM.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yM,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return _M.setFromEuler(this),this.setFromQuaternion(_M,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Bo.DEFAULT_ORDER="XYZ";class Qd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let f5=0;const xM=new le,Zh=new po,yu=new ln,dv=new le,kp=new le,p5=new le,m5=new po,wM=new le(1,0,0),SM=new le(0,1,0),bM=new le(0,0,1),TM={type:"added"},g5={type:"removed"},Yh={type:"childadded",child:null},_x={type:"childremoved",child:null};class jn extends Dl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:f5++}),this.uuid=Uo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jn.DEFAULT_UP.clone();const e=new le,t=new Bo,i=new po,r=new le(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ln},normalMatrix:{value:new bn}}),this.matrix=new ln,this.matrixWorld=new ln,this.matrixAutoUpdate=jn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Qd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zh.setFromAxisAngle(e,t),this.quaternion.multiply(Zh),this}rotateOnWorldAxis(e,t){return Zh.setFromAxisAngle(e,t),this.quaternion.premultiply(Zh),this}rotateX(e){return this.rotateOnAxis(wM,e)}rotateY(e){return this.rotateOnAxis(SM,e)}rotateZ(e){return this.rotateOnAxis(bM,e)}translateOnAxis(e,t){return xM.copy(e).applyQuaternion(this.quaternion),this.position.add(xM.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(wM,e)}translateY(e){return this.translateOnAxis(SM,e)}translateZ(e){return this.translateOnAxis(bM,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?dv.copy(e):dv.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),kp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yu.lookAt(kp,dv,this.up):yu.lookAt(dv,kp,this.up),this.quaternion.setFromRotationMatrix(yu),r&&(yu.extractRotation(r.matrixWorld),Zh.setFromRotationMatrix(yu),this.quaternion.premultiply(Zh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(TM),Yh.child=e,this.dispatchEvent(Yh),Yh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(g5),_x.child=e,this.dispatchEvent(_x),_x.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yu.multiply(e.parent.matrixWorld)),e.applyMatrix4(yu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(TM),Yh.child=e,this.dispatchEvent(Yh),Yh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kp,e,p5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kp,m5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(l,d){return l[d.uuid]===void 0&&(l[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const d=l.shapes;if(Array.isArray(d))for(let f=0,m=d.length;f<m;f++){const v=d[f];s(e.shapes,v)}else s(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let d=0,f=this.material.length;d<f;d++)l.push(s(e.materials,this.material[d]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const d=this.animations[l];r.animations.push(s(e.animations,d))}}if(t){const l=o(e.geometries),d=o(e.materials),f=o(e.textures),m=o(e.images),v=o(e.shapes),_=o(e.skeletons),x=o(e.animations),M=o(e.nodes);l.length>0&&(i.geometries=l),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),_.length>0&&(i.skeletons=_),x.length>0&&(i.animations=x),M.length>0&&(i.nodes=M)}return i.object=r,i;function o(l){const d=[];for(const f in l){const m=l[f];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}jn.DEFAULT_UP=new le(0,1,0);jn.DEFAULT_MATRIX_AUTO_UPDATE=!0;jn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Wa=new le,_u=new le,xx=new le,xu=new le,qh=new le,$h=new le,MM=new le,wx=new le,Sx=new le,bx=new le,Tx=new Hn,Mx=new Hn,Ex=new Hn;class co{constructor(e=new le,t=new le,i=new le){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Wa.subVectors(e,t),r.cross(Wa);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Wa.subVectors(r,t),_u.subVectors(i,t),xx.subVectors(e,t);const o=Wa.dot(Wa),l=Wa.dot(_u),d=Wa.dot(xx),f=_u.dot(_u),m=_u.dot(xx),v=o*f-l*l;if(v===0)return s.set(0,0,0),null;const _=1/v,x=(f*d-l*m)*_,M=(o*m-l*d)*_;return s.set(1-x-M,M,x)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,xu)===null?!1:xu.x>=0&&xu.y>=0&&xu.x+xu.y<=1}static getInterpolation(e,t,i,r,s,o,l,d){return this.getBarycoord(e,t,i,r,xu)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,xu.x),d.addScaledVector(o,xu.y),d.addScaledVector(l,xu.z),d)}static getInterpolatedAttribute(e,t,i,r,s,o){return Tx.setScalar(0),Mx.setScalar(0),Ex.setScalar(0),Tx.fromBufferAttribute(e,t),Mx.fromBufferAttribute(e,i),Ex.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(Tx,s.x),o.addScaledVector(Mx,s.y),o.addScaledVector(Ex,s.z),o}static isFrontFacing(e,t,i,r){return Wa.subVectors(i,t),_u.subVectors(e,t),Wa.cross(_u).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Wa.subVectors(this.c,this.b),_u.subVectors(this.a,this.b),Wa.cross(_u).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return co.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return co.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return co.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return co.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return co.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,l;qh.subVectors(r,i),$h.subVectors(s,i),wx.subVectors(e,i);const d=qh.dot(wx),f=$h.dot(wx);if(d<=0&&f<=0)return t.copy(i);Sx.subVectors(e,r);const m=qh.dot(Sx),v=$h.dot(Sx);if(m>=0&&v<=m)return t.copy(r);const _=d*v-m*f;if(_<=0&&d>=0&&m<=0)return o=d/(d-m),t.copy(i).addScaledVector(qh,o);bx.subVectors(e,s);const x=qh.dot(bx),M=$h.dot(bx);if(M>=0&&x<=M)return t.copy(s);const C=x*f-d*M;if(C<=0&&f>=0&&M<=0)return l=f/(f-M),t.copy(i).addScaledVector($h,l);const T=m*M-x*v;if(T<=0&&v-m>=0&&x-M>=0)return MM.subVectors(s,r),l=(v-m)/(v-m+(x-M)),t.copy(r).addScaledVector(MM,l);const w=1/(T+C+_);return o=C*w,l=_*w,t.copy(i).addScaledVector(qh,o).addScaledVector($h,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const j2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ec={h:0,s:0,l:0},hv={h:0,s:0,l:0};function Cx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class zt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=uo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=zn.workingColorSpace){return this.r=e,this.g=t,this.b=i,zn.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=zn.workingColorSpace){if(e=mS(e,1),t=xn(t,0,1),i=xn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Cx(o,s,e+1/3),this.g=Cx(o,s,e),this.b=Cx(o,s,e-1/3)}return zn.colorSpaceToWorking(this,r),this}setStyle(e,t=uo){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=uo){const i=j2[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cu(e.r),this.g=Cu(e.g),this.b=Cu(e.b),this}copyLinearToSRGB(e){return this.r=Ef(e.r),this.g=Ef(e.g),this.b=Ef(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=uo){return zn.workingToColorSpace(vs.copy(this),e),Math.round(xn(vs.r*255,0,255))*65536+Math.round(xn(vs.g*255,0,255))*256+Math.round(xn(vs.b*255,0,255))}getHexString(e=uo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=zn.workingColorSpace){zn.workingToColorSpace(vs.copy(this),t);const i=vs.r,r=vs.g,s=vs.b,o=Math.max(i,r,s),l=Math.min(i,r,s);let d,f;const m=(l+o)/2;if(l===o)d=0,f=0;else{const v=o-l;switch(f=m<=.5?v/(o+l):v/(2-o-l),o){case i:d=(r-s)/v+(r<s?6:0);break;case r:d=(s-i)/v+2;break;case s:d=(i-r)/v+4;break}d/=6}return e.h=d,e.s=f,e.l=m,e}getRGB(e,t=zn.workingColorSpace){return zn.workingToColorSpace(vs.copy(this),t),e.r=vs.r,e.g=vs.g,e.b=vs.b,e}getStyle(e=uo){zn.workingToColorSpace(vs.copy(this),e);const t=vs.r,i=vs.g,r=vs.b;return e!==uo?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Ec),this.setHSL(Ec.h+e,Ec.s+t,Ec.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ec),e.getHSL(hv);const i=lm(Ec.h,hv.h,t),r=lm(Ec.s,hv.s,t),s=lm(Ec.l,hv.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const vs=new zt;zt.NAMES=j2;let v5=0;class ss extends Dl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:v5++}),this.uuid=Uo(),this.name="",this.type="Material",this.blending=Kd,this.side=Lu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ty,this.blendDst=My,this.blendEquation=Oc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new zt(0,0,0),this.blendAlpha=0,this.depthFunc=oh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Jw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hd,this.stencilZFail=Hd,this.stencilZPass=Hd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Kd&&(i.blending=this.blending),this.side!==Lu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ty&&(i.blendSrc=this.blendSrc),this.blendDst!==My&&(i.blendDst=this.blendDst),this.blendEquation!==Oc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==oh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Jw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Hd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Hd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const l in s){const d=s[l];delete d.metadata,o.push(d)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Xc extends ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bo,this.combine=tg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Tu=y5();function y5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let d=0;d<256;++d){const f=d-127;f<-27?(i[d]=0,i[d|256]=32768,r[d]=24,r[d|256]=24):f<-14?(i[d]=1024>>-f-14,i[d|256]=1024>>-f-14|32768,r[d]=-f-1,r[d|256]=-f-1):f<=15?(i[d]=f+15<<10,i[d|256]=f+15<<10|32768,r[d]=13,r[d|256]=13):f<128?(i[d]=31744,i[d|256]=64512,r[d]=24,r[d|256]=24):(i[d]=31744,i[d|256]=64512,r[d]=13,r[d|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let d=1;d<1024;++d){let f=d<<13,m=0;for(;(f&8388608)===0;)f<<=1,m-=8388608;f&=-8388609,m+=947912704,s[d]=f|m}for(let d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)o[d]=d<<23;o[31]=1199570944,o[32]=2147483648;for(let d=33;d<63;++d)o[d]=2147483648+(d-32<<23);o[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(l[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:l}}function ao(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),Tu.floatView[0]=n;const e=Tu.uint32View[0],t=e>>23&511;return Tu.baseTable[t]+((e&8388607)>>Tu.shiftTable[t])}function Yp(n){const e=n>>10;return Tu.uint32View[0]=Tu.mantissaTable[Tu.offsetTable[e]+(n&1023)]+Tu.exponentTable[e],Tu.floatView[0]}class _5{static toHalfFloat(e){return ao(e)}static fromHalfFloat(e){return Yp(e)}}const sr=new le,fv=new tt;let x5=0;class oi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:x5++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Rm,this.updateRanges=[],this.gpuType=ho,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)fv.fromBufferAttribute(this,t),fv.applyMatrix3(e),this.setXY(t,fv.x,fv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.applyMatrix3(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.applyMatrix4(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.applyNormalMatrix(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)sr.fromBufferAttribute(this,t),sr.transformDirection(e),this.setXYZ(t,sr.x,sr.y,sr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Vs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rm&&(e.usage=this.usage),e}}class w5 extends oi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class S5 extends oi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class b5 extends oi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class T5 extends oi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class vS extends oi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class M5 extends oi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class yS extends oi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class E5 extends oi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Yp(this.array[e*this.itemSize]);return this.normalized&&(t=Vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize]=ao(t),this}getY(e){let t=Yp(this.array[e*this.itemSize+1]);return this.normalized&&(t=Vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+1]=ao(t),this}getZ(e){let t=Yp(this.array[e*this.itemSize+2]);return this.normalized&&(t=Vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+2]=ao(t),this}getW(e){let t=Yp(this.array[e*this.itemSize+3]);return this.normalized&&(t=Vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=En(t,this.array)),this.array[e*this.itemSize+3]=ao(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array)),this.array[e+0]=ao(t),this.array[e+1]=ao(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array)),this.array[e+0]=ao(t),this.array[e+1]=ao(i),this.array[e+2]=ao(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.array[e+0]=ao(t),this.array[e+1]=ao(i),this.array[e+2]=ao(r),this.array[e+3]=ao(s),this}}class Xt extends oi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let C5=0;const ea=new ln,Ax=new jn,Kh=new le,Do=new ws,Np=new ws,Dr=new le;class Tn extends Dl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:C5++}),this.uuid=Uo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(B2(e)?yS:vS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new bn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ea.makeRotationFromQuaternion(e),this.applyMatrix4(ea),this}rotateX(e){return ea.makeRotationX(e),this.applyMatrix4(ea),this}rotateY(e){return ea.makeRotationY(e),this.applyMatrix4(ea),this}rotateZ(e){return ea.makeRotationZ(e),this.applyMatrix4(ea),this}translate(e,t,i){return ea.makeTranslation(e,t,i),this.applyMatrix4(ea),this}scale(e,t,i){return ea.makeScale(e,t,i),this.applyMatrix4(ea),this}lookAt(e){return Ax.lookAt(e),Ax.updateMatrix(),this.applyMatrix4(Ax.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kh).negate(),this.translate(Kh.x,Kh.y,Kh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Xt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Do.setFromBufferAttribute(s),this.morphTargetsRelative?(Dr.addVectors(this.boundingBox.min,Do.min),this.boundingBox.expandByPoint(Dr),Dr.addVectors(this.boundingBox.max,Do.max),this.boundingBox.expandByPoint(Dr)):(this.boundingBox.expandByPoint(Do.min),this.boundingBox.expandByPoint(Do.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new rs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const i=this.boundingSphere.center;if(Do.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const l=t[s];Np.setFromBufferAttribute(l),this.morphTargetsRelative?(Dr.addVectors(Do.min,Np.min),Do.expandByPoint(Dr),Dr.addVectors(Do.max,Np.max),Do.expandByPoint(Dr)):(Do.expandByPoint(Np.min),Do.expandByPoint(Np.max))}Do.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Dr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Dr));if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s],d=this.morphTargetsRelative;for(let f=0,m=l.count;f<m;f++)Dr.fromBufferAttribute(l,f),d&&(Kh.fromBufferAttribute(e,f),Dr.add(Kh)),r=Math.max(r,i.distanceToSquared(Dr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new oi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],d=[];for(let z=0;z<i.count;z++)l[z]=new le,d[z]=new le;const f=new le,m=new le,v=new le,_=new tt,x=new tt,M=new tt,C=new le,T=new le;function w(z,U,N){f.fromBufferAttribute(i,z),m.fromBufferAttribute(i,U),v.fromBufferAttribute(i,N),_.fromBufferAttribute(s,z),x.fromBufferAttribute(s,U),M.fromBufferAttribute(s,N),m.sub(f),v.sub(f),x.sub(_),M.sub(_);const Y=1/(x.x*M.y-M.x*x.y);isFinite(Y)&&(C.copy(m).multiplyScalar(M.y).addScaledVector(v,-x.y).multiplyScalar(Y),T.copy(v).multiplyScalar(x.x).addScaledVector(m,-M.x).multiplyScalar(Y),l[z].add(C),l[U].add(C),l[N].add(C),d[z].add(T),d[U].add(T),d[N].add(T))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let z=0,U=R.length;z<U;++z){const N=R[z],Y=N.start,Q=N.count;for(let ae=Y,se=Y+Q;ae<se;ae+=3)w(e.getX(ae+0),e.getX(ae+1),e.getX(ae+2))}const k=new le,O=new le,j=new le,X=new le;function Z(z){j.fromBufferAttribute(r,z),X.copy(j);const U=l[z];k.copy(U),k.sub(j.multiplyScalar(j.dot(U))).normalize(),O.crossVectors(X,U);const Y=O.dot(d[z])<0?-1:1;o.setXYZW(z,k.x,k.y,k.z,Y)}for(let z=0,U=R.length;z<U;++z){const N=R[z],Y=N.start,Q=N.count;for(let ae=Y,se=Y+Q;ae<se;ae+=3)Z(e.getX(ae+0)),Z(e.getX(ae+1)),Z(e.getX(ae+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new oi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let _=0,x=i.count;_<x;_++)i.setXYZ(_,0,0,0);const r=new le,s=new le,o=new le,l=new le,d=new le,f=new le,m=new le,v=new le;if(e)for(let _=0,x=e.count;_<x;_+=3){const M=e.getX(_+0),C=e.getX(_+1),T=e.getX(_+2);r.fromBufferAttribute(t,M),s.fromBufferAttribute(t,C),o.fromBufferAttribute(t,T),m.subVectors(o,s),v.subVectors(r,s),m.cross(v),l.fromBufferAttribute(i,M),d.fromBufferAttribute(i,C),f.fromBufferAttribute(i,T),l.add(m),d.add(m),f.add(m),i.setXYZ(M,l.x,l.y,l.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(T,f.x,f.y,f.z)}else for(let _=0,x=t.count;_<x;_+=3)r.fromBufferAttribute(t,_+0),s.fromBufferAttribute(t,_+1),o.fromBufferAttribute(t,_+2),m.subVectors(o,s),v.subVectors(r,s),m.cross(v),i.setXYZ(_+0,m.x,m.y,m.z),i.setXYZ(_+1,m.x,m.y,m.z),i.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Dr.fromBufferAttribute(e,t),Dr.normalize(),e.setXYZ(t,Dr.x,Dr.y,Dr.z)}toNonIndexed(){function e(l,d){const f=l.array,m=l.itemSize,v=l.normalized,_=new f.constructor(d.length*m);let x=0,M=0;for(let C=0,T=d.length;C<T;C++){l.isInterleavedBufferAttribute?x=d[C]*l.data.stride+l.offset:x=d[C]*m;for(let w=0;w<m;w++)_[M++]=f[x++]}return new oi(_,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Tn,i=this.index.array,r=this.attributes;for(const l in r){const d=r[l],f=e(d,i);t.setAttribute(l,f)}const s=this.morphAttributes;for(const l in s){const d=[],f=s[l];for(let m=0,v=f.length;m<v;m++){const _=f[m],x=e(_,i);d.push(x)}t.morphAttributes[l]=d}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,d=o.length;l<d;l++){const f=o[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const f in d)d[f]!==void 0&&(e[f]=d[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const f=i[d];e.data.attributes[d]=f.toJSON(e.data)}const r={};let s=!1;for(const d in this.morphAttributes){const f=this.morphAttributes[d],m=[];for(let v=0,_=f.length;v<_;v++){const x=f[v];m.push(x.toJSON(e.data))}m.length>0&&(r[d]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const m=r[f];this.setAttribute(f,m.clone(t))}const s=e.morphAttributes;for(const f in s){const m=[],v=s[f];for(let _=0,x=v.length;_<x;_++)m.push(v[_].clone(t));this.morphAttributes[f]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,m=o.length;f<m;f++){const v=o[f];this.addGroup(v.start,v.count,v.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const EM=new ln,Ad=new Yf,pv=new rs,CM=new le,mv=new le,gv=new le,vv=new le,Px=new le,yv=new le,AM=new le,_v=new le;class lr extends jn{constructor(e=new Tn,t=new Xc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){yv.set(0,0,0);for(let d=0,f=s.length;d<f;d++){const m=l[d],v=s[d];m!==0&&(Px.fromBufferAttribute(v,e),o?yv.addScaledVector(Px,m):yv.addScaledVector(Px.sub(t),m))}t.add(yv)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),pv.copy(i.boundingSphere),pv.applyMatrix4(s),Ad.copy(e.ray).recast(e.near),!(pv.containsPoint(Ad.origin)===!1&&(Ad.intersectSphere(pv,CM)===null||Ad.origin.distanceToSquared(CM)>(e.far-e.near)**2))&&(EM.copy(s).invert(),Ad.copy(e.ray).applyMatrix4(EM),!(i.boundingBox!==null&&Ad.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Ad)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,l=s.index,d=s.attributes.position,f=s.attributes.uv,m=s.attributes.uv1,v=s.attributes.normal,_=s.groups,x=s.drawRange;if(l!==null)if(Array.isArray(o))for(let M=0,C=_.length;M<C;M++){const T=_[M],w=o[T.materialIndex],R=Math.max(T.start,x.start),k=Math.min(l.count,Math.min(T.start+T.count,x.start+x.count));for(let O=R,j=k;O<j;O+=3){const X=l.getX(O),Z=l.getX(O+1),z=l.getX(O+2);r=xv(this,w,e,i,f,m,v,X,Z,z),r&&(r.faceIndex=Math.floor(O/3),r.face.materialIndex=T.materialIndex,t.push(r))}}else{const M=Math.max(0,x.start),C=Math.min(l.count,x.start+x.count);for(let T=M,w=C;T<w;T+=3){const R=l.getX(T),k=l.getX(T+1),O=l.getX(T+2);r=xv(this,o,e,i,f,m,v,R,k,O),r&&(r.faceIndex=Math.floor(T/3),t.push(r))}}else if(d!==void 0)if(Array.isArray(o))for(let M=0,C=_.length;M<C;M++){const T=_[M],w=o[T.materialIndex],R=Math.max(T.start,x.start),k=Math.min(d.count,Math.min(T.start+T.count,x.start+x.count));for(let O=R,j=k;O<j;O+=3){const X=O,Z=O+1,z=O+2;r=xv(this,w,e,i,f,m,v,X,Z,z),r&&(r.faceIndex=Math.floor(O/3),r.face.materialIndex=T.materialIndex,t.push(r))}}else{const M=Math.max(0,x.start),C=Math.min(d.count,x.start+x.count);for(let T=M,w=C;T<w;T+=3){const R=T,k=T+1,O=T+2;r=xv(this,o,e,i,f,m,v,R,k,O),r&&(r.faceIndex=Math.floor(T/3),t.push(r))}}}}function A5(n,e,t,i,r,s,o,l){let d;if(e.side===js?d=i.intersectTriangle(o,s,r,!0,l):d=i.intersectTriangle(r,s,o,e.side===Lu,l),d===null)return null;_v.copy(l),_v.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(_v);return f<t.near||f>t.far?null:{distance:f,point:_v.clone(),object:n}}function xv(n,e,t,i,r,s,o,l,d,f){n.getVertexPosition(l,mv),n.getVertexPosition(d,gv),n.getVertexPosition(f,vv);const m=A5(n,e,t,i,mv,gv,vv,AM);if(m){const v=new le;co.getBarycoord(AM,mv,gv,vv,v),r&&(m.uv=co.getInterpolatedAttribute(r,l,d,f,v,new tt)),s&&(m.uv1=co.getInterpolatedAttribute(s,l,d,f,v,new tt)),o&&(m.normal=co.getInterpolatedAttribute(o,l,d,f,v,new le),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const _={a:l,b:d,c:f,normal:new le,materialIndex:0};co.getNormal(mv,gv,vv,_.normal),m.face=_,m.barycoord=v}return m}class hh extends Tn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const l=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const d=[],f=[],m=[],v=[];let _=0,x=0;M("z","y","x",-1,-1,i,t,e,o,s,0),M("z","y","x",1,-1,i,t,-e,o,s,1),M("x","z","y",1,1,e,i,t,r,o,2),M("x","z","y",1,-1,e,i,-t,r,o,3),M("x","y","z",1,-1,e,t,i,r,s,4),M("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(d),this.setAttribute("position",new Xt(f,3)),this.setAttribute("normal",new Xt(m,3)),this.setAttribute("uv",new Xt(v,2));function M(C,T,w,R,k,O,j,X,Z,z,U){const N=O/Z,Y=j/z,Q=O/2,ae=j/2,se=X/2,ge=Z+1,he=z+1;let de=0,W=0;const ie=new le;for(let ee=0;ee<he;ee++){const K=ee*Y-ae;for(let oe=0;oe<ge;oe++){const we=oe*N-Q;ie[C]=we*R,ie[T]=K*k,ie[w]=se,f.push(ie.x,ie.y,ie.z),ie[C]=0,ie[T]=0,ie[w]=X>0?1:-1,m.push(ie.x,ie.y,ie.z),v.push(oe/Z),v.push(1-ee/z),de+=1}}for(let ee=0;ee<z;ee++)for(let K=0;K<Z;K++){const oe=_+K+ge*ee,we=_+K+ge*(ee+1),ce=_+(K+1)+ge*(ee+1),me=_+(K+1)+ge*ee;d.push(oe,we,me),d.push(we,ce,me),W+=6}l.addGroup(x,W,U),x+=W,_+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nf(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Us(n){const e={};for(let t=0;t<n.length;t++){const i=Nf(n[t]);for(const r in i)e[r]=i[r]}return e}function P5(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function W2(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:zn.workingColorSpace}const G2={clone:Nf,merge:Us};var R5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,L5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class aa extends ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=R5,this.fragmentShader=L5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nf(e.uniforms),this.uniformsGroups=P5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ig extends jn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ln,this.projectionMatrix=new ln,this.projectionMatrixInverse=new ln,this.coordinateSystem=ra}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Cc=new le,PM=new tt,RM=new tt;class Fr extends ig{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=kf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kf*2*Math.atan(Math.tan(Jd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Cc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Cc.x,Cc.y).multiplyScalar(-e/Cc.z),Cc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Cc.x,Cc.y).multiplyScalar(-e/Cc.z)}getViewSize(e,t){return this.getViewBounds(e,PM,RM),t.subVectors(RM,PM)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Jd*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const d=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/d,t-=o.offsetY*i/f,r*=o.width/d,i*=o.height/f}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Jh=-90,Qh=1;class X2 extends jn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Fr(Jh,Qh,e,t);r.layers=this.layers,this.add(r);const s=new Fr(Jh,Qh,e,t);s.layers=this.layers,this.add(s);const o=new Fr(Jh,Qh,e,t);o.layers=this.layers,this.add(o);const l=new Fr(Jh,Qh,e,t);l.layers=this.layers,this.add(l);const d=new Fr(Jh,Qh,e,t);d.layers=this.layers,this.add(d);const f=new Fr(Jh,Qh,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,l,d]=t;for(const f of t)this.remove(f);if(e===ra)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Lm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,d,f,m]=this.children,v=e.getRenderTarget(),_=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,d),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(v,_,x),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class rg extends Oi{constructor(e=[],t=Iu,i,r,s,o,l,d,f,m){super(e,t,i,r,s,o,l,d,f,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Z2 extends Nl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new rg(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new hh(5,5,5),s=new aa({name:"CubemapFromEquirect",uniforms:Nf(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:js,blending:Eu});s.uniforms.tEquirect.value=t;const o=new lr(r,s),l=t.minFilter;return t.minFilter===Tl&&(t.minFilter=ar),new X2(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class pf extends jn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const I5={type:"move"};class ly{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const l=this._targetRay,d=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const C of e.hand.values()){const T=t.getJointPose(C,i),w=this._getHandJoint(f,C);T!==null&&(w.matrix.fromArray(T.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=T.radius),w.visible=T!==null}const m=f.joints["index-finger-tip"],v=f.joints["thumb-tip"],_=m.position.distanceTo(v.position),x=.02,M=.005;f.inputState.pinching&&_>x+M?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&_<=x-M&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(I5)))}return l!==null&&(l.visible=r!==null),d!==null&&(d.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new pf;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class W0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new zt(e),this.density=t}clone(){return new W0(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class G0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new zt(e),this.near=t,this.far=i}clone(){return new G0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class o0 extends jn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Bo,this.environmentIntensity=1,this.environmentRotation=new Bo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class X0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rm,this.updateRanges=[],this.version=0,this.uuid=Uo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Uo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Uo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zs=new le;class lh{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)zs.fromBufferAttribute(this,t),zs.applyMatrix4(e),this.setXYZ(t,zs.x,zs.y,zs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)zs.fromBufferAttribute(this,t),zs.applyNormalMatrix(e),this.setXYZ(t,zs.x,zs.y,zs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)zs.fromBufferAttribute(this,t),zs.transformDirection(e),this.setXYZ(t,zs.x,zs.y,zs.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Vs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=En(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=En(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Vs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Vs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Vs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Vs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),i=En(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=En(t,this.array),i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new oi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new lh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _S extends ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ef;const Op=new le,tf=new le,nf=new le,rf=new tt,Dp=new tt,Y2=new ln,wv=new le,Fp=new le,Sv=new le,LM=new tt,Rx=new tt,IM=new tt;class q2 extends jn{constructor(e=new _S){if(super(),this.isSprite=!0,this.type="Sprite",ef===void 0){ef=new Tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new X0(t,5);ef.setIndex([0,1,2,0,2,3]),ef.setAttribute("position",new lh(i,3,0,!1)),ef.setAttribute("uv",new lh(i,2,3,!1))}this.geometry=ef,this.material=e,this.center=new tt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tf.setFromMatrixScale(this.matrixWorld),Y2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tf.multiplyScalar(-nf.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;bv(wv.set(-.5,-.5,0),nf,o,tf,r,s),bv(Fp.set(.5,-.5,0),nf,o,tf,r,s),bv(Sv.set(.5,.5,0),nf,o,tf,r,s),LM.set(0,0),Rx.set(1,0),IM.set(1,1);let l=e.ray.intersectTriangle(wv,Fp,Sv,!1,Op);if(l===null&&(bv(Fp.set(-.5,.5,0),nf,o,tf,r,s),Rx.set(0,1),l=e.ray.intersectTriangle(wv,Sv,Fp,!1,Op),l===null))return;const d=e.ray.origin.distanceTo(Op);d<e.near||d>e.far||t.push({distance:d,point:Op.clone(),uv:co.getInterpolation(Op,wv,Fp,Sv,LM,Rx,IM,new tt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bv(n,e,t,i,r,s){rf.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Dp.x=s*rf.x-r*rf.y,Dp.y=r*rf.x+s*rf.y):Dp.copy(rf),n.copy(e),n.x+=Dp.x,n.y+=Dp.y,n.applyMatrix4(Y2)}const Tv=new le,kM=new le;class $2 extends jn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Tv.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Tv);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Tv.setFromMatrixPosition(e.matrixWorld),kM.setFromMatrixPosition(this.matrixWorld);const i=Tv.distanceTo(kM)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const NM=new le,OM=new Hn,DM=new Hn,k5=new le,FM=new ln,Mv=new le,Lx=new rs,zM=new ln,Ix=new Yf;class K2 extends lr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Kw,this.bindMatrix=new ln,this.bindMatrixInverse=new ln,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ws),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Mv),this.boundingBox.expandByPoint(Mv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new rs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Mv),this.boundingSphere.expandByPoint(Mv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Lx.copy(this.boundingSphere),Lx.applyMatrix4(r),e.ray.intersectsSphere(Lx)!==!1&&(zM.copy(r).invert(),Ix.copy(e.ray).applyMatrix4(zM),!(this.boundingBox!==null&&Ix.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Ix)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Hn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Kw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===E2?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;OM.fromBufferAttribute(r.attributes.skinIndex,e),DM.fromBufferAttribute(r.attributes.skinWeight,e),NM.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=DM.getComponent(s);if(o!==0){const l=OM.getComponent(s);FM.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(k5.copy(NM).applyMatrix4(FM),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class xS extends jn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Al extends Oi{constructor(e=null,t=1,i=1,r,s,o,l,d,f=is,m=is,v,_){super(null,o,l,d,f,m,r,s,v,_),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const UM=new ln,N5=new ln;class Z0{constructor(e=[],t=[]){this.uuid=Uo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ln)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ln;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:N5;UM.multiplyMatrices(l,t[s]),UM.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Z0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Al(t,e,e,_s,ho);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new xS),this.bones.push(o),this.boneInverses.push(new ln().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class Of extends oi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const sf=new ln,BM=new ln,Ev=[],VM=new ws,O5=new ln,zp=new lr,Up=new rs;class J2 extends lr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Of(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,O5)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ws),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,sf),VM.copy(e.boundingBox).applyMatrix4(sf),this.boundingBox.union(VM)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new rs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,sf),Up.copy(e.boundingSphere).applyMatrix4(sf),this.boundingSphere.union(Up)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(zp.geometry=this.geometry,zp.material=this.material,zp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Up.copy(this.boundingSphere),Up.applyMatrix4(i),e.ray.intersectsSphere(Up)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,sf),BM.multiplyMatrices(i,sf),zp.matrixWorld=BM,zp.raycast(e,Ev);for(let o=0,l=Ev.length;o<l;o++){const d=Ev[o];d.instanceId=s,d.object=this,t.push(d)}Ev.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Of(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Al(new Float32Array(r*this.count),r,this.count,z0,ho));const s=this.morphTexture.source.data.data;let o=0;for(let f=0;f<i.length;f++)o+=i[f];const l=this.geometry.morphTargetsRelative?1:1-o,d=r*e;s[d]=l,s.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kx=new le,D5=new le,F5=new bn;class kc{constructor(e=new le(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=kx.subVectors(i,t).cross(D5.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(kx),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||F5.getNormalMatrix(e),r=this.coplanarPoint(kx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pd=new rs,z5=new tt(.5,.5),Cv=new le;class qf{constructor(e=new kc,t=new kc,i=new kc,r=new kc,s=new kc,o=new kc){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(s),l[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ra){const i=this.planes,r=e.elements,s=r[0],o=r[1],l=r[2],d=r[3],f=r[4],m=r[5],v=r[6],_=r[7],x=r[8],M=r[9],C=r[10],T=r[11],w=r[12],R=r[13],k=r[14],O=r[15];if(i[0].setComponents(d-s,_-f,T-x,O-w).normalize(),i[1].setComponents(d+s,_+f,T+x,O+w).normalize(),i[2].setComponents(d+o,_+m,T+M,O+R).normalize(),i[3].setComponents(d-o,_-m,T-M,O-R).normalize(),i[4].setComponents(d-l,_-v,T-C,O-k).normalize(),t===ra)i[5].setComponents(d+l,_+v,T+C,O+k).normalize();else if(t===Lm)i[5].setComponents(l,v,C,k).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Pd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pd)}intersectsSprite(e){Pd.center.set(0,0,0);const t=z5.distanceTo(e.center);return Pd.radius=.7071067811865476+t,Pd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pd)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Cv.x=r.normal.x>0?e.max.x:e.min.x,Cv.y=r.normal.y>0?e.max.y:e.min.y,Cv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _l=new ln,xl=new qf;class Y0{constructor(){this.coordinateSystem=ra}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),xl.setFromProjectionMatrix(_l,this.coordinateSystem),xl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),xl.setFromProjectionMatrix(_l,this.coordinateSystem),xl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),xl.setFromProjectionMatrix(_l,this.coordinateSystem),xl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),xl.setFromProjectionMatrix(_l,this.coordinateSystem),xl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(_l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),xl.setFromProjectionMatrix(_l,this.coordinateSystem),xl.containsPoint(e))return!0}return!1}clone(){return new Y0}}function Nx(n,e){return n-e}function U5(n,e){return n.z-e.z}function B5(n,e){return e.z-n.z}class V5{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const l=s[this.index];o.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const oo=new ln,H5=new zt(1,1,1),HM=new qf,j5=new Y0,Av=new ws,Rd=new rs,Bp=new le,jM=new le,W5=new le,Ox=new V5,ys=new lr,Pv=[];function G5(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Ld(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Q2 extends lr{constructor(e,t,i=t*2,r){super(new Tn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Al(t,e,e,_s,ho);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Al(t,e,e,ng,ku);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Al(t,e,e,_s,ho);i.colorSpace=zn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:l,itemSize:d,normalized:f}=o,m=new l.constructor(i*d),v=new oi(m,d,f);t.setAttribute(s,v)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new oi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ws);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,oo),this.getBoundingBoxAt(s,Av).applyMatrix4(oo),e.union(Av)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new rs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,oo),this.getBoundingSphereAt(s,Rd).applyMatrix4(oo),e.union(Rd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Nx),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;oo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(H5.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Nx),d=this._availableGeometryIds.shift(),s[d]=r):(d=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(d,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),l=this._geometryInfo[e];if(r&&o.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const v=t.getAttribute(m),_=i.getAttribute(m);G5(v,_,d);const x=v.itemSize;for(let M=v.count,C=f;M<C;M++){const T=d+M;for(let w=0;w<x;w++)_.setComponent(T,w,0)}_.needsUpdate=!0,_.addUpdateRange(d*x,f*x)}if(r){const m=l.indexStart,v=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let _=0;_<o.count;_++)s.setX(m+_,d+o.getX(_));for(let _=o.count,x=v;_<x;_++)s.setX(m+_,d);s.needsUpdate=!0,s.addUpdateRange(m,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),s=this.geometry;for(let o=0,l=i.length;o<l;o++){const d=r[o],f=i[d];if(f.active!==!1){if(s.index!==null){if(f.indexStart!==t){const{indexStart:m,vertexStart:v,reservedIndexCount:_}=f,x=s.index,M=x.array,C=e-v;for(let T=m;T<m+_;T++)M[T]=M[T]+C;x.array.copyWithin(t,m,m+_),x.addUpdateRange(t,_),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:m,reservedVertexCount:v}=f,_=s.attributes;for(const x in _){const M=_[x],{array:C,itemSize:T}=M;C.copyWithin(e*T,m*T,(m+v)*T),M.addUpdateRange(e*T,v*T)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=s.index?f.indexStart:f.vertexStart,this._nextIndexStart=s.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new ws,o=i.index,l=i.attributes.position;for(let d=r.start,f=r.start+r.count;d<f;d++){let m=d;o&&(m=o.getX(m)),s.expandByPoint(Bp.fromBufferAttribute(l,m))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new rs;this.getBoundingBoxAt(e,Av),Av.getCenter(s.center);const o=i.index,l=i.attributes.position;let d=0;for(let f=r.start,m=r.start+r.count;f<m;f++){let v=f;o&&(v=o.getX(v)),Bp.fromBufferAttribute(l,v),d=Math.max(d,s.center.distanceToSquared(Bp))}s.radius=Math.sqrt(d),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(Nx);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Ld(this._multiDrawCounts,r),Ld(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,d=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Ld(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Ld(l.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Ld(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Tn,this._initializeGeometry(s));const o=this.geometry;s.index&&Ld(s.index.array,o.index.array);for(const l in s.attributes)Ld(s.attributes[l].array,o.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;ys.material=this.material,ys.geometry.index=o.index,ys.geometry.attributes=o.attributes,ys.geometry.boundingBox===null&&(ys.geometry.boundingBox=new ws),ys.geometry.boundingSphere===null&&(ys.geometry.boundingSphere=new rs);for(let l=0,d=i.length;l<d;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,m=r[f];ys.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,ys.matrixWorld).premultiply(s),this.getBoundingBoxAt(f,ys.geometry.boundingBox),this.getBoundingSphereAt(f,ys.geometry.boundingSphere),ys.raycast(e,Pv);for(let v=0,_=Pv.length;v<_;v++){const x=Pv[v];x.object=this,x.batchId=l,t.push(x)}Pv.length=0}ys.material=null,ys.geometry.index=null,ys.geometry.attributes={},ys.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,d=this._instanceInfo,f=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,_=this.perObjectFrustumCulled,x=this._indirectTexture,M=x.image.data,C=i.isArrayCamera?j5:HM;_&&!i.isArrayCamera&&(oo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),HM.setFromProjectionMatrix(oo,e.coordinateSystem));let T=0;if(this.sortObjects){oo.copy(this.matrixWorld).invert(),Bp.setFromMatrixPosition(i.matrixWorld).applyMatrix4(oo),jM.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(oo);for(let k=0,O=d.length;k<O;k++)if(d[k].visible&&d[k].active){const j=d[k].geometryIndex;this.getMatrixAt(k,oo),this.getBoundingSphereAt(j,Rd).applyMatrix4(oo);let X=!1;if(_&&(X=!C.intersectsSphere(Rd,i)),!X){const Z=v[j],z=W5.subVectors(Rd.center,Bp).dot(jM);Ox.push(Z.start,Z.count,z,k)}}const w=Ox.list,R=this.customSort;R===null?w.sort(s.transparent?B5:U5):R.call(this,w,i);for(let k=0,O=w.length;k<O;k++){const j=w[k];f[T]=j.start*l,m[T]=j.count,M[T]=j.index,T++}Ox.reset()}else for(let w=0,R=d.length;w<R;w++)if(d[w].visible&&d[w].active){const k=d[w].geometryIndex;let O=!1;if(_&&(this.getMatrixAt(w,oo),this.getBoundingSphereAt(k,Rd).applyMatrix4(oo),O=!C.intersectsSphere(Rd,i)),!O){const j=v[k];f[T]=j.start*l,m[T]=j.count,M[T]=w,T++}}x.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Gs extends ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const a0=new le,l0=new le,WM=new ln,Vp=new Yf,Rv=new rs,Dx=new le,GM=new le;class Hc extends jn{constructor(e=new Tn,t=new Gs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)a0.fromBufferAttribute(t,r-1),l0.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=a0.distanceTo(l0);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Rv.copy(i.boundingSphere),Rv.applyMatrix4(r),Rv.radius+=s,e.ray.intersectsSphere(Rv)===!1)return;WM.copy(r).invert(),Vp.copy(e.ray).applyMatrix4(WM);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=l*l,f=this.isLineSegments?2:1,m=i.index,_=i.attributes.position;if(m!==null){const x=Math.max(0,o.start),M=Math.min(m.count,o.start+o.count);for(let C=x,T=M-1;C<T;C+=f){const w=m.getX(C),R=m.getX(C+1),k=Lv(this,e,Vp,d,w,R,C);k&&t.push(k)}if(this.isLineLoop){const C=m.getX(M-1),T=m.getX(x),w=Lv(this,e,Vp,d,C,T,M-1);w&&t.push(w)}}else{const x=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count);for(let C=x,T=M-1;C<T;C+=f){const w=Lv(this,e,Vp,d,C,C+1,C);w&&t.push(w)}if(this.isLineLoop){const C=Lv(this,e,Vp,d,M-1,x,M-1);C&&t.push(C)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Lv(n,e,t,i,r,s,o){const l=n.geometry.attributes.position;if(a0.fromBufferAttribute(l,r),l0.fromBufferAttribute(l,s),t.distanceSqToSegment(a0,l0,Dx,GM)>i)return;Dx.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(Dx);if(!(f<e.near||f>e.far))return{distance:f,point:GM.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const XM=new le,ZM=new le;class Fl extends Hc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)XM.fromBufferAttribute(t,r),ZM.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+XM.distanceTo(ZM);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eL extends Hc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class wS extends ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const YM=new ln,e1=new Yf,Iv=new rs,kv=new le;class tL extends jn{constructor(e=new Tn,t=new wS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Iv.copy(i.boundingSphere),Iv.applyMatrix4(r),Iv.radius+=s,e.ray.intersectsSphere(Iv)===!1)return;YM.copy(r).invert(),e1.copy(e.ray).applyMatrix4(YM);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=l*l,f=i.index,v=i.attributes.position;if(f!==null){const _=Math.max(0,o.start),x=Math.min(f.count,o.start+o.count);for(let M=_,C=x;M<C;M++){const T=f.getX(M);kv.fromBufferAttribute(v,T),qM(kv,T,d,r,e,t,this)}}else{const _=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let M=_,C=x;M<C;M++)kv.fromBufferAttribute(v,M),qM(kv,M,d,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function qM(n,e,t,i,r,s,o){const l=e1.distanceSqToPoint(n);if(l<t){const d=new le;e1.closestPointToPoint(n,d),d.applyMatrix4(i);const f=r.ray.origin.distanceTo(d);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(l),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class nL extends Oi{constructor(e,t,i,r,s=ar,o=ar,l,d,f){super(e,t,i,r,s,o,l,d,f),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class X5 extends nL{constructor(e,t,i,r,s,o,l,d){super({},e,t,i,r,s,o,l,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Z5 extends Oi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=is,this.minFilter=is,this.generateMipmaps=!1,this.needsUpdate=!0}}class q0 extends Oi{constructor(e,t,i,r,s,o,l,d,f,m,v,_){super(null,o,l,d,f,m,r,s,v,_),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Y5 extends q0{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ia,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class q5 extends q0{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Iu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $5 extends Oi{constructor(e,t,i,r,s,o,l,d,f){super(e,t,i,r,s,o,l,d,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class SS extends Oi{constructor(e,t,i=ku,r,s,o,l=is,d=is,f,m=Lf,v=1){if(m!==Lf&&m!==If)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:e,height:t,depth:v};super(_,r,s,o,l,d,m,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Fc(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class $0 extends Tn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],l=[],d=[],f=[],m=t/2,v=Math.PI/2*e,_=t,x=2*v+_,M=i*2+s,C=r+1,T=new le,w=new le;for(let R=0;R<=M;R++){let k=0,O=0,j=0,X=0;if(R<=i){const U=R/i,N=U*Math.PI/2;O=-m-e*Math.cos(N),j=e*Math.sin(N),X=-e*Math.cos(N),k=U*v}else if(R<=i+s){const U=(R-i)/s;O=-m+U*t,j=e,X=0,k=v+U*_}else{const U=(R-i-s)/i,N=U*Math.PI/2;O=m+e*Math.sin(N),j=e*Math.cos(N),X=e*Math.sin(N),k=v+_+U*v}const Z=Math.max(0,Math.min(1,k/x));let z=0;R===0?z=.5/r:R===M&&(z=-.5/r);for(let U=0;U<=r;U++){const N=U/r,Y=N*Math.PI*2,Q=Math.sin(Y),ae=Math.cos(Y);w.x=-j*ae,w.y=O,w.z=j*Q,l.push(w.x,w.y,w.z),T.set(-j*ae,X,j*Q),T.normalize(),d.push(T.x,T.y,T.z),f.push(N+z,Z)}if(R>0){const U=(R-1)*C;for(let N=0;N<r;N++){const Y=U+N,Q=U+N+1,ae=R*C+N,se=R*C+N+1;o.push(Y,Q,ae),o.push(Q,se,ae)}}}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(d,3)),this.setAttribute("uv",new Xt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $0(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class K0 extends Tn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],l=[],d=[],f=new le,m=new tt;o.push(0,0,0),l.push(0,0,1),d.push(.5,.5);for(let v=0,_=3;v<=t;v++,_+=3){const x=i+v/t*r;f.x=e*Math.cos(x),f.y=e*Math.sin(x),o.push(f.x,f.y,f.z),l.push(0,0,1),m.x=(o[_]/e+1)/2,m.y=(o[_+1]/e+1)/2,d.push(m.x,m.y)}for(let v=1;v<=t;v++)s.push(v,v+1,0);this.setIndex(s),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class sg extends Tn{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,l=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:d};const f=this;r=Math.floor(r),s=Math.floor(s);const m=[],v=[],_=[],x=[];let M=0;const C=[],T=i/2;let w=0;R(),o===!1&&(e>0&&k(!0),t>0&&k(!1)),this.setIndex(m),this.setAttribute("position",new Xt(v,3)),this.setAttribute("normal",new Xt(_,3)),this.setAttribute("uv",new Xt(x,2));function R(){const O=new le,j=new le;let X=0;const Z=(t-e)/i;for(let z=0;z<=s;z++){const U=[],N=z/s,Y=N*(t-e)+e;for(let Q=0;Q<=r;Q++){const ae=Q/r,se=ae*d+l,ge=Math.sin(se),he=Math.cos(se);j.x=Y*ge,j.y=-N*i+T,j.z=Y*he,v.push(j.x,j.y,j.z),O.set(ge,Z,he).normalize(),_.push(O.x,O.y,O.z),x.push(ae,1-N),U.push(M++)}C.push(U)}for(let z=0;z<r;z++)for(let U=0;U<s;U++){const N=C[U][z],Y=C[U+1][z],Q=C[U+1][z+1],ae=C[U][z+1];(e>0||U!==0)&&(m.push(N,Y,ae),X+=3),(t>0||U!==s-1)&&(m.push(Y,Q,ae),X+=3)}f.addGroup(w,X,0),w+=X}function k(O){const j=M,X=new tt,Z=new le;let z=0;const U=O===!0?e:t,N=O===!0?1:-1;for(let Q=1;Q<=r;Q++)v.push(0,T*N,0),_.push(0,N,0),x.push(.5,.5),M++;const Y=M;for(let Q=0;Q<=r;Q++){const se=Q/r*d+l,ge=Math.cos(se),he=Math.sin(se);Z.x=U*he,Z.y=T*N,Z.z=U*ge,v.push(Z.x,Z.y,Z.z),_.push(0,N,0),X.x=ge*.5+.5,X.y=he*.5*N+.5,x.push(X.x,X.y),M++}for(let Q=0;Q<r;Q++){const ae=j+Q,se=Y+Q;O===!0?m.push(se,se+1,ae):m.push(se+1,se,ae),z+=3}f.addGroup(w,z,O===!0?1:2),w+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class og extends sg{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,l=Math.PI*2){super(0,e,t,i,r,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new og(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Zc extends Tn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];l(r),f(i),m(),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(s.slice(),3)),this.setAttribute("uv",new Xt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(R){const k=new le,O=new le,j=new le;for(let X=0;X<t.length;X+=3)x(t[X+0],k),x(t[X+1],O),x(t[X+2],j),d(k,O,j,R)}function d(R,k,O,j){const X=j+1,Z=[];for(let z=0;z<=X;z++){Z[z]=[];const U=R.clone().lerp(O,z/X),N=k.clone().lerp(O,z/X),Y=X-z;for(let Q=0;Q<=Y;Q++)Q===0&&z===X?Z[z][Q]=U:Z[z][Q]=U.clone().lerp(N,Q/Y)}for(let z=0;z<X;z++)for(let U=0;U<2*(X-z)-1;U++){const N=Math.floor(U/2);U%2===0?(_(Z[z][N+1]),_(Z[z+1][N]),_(Z[z][N])):(_(Z[z][N+1]),_(Z[z+1][N+1]),_(Z[z+1][N]))}}function f(R){const k=new le;for(let O=0;O<s.length;O+=3)k.x=s[O+0],k.y=s[O+1],k.z=s[O+2],k.normalize().multiplyScalar(R),s[O+0]=k.x,s[O+1]=k.y,s[O+2]=k.z}function m(){const R=new le;for(let k=0;k<s.length;k+=3){R.x=s[k+0],R.y=s[k+1],R.z=s[k+2];const O=T(R)/2/Math.PI+.5,j=w(R)/Math.PI+.5;o.push(O,1-j)}M(),v()}function v(){for(let R=0;R<o.length;R+=6){const k=o[R+0],O=o[R+2],j=o[R+4],X=Math.max(k,O,j),Z=Math.min(k,O,j);X>.9&&Z<.1&&(k<.2&&(o[R+0]+=1),O<.2&&(o[R+2]+=1),j<.2&&(o[R+4]+=1))}}function _(R){s.push(R.x,R.y,R.z)}function x(R,k){const O=R*3;k.x=e[O+0],k.y=e[O+1],k.z=e[O+2]}function M(){const R=new le,k=new le,O=new le,j=new le,X=new tt,Z=new tt,z=new tt;for(let U=0,N=0;U<s.length;U+=9,N+=6){R.set(s[U+0],s[U+1],s[U+2]),k.set(s[U+3],s[U+4],s[U+5]),O.set(s[U+6],s[U+7],s[U+8]),X.set(o[N+0],o[N+1]),Z.set(o[N+2],o[N+3]),z.set(o[N+4],o[N+5]),j.copy(R).add(k).add(O).divideScalar(3);const Y=T(j);C(X,N+0,R,Y),C(Z,N+2,k,Y),C(z,N+4,O,Y)}}function C(R,k,O,j){j<0&&R.x===1&&(o[k]=R.x-1),O.x===0&&O.z===0&&(o[k]=j/2/Math.PI+.5)}function T(R){return Math.atan2(R.z,-R.x)}function w(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zc(e.vertices,e.indices,e.radius,e.details)}}class J0 extends Zc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new J0(e.radius,e.detail)}}const Nv=new le,Ov=new le,Fx=new le,Dv=new co;class iL extends Tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Jd*t),o=e.getIndex(),l=e.getAttribute("position"),d=o?o.count:l.count,f=[0,0,0],m=["a","b","c"],v=new Array(3),_={},x=[];for(let M=0;M<d;M+=3){o?(f[0]=o.getX(M),f[1]=o.getX(M+1),f[2]=o.getX(M+2)):(f[0]=M,f[1]=M+1,f[2]=M+2);const{a:C,b:T,c:w}=Dv;if(C.fromBufferAttribute(l,f[0]),T.fromBufferAttribute(l,f[1]),w.fromBufferAttribute(l,f[2]),Dv.getNormal(Fx),v[0]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,v[1]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,v[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const k=(R+1)%3,O=v[R],j=v[k],X=Dv[m[R]],Z=Dv[m[k]],z=`${O}_${j}`,U=`${j}_${O}`;U in _&&_[U]?(Fx.dot(_[U].normal)<=s&&(x.push(X.x,X.y,X.z),x.push(Z.x,Z.y,Z.z)),_[U]=null):z in _||(_[z]={index0:f[R],index1:f[k],normal:Fx.clone()})}}for(const M in _)if(_[M]){const{index0:C,index1:T}=_[M];Nv.fromBufferAttribute(l,C),Ov.fromBufferAttribute(l,T),x.push(Nv.x,Nv.y,Nv.z),x.push(Ov.x,Ov.y,Ov.z)}this.setAttribute("position",new Xt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Qa{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let l=0,d=s-1,f;for(;l<=d;)if(r=Math.floor(l+(d-l)/2),f=i[r]-o,f<0)l=r+1;else if(f>0)d=r-1;else{d=r;break}if(r=d,i[r]===o)return r/(s-1);const m=i[r],_=i[r+1]-m,x=(o-m)/_;return(r+x)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),l=this.getPoint(s),d=t||(o.isVector2?new tt:new le);return d.copy(l).sub(o).normalize(),d}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new le,r=[],s=[],o=[],l=new le,d=new ln;for(let x=0;x<=e;x++){const M=x/e;r[x]=this.getTangentAt(M,new le)}s[0]=new le,o[0]=new le;let f=Number.MAX_VALUE;const m=Math.abs(r[0].x),v=Math.abs(r[0].y),_=Math.abs(r[0].z);m<=f&&(f=m,i.set(1,0,0)),v<=f&&(f=v,i.set(0,1,0)),_<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],l),o[0].crossVectors(r[0],s[0]);for(let x=1;x<=e;x++){if(s[x]=s[x-1].clone(),o[x]=o[x-1].clone(),l.crossVectors(r[x-1],r[x]),l.length()>Number.EPSILON){l.normalize();const M=Math.acos(xn(r[x-1].dot(r[x]),-1,1));s[x].applyMatrix4(d.makeRotationAxis(l,M))}o[x].crossVectors(r[x],s[x])}if(t===!0){let x=Math.acos(xn(s[0].dot(s[e]),-1,1));x/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(x=-x);for(let M=1;M<=e;M++)s[M].applyMatrix4(d.makeRotationAxis(r[M],x*M)),o[M].crossVectors(r[M],s[M])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Q0 extends Qa{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,l=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=d}getPoint(e,t=new tt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let d=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),_=d-this.aX,x=f-this.aY;d=_*m-x*v+this.aX,f=_*v+x*m+this.aY}return i.set(d,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class rL extends Q0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function bS(){let n=0,e=0,t=0,i=0;function r(s,o,l,d){n=s,e=l,t=-3*s+3*o-2*l-d,i=2*s-2*o+l+d}return{initCatmullRom:function(s,o,l,d,f){r(o,l,f*(l-s),f*(d-o))},initNonuniformCatmullRom:function(s,o,l,d,f,m,v){let _=(o-s)/f-(l-s)/(f+m)+(l-o)/m,x=(l-o)/m-(d-o)/(m+v)+(d-l)/v;_*=m,x*=m,r(o,l,_,x)},calc:function(s){const o=s*s,l=o*s;return n+e*s+t*o+i*l}}}const Fv=new le,zx=new bS,Ux=new bS,Bx=new bS;class sL extends Qa{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new le){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),d=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:d===0&&l===s-1&&(l=s-2,d=1);let f,m;this.closed||l>0?f=r[(l-1)%s]:(Fv.subVectors(r[0],r[1]).add(r[0]),f=Fv);const v=r[l%s],_=r[(l+1)%s];if(this.closed||l+2<s?m=r[(l+2)%s]:(Fv.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=Fv),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let M=Math.pow(f.distanceToSquared(v),x),C=Math.pow(v.distanceToSquared(_),x),T=Math.pow(_.distanceToSquared(m),x);C<1e-4&&(C=1),M<1e-4&&(M=C),T<1e-4&&(T=C),zx.initNonuniformCatmullRom(f.x,v.x,_.x,m.x,M,C,T),Ux.initNonuniformCatmullRom(f.y,v.y,_.y,m.y,M,C,T),Bx.initNonuniformCatmullRom(f.z,v.z,_.z,m.z,M,C,T)}else this.curveType==="catmullrom"&&(zx.initCatmullRom(f.x,v.x,_.x,m.x,this.tension),Ux.initCatmullRom(f.y,v.y,_.y,m.y,this.tension),Bx.initCatmullRom(f.z,v.z,_.z,m.z,this.tension));return i.set(zx.calc(d),Ux.calc(d),Bx.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $M(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,l=n*n,d=n*l;return(2*t-2*i+s+o)*d+(-3*t+3*i-2*s-o)*l+s*n+t}function K5(n,e){const t=1-n;return t*t*e}function J5(n,e){return 2*(1-n)*n*e}function Q5(n,e){return n*n*e}function um(n,e,t,i){return K5(n,e)+J5(n,t)+Q5(n,i)}function e8(n,e){const t=1-n;return t*t*t*e}function t8(n,e){const t=1-n;return 3*t*t*n*e}function n8(n,e){return 3*(1-n)*n*n*e}function i8(n,e){return n*n*n*e}function cm(n,e,t,i,r){return e8(n,e)+t8(n,t)+n8(n,i)+i8(n,r)}class TS extends Qa{constructor(e=new tt,t=new tt,i=new tt,r=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new tt){const i=t,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(cm(e,r.x,s.x,o.x,l.x),cm(e,r.y,s.y,o.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class oL extends Qa{constructor(e=new le,t=new le,i=new le,r=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(cm(e,r.x,s.x,o.x,l.x),cm(e,r.y,s.y,o.y,l.y),cm(e,r.z,s.z,o.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class MS extends Qa{constructor(e=new tt,t=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new tt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new tt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aL extends Qa{constructor(e=new le,t=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ES extends Qa{constructor(e=new tt,t=new tt,i=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new tt){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(um(e,r.x,s.x,o.x),um(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CS extends Qa{constructor(e=new le,t=new le,i=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(um(e,r.x,s.x,o.x),um(e,r.y,s.y,o.y),um(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AS extends Qa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new tt){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),l=s-o,d=r[o===0?o:o-1],f=r[o],m=r[o>r.length-2?r.length-1:o+1],v=r[o>r.length-3?r.length-1:o+2];return i.set($M(l,d.x,f.x,m.x,v.x),$M(l,d.y,f.y,m.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new tt().fromArray(r))}return this}}var u0=Object.freeze({__proto__:null,ArcCurve:rL,CatmullRomCurve3:sL,CubicBezierCurve:TS,CubicBezierCurve3:oL,EllipseCurve:Q0,LineCurve:MS,LineCurve3:aL,QuadraticBezierCurve:ES,QuadraticBezierCurve3:CS,SplineCurve:AS});class lL extends Qa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new u0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,l=this.curves[s],d=l.getLength(),f=d===0?0:1-o/d;return l.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,d=o.getPoints(l);for(let f=0;f<d.length;f++){const m=d[f];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new u0[r.type]().fromJSON(r))}return this}}class c0 extends lL{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new MS(this.currentPoint.clone(),new tt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new ES(this.currentPoint.clone(),new tt(e,t),new tt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const l=new TS(this.currentPoint.clone(),new tt(e,t),new tt(i,r),new tt(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new AS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const l=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+l,t+d,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,l,d){const f=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+f,t+m,i,r,s,o,l,d),this}absellipse(e,t,i,r,s,o,l,d){const f=new Q0(e,t,i,r,s,o,l,d);if(this.curves.length>0){const v=f.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(f);const m=f.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class eh extends c0{constructor(e){super(e),this.uuid=Uo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new c0().fromJSON(r))}return this}}function r8(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=uL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let l,d,f;if(i&&(s=u8(n,e,s,t)),n.length>80*t){l=1/0,d=1/0;let m=-1/0,v=-1/0;for(let _=t;_<r;_+=t){const x=n[_],M=n[_+1];x<l&&(l=x),M<d&&(d=M),x>m&&(m=x),M>v&&(v=M)}f=Math.max(m-l,v-d),f=f!==0?32767/f:0}return km(s,o,t,l,d,f,0),o}function uL(n,e,t,i,r){let s;if(r===x8(n,e,t,i)>0)for(let o=e;o<t;o+=i)s=KM(o/i|0,n[o],n[o+1],s);else for(let o=t-i;o>=e;o-=i)s=KM(o/i|0,n[o],n[o+1],s);return s&&Df(s,s.next)&&(Om(s),s=s.next),s}function uh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Df(t,t.next)||ki(t.prev,t,t.next)===0)){if(Om(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function km(n,e,t,i,r,s,o){if(!n)return;!o&&s&&p8(n,i,r,s);let l=n;for(;n.prev!==n.next;){const d=n.prev,f=n.next;if(s?o8(n,i,r,s):s8(n)){e.push(d.i,n.i,f.i),Om(n),n=f.next,l=f.next;continue}if(n=f,n===l){o?o===1?(n=a8(uh(n),e),km(n,e,t,i,r,s,2)):o===2&&l8(n,e,t,i,r,s):km(uh(n),e,t,i,r,s,1);break}}}function s8(n){const e=n.prev,t=n,i=n.next;if(ki(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,l=e.y,d=t.y,f=i.y,m=Math.min(r,s,o),v=Math.min(l,d,f),_=Math.max(r,s,o),x=Math.max(l,d,f);let M=i.next;for(;M!==e;){if(M.x>=m&&M.x<=_&&M.y>=v&&M.y<=x&&qp(r,l,s,d,o,f,M.x,M.y)&&ki(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function o8(n,e,t,i){const r=n.prev,s=n,o=n.next;if(ki(r,s,o)>=0)return!1;const l=r.x,d=s.x,f=o.x,m=r.y,v=s.y,_=o.y,x=Math.min(l,d,f),M=Math.min(m,v,_),C=Math.max(l,d,f),T=Math.max(m,v,_),w=t1(x,M,e,t,i),R=t1(C,T,e,t,i);let k=n.prevZ,O=n.nextZ;for(;k&&k.z>=w&&O&&O.z<=R;){if(k.x>=x&&k.x<=C&&k.y>=M&&k.y<=T&&k!==r&&k!==o&&qp(l,m,d,v,f,_,k.x,k.y)&&ki(k.prev,k,k.next)>=0||(k=k.prevZ,O.x>=x&&O.x<=C&&O.y>=M&&O.y<=T&&O!==r&&O!==o&&qp(l,m,d,v,f,_,O.x,O.y)&&ki(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;k&&k.z>=w;){if(k.x>=x&&k.x<=C&&k.y>=M&&k.y<=T&&k!==r&&k!==o&&qp(l,m,d,v,f,_,k.x,k.y)&&ki(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;O&&O.z<=R;){if(O.x>=x&&O.x<=C&&O.y>=M&&O.y<=T&&O!==r&&O!==o&&qp(l,m,d,v,f,_,O.x,O.y)&&ki(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function a8(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Df(i,r)&&dL(i,t,t.next,r)&&Nm(i,r)&&Nm(r,i)&&(e.push(i.i,t.i,r.i),Om(t),Om(t.next),t=n=r),t=t.next}while(t!==n);return uh(t)}function l8(n,e,t,i,r,s){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&v8(o,l)){let d=hL(o,l);o=uh(o,o.next),d=uh(d,d.next),km(o,e,t,i,r,s,0),km(d,e,t,i,r,s,0);return}l=l.next}o=o.next}while(o!==n)}function u8(n,e,t,i){const r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s]*i,d=s<o-1?e[s+1]*i:n.length,f=uL(n,l,d,i,!1);f===f.next&&(f.steiner=!0),r.push(g8(f))}r.sort(c8);for(let s=0;s<r.length;s++)t=d8(r[s],t);return t}function c8(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function d8(n,e){const t=h8(n,e);if(!t)return e;const i=hL(t,n);return uh(i,i.next),uh(t,t.next)}function h8(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;if(Df(n,t))return t;do{if(Df(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const v=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>s&&(s=v,o=t.x<t.next.x?t:t.next,v===i))return o}t=t.next}while(t!==e);if(!o)return null;const l=o,d=o.x,f=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=d&&i!==t.x&&cL(r<f?i:s,r,d,f,r<f?s:i,r,t.x,t.y)){const v=Math.abs(r-t.y)/(i-t.x);Nm(t,n)&&(v<m||v===m&&(t.x>o.x||t.x===o.x&&f8(o,t)))&&(o=t,m=v)}t=t.next}while(t!==l);return o}function f8(n,e){return ki(n.prev,n,e.prev)<0&&ki(e.next,n,n.next)<0}function p8(n,e,t,i){let r=n;do r.z===0&&(r.z=t1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,m8(r)}function m8(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let o=i,l=0;for(let f=0;f<t&&(l++,o=o.nextZ,!!o);f++);let d=t;for(;l>0||d>0&&o;)l!==0&&(d===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,d--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=o}s.nextZ=null,t*=2}while(e>1);return n}function t1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function g8(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function cL(n,e,t,i,r,s,o,l){return(r-o)*(e-l)>=(n-o)*(s-l)&&(n-o)*(i-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(r-o)*(i-l)}function qp(n,e,t,i,r,s,o,l){return!(n===o&&e===l)&&cL(n,e,t,i,r,s,o,l)}function v8(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!y8(n,e)&&(Nm(n,e)&&Nm(e,n)&&_8(n,e)&&(ki(n.prev,n,e.prev)||ki(n,e.prev,e))||Df(n,e)&&ki(n.prev,n,n.next)>0&&ki(e.prev,e,e.next)>0)}function ki(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Df(n,e){return n.x===e.x&&n.y===e.y}function dL(n,e,t,i){const r=Uv(ki(n,e,t)),s=Uv(ki(n,e,i)),o=Uv(ki(t,i,n)),l=Uv(ki(t,i,e));return!!(r!==s&&o!==l||r===0&&zv(n,t,e)||s===0&&zv(n,i,e)||o===0&&zv(t,n,i)||l===0&&zv(t,e,i))}function zv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Uv(n){return n>0?1:n<0?-1:0}function y8(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&dL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Nm(n,e){return ki(n.prev,n,n.next)<0?ki(n,e,n.next)>=0&&ki(n,n.prev,e)>=0:ki(n,e,n.prev)<0||ki(n,n.next,e)<0}function _8(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function hL(n,e){const t=n1(n.i,n.x,n.y),i=n1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function KM(n,e,t,i){const r=n1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Om(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function n1(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function x8(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class w8{static triangulate(e,t,i=2){return r8(e,t,i)}}class qa{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return qa.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];JM(e),QM(i,e);let o=e.length;t.forEach(JM);for(let d=0;d<t.length;d++)r.push(o),o+=t[d].length,QM(i,t[d]);const l=w8.triangulate(i,r);for(let d=0;d<l.length;d+=3)s.push(l.slice(d,d+3));return s}}function JM(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function QM(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class e_ extends Tn{constructor(e=new eh([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let l=0,d=e.length;l<d;l++){const f=e[l];o(f)}this.setAttribute("position",new Xt(r,3)),this.setAttribute("uv",new Xt(s,2)),this.computeVertexNormals();function o(l){const d=[],f=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:x-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,T=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:S8;let k,O=!1,j,X,Z,z;w&&(k=w.getSpacedPoints(m),O=!0,_=!1,j=w.computeFrenetFrames(m,!1),X=new le,Z=new le,z=new le),_||(T=0,x=0,M=0,C=0);const U=l.extractPoints(f);let N=U.shape;const Y=U.holes;if(!qa.isClockWise(N)){N=N.reverse();for(let re=0,rt=Y.length;re<rt;re++){const Ze=Y[re];qa.isClockWise(Ze)&&(Y[re]=Ze.reverse())}}function ae(re){const Ze=10000000000000001e-36;let Be=re[0];for(let Pe=1;Pe<=re.length;Pe++){const Xe=Pe%re.length,Me=re[Xe],We=Me.x-Be.x,it=Me.y-Be.y,ne=We*We+it*it,q=Math.max(Math.abs(Me.x),Math.abs(Me.y),Math.abs(Be.x),Math.abs(Be.y)),Se=Ze*q*q;if(ne<=Se){re.splice(Xe,1),Pe--;continue}Be=Me}}ae(N),Y.forEach(ae);const se=Y.length,ge=N;for(let re=0;re<se;re++){const rt=Y[re];N=N.concat(rt)}function he(re,rt,Ze){return rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().addScaledVector(rt,Ze)}const de=N.length;function W(re,rt,Ze){let Be,Pe,Xe;const Me=re.x-rt.x,We=re.y-rt.y,it=Ze.x-re.x,ne=Ze.y-re.y,q=Me*Me+We*We,Se=Me*ne-We*it;if(Math.abs(Se)>Number.EPSILON){const Re=Math.sqrt(q),He=Math.sqrt(it*it+ne*ne),Ue=rt.x-We/Re,It=rt.y+Me/Re,ot=Ze.x-ne/He,At=Ze.y+it/He,yt=((ot-Ue)*ne-(At-It)*it)/(Me*ne-We*it);Be=Ue+Me*yt-re.x,Pe=It+We*yt-re.y;const qe=Be*Be+Pe*Pe;if(qe<=2)return new tt(Be,Pe);Xe=Math.sqrt(qe/2)}else{let Re=!1;Me>Number.EPSILON?it>Number.EPSILON&&(Re=!0):Me<-Number.EPSILON?it<-Number.EPSILON&&(Re=!0):Math.sign(We)===Math.sign(ne)&&(Re=!0),Re?(Be=-We,Pe=Me,Xe=Math.sqrt(q)):(Be=Me,Pe=We,Xe=Math.sqrt(q/2))}return new tt(Be/Xe,Pe/Xe)}const ie=[];for(let re=0,rt=ge.length,Ze=rt-1,Be=re+1;re<rt;re++,Ze++,Be++)Ze===rt&&(Ze=0),Be===rt&&(Be=0),ie[re]=W(ge[re],ge[Ze],ge[Be]);const ee=[];let K,oe=ie.concat();for(let re=0,rt=se;re<rt;re++){const Ze=Y[re];K=[];for(let Be=0,Pe=Ze.length,Xe=Pe-1,Me=Be+1;Be<Pe;Be++,Xe++,Me++)Xe===Pe&&(Xe=0),Me===Pe&&(Me=0),K[Be]=W(Ze[Be],Ze[Xe],Ze[Me]);ee.push(K),oe=oe.concat(K)}let we;if(T===0)we=qa.triangulateShape(ge,Y);else{const re=[],rt=[];for(let Ze=0;Ze<T;Ze++){const Be=Ze/T,Pe=x*Math.cos(Be*Math.PI/2),Xe=M*Math.sin(Be*Math.PI/2)+C;for(let Me=0,We=ge.length;Me<We;Me++){const it=he(ge[Me],ie[Me],Xe);$e(it.x,it.y,-Pe),Be===0&&re.push(it)}for(let Me=0,We=se;Me<We;Me++){const it=Y[Me];K=ee[Me];const ne=[];for(let q=0,Se=it.length;q<Se;q++){const Re=he(it[q],K[q],Xe);$e(Re.x,Re.y,-Pe),Be===0&&ne.push(Re)}Be===0&&rt.push(ne)}}we=qa.triangulateShape(re,rt)}const ce=we.length,me=M+C;for(let re=0;re<de;re++){const rt=_?he(N[re],oe[re],me):N[re];O?(Z.copy(j.normals[0]).multiplyScalar(rt.x),X.copy(j.binormals[0]).multiplyScalar(rt.y),z.copy(k[0]).add(Z).add(X),$e(z.x,z.y,z.z)):$e(rt.x,rt.y,0)}for(let re=1;re<=m;re++)for(let rt=0;rt<de;rt++){const Ze=_?he(N[rt],oe[rt],me):N[rt];O?(Z.copy(j.normals[re]).multiplyScalar(Ze.x),X.copy(j.binormals[re]).multiplyScalar(Ze.y),z.copy(k[re]).add(Z).add(X),$e(z.x,z.y,z.z)):$e(Ze.x,Ze.y,v/m*re)}for(let re=T-1;re>=0;re--){const rt=re/T,Ze=x*Math.cos(rt*Math.PI/2),Be=M*Math.sin(rt*Math.PI/2)+C;for(let Pe=0,Xe=ge.length;Pe<Xe;Pe++){const Me=he(ge[Pe],ie[Pe],Be);$e(Me.x,Me.y,v+Ze)}for(let Pe=0,Xe=Y.length;Pe<Xe;Pe++){const Me=Y[Pe];K=ee[Pe];for(let We=0,it=Me.length;We<it;We++){const ne=he(Me[We],K[We],Be);O?$e(ne.x,ne.y+k[m-1].y,k[m-1].x+Ze):$e(ne.x,ne.y,v+Ze)}}}_e(),xe();function _e(){const re=r.length/3;if(_){let rt=0,Ze=de*rt;for(let Be=0;Be<ce;Be++){const Pe=we[Be];Qe(Pe[2]+Ze,Pe[1]+Ze,Pe[0]+Ze)}rt=m+T*2,Ze=de*rt;for(let Be=0;Be<ce;Be++){const Pe=we[Be];Qe(Pe[0]+Ze,Pe[1]+Ze,Pe[2]+Ze)}}else{for(let rt=0;rt<ce;rt++){const Ze=we[rt];Qe(Ze[2],Ze[1],Ze[0])}for(let rt=0;rt<ce;rt++){const Ze=we[rt];Qe(Ze[0]+de*m,Ze[1]+de*m,Ze[2]+de*m)}}i.addGroup(re,r.length/3-re,0)}function xe(){const re=r.length/3;let rt=0;Ge(ge,rt),rt+=ge.length;for(let Ze=0,Be=Y.length;Ze<Be;Ze++){const Pe=Y[Ze];Ge(Pe,rt),rt+=Pe.length}i.addGroup(re,r.length/3-re,1)}function Ge(re,rt){let Ze=re.length;for(;--Ze>=0;){const Be=Ze;let Pe=Ze-1;Pe<0&&(Pe=re.length-1);for(let Xe=0,Me=m+T*2;Xe<Me;Xe++){const We=de*Xe,it=de*(Xe+1),ne=rt+Be+We,q=rt+Pe+We,Se=rt+Pe+it,Re=rt+Be+it;nt(ne,q,Se,Re)}}}function $e(re,rt,Ze){d.push(re),d.push(rt),d.push(Ze)}function Qe(re,rt,Ze){ht(re),ht(rt),ht(Ze);const Be=r.length/3,Pe=R.generateTopUV(i,r,Be-3,Be-2,Be-1);ct(Pe[0]),ct(Pe[1]),ct(Pe[2])}function nt(re,rt,Ze,Be){ht(re),ht(rt),ht(Be),ht(rt),ht(Ze),ht(Be);const Pe=r.length/3,Xe=R.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);ct(Xe[0]),ct(Xe[1]),ct(Xe[3]),ct(Xe[1]),ct(Xe[2]),ct(Xe[3])}function ht(re){r.push(d[re*3+0]),r.push(d[re*3+1]),r.push(d[re*3+2])}function ct(re){s.push(re.x),s.push(re.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return b8(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=t[e.shapes[s]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new u0[r.type]().fromJSON(r)),new e_(i,e.options)}}const S8={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],l=e[i*3],d=e[i*3+1],f=e[r*3],m=e[r*3+1];return[new tt(s,o),new tt(l,d),new tt(f,m)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],l=e[t*3+1],d=e[t*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],_=e[r*3],x=e[r*3+1],M=e[r*3+2],C=e[s*3],T=e[s*3+1],w=e[s*3+2];return Math.abs(l-m)<Math.abs(o-f)?[new tt(o,1-d),new tt(f,1-v),new tt(_,1-M),new tt(C,1-w)]:[new tt(l,1-d),new tt(m,1-v),new tt(x,1-M),new tt(T,1-w)]}};function b8(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class t_ extends Zc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new t_(e.radius,e.detail)}}class n_ extends Tn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const s=[],o=[],l=[],d=[],f=[],m=1/t,v=new le,_=new tt,x=new le,M=new le,C=new le;let T=0,w=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:T=e[R+1].x-e[R].x,w=e[R+1].y-e[R].y,x.x=w*1,x.y=-T,x.z=w*0,C.copy(x),x.normalize(),d.push(x.x,x.y,x.z);break;case e.length-1:d.push(C.x,C.y,C.z);break;default:T=e[R+1].x-e[R].x,w=e[R+1].y-e[R].y,x.x=w*1,x.y=-T,x.z=w*0,M.copy(x),x.x+=C.x,x.y+=C.y,x.z+=C.z,x.normalize(),d.push(x.x,x.y,x.z),C.copy(M)}for(let R=0;R<=t;R++){const k=i+R*m*r,O=Math.sin(k),j=Math.cos(k);for(let X=0;X<=e.length-1;X++){v.x=e[X].x*O,v.y=e[X].y,v.z=e[X].x*j,o.push(v.x,v.y,v.z),_.x=R/t,_.y=X/(e.length-1),l.push(_.x,_.y);const Z=d[3*X+0]*O,z=d[3*X+1],U=d[3*X+0]*j;f.push(Z,z,U)}}for(let R=0;R<t;R++)for(let k=0;k<e.length-1;k++){const O=k+R*e.length,j=O,X=O+e.length,Z=O+e.length+1,z=O+1;s.push(j,X,z),s.push(Z,z,X)}this.setIndex(s),this.setAttribute("position",new Xt(o,3)),this.setAttribute("uv",new Xt(l,2)),this.setAttribute("normal",new Xt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n_(e.points,e.segments,e.phiStart,e.phiLength)}}class ag extends Zc{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ag(e.radius,e.detail)}}class $f extends Tn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,l=Math.floor(i),d=Math.floor(r),f=l+1,m=d+1,v=e/l,_=t/d,x=[],M=[],C=[],T=[];for(let w=0;w<m;w++){const R=w*_-o;for(let k=0;k<f;k++){const O=k*v-s;M.push(O,-R,0),C.push(0,0,1),T.push(k/l),T.push(1-w/d)}}for(let w=0;w<d;w++)for(let R=0;R<l;R++){const k=R+f*w,O=R+f*(w+1),j=R+1+f*(w+1),X=R+1+f*w;x.push(k,O,X),x.push(O,j,X)}this.setIndex(x),this.setAttribute("position",new Xt(M,3)),this.setAttribute("normal",new Xt(C,3)),this.setAttribute("uv",new Xt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $f(e.width,e.height,e.widthSegments,e.heightSegments)}}class i_ extends Tn{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],d=[],f=[],m=[];let v=e;const _=(t-e)/r,x=new le,M=new tt;for(let C=0;C<=r;C++){for(let T=0;T<=i;T++){const w=s+T/i*o;x.x=v*Math.cos(w),x.y=v*Math.sin(w),d.push(x.x,x.y,x.z),f.push(0,0,1),M.x=(x.x/t+1)/2,M.y=(x.y/t+1)/2,m.push(M.x,M.y)}v+=_}for(let C=0;C<r;C++){const T=C*(i+1);for(let w=0;w<i;w++){const R=w+T,k=R,O=R+i+1,j=R+i+2,X=R+1;l.push(k,O,X),l.push(O,j,X)}}this.setIndex(l),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(f,3)),this.setAttribute("uv",new Xt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class r_ extends Tn{constructor(e=new eh([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let l=0,d=0;if(Array.isArray(e)===!1)f(e);else for(let m=0;m<e.length;m++)f(e[m]),this.addGroup(l,d,m),l+=d,d=0;this.setIndex(i),this.setAttribute("position",new Xt(r,3)),this.setAttribute("normal",new Xt(s,3)),this.setAttribute("uv",new Xt(o,2));function f(m){const v=r.length/3,_=m.extractPoints(t);let x=_.shape;const M=_.holes;qa.isClockWise(x)===!1&&(x=x.reverse());for(let T=0,w=M.length;T<w;T++){const R=M[T];qa.isClockWise(R)===!0&&(M[T]=R.reverse())}const C=qa.triangulateShape(x,M);for(let T=0,w=M.length;T<w;T++){const R=M[T];x=x.concat(R)}for(let T=0,w=x.length;T<w;T++){const R=x[T];r.push(R.x,R.y,0),s.push(0,0,1),o.push(R.x,R.y)}for(let T=0,w=C.length;T<w;T++){const R=C[T],k=R[0]+v,O=R[1]+v,j=R[2]+v;i.push(k,O,j),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return T8(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new r_(i,e.curveSegments)}}function T8(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class lg extends Tn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(o+l,Math.PI);let f=0;const m=[],v=new le,_=new le,x=[],M=[],C=[],T=[];for(let w=0;w<=i;w++){const R=[],k=w/i;let O=0;w===0&&o===0?O=.5/t:w===i&&d===Math.PI&&(O=-.5/t);for(let j=0;j<=t;j++){const X=j/t;v.x=-e*Math.cos(r+X*s)*Math.sin(o+k*l),v.y=e*Math.cos(o+k*l),v.z=e*Math.sin(r+X*s)*Math.sin(o+k*l),M.push(v.x,v.y,v.z),_.copy(v).normalize(),C.push(_.x,_.y,_.z),T.push(X+O,1-k),R.push(f++)}m.push(R)}for(let w=0;w<i;w++)for(let R=0;R<t;R++){const k=m[w][R+1],O=m[w][R],j=m[w+1][R],X=m[w+1][R+1];(w!==0||o>0)&&x.push(k,O,X),(w!==i-1||d<Math.PI)&&x.push(O,j,X)}this.setIndex(x),this.setAttribute("position",new Xt(M,3)),this.setAttribute("normal",new Xt(C,3)),this.setAttribute("uv",new Xt(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class s_ extends Zc{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new s_(e.radius,e.detail)}}class o_ extends Tn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],d=[],f=[],m=new le,v=new le,_=new le;for(let x=0;x<=i;x++)for(let M=0;M<=r;M++){const C=M/r*s,T=x/i*Math.PI*2;v.x=(e+t*Math.cos(T))*Math.cos(C),v.y=(e+t*Math.cos(T))*Math.sin(C),v.z=t*Math.sin(T),l.push(v.x,v.y,v.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),_.subVectors(v,m).normalize(),d.push(_.x,_.y,_.z),f.push(M/r),f.push(x/i)}for(let x=1;x<=i;x++)for(let M=1;M<=r;M++){const C=(r+1)*x+M-1,T=(r+1)*(x-1)+M-1,w=(r+1)*(x-1)+M,R=(r+1)*x+M;o.push(C,T,R),o.push(T,w,R)}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(d,3)),this.setAttribute("uv",new Xt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new o_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class a_ extends Tn{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],d=[],f=[],m=[],v=new le,_=new le,x=new le,M=new le,C=new le,T=new le,w=new le;for(let k=0;k<=i;++k){const O=k/i*s*Math.PI*2;R(O,s,o,e,x),R(O+.01,s,o,e,M),T.subVectors(M,x),w.addVectors(M,x),C.crossVectors(T,w),w.crossVectors(C,T),C.normalize(),w.normalize();for(let j=0;j<=r;++j){const X=j/r*Math.PI*2,Z=-t*Math.cos(X),z=t*Math.sin(X);v.x=x.x+(Z*w.x+z*C.x),v.y=x.y+(Z*w.y+z*C.y),v.z=x.z+(Z*w.z+z*C.z),d.push(v.x,v.y,v.z),_.subVectors(v,x).normalize(),f.push(_.x,_.y,_.z),m.push(k/i),m.push(j/r)}}for(let k=1;k<=i;k++)for(let O=1;O<=r;O++){const j=(r+1)*(k-1)+(O-1),X=(r+1)*k+(O-1),Z=(r+1)*k+O,z=(r+1)*(k-1)+O;l.push(j,X,z),l.push(X,Z,z)}this.setIndex(l),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(f,3)),this.setAttribute("uv",new Xt(m,2));function R(k,O,j,X,Z){const z=Math.cos(k),U=Math.sin(k),N=j/O*k,Y=Math.cos(N);Z.x=X*(2+Y)*.5*z,Z.y=X*(2+Y)*U*.5,Z.z=X*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class l_ extends Tn{constructor(e=new CS(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new le,d=new le,f=new tt;let m=new le;const v=[],_=[],x=[],M=[];C(),this.setIndex(M),this.setAttribute("position",new Xt(v,3)),this.setAttribute("normal",new Xt(_,3)),this.setAttribute("uv",new Xt(x,2));function C(){for(let k=0;k<t;k++)T(k);T(s===!1?t:0),R(),w()}function T(k){m=e.getPointAt(k/t,m);const O=o.normals[k],j=o.binormals[k];for(let X=0;X<=r;X++){const Z=X/r*Math.PI*2,z=Math.sin(Z),U=-Math.cos(Z);d.x=U*O.x+z*j.x,d.y=U*O.y+z*j.y,d.z=U*O.z+z*j.z,d.normalize(),_.push(d.x,d.y,d.z),l.x=m.x+i*d.x,l.y=m.y+i*d.y,l.z=m.z+i*d.z,v.push(l.x,l.y,l.z)}}function w(){for(let k=1;k<=t;k++)for(let O=1;O<=r;O++){const j=(r+1)*(k-1)+(O-1),X=(r+1)*k+(O-1),Z=(r+1)*k+O,z=(r+1)*(k-1)+O;M.push(j,X,z),M.push(X,Z,z)}}function R(){for(let k=0;k<=t;k++)for(let O=0;O<=r;O++)f.x=k/t,f.y=O/r,x.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new l_(new u0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class fL extends Tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new le,s=new le;if(e.index!==null){const o=e.attributes.position,l=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,m=d.length;f<m;++f){const v=d[f],_=v.start,x=v.count;for(let M=_,C=_+x;M<C;M+=3)for(let T=0;T<3;T++){const w=l.getX(M+T),R=l.getX(M+(T+1)%3);r.fromBufferAttribute(o,w),s.fromBufferAttribute(o,R),eE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,d=o.count/3;l<d;l++)for(let f=0;f<3;f++){const m=3*l+f,v=3*l+(f+1)%3;r.fromBufferAttribute(o,m),s.fromBufferAttribute(o,v),eE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function eE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var tE=Object.freeze({__proto__:null,BoxGeometry:hh,CapsuleGeometry:$0,CircleGeometry:K0,ConeGeometry:og,CylinderGeometry:sg,DodecahedronGeometry:J0,EdgesGeometry:iL,ExtrudeGeometry:e_,IcosahedronGeometry:t_,LatheGeometry:n_,OctahedronGeometry:ag,PlaneGeometry:$f,PolyhedronGeometry:Zc,RingGeometry:i_,ShapeGeometry:r_,SphereGeometry:lg,TetrahedronGeometry:s_,TorusGeometry:o_,TorusKnotGeometry:a_,TubeGeometry:l_,WireframeGeometry:fL});class pL extends ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class mL extends aa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class PS extends ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gL extends PS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class vL extends ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bo,this.combine=tg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yL extends ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class _L extends ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xL extends ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Bo,this.combine=tg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RS extends ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=R2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class LS extends ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class wL extends ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SL extends Gs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yd(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function bL(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function TL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function i1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const l=t[s]*e;for(let d=0;d!==e;++d)r[o++]=n[l+d]}return r}function IS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function M8(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let d=0;d<s.tracks.length;++d){const f=s.tracks[d],m=f.getValueSize(),v=[],_=[];for(let x=0;x<f.times.length;++x){const M=f.times[x]*r;if(!(M<t||M>=i)){v.push(f.times[x]);for(let C=0;C<m;++C)_.push(f.values[x*m+C])}}v.length!==0&&(f.times=Yd(v,f.times.constructor),f.values=Yd(_,f.values.constructor),o.push(f))}s.tracks=o;let l=1/0;for(let d=0;d<s.tracks.length;++d)l>s.tracks[d].times[0]&&(l=s.tracks[d].times[0]);for(let d=0;d<s.tracks.length;++d)s.tracks[d].shift(-1*l);return s.resetDuration(),s}function E8(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const l=t.tracks[o],d=l.ValueTypeName;if(d==="bool"||d==="string")continue;const f=n.tracks.find(function(w){return w.name===l.name&&w.ValueTypeName===d});if(f===void 0)continue;let m=0;const v=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let _=0;const x=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=x/3);const M=l.times.length-1;let C;if(s<=l.times[0]){const w=m,R=v-m;C=l.values.slice(w,R)}else if(s>=l.times[M]){const w=M*v+m,R=w+v-m;C=l.values.slice(w,R)}else{const w=l.createInterpolant(),R=m,k=v-m;w.evaluate(s),C=w.resultBuffer.slice(R,k)}d==="quaternion"&&new po().fromArray(C).normalize().conjugate().toArray(C);const T=f.times.length;for(let w=0;w<T;++w){const R=w*x+_;if(d==="quaternion")po.multiplyQuaternionsFlat(f.values,R,C,0,f.values,R);else{const k=x-_*2;for(let O=0;O<k;++O)f.values[R+O]-=C[O]}}}return n.blendMode=fS,n}class C8{static convertArray(e,t){return Yd(e,t)}static isTypedArray(e){return bL(e)}static getKeyframeOrder(e){return TL(e)}static sortedArray(e,t,i){return i1(e,t,i)}static flattenJSON(e,t,i,r){IS(e,t,i,r)}static subclip(e,t,i,r,s=30){return M8(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return E8(e,t,i,r)}}class ug{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(i=2,s=l);for(let d=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const l=i+o>>>1;e<t[l]?o=l:i=l+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ML extends ug{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xd,endingEnd:Xd}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,l=r[s],d=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case Zd:s=e,l=2*t-i;break;case Am:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Zd:o=e,d=2*i-t;break;case Am:o=1,d=i+r[1]-r[0];break;default:o=e-1,d=t}const f=(i-t)*.5,m=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(d-i),this._offsetPrev=s*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=e*l,f=d-l,m=this._offsetPrev,v=this._offsetNext,_=this._weightPrev,x=this._weightNext,M=(i-t)/(r-t),C=M*M,T=C*M,w=-_*T+2*_*C-_*M,R=(1+_)*T+(-1.5-2*_)*C+(-.5+_)*M+1,k=(-1-x)*T+(1.5+x)*C+.5*M,O=x*T-x*C;for(let j=0;j!==l;++j)s[j]=w*o[m+j]+R*o[f+j]+k*o[d+j]+O*o[v+j];return s}}class kS extends ug{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=e*l,f=d-l,m=(i-t)/(r-t),v=1-m;for(let _=0;_!==l;++_)s[_]=o[f+_]*v+o[d+_]*m;return s}}class EL extends ug{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class la{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yd(t,this.TimeBufferType),this.values=Yd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Yd(e.times,Array),values:Yd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new EL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ML(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Cm:t=this.InterpolantFactoryMethodDiscrete;break;case s0:t=this.InterpolantFactoryMethodLinear;break;case ay:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cm;case this.InterpolantFactoryMethodLinear:return s0;case this.InterpolantFactoryMethodSmooth:return ay}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const d=i[l];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,d),e=!1;break}if(o!==null&&o>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,d,o),e=!1;break}o=d}if(r!==void 0&&bL(r))for(let l=0,d=r.length;l!==d;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===ay,s=e.length-1;let o=1;for(let l=1;l<s;++l){let d=!1;const f=e[l],m=e[l+1];if(f!==m&&(l!==1||f!==e[0]))if(r)d=!0;else{const v=l*i,_=v-i,x=v+i;for(let M=0;M!==i;++M){const C=t[v+M];if(C!==t[_+M]||C!==t[x+M]){d=!0;break}}}if(d){if(l!==o){e[o]=e[l];const v=l*i,_=o*i;for(let x=0;x!==i;++x)t[_+x]=t[v+x]}++o}}if(s>0){e[o]=e[s];for(let l=s*i,d=o*i,f=0;f!==i;++f)t[d+f]=t[l+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}la.prototype.ValueTypeName="";la.prototype.TimeBufferType=Float32Array;la.prototype.ValueBufferType=Float32Array;la.prototype.DefaultInterpolation=s0;class fh extends la{constructor(e,t,i){super(e,t,i)}}fh.prototype.ValueTypeName="bool";fh.prototype.ValueBufferType=Array;fh.prototype.DefaultInterpolation=Cm;fh.prototype.InterpolantFactoryMethodLinear=void 0;fh.prototype.InterpolantFactoryMethodSmooth=void 0;class NS extends la{constructor(e,t,i,r){super(e,t,i,r)}}NS.prototype.ValueTypeName="color";class Dm extends la{constructor(e,t,i,r){super(e,t,i,r)}}Dm.prototype.ValueTypeName="number";class CL extends ug{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=(i-t)/(r-t);let f=e*l;for(let m=f+l;f!==m;f+=4)po.slerpFlat(s,0,o,f-l,o,f,d);return s}}class cg extends la{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new CL(this.times,this.values,this.getValueSize(),e)}}cg.prototype.ValueTypeName="quaternion";cg.prototype.InterpolantFactoryMethodSmooth=void 0;class ph extends la{constructor(e,t,i){super(e,t,i)}}ph.prototype.ValueTypeName="string";ph.prototype.ValueBufferType=Array;ph.prototype.DefaultInterpolation=Cm;ph.prototype.InterpolantFactoryMethodLinear=void 0;ph.prototype.InterpolantFactoryMethodSmooth=void 0;class Fm extends la{constructor(e,t,i,r){super(e,t,i,r)}}Fm.prototype.ValueTypeName="vector";class zm{constructor(e="",t=-1,i=[],r=V0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Uo(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,l=i.length;o!==l;++o)t.push(P8(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(la.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let l=0;l<s;l++){let d=[],f=[];d.push((l+s-1)%s,l,(l+1)%s),f.push(0,1,0);const m=TL(d);d=i1(d,1,m),f=i1(f,1,m),!r&&d[0]===0&&(d.push(s),f.push(f[0])),o.push(new Dm(".morphTargetInfluences["+t[l].name+"]",d,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,d=e.length;l<d;l++){const f=e[l],m=f.name.match(s);if(m&&m.length>1){const v=m[1];let _=r[v];_||(r[v]=_=[]),_.push(f)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,_,x,M,C){if(x.length!==0){const T=[],w=[];IS(x,T,w,M),T.length!==0&&C.push(new v(_,T,w))}},r=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let d=e.length||-1;const f=e.hierarchy||[];for(let v=0;v<f.length;v++){const _=f[v].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const x={};let M;for(M=0;M<_.length;M++)if(_[M].morphTargets)for(let C=0;C<_[M].morphTargets.length;C++)x[_[M].morphTargets[C]]=-1;for(const C in x){const T=[],w=[];for(let R=0;R!==_[M].morphTargets.length;++R){const k=_[M];T.push(k.time),w.push(k.morphTarget===C?1:0)}r.push(new Dm(".morphTargetInfluence["+C+"]",T,w))}d=x.length*o}else{const x=".bones["+t[v].name+"]";i(Fm,x+".position",_,"pos",r),i(cg,x+".quaternion",_,"rot",r),i(Fm,x+".scale",_,"scl",r)}}return r.length===0?null:new this(s,d,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function A8(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dm;case"vector":case"vector2":case"vector3":case"vector4":return Fm;case"color":return NS;case"quaternion":return cg;case"bool":case"boolean":return fh;case"string":return ph}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function P8(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=A8(n.type);if(n.times===void 0){const t=[],i=[];IS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ml={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class OS{constructor(e,t,i){const r=this;let s=!1,o=0,l=0,d;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){l++,s===!1&&r.onStart!==void 0&&r.onStart(m,o,l),s=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,l),o===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,v){return f.push(m,v),this},this.removeHandler=function(m){const v=f.indexOf(m);return v!==-1&&f.splice(v,2),this},this.getHandler=function(m){for(let v=0,_=f.length;v<_;v+=2){const x=f[v],M=f[v+1];if(x.global&&(x.lastIndex=0),x.test(m))return M}return null}}}const AL=new OS;class mo{constructor(e){this.manager=e!==void 0?e:AL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}mo.DEFAULT_MATERIAL_NAME="__DEFAULT";const wu={};class R8 extends Error{constructor(e,t){super(e),this.response=t}}class Nu extends mo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ml.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(wu[e]!==void 0){wu[e].push({onLoad:t,onProgress:i,onError:r});return}wu[e]=[],wu[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,d=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const m=wu[e],v=f.body.getReader(),_=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),x=_?parseInt(_):0,M=x!==0;let C=0;const T=new ReadableStream({start(w){R();function R(){v.read().then(({done:k,value:O})=>{if(k)w.close();else{C+=O.byteLength;const j=new ProgressEvent("progress",{lengthComputable:M,loaded:C,total:x});for(let X=0,Z=m.length;X<Z;X++){const z=m[X];z.onProgress&&z.onProgress(j)}w.enqueue(O),R()}},k=>{w.error(k)})}}});return new Response(T)}else throw new R8(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(d){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return f.json();default:if(l==="")return f.text();{const v=/charset="?([^;"\s]*)"?/i.exec(l),_=v&&v[1]?v[1].toLowerCase():void 0,x=new TextDecoder(_);return f.arrayBuffer().then(M=>x.decode(M))}}}).then(f=>{Ml.add(`file:${e}`,f);const m=wu[e];delete wu[e];for(let v=0,_=m.length;v<_;v++){const x=m[v];x.onLoad&&x.onLoad(f)}}).catch(f=>{const m=wu[e];if(m===void 0)throw this.manager.itemError(e),f;delete wu[e];for(let v=0,_=m.length;v<_;v++){const x=m[v];x.onError&&x.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class L8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Nu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=zm.parse(e[i]);t.push(r)}return t}}class I8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],l=new q0,d=new Nu(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(s.withCredentials);let f=0;function m(v){d.load(e[v],function(_){const x=s.parse(_,!0);o[v]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},f+=1,f===6&&(x.mipmapCount===1&&(l.minFilter=ar),l.image=o,l.format=x.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let v=0,_=e.length;v<_;++v)m(v);else d.load(e,function(v){const _=s.parse(v,!0);if(_.isCubemap){const x=_.mipmaps.length/_.mipmapCount;for(let M=0;M<x;M++){o[M]={mipmaps:[]};for(let C=0;C<_.mipmapCount;C++)o[M].mipmaps.push(_.mipmaps[M*_.mipmapCount+C]),o[M].format=_.format,o[M].width=_.width,o[M].height=_.height}l.image=o}else l.image.width=_.width,l.image.height=_.height,l.mipmaps=_.mipmaps;_.mipmapCount===1&&(l.minFilter=ar),l.format=_.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}const of=new WeakMap;class Um extends mo{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ml.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0);else{let v=of.get(o);v===void 0&&(v=[],of.set(o,v)),v.push({onLoad:t,onError:r})}return o}const l=Im("img");function d(){m(),t&&t(this);const v=of.get(this)||[];for(let _=0;_<v.length;_++){const x=v[_];x.onLoad&&x.onLoad(this)}of.delete(this),s.manager.itemEnd(e)}function f(v){m(),r&&r(v),Ml.remove(`image:${e}`);const _=of.get(this)||[];for(let x=0;x<_.length;x++){const M=_[x];M.onError&&M.onError(v)}of.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){l.removeEventListener("load",d,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",d,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Ml.add(`image:${e}`,l),s.manager.itemStart(e),l.src=e,l}}class k8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=new rg;s.colorSpace=uo;const o=new Um(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function d(f){o.load(e[f],function(m){s.images[f]=m,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)d(f);return s}}class N8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Al,l=new Nu(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(d){let f;try{f=s.parse(d)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:ia,o.wrapT=f.wrapT!==void 0?f.wrapT:ia,o.magFilter=f.magFilter!==void 0?f.magFilter:ar,o.minFilter=f.minFilter!==void 0?f.minFilter:ar,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(o.colorSpace=f.colorSpace),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Tl),f.mipmapCount===1&&(o.minFilter=ar),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f)},i,r),o}}class PL extends mo{constructor(e){super(e)}load(e,t,i,r){const s=new Oi,o=new Um(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Yc extends jn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new zt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class RL extends Yc{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Vx=new ln,nE=new le,iE=new le;class DS{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.mapType=oa,this.map=null,this.mapPass=null,this.matrix=new ln,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qf,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;nE.setFromMatrixPosition(e.matrixWorld),t.position.copy(nE),iE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(iE),t.updateMatrixWorld(),Vx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Vx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class O8 extends DS{constructor(){super(new Fr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=kf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LL extends Yc{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new O8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rE=new ln,Hp=new le,Hx=new le;class D8 extends DS{constructor(){super(new Fr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Hp.setFromMatrixPosition(e.matrixWorld),i.position.copy(Hp),Hx.copy(i.position),Hx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Hx),i.updateMatrixWorld(),r.makeTranslation(-Hp.x,-Hp.y,-Hp.z),rE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rE)}}class IL extends Yc{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new D8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class dg extends ig{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,l=r+t,d=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,l-=m*this.view.offsetY,d=l-m*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class F8 extends DS{constructor(){super(new dg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kL extends Yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jn.DEFAULT_UP),this.updateMatrix(),this.target=new jn,this.shadow=new F8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class NL extends Yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class OL extends Yc{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class DL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class FL extends Yc{constructor(e=new DL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class u_ extends mo{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Nu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new zt().setHex(o.value);break;case"v2":r.uniforms[s].value=new tt().fromArray(o.value);break;case"v3":r.uniforms[s].value=new le().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Hn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new bn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ln().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new tt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return u_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:pL,SpriteMaterial:_S,RawShaderMaterial:mL,ShaderMaterial:aa,PointsMaterial:wS,MeshPhysicalMaterial:gL,MeshStandardMaterial:PS,MeshPhongMaterial:vL,MeshToonMaterial:yL,MeshNormalMaterial:_L,MeshLambertMaterial:xL,MeshDepthMaterial:RS,MeshDistanceMaterial:LS,MeshBasicMaterial:Xc,MeshMatcapMaterial:wL,LineDashedMaterial:SL,LineBasicMaterial:Gs,Material:ss};return new t[e]}}class r1{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class zL extends Tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class UL extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Nu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(x,M){if(t[M]!==void 0)return t[M];const T=x.interleavedBuffers[M],w=s(x,T.buffer),R=ff(T.type,w),k=new X0(R,T.stride);return k.uuid=T.uuid,t[M]=k,k}function s(x,M){if(i[M]!==void 0)return i[M];const T=x.arrayBuffers[M],w=new Uint32Array(T).buffer;return i[M]=w,w}const o=e.isInstancedBufferGeometry?new zL:new Tn,l=e.data.index;if(l!==void 0){const x=ff(l.type,l.array);o.setIndex(new oi(x,1))}const d=e.data.attributes;for(const x in d){const M=d[x];let C;if(M.isInterleavedBufferAttribute){const T=r(e.data,M.data);C=new lh(T,M.itemSize,M.offset,M.normalized)}else{const T=ff(M.type,M.array),w=M.isInstancedBufferAttribute?Of:oi;C=new w(T,M.itemSize,M.normalized)}M.name!==void 0&&(C.name=M.name),M.usage!==void 0&&C.setUsage(M.usage),o.setAttribute(x,C)}const f=e.data.morphAttributes;if(f)for(const x in f){const M=f[x],C=[];for(let T=0,w=M.length;T<w;T++){const R=M[T];let k;if(R.isInterleavedBufferAttribute){const O=r(e.data,R.data);k=new lh(O,R.itemSize,R.offset,R.normalized)}else{const O=ff(R.type,R.array);k=new oi(O,R.itemSize,R.normalized)}R.name!==void 0&&(k.name=R.name),C.push(k)}o.morphAttributes[x]=C}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let x=0,M=v.length;x!==M;++x){const C=v[x];o.addGroup(C.start,C.count,C.materialIndex)}const _=e.data.boundingSphere;return _!==void 0&&(o.boundingSphere=new rs().fromJSON(_)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class z8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?r1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Nu(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){let f=null;try{f=JSON.parse(d)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=f.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?r1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Nu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),l=JSON.parse(o),d=l.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,s,d,l,i),m=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,m),this.bindLightTargets(f),t!==void 0){let v=!1;for(const _ in o)if(o[_].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,r,l,o,t),f=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,f),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new eh().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new Z0().fromJSON(e[s],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new UL;for(let s=0,o=e.length;s<o;s++){let l;const d=e[s];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(d);break;default:d.type in tE?l=tE[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}l.uuid=d.uuid,d.name!==void 0&&(l.name=d.name),d.userData!==void 0&&(l.userData=d.userData),i[d.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new u_;s.setTextures(t);for(let o=0,l=e.length;o<l;o++){const d=e[o];i[d.uuid]===void 0&&(i[d.uuid]=s.parse(d)),r[d.uuid]=i[d.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=zm.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(d){return i.manager.itemStart(d),s.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function l(d){if(typeof d=="string"){const f=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(m)}else return d.data?{data:ff(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new OS(t);s=new Um(d),s.setCrossOrigin(this.crossOrigin);for(let f=0,m=e.length;f<m;f++){const v=e[f],_=v.url;if(Array.isArray(_)){const x=[];for(let M=0,C=_.length;M<C;M++){const T=_[M],w=l(T);w!==null&&(w instanceof HTMLImageElement?x.push(w):x.push(new Al(w.data,w.width,w.height)))}r[v.uuid]=new Fc(x)}else{const x=l(v.url);r[v.uuid]=new Fc(x)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const l=o,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(d)}else return o.data?{data:ff(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Um(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const d=e[o],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,_=f.length;v<_;v++){const x=f[v],M=await s(x);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new Al(M.data,M.width,M.height)))}i[d.uuid]=new Fc(m)}else{const m=await s(d.url);i[d.uuid]=new Fc(m)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const d=t[l.image],f=d.data;let m;Array.isArray(f)?(m=new rg,f.length===6&&(m.needsUpdate=!0)):(f&&f.data?m=new Al:m=new Oi,f&&(m.needsUpdate=!0)),m.source=d,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,U8)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],sE),m.wrapT=i(l.wrap[1],sE)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,oE)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,oE)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(e,t,i,r,s){let o;function l(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function d(_){if(_!==void 0){if(Array.isArray(_)){const x=[];for(let M=0,C=_.length;M<C;M++){const T=_[M];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),x.push(i[T])}return x}return i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),i[_]}}function f(_){return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),r[_]}let m,v;switch(e.type){case"Scene":o=new o0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new zt(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new G0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new W0(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Fr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new dg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new NL(e.color,e.intensity);break;case"DirectionalLight":o=new kL(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new IL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new OL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new LL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new RL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new FL().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),v=d(e.material),o=new K2(m,v),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),v=d(e.material),o=new lr(m,v);break;case"InstancedMesh":m=l(e.geometry),v=d(e.material);const _=e.count,x=e.instanceMatrix,M=e.instanceColor;o=new J2(m,v,_),o.instanceMatrix=new Of(new Float32Array(x.array),16),M!==void 0&&(o.instanceColor=new Of(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=l(e.geometry),v=d(e.material),o=new Q2(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(C=>{let T=null,w=null;return C.boundingBox!==void 0&&(T=new ws().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&&(w=new rs().fromJSON(C.boundingSphere)),{...C,boundingBox:T,boundingSphere:w}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=f(e.matricesTexture.uuid),o._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new rs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ws().fromJSON(e.boundingBox));break;case"LOD":o=new $2;break;case"Line":o=new Hc(l(e.geometry),d(e.material));break;case"LineLoop":o=new eL(l(e.geometry),d(e.material));break;case"LineSegments":o=new Fl(l(e.geometry),d(e.material));break;case"PointCloud":case"Points":o=new tL(l(e.geometry),d(e.material));break;case"Sprite":o=new q2(d(e.material));break;case"Group":o=new pf;break;case"Bone":o=new xS;break;default:o=new jn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let x=0;x<_.length;x++)o.add(this.parseObject(_[x],t,i,r,s))}if(e.animations!==void 0){const _=e.animations;for(let x=0;x<_.length;x++){const M=_[x];o.animations.push(s[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const _=e.levels;for(let x=0;x<_.length;x++){const M=_[x],C=o.getObjectByProperty("uuid",M.object);C!==void 0&&o.addLevel(C,M.distance,M.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new jn}})}}const U8={UVMapping:N0,CubeReflectionMapping:Iu,CubeRefractionMapping:Vc,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Tm,CubeUVReflectionMapping:Xf},sE={RepeatWrapping:Mm,ClampToEdgeWrapping:ia,MirroredRepeatWrapping:Em},oE={NearestFilter:is,NearestMipmapNearestFilter:sS,NearestMipmapLinearFilter:hf,LinearFilter:ar,LinearMipmapNearestFilter:nm,LinearMipmapLinearFilter:Tl},jx=new WeakMap;class B8 extends mo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ml.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(f=>{if(jx.has(o)===!0)r&&r(jx.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(f),s.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const d=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(f){return Ml.add(`image-bitmap:${e}`,f),t&&t(f),s.manager.itemEnd(e),f}).catch(function(f){r&&r(f),jx.set(d,f),Ml.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Ml.add(`image-bitmap:${e}`,d),s.manager.itemStart(e)}}let Bv;class FS{static getContext(){return Bv===void 0&&(Bv=new(window.AudioContext||window.webkitAudioContext)),Bv}static setContext(e){Bv=e}}class V8 extends mo{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Nu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(d){try{const f=d.slice(0);FS.getContext().decodeAudioData(f,function(v){t(v)}).catch(l)}catch(f){l(f)}},i,r);function l(d){r?r(d):console.error(d),s.manager.itemError(e)}}}const aE=new ln,lE=new ln,Id=new ln;class H8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Id.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Jd*t.fov*.5)/t.zoom;let l,d;lE.elements[12]=-r,aE.elements[12]=r,l=-o*t.aspect+s,d=o*t.aspect+s,Id.elements[0]=2*t.near/(d-l),Id.elements[8]=(d+l)/(d-l),this.cameraL.projectionMatrix.copy(Id),l=-o*t.aspect-s,d=o*t.aspect-s,Id.elements[0]=2*t.near/(d-l),Id.elements[8]=(d+l)/(d-l),this.cameraR.projectionMatrix.copy(Id)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aE)}}class BL extends Fr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class zS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const kd=new le,Wx=new po,j8=new le,Nd=new le,Od=new le;class W8 extends jn{constructor(){super(),this.type="AudioListener",this.context=FS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(kd,Wx,j8),Nd.set(0,0,-1).applyQuaternion(Wx),Od.set(0,1,0).applyQuaternion(Wx),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(kd.x,i),t.positionY.linearRampToValueAtTime(kd.y,i),t.positionZ.linearRampToValueAtTime(kd.z,i),t.forwardX.linearRampToValueAtTime(Nd.x,i),t.forwardY.linearRampToValueAtTime(Nd.y,i),t.forwardZ.linearRampToValueAtTime(Nd.z,i),t.upX.linearRampToValueAtTime(Od.x,i),t.upY.linearRampToValueAtTime(Od.y,i),t.upZ.linearRampToValueAtTime(Od.z,i)}else t.setPosition(kd.x,kd.y,kd.z),t.setOrientation(Nd.x,Nd.y,Nd.z,Od.x,Od.y,Od.z)}}class VL extends jn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Dd=new le,uE=new po,G8=new le,Fd=new le;class X8 extends VL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dd,uE,G8),Fd.set(0,0,1).applyQuaternion(uE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dd.x,i),t.positionY.linearRampToValueAtTime(Dd.y,i),t.positionZ.linearRampToValueAtTime(Dd.z,i),t.orientationX.linearRampToValueAtTime(Fd.x,i),t.orientationY.linearRampToValueAtTime(Fd.y,i),t.orientationZ.linearRampToValueAtTime(Fd.z,i)}else t.setPosition(Dd.x,Dd.y,Dd.z),t.setOrientation(Fd.x,Fd.y,Fd.z)}}class Z8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class HL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[s+l]=i[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(i,s,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const d=t*this._origIndex;this._mixBufferRegion(i,r,d,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let d=t,f=t+t;d!==f;++d)if(i[d]!==i[d+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){po.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;po.multiplyQuaternionsFlat(e,o,e,t,e,i),po.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let l=0;l!==s;++l){const d=t+l;e[d]=e[d]*o+e[i+l]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]+e[i+o]*r}}}const US="\\[\\]\\.:\\/",Y8=new RegExp("["+US+"]","g"),BS="[^"+US+"]",q8="[^"+US.replace("\\.","")+"]",$8=/((?:WC+[\/:])*)/.source.replace("WC",BS),K8=/(WCOD+)?/.source.replace("WCOD",q8),J8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",BS),Q8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",BS),e6=new RegExp("^"+$8+K8+J8+Q8+"$"),t6=["material","materials","bones","map"];class n6{constructor(e,t,i){const r=i||Vn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Vn{constructor(e,t,i){this.path=t,this.parsedPath=i||Vn.parseTrackName(t),this.node=Vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Vn.Composite(e,t,i):new Vn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Y8,"")}static parseTrackName(e){const t=e6.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);t6.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===t||l.uuid===t)return l;const d=i(l.children);if(d)return d}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Vn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===f){f=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}d=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(d=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vn.Composite=n6;Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray];Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class i6{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Uo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let l,d=e.length,f=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const _=arguments[m],x=_.uuid;let M=t[x];if(M===void 0){M=d++,t[x]=M,e.push(_);for(let C=0,T=o;C!==T;++C)s[C].push(new Vn(_,i[C],r[C]))}else if(M<f){l=e[M];const C=--f,T=e[C];t[T.uuid]=M,e[M]=T,t[x]=C,e[C]=_;for(let w=0,R=o;w!==R;++w){const k=s[w],O=k[C];let j=k[M];k[M]=O,j===void 0&&(j=new Vn(_,i[w],r[w])),k[C]=j}}else e[M]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const d=arguments[o],f=d.uuid,m=t[f];if(m!==void 0&&m>=s){const v=s++,_=e[v];t[_.uuid]=m,e[m]=_,t[f]=v,e[v]=d;for(let x=0,M=r;x!==M;++x){const C=i[x],T=C[v],w=C[m];C[m]=T,C[v]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,d=arguments.length;l!==d;++l){const f=arguments[l],m=f.uuid,v=t[m];if(v!==void 0)if(delete t[m],v<s){const _=--s,x=e[_],M=--o,C=e[M];t[x.uuid]=v,e[v]=x,t[C.uuid]=_,e[_]=C,e.pop();for(let T=0,w=r;T!==w;++T){const R=i[T],k=R[_],O=R[M];R[v]=k,R[_]=O,R.pop()}}else{const _=--o,x=e[_];_>0&&(t[x.uuid]=v),e[v]=x,e.pop();for(let M=0,C=r;M!==C;++M){const T=i[M];T[v]=T[_],T.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,l=this._parsedPaths,d=this._objects,f=d.length,m=this.nCachedObjects_,v=new Array(f);r=s.length,i[e]=r,o.push(e),l.push(t),s.push(v);for(let _=m,x=d.length;_!==x;++_){const M=d[_];v[_]=new Vn(M,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,d=o[l],f=e[l];t[f]=i,o[i]=d,o.pop(),s[i]=s[l],s.pop(),r[i]=r[l],r.pop()}}}class jL{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,l=new Array(o),d={endingStart:Xd,endingEnd:Xd};for(let f=0;f!==o;++f){const m=s[f].createInterpolant(null);l[f]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=A2,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,l=r/s;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const d=l.parameterPositions,f=l.sampleValues;return d[0]=s,d[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const d=(e-s)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const d=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case fS:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(o),f[m].accumulateAdditive(l);break;case V0:default:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(o),f[m].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===P2;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===C2){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const d=this.repetitions-s;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Zd,r.endingEnd=Zd):(e?r.endingStart=this.zeroSlopeAtStart?Zd:Xd:r.endingStart=Am,t?r.endingEnd=this.zeroSlopeAtEnd?Zd:Xd:r.endingEnd=Am)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,d=o.sampleValues;return l[0]=s,d[0]=t,l[1]=s+e,d[1]=i,this}}const r6=new Float32Array(1);class s6 extends Dl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,l=e._interpolants,d=i.uuid,f=this._bindingsByRootAndName;let m=f[d];m===void 0&&(m={},f[d]=m);for(let v=0;v!==s;++v){const _=r[v],x=_.name;let M=m[x];if(M!==void 0)++M.referenceCount,o[v]=M;else{if(M=o[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,d,x));continue}const C=t&&t._propertyBindings[v].binding.parsedPath;M=new HL(Vn.create(i,x,C),_.ValueTypeName,_.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,d,x),o[v]=M}l[v].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],d=l.knownActions,f=d[d.length-1],m=e._byClipCacheIndex;f._byClipCacheIndex=m,d[m]=f,d.pop(),e._byClipCacheIndex=null;const v=l.actionByRoot,_=(e._localRoot||this._root).uuid;delete v[_],d.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,l=o[r],d=t[t.length-1],f=e._cacheIndex;d._cacheIndex=f,t[f]=d,t.pop(),delete l[s],Object.keys(l).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new kS(new Float32Array(2),new Float32Array(2),1,r6),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?zm.findByName(r,e):e;const l=o!==null?o.uuid:e,d=this._actionsByClip[l];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=V0),d!==void 0){const v=d.actionByRoot[s];if(v!==void 0&&v.blendMode===i)return v;f=d.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const m=new jL(this,o,t,i);return this._bindAction(m,f),this._addInactiveAction(m,l,s),m}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?zm.findByName(i,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const l=this._bindings,d=this._nActiveBindings;for(let f=0;f!==d;++f)l[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let l=0,d=o.length;l!==d;++l){const f=o[l];this._deactivateAction(f);const m=f._cacheIndex,v=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,v._cacheIndex=m,t[m]=v,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,d=l[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class o6 extends gS{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new j0(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class VS{constructor(e){this.value=e}clone(){return new VS(this.value.clone===void 0?this.value:this.value.clone())}}let a6=0;class l6 extends Dl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:a6++}),this.name="",this.usage=Rm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class u6 extends X0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class c6{constructor(e,t,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const cE=new ln;class WL{constructor(e,t,i=0,r=1/0){this.ray=new Yf(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Qd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return cE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(cE),this}intersectObject(e,t=!0,i=[]){return s1(e,this,i,t),i.sort(dE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)s1(e[r],this,i,t);return i.sort(dE),i}}function dE(n,e){return n.distance-e.distance}function s1(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,l=s.length;o<l;o++)s1(s[o],e,t,!0)}}class d6{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class h6{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class HS{constructor(e,t,i,r){HS.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const hE=new tt;class f6{constructor(e=new tt(1/0,1/0),t=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=hE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fE=new le,Vv=new le;class p6{constructor(e=new le,t=new le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){fE.subVectors(e,this.start),Vv.subVectors(this.end,this.start);const i=Vv.dot(Vv);let s=Vv.dot(fE)/i;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const pE=new le;class m6 extends jn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Tn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,d=32;o<d;o++,l++){const f=o/d*Math.PI*2,m=l/d*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Xt(r,3));const s=new Gs({fog:!1,toneMapped:!1});this.cone=new Fl(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),pE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(pE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ac=new le,Hv=new ln,Gx=new ln;class g6 extends Fl{constructor(e){const t=GL(e),i=new Tn,r=[],s=[],o=new zt(0,0,1),l=new zt(0,1,0);for(let f=0;f<t.length;f++){const m=t[f];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}i.setAttribute("position",new Xt(r,3)),i.setAttribute("color",new Xt(s,3));const d=new Gs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Gx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(Hv.multiplyMatrices(Gx,l.matrixWorld),Ac.setFromMatrixPosition(Hv),r.setXYZ(o,Ac.x,Ac.y,Ac.z),Hv.multiplyMatrices(Gx,l.parent.matrixWorld),Ac.setFromMatrixPosition(Hv),r.setXYZ(o+1,Ac.x,Ac.y,Ac.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function GL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...GL(n.children[t]));return e}class v6 extends lr{constructor(e,t,i){const r=new lg(t,4,2),s=new Xc({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const y6=new le,mE=new zt,gE=new zt;class _6 extends jn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new ag(t);r.rotateY(Math.PI*.5),this.material=new Xc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new oi(o,3)),this.add(new lr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");mE.copy(this.light.color),gE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?mE:gE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(y6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class x6 extends Fl{constructor(e=10,t=10,i=4473924,r=8947848){i=new zt(i),r=new zt(r);const s=t/2,o=e/t,l=e/2,d=[],f=[];for(let _=0,x=0,M=-l;_<=t;_++,M+=o){d.push(-l,0,M,l,0,M),d.push(M,0,-l,M,0,l);const C=_===s?i:r;C.toArray(f,x),x+=3,C.toArray(f,x),x+=3,C.toArray(f,x),x+=3,C.toArray(f,x),x+=3}const m=new Tn;m.setAttribute("position",new Xt(d,3)),m.setAttribute("color",new Xt(f,3));const v=new Gs({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class w6 extends Fl{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new zt(s),o=new zt(o);const l=[],d=[];if(t>1)for(let v=0;v<t;v++){const _=v/t*(Math.PI*2),x=Math.sin(_)*e,M=Math.cos(_)*e;l.push(0,0,0),l.push(x,0,M);const C=v&1?s:o;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const _=v&1?s:o,x=e-e/i*v;for(let M=0;M<r;M++){let C=M/r*(Math.PI*2),T=Math.sin(C)*x,w=Math.cos(C)*x;l.push(T,0,w),d.push(_.r,_.g,_.b),C=(M+1)/r*(Math.PI*2),T=Math.sin(C)*x,w=Math.cos(C)*x,l.push(T,0,w),d.push(_.r,_.g,_.b)}}const f=new Tn;f.setAttribute("position",new Xt(l,3)),f.setAttribute("color",new Xt(d,3));const m=new Gs({vertexColors:!0,toneMapped:!1});super(f,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vE=new le,jv=new le,yE=new le;class S6 extends jn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Tn;r.setAttribute("position",new Xt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Gs({fog:!1,toneMapped:!1});this.lightPlane=new Hc(r,s),this.add(this.lightPlane),r=new Tn,r.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new Hc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),vE.setFromMatrixPosition(this.light.matrixWorld),jv.setFromMatrixPosition(this.light.target.matrixWorld),yE.subVectors(jv,vE),this.lightPlane.lookAt(jv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jv),this.targetLine.scale.z=yE.length()}}const Wv=new le,Hi=new ig;class b6 extends Fl{constructor(e){const t=new Tn,i=new Gs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(M,C){d(M),d(C)}function d(M){r.push(0,0,0),s.push(0,0,0),o[M]===void 0&&(o[M]=[]),o[M].push(r.length/3-1)}t.setAttribute("position",new Xt(r,3)),t.setAttribute("color",new Xt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new zt(16755200),m=new zt(16711680),v=new zt(43775),_=new zt(16777215),x=new zt(3355443);this.setColors(f,m,v,_,x)}setColors(e,t,i,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Hi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===ra?-1:0;Ki("c",t,e,Hi,0,0,s),Ki("t",t,e,Hi,0,0,1),Ki("n1",t,e,Hi,-i,-r,s),Ki("n2",t,e,Hi,i,-r,s),Ki("n3",t,e,Hi,-i,r,s),Ki("n4",t,e,Hi,i,r,s),Ki("f1",t,e,Hi,-i,-r,1),Ki("f2",t,e,Hi,i,-r,1),Ki("f3",t,e,Hi,-i,r,1),Ki("f4",t,e,Hi,i,r,1),Ki("u1",t,e,Hi,i*.7,r*1.1,s),Ki("u2",t,e,Hi,-i*.7,r*1.1,s),Ki("u3",t,e,Hi,0,r*2,s),Ki("cf1",t,e,Hi,-i,0,1),Ki("cf2",t,e,Hi,i,0,1),Ki("cf3",t,e,Hi,0,-r,1),Ki("cf4",t,e,Hi,0,r,1),Ki("cn1",t,e,Hi,-i,0,s),Ki("cn2",t,e,Hi,i,0,s),Ki("cn3",t,e,Hi,0,-r,s),Ki("cn4",t,e,Hi,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ki(n,e,t,i,r,s,o){Wv.set(r,s,o).unproject(i);const l=e[n];if(l!==void 0){const d=t.getAttribute("position");for(let f=0,m=l.length;f<m;f++)d.setXYZ(l[f],Wv.x,Wv.y,Wv.z)}}const Gv=new ws;class T6 extends Fl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Tn;s.setIndex(new oi(i,1)),s.setAttribute("position",new oi(r,3)),super(s,new Gs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Gv.setFromObject(this.object),Gv.isEmpty())return;const e=Gv.min,t=Gv.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class M6 extends Fl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Tn;s.setIndex(new oi(i,1)),s.setAttribute("position",new Xt(r,3)),super(s,new Gs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class E6 extends Hc{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tn;o.setAttribute("position",new Xt(s,3)),o.computeBoundingSphere(),super(o,new Gs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new Tn;d.setAttribute("position",new Xt(l,3)),d.computeBoundingSphere(),this.add(new lr(d,new Xc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _E=new le;let Xv,Xx;class C6 extends jn{constructor(e=new le(0,0,1),t=new le(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Xv===void 0&&(Xv=new Tn,Xv.setAttribute("position",new Xt([0,0,0,0,1,0],3)),Xx=new og(.5,1,5,1),Xx.translate(0,-.5,0)),this.position.copy(t),this.line=new Hc(Xv,new Gs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new lr(Xx,new Xc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_E.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_E,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class A6 extends Fl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Tn;r.setAttribute("position",new Xt(t,3)),r.setAttribute("color",new Xt(i,3));const s=new Gs({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new zt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class P6{constructor(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new c0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const R=[];for(let k=0,O=w.length;k<O;k++){const j=w[k],X=new eh;X.curves=j.curves,R.push(X)}return R}function i(w,R){const k=R.length;let O=!1;for(let j=k-1,X=0;X<k;j=X++){let Z=R[j],z=R[X],U=z.x-Z.x,N=z.y-Z.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(Z=R[X],U=-U,z=R[j],N=-N),w.y<Z.y||w.y>z.y)continue;if(w.y===Z.y){if(w.x===Z.x)return!0}else{const Y=N*(w.x-Z.x)-U*(w.y-Z.y);if(Y===0)return!0;if(Y<0)continue;O=!O}}else{if(w.y!==Z.y)continue;if(z.x<=w.x&&w.x<=Z.x||Z.x<=w.x&&w.x<=z.x)return!0}}return O}const r=qa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,d;const f=[];if(s.length===1)return l=s[0],d=new eh,d.curves=l.curves,f.push(d),f;let m=!r(s[0].getPoints());m=e?!m:m;const v=[],_=[];let x=[],M=0,C;_[M]=void 0,x[M]=[];for(let w=0,R=s.length;w<R;w++)l=s[w],C=l.getPoints(),o=r(C),o=e?!o:o,o?(!m&&_[M]&&M++,_[M]={s:new eh,p:C},_[M].s.curves=l.curves,m&&M++,x[M]=[]):x[M].push({h:l,p:C[0]});if(!_[0])return t(s);if(_.length>1){let w=!1,R=0;for(let k=0,O=_.length;k<O;k++)v[k]=[];for(let k=0,O=_.length;k<O;k++){const j=x[k];for(let X=0;X<j.length;X++){const Z=j[X];let z=!0;for(let U=0;U<_.length;U++)i(Z.p,_[U].p)&&(k!==U&&R++,z?(z=!1,v[U].push(Z)):w=!0);z&&v[k].push(Z)}}R>0&&w===!1&&(x=v)}let T;for(let w=0,R=_.length;w<R;w++){d=_[w].s,f.push(d),T=x[w];for(let k=0,O=T.length;k<O;k++)d.holes.push(T[k].h)}return f}}class R6 extends Dl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function L6(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function I6(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function k6(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function o1(n,e,t,i){const r=N6(i);switch(t){case uS:return n*e;case z0:return n*e/r.components*r.byteLength;case ng:return n*e/r.components*r.byteLength;case dS:return n*e*2/r.components*r.byteLength;case U0:return n*e*2/r.components*r.byteLength;case cS:return n*e*3/r.components*r.byteLength;case _s:return n*e*4/r.components*r.byteLength;case B0:return n*e*4/r.components*r.byteLength;case im:case rm:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case sm:case om:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ny:case Dy:return Math.max(n,16)*Math.max(e,8)/4;case ky:case Oy:return Math.max(n,8)*Math.max(e,8)/2;case Fy:case zy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Uy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case By:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Vy:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Hy:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case jy:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Wy:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Gy:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Xy:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Zy:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Yy:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case qy:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case $y:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Ky:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Jy:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Qy:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case am:case e0:case t0:return Math.ceil(n/4)*Math.ceil(e/4)*16;case hS:case n0:return Math.ceil(n/4)*Math.ceil(e/4)*8;case i0:case r0:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function N6(n){switch(n){case oa:case oS:return{byteLength:1,components:1};case Pf:case aS:case Zf:return{byteLength:2,components:1};case D0:case F0:return{byteLength:2,components:4};case ku:case O0:case ho:return{byteLength:4,components:1};case lS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class O6{static contain(e,t){return L6(e,t)}static cover(e,t){return I6(e,t)}static fill(e){return k6(e)}static getByteLength(e,t,i,r){return o1(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:I0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=I0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function XL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function D6(n){const e=new WeakMap;function t(l,d){const f=l.array,m=l.usage,v=f.byteLength,_=n.createBuffer();n.bindBuffer(d,_),n.bufferData(d,f,m),l.onUploadCallback();let x;if(f instanceof Float32Array)x=n.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)x=n.HALF_FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?x=n.HALF_FLOAT:x=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=n.SHORT;else if(f instanceof Uint32Array)x=n.UNSIGNED_INT;else if(f instanceof Int32Array)x=n.INT;else if(f instanceof Int8Array)x=n.BYTE;else if(f instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:_,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:v}}function i(l,d,f){const m=d.array,v=d.updateRanges;if(n.bindBuffer(f,l),v.length===0)n.bufferSubData(f,0,m);else{v.sort((x,M)=>x.start-M.start);let _=0;for(let x=1;x<v.length;x++){const M=v[_],C=v[x];C.start<=M.start+M.count+1?M.count=Math.max(M.count,C.start+C.count-M.start):(++_,v[_]=C)}v.length=_+1;for(let x=0,M=v.length;x<M;x++){const C=v[x];n.bufferSubData(f,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const d=e.get(l);d&&(n.deleteBuffer(d.buffer),e.delete(l))}function o(l,d){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,d));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,d),f.version=l.version}}return{get:r,remove:s,update:o}}var F6=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,z6=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,U6=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,B6=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,V6=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,H6=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,j6=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,W6=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,G6=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,X6=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Z6=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Y6=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,q6=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$6=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,K6=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,J6=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Q6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,eV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,tV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,nV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,iV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,sV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,oV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,aV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,lV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,cV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,dV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,hV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fV="gl_FragColor = linearToOutputTexel( gl_FragColor );",pV=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,mV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,gV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_V=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,SV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,MV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,EV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,CV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,AV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,PV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,RV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,LV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,IV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,NV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,OV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,DV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,FV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,UV=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,BV=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VV=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,HV=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,jV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,WV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,GV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,XV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,YV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,$V=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,KV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,JV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,QV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,eH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,tH=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,sH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,oH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,aH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,cH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,pH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,gH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yH=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,_H=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,wH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,TH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,MH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,EH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,CH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,AH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,PH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,RH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,LH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,IH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,OH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const DH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,FH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,jH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,WH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ZH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$H=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,KH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,t9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,i9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,r9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,s9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,d9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,h9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,p9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Pn={alphahash_fragment:F6,alphahash_pars_fragment:z6,alphamap_fragment:U6,alphamap_pars_fragment:B6,alphatest_fragment:V6,alphatest_pars_fragment:H6,aomap_fragment:j6,aomap_pars_fragment:W6,batching_pars_vertex:G6,batching_vertex:X6,begin_vertex:Z6,beginnormal_vertex:Y6,bsdfs:q6,iridescence_fragment:$6,bumpmap_pars_fragment:K6,clipping_planes_fragment:J6,clipping_planes_pars_fragment:Q6,clipping_planes_pars_vertex:eV,clipping_planes_vertex:tV,color_fragment:nV,color_pars_fragment:iV,color_pars_vertex:rV,color_vertex:sV,common:oV,cube_uv_reflection_fragment:aV,defaultnormal_vertex:lV,displacementmap_pars_vertex:uV,displacementmap_vertex:cV,emissivemap_fragment:dV,emissivemap_pars_fragment:hV,colorspace_fragment:fV,colorspace_pars_fragment:pV,envmap_fragment:mV,envmap_common_pars_fragment:gV,envmap_pars_fragment:vV,envmap_pars_vertex:yV,envmap_physical_pars_fragment:PV,envmap_vertex:_V,fog_vertex:xV,fog_pars_vertex:wV,fog_fragment:SV,fog_pars_fragment:bV,gradientmap_pars_fragment:TV,lightmap_pars_fragment:MV,lights_lambert_fragment:EV,lights_lambert_pars_fragment:CV,lights_pars_begin:AV,lights_toon_fragment:RV,lights_toon_pars_fragment:LV,lights_phong_fragment:IV,lights_phong_pars_fragment:kV,lights_physical_fragment:NV,lights_physical_pars_fragment:OV,lights_fragment_begin:DV,lights_fragment_maps:FV,lights_fragment_end:zV,logdepthbuf_fragment:UV,logdepthbuf_pars_fragment:BV,logdepthbuf_pars_vertex:VV,logdepthbuf_vertex:HV,map_fragment:jV,map_pars_fragment:WV,map_particle_fragment:GV,map_particle_pars_fragment:XV,metalnessmap_fragment:ZV,metalnessmap_pars_fragment:YV,morphinstance_vertex:qV,morphcolor_vertex:$V,morphnormal_vertex:KV,morphtarget_pars_vertex:JV,morphtarget_vertex:QV,normal_fragment_begin:eH,normal_fragment_maps:tH,normal_pars_fragment:nH,normal_pars_vertex:iH,normal_vertex:rH,normalmap_pars_fragment:sH,clearcoat_normal_fragment_begin:oH,clearcoat_normal_fragment_maps:aH,clearcoat_pars_fragment:lH,iridescence_pars_fragment:uH,opaque_fragment:cH,packing:dH,premultiplied_alpha_fragment:hH,project_vertex:fH,dithering_fragment:pH,dithering_pars_fragment:mH,roughnessmap_fragment:gH,roughnessmap_pars_fragment:vH,shadowmap_pars_fragment:yH,shadowmap_pars_vertex:_H,shadowmap_vertex:xH,shadowmask_pars_fragment:wH,skinbase_vertex:SH,skinning_pars_vertex:bH,skinning_vertex:TH,skinnormal_vertex:MH,specularmap_fragment:EH,specularmap_pars_fragment:CH,tonemapping_fragment:AH,tonemapping_pars_fragment:PH,transmission_fragment:RH,transmission_pars_fragment:LH,uv_pars_fragment:IH,uv_pars_vertex:kH,uv_vertex:NH,worldpos_vertex:OH,background_vert:DH,background_frag:FH,backgroundCube_vert:zH,backgroundCube_frag:UH,cube_vert:BH,cube_frag:VH,depth_vert:HH,depth_frag:jH,distanceRGBA_vert:WH,distanceRGBA_frag:GH,equirect_vert:XH,equirect_frag:ZH,linedashed_vert:YH,linedashed_frag:qH,meshbasic_vert:$H,meshbasic_frag:KH,meshlambert_vert:JH,meshlambert_frag:QH,meshmatcap_vert:e9,meshmatcap_frag:t9,meshnormal_vert:n9,meshnormal_frag:i9,meshphong_vert:r9,meshphong_frag:s9,meshphysical_vert:o9,meshphysical_frag:a9,meshtoon_vert:l9,meshtoon_frag:u9,points_vert:c9,points_frag:d9,shadow_vert:h9,shadow_frag:f9,sprite_vert:p9,sprite_frag:m9},Rt={common:{diffuse:{value:new zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new bn}},envmap:{envMap:{value:null},envMapRotation:{value:new bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new bn},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0},uvTransform:{value:new bn}},sprite:{diffuse:{value:new zt(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new bn},alphaMap:{value:null},alphaMapTransform:{value:new bn},alphaTest:{value:0}}},Ya={basic:{uniforms:Us([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:Pn.meshbasic_vert,fragmentShader:Pn.meshbasic_frag},lambert:{uniforms:Us([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new zt(0)}}]),vertexShader:Pn.meshlambert_vert,fragmentShader:Pn.meshlambert_frag},phong:{uniforms:Us([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Pn.meshphong_vert,fragmentShader:Pn.meshphong_frag},standard:{uniforms:Us([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag},toon:{uniforms:Us([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new zt(0)}}]),vertexShader:Pn.meshtoon_vert,fragmentShader:Pn.meshtoon_frag},matcap:{uniforms:Us([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:Pn.meshmatcap_vert,fragmentShader:Pn.meshmatcap_frag},points:{uniforms:Us([Rt.points,Rt.fog]),vertexShader:Pn.points_vert,fragmentShader:Pn.points_frag},dashed:{uniforms:Us([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pn.linedashed_vert,fragmentShader:Pn.linedashed_frag},depth:{uniforms:Us([Rt.common,Rt.displacementmap]),vertexShader:Pn.depth_vert,fragmentShader:Pn.depth_frag},normal:{uniforms:Us([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:Pn.meshnormal_vert,fragmentShader:Pn.meshnormal_frag},sprite:{uniforms:Us([Rt.sprite,Rt.fog]),vertexShader:Pn.sprite_vert,fragmentShader:Pn.sprite_frag},background:{uniforms:{uvTransform:{value:new bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Pn.background_vert,fragmentShader:Pn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new bn}},vertexShader:Pn.backgroundCube_vert,fragmentShader:Pn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Pn.cube_vert,fragmentShader:Pn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Pn.equirect_vert,fragmentShader:Pn.equirect_frag},distanceRGBA:{uniforms:Us([Rt.common,Rt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Pn.distanceRGBA_vert,fragmentShader:Pn.distanceRGBA_frag},shadow:{uniforms:Us([Rt.lights,Rt.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Pn.shadow_vert,fragmentShader:Pn.shadow_frag}};Ya.physical={uniforms:Us([Ya.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new bn},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new bn},sheen:{value:0},sheenColor:{value:new zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new bn},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new bn},attenuationDistance:{value:0},attenuationColor:{value:new zt(0)},specularColor:{value:new zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new bn},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new bn}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag};const Zv={r:0,b:0,g:0},zd=new Bo,g9=new ln;function v9(n,e,t,i,r,s,o){const l=new zt(0);let d=s===!0?0:1,f,m,v=null,_=0,x=null;function M(k){let O=k.isScene===!0?k.background:null;return O&&O.isTexture&&(O=(k.backgroundBlurriness>0?t:e).get(O)),O}function C(k){let O=!1;const j=M(k);j===null?w(l,d):j&&j.isColor&&(w(j,1),O=!0);const X=n.xr.getEnvironmentBlendMode();X==="additive"?i.buffers.color.setClear(0,0,0,1,o):X==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||O)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(k,O){const j=M(O);j&&(j.isCubeTexture||j.mapping===Xf)?(m===void 0&&(m=new lr(new hh(1,1,1),new aa({name:"BackgroundCubeMaterial",uniforms:Nf(Ya.backgroundCube.uniforms),vertexShader:Ya.backgroundCube.vertexShader,fragmentShader:Ya.backgroundCube.fragmentShader,side:js,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(X,Z,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),zd.copy(O.backgroundRotation),zd.x*=-1,zd.y*=-1,zd.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(zd.y*=-1,zd.z*=-1),m.material.uniforms.envMap.value=j,m.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=O.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(g9.makeRotationFromEuler(zd)),m.material.toneMapped=zn.getTransfer(j.colorSpace)!==Qn,(v!==j||_!==j.version||x!==n.toneMapping)&&(m.material.needsUpdate=!0,v=j,_=j.version,x=n.toneMapping),m.layers.enableAll(),k.unshift(m,m.geometry,m.material,0,0,null)):j&&j.isTexture&&(f===void 0&&(f=new lr(new $f(2,2),new aa({name:"BackgroundMaterial",uniforms:Nf(Ya.background.uniforms),vertexShader:Ya.background.vertexShader,fragmentShader:Ya.background.fragmentShader,side:Lu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=j,f.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,f.material.toneMapped=zn.getTransfer(j.colorSpace)!==Qn,j.matrixAutoUpdate===!0&&j.updateMatrix(),f.material.uniforms.uvTransform.value.copy(j.matrix),(v!==j||_!==j.version||x!==n.toneMapping)&&(f.material.needsUpdate=!0,v=j,_=j.version,x=n.toneMapping),f.layers.enableAll(),k.unshift(f,f.geometry,f.material,0,0,null))}function w(k,O){k.getRGB(Zv,W2(n)),i.buffers.color.setClear(Zv.r,Zv.g,Zv.b,O,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(k,O=1){l.set(k),d=O,w(l,d)},getClearAlpha:function(){return d},setClearAlpha:function(k){d=k,w(l,d)},render:C,addToRenderList:T,dispose:R}}function y9(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=_(null);let s=r,o=!1;function l(N,Y,Q,ae,se){let ge=!1;const he=v(ae,Q,Y);s!==he&&(s=he,f(s.object)),ge=x(N,ae,Q,se),ge&&M(N,ae,Q,se),se!==null&&e.update(se,n.ELEMENT_ARRAY_BUFFER),(ge||o)&&(o=!1,O(N,Y,Q,ae),se!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(se).buffer))}function d(){return n.createVertexArray()}function f(N){return n.bindVertexArray(N)}function m(N){return n.deleteVertexArray(N)}function v(N,Y,Q){const ae=Q.wireframe===!0;let se=i[N.id];se===void 0&&(se={},i[N.id]=se);let ge=se[Y.id];ge===void 0&&(ge={},se[Y.id]=ge);let he=ge[ae];return he===void 0&&(he=_(d()),ge[ae]=he),he}function _(N){const Y=[],Q=[],ae=[];for(let se=0;se<t;se++)Y[se]=0,Q[se]=0,ae[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:Q,attributeDivisors:ae,object:N,attributes:{},index:null}}function x(N,Y,Q,ae){const se=s.attributes,ge=Y.attributes;let he=0;const de=Q.getAttributes();for(const W in de)if(de[W].location>=0){const ee=se[W];let K=ge[W];if(K===void 0&&(W==="instanceMatrix"&&N.instanceMatrix&&(K=N.instanceMatrix),W==="instanceColor"&&N.instanceColor&&(K=N.instanceColor)),ee===void 0||ee.attribute!==K||K&&ee.data!==K.data)return!0;he++}return s.attributesNum!==he||s.index!==ae}function M(N,Y,Q,ae){const se={},ge=Y.attributes;let he=0;const de=Q.getAttributes();for(const W in de)if(de[W].location>=0){let ee=ge[W];ee===void 0&&(W==="instanceMatrix"&&N.instanceMatrix&&(ee=N.instanceMatrix),W==="instanceColor"&&N.instanceColor&&(ee=N.instanceColor));const K={};K.attribute=ee,ee&&ee.data&&(K.data=ee.data),se[W]=K,he++}s.attributes=se,s.attributesNum=he,s.index=ae}function C(){const N=s.newAttributes;for(let Y=0,Q=N.length;Y<Q;Y++)N[Y]=0}function T(N){w(N,0)}function w(N,Y){const Q=s.newAttributes,ae=s.enabledAttributes,se=s.attributeDivisors;Q[N]=1,ae[N]===0&&(n.enableVertexAttribArray(N),ae[N]=1),se[N]!==Y&&(n.vertexAttribDivisor(N,Y),se[N]=Y)}function R(){const N=s.newAttributes,Y=s.enabledAttributes;for(let Q=0,ae=Y.length;Q<ae;Q++)Y[Q]!==N[Q]&&(n.disableVertexAttribArray(Q),Y[Q]=0)}function k(N,Y,Q,ae,se,ge,he){he===!0?n.vertexAttribIPointer(N,Y,Q,se,ge):n.vertexAttribPointer(N,Y,Q,ae,se,ge)}function O(N,Y,Q,ae){C();const se=ae.attributes,ge=Q.getAttributes(),he=Y.defaultAttributeValues;for(const de in ge){const W=ge[de];if(W.location>=0){let ie=se[de];if(ie===void 0&&(de==="instanceMatrix"&&N.instanceMatrix&&(ie=N.instanceMatrix),de==="instanceColor"&&N.instanceColor&&(ie=N.instanceColor)),ie!==void 0){const ee=ie.normalized,K=ie.itemSize,oe=e.get(ie);if(oe===void 0)continue;const we=oe.buffer,ce=oe.type,me=oe.bytesPerElement,_e=ce===n.INT||ce===n.UNSIGNED_INT||ie.gpuType===O0;if(ie.isInterleavedBufferAttribute){const xe=ie.data,Ge=xe.stride,$e=ie.offset;if(xe.isInstancedInterleavedBuffer){for(let Qe=0;Qe<W.locationSize;Qe++)w(W.location+Qe,xe.meshPerAttribute);N.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Qe=0;Qe<W.locationSize;Qe++)T(W.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,we);for(let Qe=0;Qe<W.locationSize;Qe++)k(W.location+Qe,K/W.locationSize,ce,ee,Ge*me,($e+K/W.locationSize*Qe)*me,_e)}else{if(ie.isInstancedBufferAttribute){for(let xe=0;xe<W.locationSize;xe++)w(W.location+xe,ie.meshPerAttribute);N.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let xe=0;xe<W.locationSize;xe++)T(W.location+xe);n.bindBuffer(n.ARRAY_BUFFER,we);for(let xe=0;xe<W.locationSize;xe++)k(W.location+xe,K/W.locationSize,ce,ee,K*me,K/W.locationSize*xe*me,_e)}}else if(he!==void 0){const ee=he[de];if(ee!==void 0)switch(ee.length){case 2:n.vertexAttrib2fv(W.location,ee);break;case 3:n.vertexAttrib3fv(W.location,ee);break;case 4:n.vertexAttrib4fv(W.location,ee);break;default:n.vertexAttrib1fv(W.location,ee)}}}}R()}function j(){z();for(const N in i){const Y=i[N];for(const Q in Y){const ae=Y[Q];for(const se in ae)m(ae[se].object),delete ae[se];delete Y[Q]}delete i[N]}}function X(N){if(i[N.id]===void 0)return;const Y=i[N.id];for(const Q in Y){const ae=Y[Q];for(const se in ae)m(ae[se].object),delete ae[se];delete Y[Q]}delete i[N.id]}function Z(N){for(const Y in i){const Q=i[Y];if(Q[N.id]===void 0)continue;const ae=Q[N.id];for(const se in ae)m(ae[se].object),delete ae[se];delete Q[N.id]}}function z(){U(),o=!0,s!==r&&(s=r,f(s.object))}function U(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:z,resetDefaultState:U,dispose:j,releaseStatesOfGeometry:X,releaseStatesOfProgram:Z,initAttributes:C,enableAttribute:T,disableUnusedAttributes:R}}function _9(n,e,t){let i;function r(f){i=f}function s(f,m){n.drawArrays(i,f,m),t.update(m,i,1)}function o(f,m,v){v!==0&&(n.drawArraysInstanced(i,f,m,v),t.update(m,i,v))}function l(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,m,0,v);let x=0;for(let M=0;M<v;M++)x+=m[M];t.update(x,i,1)}function d(f,m,v,_){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let M=0;M<f.length;M++)o(f[M],m[M],_[M]);else{x.multiDrawArraysInstancedWEBGL(i,f,0,m,0,_,0,v);let M=0;for(let C=0;C<v;C++)M+=m[C]*_[C];t.update(M,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=d}function x9(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const Z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(Z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(Z){return!(Z!==_s&&i.convert(Z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(Z){const z=Z===Zf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Z!==oa&&i.convert(Z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&Z!==ho&&!z)}function d(Z){if(Z==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";Z="mediump"}return Z==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const m=d(f);m!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",m,"instead."),f=m);const v=t.logarithmicDepthBuffer===!0,_=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),x=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),k=n.getParameter(n.MAX_VARYING_VECTORS),O=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),j=M>0,X=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:o,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:v,reverseDepthBuffer:_,maxTextures:x,maxVertexTextures:M,maxTextureSize:C,maxCubemapSize:T,maxAttributes:w,maxVertexUniforms:R,maxVaryings:k,maxFragmentUniforms:O,vertexTextures:j,maxSamples:X}}function w9(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new kc,l=new bn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,_){const x=v.length!==0||_||i!==0||r;return r=_,i=v.length,x},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(v,_){t=m(v,_,0)},this.setState=function(v,_,x){const M=v.clippingPlanes,C=v.clipIntersection,T=v.clipShadows,w=n.get(v);if(!r||M===null||M.length===0||s&&!T)s?m(null):f();else{const R=s?0:i,k=R*4;let O=w.clippingState||null;d.value=O,O=m(M,_,k,x);for(let j=0;j!==k;++j)O[j]=t[j];w.clippingState=O,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=R}};function f(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(v,_,x,M){const C=v!==null?v.length:0;let T=null;if(C!==0){if(T=d.value,M!==!0||T===null){const w=x+C*4,R=_.matrixWorldInverse;l.getNormalMatrix(R),(T===null||T.length<w)&&(T=new Float32Array(w));for(let k=0,O=x;k!==C;++k,O+=4)o.copy(v[k]).applyMatrix4(R,l),o.normal.toArray(T,O),T[O+3]=o.constant}d.value=T,d.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,T}}function S9(n){let e=new WeakMap;function t(o,l){return l===bm?o.mapping=Iu:l===Tm&&(o.mapping=Vc),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===bm||l===Tm)if(e.has(o)){const d=e.get(o).texture;return t(d,o.mapping)}else{const d=o.image;if(d&&d.height>0){const f=new Z2(d.height);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const d=e.get(l);d!==void 0&&(e.delete(l),d.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const mf=4,xE=[.125,.215,.35,.446,.526,.582],Gd=20,Zx=new dg,wE=new zt;let Yx=null,qx=0,$x=0,Kx=!1;const jd=(1+Math.sqrt(5))/2,af=1/jd,SE=[new le(-jd,af,0),new le(jd,af,0),new le(-af,0,jd),new le(af,0,jd),new le(0,jd,-af),new le(0,jd,af),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],b9=new le;class a1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:o=256,position:l=b9}=s;Yx=this._renderer.getRenderTarget(),qx=this._renderer.getActiveCubeFace(),$x=this._renderer.getActiveMipmapLevel(),Kx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,r,d,l),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ME(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=TE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Yx,qx,$x),this._renderer.xr.enabled=Kx,e.scissorTest=!1,Yv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Iu||e.mapping===Vc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Yx=this._renderer.getRenderTarget(),qx=this._renderer.getActiveCubeFace(),$x=this._renderer.getActiveMipmapLevel(),Kx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ar,minFilter:ar,generateMipmaps:!1,type:Zf,format:_s,colorSpace:ah,depthBuffer:!1},r=bE(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bE(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=T9(s)),this._blurMaterial=M9(s,e,t)}return r}_compileMaterial(e){const t=new lr(this._lodPlanes[0],e);this._renderer.compile(t,Zx)}_sceneToCubeUV(e,t,i,r,s){const d=new Fr(90,1,t,i),f=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,_=v.autoClear,x=v.toneMapping;v.getClearColor(wE),v.toneMapping=Cl,v.autoClear=!1;const M=new Xc({name:"PMREM.Background",side:js,depthWrite:!1,depthTest:!1}),C=new lr(new hh,M);let T=!1;const w=e.background;w?w.isColor&&(M.color.copy(w),e.background=null,T=!0):(M.color.copy(wE),T=!0);for(let R=0;R<6;R++){const k=R%3;k===0?(d.up.set(0,f[R],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x+m[R],s.y,s.z)):k===1?(d.up.set(0,0,f[R]),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y+m[R],s.z)):(d.up.set(0,f[R],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y,s.z+m[R]));const O=this._cubeSize;Yv(r,k*O,R>2?O:0,O,O),v.setRenderTarget(r),T&&v.render(C,d),v.render(e,d)}C.geometry.dispose(),C.material.dispose(),v.toneMapping=x,v.autoClear=_,e.background=w}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Iu||e.mapping===Vc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ME()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=TE());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new lr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const d=this._cubeSize;Yv(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(o,Zx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=SE[(r-s-1)%SE.length];this._blur(e,s-1,s,o,l)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,l){const d=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new lr(this._lodPlanes[r],f),_=f.uniforms,x=this._sizeLods[i]-1,M=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*Gd-1),C=s/M,T=isFinite(s)?1+Math.floor(m*C):Gd;T>Gd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Gd}`);const w=[];let R=0;for(let Z=0;Z<Gd;++Z){const z=Z/C,U=Math.exp(-z*z/2);w.push(U),Z===0?R+=U:Z<T&&(R+=2*U)}for(let Z=0;Z<w.length;Z++)w[Z]=w[Z]/R;_.envMap.value=e.texture,_.samples.value=T,_.weights.value=w,_.latitudinal.value=o==="latitudinal",l&&(_.poleAxis.value=l);const{_lodMax:k}=this;_.dTheta.value=M,_.mipInt.value=k-i;const O=this._sizeLods[r],j=3*O*(r>k-mf?r-k+mf:0),X=4*(this._cubeSize-O);Yv(t,j,X,3*O,2*O),d.setRenderTarget(t),d.render(v,Zx)}}function T9(n){const e=[],t=[],i=[];let r=n;const s=n-mf+1+xE.length;for(let o=0;o<s;o++){const l=Math.pow(2,r);t.push(l);let d=1/l;o>n-mf?d=xE[o-n+mf-1]:o===0&&(d=0),i.push(d);const f=1/(l-2),m=-f,v=1+f,_=[m,m,v,m,v,v,m,m,v,v,m,v],x=6,M=6,C=3,T=2,w=1,R=new Float32Array(C*M*x),k=new Float32Array(T*M*x),O=new Float32Array(w*M*x);for(let X=0;X<x;X++){const Z=X%3*2/3-1,z=X>2?0:-1,U=[Z,z,0,Z+2/3,z,0,Z+2/3,z+1,0,Z,z,0,Z+2/3,z+1,0,Z,z+1,0];R.set(U,C*M*X),k.set(_,T*M*X);const N=[X,X,X,X,X,X];O.set(N,w*M*X)}const j=new Tn;j.setAttribute("position",new oi(R,C)),j.setAttribute("uv",new oi(k,T)),j.setAttribute("faceIndex",new oi(O,w)),e.push(j),r>mf&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function bE(n,e,t){const i=new Nl(n,e,t);return i.texture.mapping=Xf,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Yv(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function M9(n,e,t){const i=new Float32Array(Gd),r=new le(0,1,0);return new aa({name:"SphericalGaussianBlur",defines:{n:Gd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function TE(){return new aa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function ME(){return new aa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Eu,depthTest:!1,depthWrite:!1})}function jS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function E9(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const d=l.mapping,f=d===bm||d===Tm,m=d===Iu||d===Vc;if(f||m){let v=e.get(l);const _=v!==void 0?v.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==_)return t===null&&(t=new a1(n)),v=f?t.fromEquirectangular(l,v):t.fromCubemap(l,v),v.texture.pmremVersion=l.pmremVersion,e.set(l,v),v.texture;if(v!==void 0)return v.texture;{const x=l.image;return f&&x&&x.height>0||m&&x&&r(x)?(t===null&&(t=new a1(n)),v=f?t.fromEquirectangular(l):t.fromCubemap(l),v.texture.pmremVersion=l.pmremVersion,e.set(l,v),l.addEventListener("dispose",s),v.texture):null}}}return l}function r(l){let d=0;const f=6;for(let m=0;m<f;m++)l[m]!==void 0&&d++;return d===f}function s(l){const d=l.target;d.removeEventListener("dispose",s);const f=e.get(d);f!==void 0&&(e.delete(d),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function C9(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Mf("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function A9(n,e,t,i){const r={},s=new WeakMap;function o(v){const _=v.target;_.index!==null&&e.remove(_.index);for(const M in _.attributes)e.remove(_.attributes[M]);_.removeEventListener("dispose",o),delete r[_.id];const x=s.get(_);x&&(e.remove(x),s.delete(_)),i.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function l(v,_){return r[_.id]===!0||(_.addEventListener("dispose",o),r[_.id]=!0,t.memory.geometries++),_}function d(v){const _=v.attributes;for(const x in _)e.update(_[x],n.ARRAY_BUFFER)}function f(v){const _=[],x=v.index,M=v.attributes.position;let C=0;if(x!==null){const R=x.array;C=x.version;for(let k=0,O=R.length;k<O;k+=3){const j=R[k+0],X=R[k+1],Z=R[k+2];_.push(j,X,X,Z,Z,j)}}else if(M!==void 0){const R=M.array;C=M.version;for(let k=0,O=R.length/3-1;k<O;k+=3){const j=k+0,X=k+1,Z=k+2;_.push(j,X,X,Z,Z,j)}}else return;const T=new(B2(_)?yS:vS)(_,1);T.version=C;const w=s.get(v);w&&e.remove(w),s.set(v,T)}function m(v){const _=s.get(v);if(_){const x=v.index;x!==null&&_.version<x.version&&f(v)}else f(v);return s.get(v)}return{get:l,update:d,getWireframeAttribute:m}}function P9(n,e,t){let i;function r(_){i=_}let s,o;function l(_){s=_.type,o=_.bytesPerElement}function d(_,x){n.drawElements(i,x,s,_*o),t.update(x,i,1)}function f(_,x,M){M!==0&&(n.drawElementsInstanced(i,x,s,_*o,M),t.update(x,i,M))}function m(_,x,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,x,0,s,_,0,M);let T=0;for(let w=0;w<M;w++)T+=x[w];t.update(T,i,1)}function v(_,x,M,C){if(M===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let w=0;w<_.length;w++)f(_[w]/o,x[w],C[w]);else{T.multiDrawElementsInstancedWEBGL(i,x,0,s,_,0,C,0,M);let w=0;for(let R=0;R<M;R++)w+=x[R]*C[R];t.update(w,i,1)}}this.setMode=r,this.setIndex=l,this.render=d,this.renderInstances=f,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function R9(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,l){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=l*(s/3);break;case n.LINES:t.lines+=l*(s/2);break;case n.LINE_STRIP:t.lines+=l*(s-1);break;case n.LINE_LOOP:t.lines+=l*s;break;case n.POINTS:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function L9(n,e,t){const i=new WeakMap,r=new Hn;function s(o,l,d){const f=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,v=m!==void 0?m.length:0;let _=i.get(l);if(_===void 0||_.count!==v){let N=function(){z.dispose(),i.delete(l),l.removeEventListener("dispose",N)};var x=N;_!==void 0&&_.texture.dispose();const M=l.morphAttributes.position!==void 0,C=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,w=l.morphAttributes.position||[],R=l.morphAttributes.normal||[],k=l.morphAttributes.color||[];let O=0;M===!0&&(O=1),C===!0&&(O=2),T===!0&&(O=3);let j=l.attributes.position.count*O,X=1;j>e.maxTextureSize&&(X=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const Z=new Float32Array(j*X*4*v),z=new H0(Z,j,X,v);z.type=ho,z.needsUpdate=!0;const U=O*4;for(let Y=0;Y<v;Y++){const Q=w[Y],ae=R[Y],se=k[Y],ge=j*X*4*Y;for(let he=0;he<Q.count;he++){const de=he*U;M===!0&&(r.fromBufferAttribute(Q,he),Z[ge+de+0]=r.x,Z[ge+de+1]=r.y,Z[ge+de+2]=r.z,Z[ge+de+3]=0),C===!0&&(r.fromBufferAttribute(ae,he),Z[ge+de+4]=r.x,Z[ge+de+5]=r.y,Z[ge+de+6]=r.z,Z[ge+de+7]=0),T===!0&&(r.fromBufferAttribute(se,he),Z[ge+de+8]=r.x,Z[ge+de+9]=r.y,Z[ge+de+10]=r.z,Z[ge+de+11]=se.itemSize===4?r.w:1)}}_={count:v,texture:z,size:new tt(j,X)},i.set(l,_),l.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let M=0;for(let T=0;T<f.length;T++)M+=f[T];const C=l.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",C),d.getUniforms().setValue(n,"morphTargetInfluences",f)}d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:s}}function I9(n,e,t,i){let r=new WeakMap;function s(d){const f=i.render.frame,m=d.geometry,v=e.get(d,m);if(r.get(v)!==f&&(e.update(v),r.set(v,f)),d.isInstancedMesh&&(d.hasEventListener("dispose",l)===!1&&d.addEventListener("dispose",l),r.get(d)!==f&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),r.set(d,f))),d.isSkinnedMesh){const _=d.skeleton;r.get(_)!==f&&(_.update(),r.set(_,f))}return v}function o(){r=new WeakMap}function l(d){const f=d.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const ZL=new Oi,EE=new SS(1,1),YL=new H0,qL=new j0,$L=new rg,CE=[],AE=[],PE=new Float32Array(16),RE=new Float32Array(9),LE=new Float32Array(4);function Kf(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=CE[r];if(s===void 0&&(s=new Float32Array(r),CE[r]=s),e!==0){i.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=t,n[o].toArray(s,l)}return s}function wr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Sr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function c_(n,e){let t=AE[e];t===void 0&&(t=new Int32Array(e),AE[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function k9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function N9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2fv(this.addr,e),Sr(t,e)}}function O9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(wr(t,e))return;n.uniform3fv(this.addr,e),Sr(t,e)}}function D9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4fv(this.addr,e),Sr(t,e)}}function F9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Sr(t,e)}else{if(wr(t,i))return;LE.set(i),n.uniformMatrix2fv(this.addr,!1,LE),Sr(t,i)}}function z9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Sr(t,e)}else{if(wr(t,i))return;RE.set(i),n.uniformMatrix3fv(this.addr,!1,RE),Sr(t,i)}}function U9(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Sr(t,e)}else{if(wr(t,i))return;PE.set(i),n.uniformMatrix4fv(this.addr,!1,PE),Sr(t,i)}}function B9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function V9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2iv(this.addr,e),Sr(t,e)}}function H9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wr(t,e))return;n.uniform3iv(this.addr,e),Sr(t,e)}}function j9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4iv(this.addr,e),Sr(t,e)}}function W9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function G9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2uiv(this.addr,e),Sr(t,e)}}function X9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wr(t,e))return;n.uniform3uiv(this.addr,e),Sr(t,e)}}function Z9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4uiv(this.addr,e),Sr(t,e)}}function Y9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(EE.compareFunction=pS,s=EE):s=ZL,t.setTexture2D(e||s,r)}function q9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||qL,r)}function $9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||$L,r)}function K9(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||YL,r)}function J9(n){switch(n){case 5126:return k9;case 35664:return N9;case 35665:return O9;case 35666:return D9;case 35674:return F9;case 35675:return z9;case 35676:return U9;case 5124:case 35670:return B9;case 35667:case 35671:return V9;case 35668:case 35672:return H9;case 35669:case 35673:return j9;case 5125:return W9;case 36294:return G9;case 36295:return X9;case 36296:return Z9;case 35678:case 36198:case 36298:case 36306:case 35682:return Y9;case 35679:case 36299:case 36307:return q9;case 35680:case 36300:case 36308:case 36293:return $9;case 36289:case 36303:case 36311:case 36292:return K9}}function Q9(n,e){n.uniform1fv(this.addr,e)}function e7(n,e){const t=Kf(e,this.size,2);n.uniform2fv(this.addr,t)}function t7(n,e){const t=Kf(e,this.size,3);n.uniform3fv(this.addr,t)}function n7(n,e){const t=Kf(e,this.size,4);n.uniform4fv(this.addr,t)}function i7(n,e){const t=Kf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function r7(n,e){const t=Kf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function s7(n,e){const t=Kf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function o7(n,e){n.uniform1iv(this.addr,e)}function a7(n,e){n.uniform2iv(this.addr,e)}function l7(n,e){n.uniform3iv(this.addr,e)}function u7(n,e){n.uniform4iv(this.addr,e)}function c7(n,e){n.uniform1uiv(this.addr,e)}function d7(n,e){n.uniform2uiv(this.addr,e)}function h7(n,e){n.uniform3uiv(this.addr,e)}function f7(n,e){n.uniform4uiv(this.addr,e)}function p7(n,e,t){const i=this.cache,r=e.length,s=c_(t,r);wr(i,s)||(n.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||ZL,s[o])}function m7(n,e,t){const i=this.cache,r=e.length,s=c_(t,r);wr(i,s)||(n.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||qL,s[o])}function g7(n,e,t){const i=this.cache,r=e.length,s=c_(t,r);wr(i,s)||(n.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||$L,s[o])}function v7(n,e,t){const i=this.cache,r=e.length,s=c_(t,r);wr(i,s)||(n.uniform1iv(this.addr,s),Sr(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||YL,s[o])}function y7(n){switch(n){case 5126:return Q9;case 35664:return e7;case 35665:return t7;case 35666:return n7;case 35674:return i7;case 35675:return r7;case 35676:return s7;case 5124:case 35670:return o7;case 35667:case 35671:return a7;case 35668:case 35672:return l7;case 35669:case 35673:return u7;case 5125:return c7;case 36294:return d7;case 36295:return h7;case 36296:return f7;case 35678:case 36198:case 36298:case 36306:case 35682:return p7;case 35679:case 36299:case 36307:return m7;case 35680:case 36300:case 36308:case 36293:return g7;case 36289:case 36303:case 36311:case 36292:return v7}}class _7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=J9(t.type)}}class x7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=y7(t.type)}}class w7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const l=r[s];l.setValue(e,t[l.id],i)}}}const Jx=/(\w+)(\])?(\[|\.)?/g;function IE(n,e){n.seq.push(e),n.map[e.id]=e}function S7(n,e,t){const i=n.name,r=i.length;for(Jx.lastIndex=0;;){const s=Jx.exec(i),o=Jx.lastIndex;let l=s[1];const d=s[2]==="]",f=s[3];if(d&&(l=l|0),f===void 0||f==="["&&o+2===r){IE(t,f===void 0?new _7(l,n,e):new x7(l,n,e));break}else{let v=t.map[l];v===void 0&&(v=new w7(l),IE(t,v)),t=v}}}class uy{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);S7(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const l=t[s],d=i[l.id];d.needsUpdate!==!1&&l.setValue(e,d.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function kE(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const b7=37297;let T7=0;function M7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const l=o+1;i.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return i.join(`
`)}const NE=new bn;function E7(n){zn._getMatrix(NE,zn.workingColorSpace,n);const e=`mat3( ${NE.elements.map(t=>t.toFixed(4))} )`;switch(zn.getTransfer(n)){case Pm:return[e,"LinearTransferOETF"];case Qn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function OE(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+M7(n.getShaderSource(e),o)}else return r}function C7(n,e){const t=E7(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function A7(n,e){let t;switch(e){case x2:t="Linear";break;case w2:t="Reinhard";break;case S2:t="Cineon";break;case rS:t="ACESFilmic";break;case T2:t="AgX";break;case M2:t="Neutral";break;case b2:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const qv=new le;function P7(){zn.getLuminanceCoefficients(qv);const n=qv.x.toFixed(4),e=qv.y.toFixed(4),t=qv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function R7(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($p).join(`
`)}function L7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function I7(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let l=1;s.type===n.FLOAT_MAT2&&(l=2),s.type===n.FLOAT_MAT3&&(l=3),s.type===n.FLOAT_MAT4&&(l=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:l}}return t}function $p(n){return n!==""}function DE(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FE(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const k7=/^[ \t]*#include +<([\w\d./]+)>/gm;function l1(n){return n.replace(k7,O7)}const N7=new Map;function O7(n,e){let t=Pn[e];if(t===void 0){const i=N7.get(e);if(i!==void 0)t=Pn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return l1(t)}const D7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zE(n){return n.replace(D7,F7)}function F7(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function UE(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function z7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===k0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===tm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Za&&(e="SHADOWMAP_TYPE_VSM"),e}function U7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Iu:case Vc:e="ENVMAP_TYPE_CUBE";break;case Xf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function B7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vc:e="ENVMAP_MODE_REFRACTION";break}return e}function V7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case tg:e="ENVMAP_BLENDING_MULTIPLY";break;case y2:e="ENVMAP_BLENDING_MIX";break;case _2:e="ENVMAP_BLENDING_ADD";break}return e}function H7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function j7(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,l=t.fragmentShader;const d=z7(t),f=U7(t),m=B7(t),v=V7(t),_=H7(t),x=R7(t),M=L7(s),C=r.createProgram();let T,w,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(T=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter($p).join(`
`),T.length>0&&(T+=`
`),w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter($p).join(`
`),w.length>0&&(w+=`
`)):(T=[UE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($p).join(`
`),w=[UE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+m:"",t.envMap?"#define "+v:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Cl?"#define TONE_MAPPING":"",t.toneMapping!==Cl?Pn.tonemapping_pars_fragment:"",t.toneMapping!==Cl?A7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Pn.colorspace_pars_fragment,C7("linearToOutputTexel",t.outputColorSpace),P7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($p).join(`
`)),o=l1(o),o=DE(o,t),o=FE(o,t),l=l1(l),l=DE(l,t),l=FE(l,t),o=zE(o),l=zE(l),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,T=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,w=["#define varying in",t.glslVersion===Qw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Qw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const k=R+T+o,O=R+w+l,j=kE(r,r.VERTEX_SHADER,k),X=kE(r,r.FRAGMENT_SHADER,O);r.attachShader(C,j),r.attachShader(C,X),t.index0AttributeName!==void 0?r.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(C,0,"position"),r.linkProgram(C);function Z(Y){if(n.debug.checkShaderErrors){const Q=r.getProgramInfoLog(C).trim(),ae=r.getShaderInfoLog(j).trim(),se=r.getShaderInfoLog(X).trim();let ge=!0,he=!0;if(r.getProgramParameter(C,r.LINK_STATUS)===!1)if(ge=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,C,j,X);else{const de=OE(r,j,"vertex"),W=OE(r,X,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(C,r.VALIDATE_STATUS)+`

Material Name: `+Y.name+`
Material Type: `+Y.type+`

Program Info Log: `+Q+`
`+de+`
`+W)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(ae===""||se==="")&&(he=!1);he&&(Y.diagnostics={runnable:ge,programLog:Q,vertexShader:{log:ae,prefix:T},fragmentShader:{log:se,prefix:w}})}r.deleteShader(j),r.deleteShader(X),z=new uy(r,C),U=I7(r,C)}let z;this.getUniforms=function(){return z===void 0&&Z(this),z};let U;this.getAttributes=function(){return U===void 0&&Z(this),U};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=r.getProgramParameter(C,b7)),N},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(C),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=T7++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=j,this.fragmentShader=X,this}let W7=0;class G7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new X7(e),t.set(e,i)),i}}class X7{constructor(e){this.id=W7++,this.code=e,this.usedTimes=0}}function Z7(n,e,t,i,r,s,o){const l=new Qd,d=new G7,f=new Set,m=[],v=r.logarithmicDepthBuffer,_=r.vertexTextures;let x=r.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(U){return f.add(U),U===0?"uv":`uv${U}`}function T(U,N,Y,Q,ae){const se=Q.fog,ge=ae.geometry,he=U.isMeshStandardMaterial?Q.environment:null,de=(U.isMeshStandardMaterial?t:e).get(U.envMap||he),W=de&&de.mapping===Xf?de.image.height:null,ie=M[U.type];U.precision!==null&&(x=r.getMaxPrecision(U.precision),x!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",x,"instead."));const ee=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,K=ee!==void 0?ee.length:0;let oe=0;ge.morphAttributes.position!==void 0&&(oe=1),ge.morphAttributes.normal!==void 0&&(oe=2),ge.morphAttributes.color!==void 0&&(oe=3);let we,ce,me,_e;if(ie){const an=Ya[ie];we=an.vertexShader,ce=an.fragmentShader}else we=U.vertexShader,ce=U.fragmentShader,d.update(U),me=d.getVertexShaderID(U),_e=d.getFragmentShaderID(U);const xe=n.getRenderTarget(),Ge=n.state.buffers.depth.getReversed(),$e=ae.isInstancedMesh===!0,Qe=ae.isBatchedMesh===!0,nt=!!U.map,ht=!!U.matcap,ct=!!de,re=!!U.aoMap,rt=!!U.lightMap,Ze=!!U.bumpMap,Be=!!U.normalMap,Pe=!!U.displacementMap,Xe=!!U.emissiveMap,Me=!!U.metalnessMap,We=!!U.roughnessMap,it=U.anisotropy>0,ne=U.clearcoat>0,q=U.dispersion>0,Se=U.iridescence>0,Re=U.sheen>0,He=U.transmission>0,Ue=it&&!!U.anisotropyMap,It=ne&&!!U.clearcoatMap,ot=ne&&!!U.clearcoatNormalMap,At=ne&&!!U.clearcoatRoughnessMap,yt=Se&&!!U.iridescenceMap,qe=Se&&!!U.iridescenceThicknessMap,_t=Re&&!!U.sheenColorMap,Wt=Re&&!!U.sheenRoughnessMap,Ut=!!U.specularMap,pt=!!U.specularColorMap,en=!!U.specularIntensityMap,ye=He&&!!U.transmissionMap,xt=He&&!!U.thicknessMap,et=!!U.gradientMap,Mt=!!U.alphaMap,st=U.alphaTest>0,Ye=!!U.alphaHash,Ke=!!U.extensions;let Et=Cl;U.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Et=n.toneMapping);const Jt={shaderID:ie,shaderType:U.type,shaderName:U.name,vertexShader:we,fragmentShader:ce,defines:U.defines,customVertexShaderID:me,customFragmentShaderID:_e,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:x,batching:Qe,batchingColor:Qe&&ae._colorsTexture!==null,instancing:$e,instancingColor:$e&&ae.instanceColor!==null,instancingMorph:$e&&ae.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:ah,alphaToCoverage:!!U.alphaToCoverage,map:nt,matcap:ht,envMap:ct,envMapMode:ct&&de.mapping,envMapCubeUVHeight:W,aoMap:re,lightMap:rt,bumpMap:Ze,normalMap:Be,displacementMap:_&&Pe,emissiveMap:Xe,normalMapObjectSpace:Be&&U.normalMapType===I2,normalMapTangentSpace:Be&&U.normalMapType===Gc,metalnessMap:Me,roughnessMap:We,anisotropy:it,anisotropyMap:Ue,clearcoat:ne,clearcoatMap:It,clearcoatNormalMap:ot,clearcoatRoughnessMap:At,dispersion:q,iridescence:Se,iridescenceMap:yt,iridescenceThicknessMap:qe,sheen:Re,sheenColorMap:_t,sheenRoughnessMap:Wt,specularMap:Ut,specularColorMap:pt,specularIntensityMap:en,transmission:He,transmissionMap:ye,thicknessMap:xt,gradientMap:et,opaque:U.transparent===!1&&U.blending===Kd&&U.alphaToCoverage===!1,alphaMap:Mt,alphaTest:st,alphaHash:Ye,combine:U.combine,mapUv:nt&&C(U.map.channel),aoMapUv:re&&C(U.aoMap.channel),lightMapUv:rt&&C(U.lightMap.channel),bumpMapUv:Ze&&C(U.bumpMap.channel),normalMapUv:Be&&C(U.normalMap.channel),displacementMapUv:Pe&&C(U.displacementMap.channel),emissiveMapUv:Xe&&C(U.emissiveMap.channel),metalnessMapUv:Me&&C(U.metalnessMap.channel),roughnessMapUv:We&&C(U.roughnessMap.channel),anisotropyMapUv:Ue&&C(U.anisotropyMap.channel),clearcoatMapUv:It&&C(U.clearcoatMap.channel),clearcoatNormalMapUv:ot&&C(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:At&&C(U.clearcoatRoughnessMap.channel),iridescenceMapUv:yt&&C(U.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&C(U.iridescenceThicknessMap.channel),sheenColorMapUv:_t&&C(U.sheenColorMap.channel),sheenRoughnessMapUv:Wt&&C(U.sheenRoughnessMap.channel),specularMapUv:Ut&&C(U.specularMap.channel),specularColorMapUv:pt&&C(U.specularColorMap.channel),specularIntensityMapUv:en&&C(U.specularIntensityMap.channel),transmissionMapUv:ye&&C(U.transmissionMap.channel),thicknessMapUv:xt&&C(U.thicknessMap.channel),alphaMapUv:Mt&&C(U.alphaMap.channel),vertexTangents:!!ge.attributes.tangent&&(Be||it),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,pointsUvs:ae.isPoints===!0&&!!ge.attributes.uv&&(nt||Mt),fog:!!se,useFog:U.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:U.flatShading===!0&&U.wireframe===!1,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:Ge,skinning:ae.isSkinnedMesh===!0,morphTargets:ge.morphAttributes.position!==void 0,morphNormals:ge.morphAttributes.normal!==void 0,morphColors:ge.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:oe,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:Et,decodeVideoTexture:nt&&U.map.isVideoTexture===!0&&zn.getTransfer(U.map.colorSpace)===Qn,decodeVideoTextureEmissive:Xe&&U.emissiveMap.isVideoTexture===!0&&zn.getTransfer(U.emissiveMap.colorSpace)===Qn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Sl,flipSided:U.side===js,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Ke&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&U.extensions.multiDraw===!0||Qe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Jt.vertexUv1s=f.has(1),Jt.vertexUv2s=f.has(2),Jt.vertexUv3s=f.has(3),f.clear(),Jt}function w(U){const N=[];if(U.shaderID?N.push(U.shaderID):(N.push(U.customVertexShaderID),N.push(U.customFragmentShaderID)),U.defines!==void 0)for(const Y in U.defines)N.push(Y),N.push(U.defines[Y]);return U.isRawShaderMaterial===!1&&(R(N,U),k(N,U),N.push(n.outputColorSpace)),N.push(U.customProgramCacheKey),N.join()}function R(U,N){U.push(N.precision),U.push(N.outputColorSpace),U.push(N.envMapMode),U.push(N.envMapCubeUVHeight),U.push(N.mapUv),U.push(N.alphaMapUv),U.push(N.lightMapUv),U.push(N.aoMapUv),U.push(N.bumpMapUv),U.push(N.normalMapUv),U.push(N.displacementMapUv),U.push(N.emissiveMapUv),U.push(N.metalnessMapUv),U.push(N.roughnessMapUv),U.push(N.anisotropyMapUv),U.push(N.clearcoatMapUv),U.push(N.clearcoatNormalMapUv),U.push(N.clearcoatRoughnessMapUv),U.push(N.iridescenceMapUv),U.push(N.iridescenceThicknessMapUv),U.push(N.sheenColorMapUv),U.push(N.sheenRoughnessMapUv),U.push(N.specularMapUv),U.push(N.specularColorMapUv),U.push(N.specularIntensityMapUv),U.push(N.transmissionMapUv),U.push(N.thicknessMapUv),U.push(N.combine),U.push(N.fogExp2),U.push(N.sizeAttenuation),U.push(N.morphTargetsCount),U.push(N.morphAttributeCount),U.push(N.numDirLights),U.push(N.numPointLights),U.push(N.numSpotLights),U.push(N.numSpotLightMaps),U.push(N.numHemiLights),U.push(N.numRectAreaLights),U.push(N.numDirLightShadows),U.push(N.numPointLightShadows),U.push(N.numSpotLightShadows),U.push(N.numSpotLightShadowsWithMaps),U.push(N.numLightProbes),U.push(N.shadowMapType),U.push(N.toneMapping),U.push(N.numClippingPlanes),U.push(N.numClipIntersection),U.push(N.depthPacking)}function k(U,N){l.disableAll(),N.supportsVertexTextures&&l.enable(0),N.instancing&&l.enable(1),N.instancingColor&&l.enable(2),N.instancingMorph&&l.enable(3),N.matcap&&l.enable(4),N.envMap&&l.enable(5),N.normalMapObjectSpace&&l.enable(6),N.normalMapTangentSpace&&l.enable(7),N.clearcoat&&l.enable(8),N.iridescence&&l.enable(9),N.alphaTest&&l.enable(10),N.vertexColors&&l.enable(11),N.vertexAlphas&&l.enable(12),N.vertexUv1s&&l.enable(13),N.vertexUv2s&&l.enable(14),N.vertexUv3s&&l.enable(15),N.vertexTangents&&l.enable(16),N.anisotropy&&l.enable(17),N.alphaHash&&l.enable(18),N.batching&&l.enable(19),N.dispersion&&l.enable(20),N.batchingColor&&l.enable(21),N.gradientMap&&l.enable(22),U.push(l.mask),l.disableAll(),N.fog&&l.enable(0),N.useFog&&l.enable(1),N.flatShading&&l.enable(2),N.logarithmicDepthBuffer&&l.enable(3),N.reverseDepthBuffer&&l.enable(4),N.skinning&&l.enable(5),N.morphTargets&&l.enable(6),N.morphNormals&&l.enable(7),N.morphColors&&l.enable(8),N.premultipliedAlpha&&l.enable(9),N.shadowMapEnabled&&l.enable(10),N.doubleSided&&l.enable(11),N.flipSided&&l.enable(12),N.useDepthPacking&&l.enable(13),N.dithering&&l.enable(14),N.transmission&&l.enable(15),N.sheen&&l.enable(16),N.opaque&&l.enable(17),N.pointsUvs&&l.enable(18),N.decodeVideoTexture&&l.enable(19),N.decodeVideoTextureEmissive&&l.enable(20),N.alphaToCoverage&&l.enable(21),U.push(l.mask)}function O(U){const N=M[U.type];let Y;if(N){const Q=Ya[N];Y=G2.clone(Q.uniforms)}else Y=U.uniforms;return Y}function j(U,N){let Y;for(let Q=0,ae=m.length;Q<ae;Q++){const se=m[Q];if(se.cacheKey===N){Y=se,++Y.usedTimes;break}}return Y===void 0&&(Y=new j7(n,N,U,s),m.push(Y)),Y}function X(U){if(--U.usedTimes===0){const N=m.indexOf(U);m[N]=m[m.length-1],m.pop(),U.destroy()}}function Z(U){d.remove(U)}function z(){d.dispose()}return{getParameters:T,getProgramCacheKey:w,getUniforms:O,acquireProgram:j,releaseProgram:X,releaseShaderCache:Z,programs:m,dispose:z}}function Y7(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function r(o,l,d){n.get(o)[l]=d}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function q7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function BE(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function VE(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(v,_,x,M,C,T){let w=n[e];return w===void 0?(w={id:v.id,object:v,geometry:_,material:x,groupOrder:M,renderOrder:v.renderOrder,z:C,group:T},n[e]=w):(w.id=v.id,w.object=v,w.geometry=_,w.material=x,w.groupOrder=M,w.renderOrder=v.renderOrder,w.z=C,w.group=T),e++,w}function l(v,_,x,M,C,T){const w=o(v,_,x,M,C,T);x.transmission>0?i.push(w):x.transparent===!0?r.push(w):t.push(w)}function d(v,_,x,M,C,T){const w=o(v,_,x,M,C,T);x.transmission>0?i.unshift(w):x.transparent===!0?r.unshift(w):t.unshift(w)}function f(v,_){t.length>1&&t.sort(v||q7),i.length>1&&i.sort(_||BE),r.length>1&&r.sort(_||BE)}function m(){for(let v=e,_=n.length;v<_;v++){const x=n[v];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:l,unshift:d,finish:m,sort:f}}function $7(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new VE,n.set(i,[o])):r>=s.length?(o=new VE,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function K7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new le,color:new zt};break;case"SpotLight":t={position:new le,direction:new le,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new le,color:new zt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new le,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":t={color:new zt,position:new le,halfWidth:new le,halfHeight:new le};break}return n[e.id]=t,t}}}function J7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Q7=0;function ej(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function tj(n){const e=new K7,t=J7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new le);const r=new le,s=new ln,o=new ln;function l(f){let m=0,v=0,_=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let x=0,M=0,C=0,T=0,w=0,R=0,k=0,O=0,j=0,X=0,Z=0;f.sort(ej);for(let U=0,N=f.length;U<N;U++){const Y=f[U],Q=Y.color,ae=Y.intensity,se=Y.distance,ge=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)m+=Q.r*ae,v+=Q.g*ae,_+=Q.b*ae;else if(Y.isLightProbe){for(let he=0;he<9;he++)i.probe[he].addScaledVector(Y.sh.coefficients[he],ae);Z++}else if(Y.isDirectionalLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),Y.castShadow){const de=Y.shadow,W=t.get(Y);W.shadowIntensity=de.intensity,W.shadowBias=de.bias,W.shadowNormalBias=de.normalBias,W.shadowRadius=de.radius,W.shadowMapSize=de.mapSize,i.directionalShadow[x]=W,i.directionalShadowMap[x]=ge,i.directionalShadowMatrix[x]=Y.shadow.matrix,R++}i.directional[x]=he,x++}else if(Y.isSpotLight){const he=e.get(Y);he.position.setFromMatrixPosition(Y.matrixWorld),he.color.copy(Q).multiplyScalar(ae),he.distance=se,he.coneCos=Math.cos(Y.angle),he.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),he.decay=Y.decay,i.spot[C]=he;const de=Y.shadow;if(Y.map&&(i.spotLightMap[j]=Y.map,j++,de.updateMatrices(Y),Y.castShadow&&X++),i.spotLightMatrix[C]=de.matrix,Y.castShadow){const W=t.get(Y);W.shadowIntensity=de.intensity,W.shadowBias=de.bias,W.shadowNormalBias=de.normalBias,W.shadowRadius=de.radius,W.shadowMapSize=de.mapSize,i.spotShadow[C]=W,i.spotShadowMap[C]=ge,O++}C++}else if(Y.isRectAreaLight){const he=e.get(Y);he.color.copy(Q).multiplyScalar(ae),he.halfWidth.set(Y.width*.5,0,0),he.halfHeight.set(0,Y.height*.5,0),i.rectArea[T]=he,T++}else if(Y.isPointLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),he.distance=Y.distance,he.decay=Y.decay,Y.castShadow){const de=Y.shadow,W=t.get(Y);W.shadowIntensity=de.intensity,W.shadowBias=de.bias,W.shadowNormalBias=de.normalBias,W.shadowRadius=de.radius,W.shadowMapSize=de.mapSize,W.shadowCameraNear=de.camera.near,W.shadowCameraFar=de.camera.far,i.pointShadow[M]=W,i.pointShadowMap[M]=ge,i.pointShadowMatrix[M]=Y.shadow.matrix,k++}i.point[M]=he,M++}else if(Y.isHemisphereLight){const he=e.get(Y);he.skyColor.copy(Y.color).multiplyScalar(ae),he.groundColor.copy(Y.groundColor).multiplyScalar(ae),i.hemi[w]=he,w++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_FLOAT_1,i.rectAreaLTC2=Rt.LTC_FLOAT_2):(i.rectAreaLTC1=Rt.LTC_HALF_1,i.rectAreaLTC2=Rt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=_;const z=i.hash;(z.directionalLength!==x||z.pointLength!==M||z.spotLength!==C||z.rectAreaLength!==T||z.hemiLength!==w||z.numDirectionalShadows!==R||z.numPointShadows!==k||z.numSpotShadows!==O||z.numSpotMaps!==j||z.numLightProbes!==Z)&&(i.directional.length=x,i.spot.length=C,i.rectArea.length=T,i.point.length=M,i.hemi.length=w,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=k,i.pointShadowMap.length=k,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=k,i.spotLightMatrix.length=O+j-X,i.spotLightMap.length=j,i.numSpotLightShadowsWithMaps=X,i.numLightProbes=Z,z.directionalLength=x,z.pointLength=M,z.spotLength=C,z.rectAreaLength=T,z.hemiLength=w,z.numDirectionalShadows=R,z.numPointShadows=k,z.numSpotShadows=O,z.numSpotMaps=j,z.numLightProbes=Z,i.version=Q7++)}function d(f,m){let v=0,_=0,x=0,M=0,C=0;const T=m.matrixWorldInverse;for(let w=0,R=f.length;w<R;w++){const k=f[w];if(k.isDirectionalLight){const O=i.directional[v];O.direction.setFromMatrixPosition(k.matrixWorld),r.setFromMatrixPosition(k.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(T),v++}else if(k.isSpotLight){const O=i.spot[x];O.position.setFromMatrixPosition(k.matrixWorld),O.position.applyMatrix4(T),O.direction.setFromMatrixPosition(k.matrixWorld),r.setFromMatrixPosition(k.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(T),x++}else if(k.isRectAreaLight){const O=i.rectArea[M];O.position.setFromMatrixPosition(k.matrixWorld),O.position.applyMatrix4(T),o.identity(),s.copy(k.matrixWorld),s.premultiply(T),o.extractRotation(s),O.halfWidth.set(k.width*.5,0,0),O.halfHeight.set(0,k.height*.5,0),O.halfWidth.applyMatrix4(o),O.halfHeight.applyMatrix4(o),M++}else if(k.isPointLight){const O=i.point[_];O.position.setFromMatrixPosition(k.matrixWorld),O.position.applyMatrix4(T),_++}else if(k.isHemisphereLight){const O=i.hemi[C];O.direction.setFromMatrixPosition(k.matrixWorld),O.direction.transformDirection(T),C++}}}return{setup:l,setupView:d,state:i}}function HE(n){const e=new tj(n),t=[],i=[];function r(m){f.camera=m,t.length=0,i.length=0}function s(m){t.push(m)}function o(m){i.push(m)}function l(){e.setup(t)}function d(m){e.setupView(t,m)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:d,pushLight:s,pushShadow:o}}function nj(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let l;return o===void 0?(l=new HE(n),e.set(r,[l])):s>=o.length?(l=new HE(n),o.push(l)):l=o[s],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const ij=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,rj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sj(n,e,t){let i=new qf;const r=new tt,s=new tt,o=new Hn,l=new RS({depthPacking:L2}),d=new LS,f={},m=t.maxTextureSize,v={[Lu]:js,[js]:Lu,[Sl]:Sl},_=new aa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:ij,fragmentShader:rj}),x=_.clone();x.defines.HORIZONTAL_PASS=1;const M=new Tn;M.setAttribute("position",new oi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new lr(M,_),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=k0;let w=this.type;this.render=function(X,Z,z){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||X.length===0)return;const U=n.getRenderTarget(),N=n.getActiveCubeFace(),Y=n.getActiveMipmapLevel(),Q=n.state;Q.setBlending(Eu),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const ae=w!==Za&&this.type===Za,se=w===Za&&this.type!==Za;for(let ge=0,he=X.length;ge<he;ge++){const de=X[ge],W=de.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const ie=W.getFrameExtents();if(r.multiply(ie),s.copy(W.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/ie.x),r.x=s.x*ie.x,W.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/ie.y),r.y=s.y*ie.y,W.mapSize.y=s.y)),W.map===null||ae===!0||se===!0){const K=this.type!==Za?{minFilter:is,magFilter:is}:{};W.map!==null&&W.map.dispose(),W.map=new Nl(r.x,r.y,K),W.map.texture.name=de.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const ee=W.getViewportCount();for(let K=0;K<ee;K++){const oe=W.getViewport(K);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),Q.viewport(o),W.updateMatrices(de,K),i=W.getFrustum(),O(Z,z,W.camera,de,this.type)}W.isPointLightShadow!==!0&&this.type===Za&&R(W,z),W.needsUpdate=!1}w=this.type,T.needsUpdate=!1,n.setRenderTarget(U,N,Y)};function R(X,Z){const z=e.update(C);_.defines.VSM_SAMPLES!==X.blurSamples&&(_.defines.VSM_SAMPLES=X.blurSamples,x.defines.VSM_SAMPLES=X.blurSamples,_.needsUpdate=!0,x.needsUpdate=!0),X.mapPass===null&&(X.mapPass=new Nl(r.x,r.y)),_.uniforms.shadow_pass.value=X.map.texture,_.uniforms.resolution.value=X.mapSize,_.uniforms.radius.value=X.radius,n.setRenderTarget(X.mapPass),n.clear(),n.renderBufferDirect(Z,null,z,_,C,null),x.uniforms.shadow_pass.value=X.mapPass.texture,x.uniforms.resolution.value=X.mapSize,x.uniforms.radius.value=X.radius,n.setRenderTarget(X.map),n.clear(),n.renderBufferDirect(Z,null,z,x,C,null)}function k(X,Z,z,U){let N=null;const Y=z.isPointLight===!0?X.customDistanceMaterial:X.customDepthMaterial;if(Y!==void 0)N=Y;else if(N=z.isPointLight===!0?d:l,n.localClippingEnabled&&Z.clipShadows===!0&&Array.isArray(Z.clippingPlanes)&&Z.clippingPlanes.length!==0||Z.displacementMap&&Z.displacementScale!==0||Z.alphaMap&&Z.alphaTest>0||Z.map&&Z.alphaTest>0||Z.alphaToCoverage===!0){const Q=N.uuid,ae=Z.uuid;let se=f[Q];se===void 0&&(se={},f[Q]=se);let ge=se[ae];ge===void 0&&(ge=N.clone(),se[ae]=ge,Z.addEventListener("dispose",j)),N=ge}if(N.visible=Z.visible,N.wireframe=Z.wireframe,U===Za?N.side=Z.shadowSide!==null?Z.shadowSide:Z.side:N.side=Z.shadowSide!==null?Z.shadowSide:v[Z.side],N.alphaMap=Z.alphaMap,N.alphaTest=Z.alphaToCoverage===!0?.5:Z.alphaTest,N.map=Z.map,N.clipShadows=Z.clipShadows,N.clippingPlanes=Z.clippingPlanes,N.clipIntersection=Z.clipIntersection,N.displacementMap=Z.displacementMap,N.displacementScale=Z.displacementScale,N.displacementBias=Z.displacementBias,N.wireframeLinewidth=Z.wireframeLinewidth,N.linewidth=Z.linewidth,z.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const Q=n.properties.get(N);Q.light=z}return N}function O(X,Z,z,U,N){if(X.visible===!1)return;if(X.layers.test(Z.layers)&&(X.isMesh||X.isLine||X.isPoints)&&(X.castShadow||X.receiveShadow&&N===Za)&&(!X.frustumCulled||i.intersectsObject(X))){X.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,X.matrixWorld);const ae=e.update(X),se=X.material;if(Array.isArray(se)){const ge=ae.groups;for(let he=0,de=ge.length;he<de;he++){const W=ge[he],ie=se[W.materialIndex];if(ie&&ie.visible){const ee=k(X,ie,U,N);X.onBeforeShadow(n,X,Z,z,ae,ee,W),n.renderBufferDirect(z,null,ae,ee,X,W),X.onAfterShadow(n,X,Z,z,ae,ee,W)}}}else if(se.visible){const ge=k(X,se,U,N);X.onBeforeShadow(n,X,Z,z,ae,ge,null),n.renderBufferDirect(z,null,ae,ge,X,null),X.onAfterShadow(n,X,Z,z,ae,ge,null)}}const Q=X.children;for(let ae=0,se=Q.length;ae<se;ae++)O(Q[ae],Z,z,U,N)}function j(X){X.target.removeEventListener("dispose",j);for(const z in f){const U=f[z],N=X.target.uuid;N in U&&(U[N].dispose(),delete U[N])}}}const oj={[Ey]:Cy,[Ay]:Ly,[Py]:Iy,[oh]:Ry,[Cy]:Ey,[Ly]:Ay,[Iy]:Py,[Ry]:oh};function aj(n,e){function t(){let ye=!1;const xt=new Hn;let et=null;const Mt=new Hn(0,0,0,0);return{setMask:function(st){et!==st&&!ye&&(n.colorMask(st,st,st,st),et=st)},setLocked:function(st){ye=st},setClear:function(st,Ye,Ke,Et,Jt){Jt===!0&&(st*=Et,Ye*=Et,Ke*=Et),xt.set(st,Ye,Ke,Et),Mt.equals(xt)===!1&&(n.clearColor(st,Ye,Ke,Et),Mt.copy(xt))},reset:function(){ye=!1,et=null,Mt.set(-1,0,0,0)}}}function i(){let ye=!1,xt=!1,et=null,Mt=null,st=null;return{setReversed:function(Ye){if(xt!==Ye){const Ke=e.get("EXT_clip_control");Ye?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT),xt=Ye;const Et=st;st=null,this.setClear(Et)}},getReversed:function(){return xt},setTest:function(Ye){Ye?xe(n.DEPTH_TEST):Ge(n.DEPTH_TEST)},setMask:function(Ye){et!==Ye&&!ye&&(n.depthMask(Ye),et=Ye)},setFunc:function(Ye){if(xt&&(Ye=oj[Ye]),Mt!==Ye){switch(Ye){case Ey:n.depthFunc(n.NEVER);break;case Cy:n.depthFunc(n.ALWAYS);break;case Ay:n.depthFunc(n.LESS);break;case oh:n.depthFunc(n.LEQUAL);break;case Py:n.depthFunc(n.EQUAL);break;case Ry:n.depthFunc(n.GEQUAL);break;case Ly:n.depthFunc(n.GREATER);break;case Iy:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Mt=Ye}},setLocked:function(Ye){ye=Ye},setClear:function(Ye){st!==Ye&&(xt&&(Ye=1-Ye),n.clearDepth(Ye),st=Ye)},reset:function(){ye=!1,et=null,Mt=null,st=null,xt=!1}}}function r(){let ye=!1,xt=null,et=null,Mt=null,st=null,Ye=null,Ke=null,Et=null,Jt=null;return{setTest:function(an){ye||(an?xe(n.STENCIL_TEST):Ge(n.STENCIL_TEST))},setMask:function(an){xt!==an&&!ye&&(n.stencilMask(an),xt=an)},setFunc:function(an,Un,ti){(et!==an||Mt!==Un||st!==ti)&&(n.stencilFunc(an,Un,ti),et=an,Mt=Un,st=ti)},setOp:function(an,Un,ti){(Ye!==an||Ke!==Un||Et!==ti)&&(n.stencilOp(an,Un,ti),Ye=an,Ke=Un,Et=ti)},setLocked:function(an){ye=an},setClear:function(an){Jt!==an&&(n.clearStencil(an),Jt=an)},reset:function(){ye=!1,xt=null,et=null,Mt=null,st=null,Ye=null,Ke=null,Et=null,Jt=null}}}const s=new t,o=new i,l=new r,d=new WeakMap,f=new WeakMap;let m={},v={},_=new WeakMap,x=[],M=null,C=!1,T=null,w=null,R=null,k=null,O=null,j=null,X=null,Z=new zt(0,0,0),z=0,U=!1,N=null,Y=null,Q=null,ae=null,se=null;const ge=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,de=0;const W=n.getParameter(n.VERSION);W.indexOf("WebGL")!==-1?(de=parseFloat(/^WebGL (\d)/.exec(W)[1]),he=de>=1):W.indexOf("OpenGL ES")!==-1&&(de=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),he=de>=2);let ie=null,ee={};const K=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),we=new Hn().fromArray(K),ce=new Hn().fromArray(oe);function me(ye,xt,et,Mt){const st=new Uint8Array(4),Ye=n.createTexture();n.bindTexture(ye,Ye),n.texParameteri(ye,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ye,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ke=0;Ke<et;Ke++)ye===n.TEXTURE_3D||ye===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,Mt,0,n.RGBA,n.UNSIGNED_BYTE,st):n.texImage2D(xt+Ke,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,st);return Ye}const _e={};_e[n.TEXTURE_2D]=me(n.TEXTURE_2D,n.TEXTURE_2D,1),_e[n.TEXTURE_CUBE_MAP]=me(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[n.TEXTURE_2D_ARRAY]=me(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_e[n.TEXTURE_3D]=me(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),l.setClear(0),xe(n.DEPTH_TEST),o.setFunc(oh),Ze(!1),Be(Zw),xe(n.CULL_FACE),re(Eu);function xe(ye){m[ye]!==!0&&(n.enable(ye),m[ye]=!0)}function Ge(ye){m[ye]!==!1&&(n.disable(ye),m[ye]=!1)}function $e(ye,xt){return v[ye]!==xt?(n.bindFramebuffer(ye,xt),v[ye]=xt,ye===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=xt),ye===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=xt),!0):!1}function Qe(ye,xt){let et=x,Mt=!1;if(ye){et=_.get(xt),et===void 0&&(et=[],_.set(xt,et));const st=ye.textures;if(et.length!==st.length||et[0]!==n.COLOR_ATTACHMENT0){for(let Ye=0,Ke=st.length;Ye<Ke;Ye++)et[Ye]=n.COLOR_ATTACHMENT0+Ye;et.length=st.length,Mt=!0}}else et[0]!==n.BACK&&(et[0]=n.BACK,Mt=!0);Mt&&n.drawBuffers(et)}function nt(ye){return M!==ye?(n.useProgram(ye),M=ye,!0):!1}const ht={[Oc]:n.FUNC_ADD,[t2]:n.FUNC_SUBTRACT,[n2]:n.FUNC_REVERSE_SUBTRACT};ht[i2]=n.MIN,ht[r2]=n.MAX;const ct={[s2]:n.ZERO,[o2]:n.ONE,[a2]:n.SRC_COLOR,[Ty]:n.SRC_ALPHA,[f2]:n.SRC_ALPHA_SATURATE,[d2]:n.DST_COLOR,[u2]:n.DST_ALPHA,[l2]:n.ONE_MINUS_SRC_COLOR,[My]:n.ONE_MINUS_SRC_ALPHA,[h2]:n.ONE_MINUS_DST_COLOR,[c2]:n.ONE_MINUS_DST_ALPHA,[p2]:n.CONSTANT_COLOR,[m2]:n.ONE_MINUS_CONSTANT_COLOR,[g2]:n.CONSTANT_ALPHA,[v2]:n.ONE_MINUS_CONSTANT_ALPHA};function re(ye,xt,et,Mt,st,Ye,Ke,Et,Jt,an){if(ye===Eu){C===!0&&(Ge(n.BLEND),C=!1);return}if(C===!1&&(xe(n.BLEND),C=!0),ye!==e2){if(ye!==T||an!==U){if((w!==Oc||O!==Oc)&&(n.blendEquation(n.FUNC_ADD),w=Oc,O=Oc),an)switch(ye){case Kd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Yw:n.blendFunc(n.ONE,n.ONE);break;case qw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $w:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}else switch(ye){case Kd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Yw:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case qw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case $w:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}R=null,k=null,j=null,X=null,Z.set(0,0,0),z=0,T=ye,U=an}return}st=st||xt,Ye=Ye||et,Ke=Ke||Mt,(xt!==w||st!==O)&&(n.blendEquationSeparate(ht[xt],ht[st]),w=xt,O=st),(et!==R||Mt!==k||Ye!==j||Ke!==X)&&(n.blendFuncSeparate(ct[et],ct[Mt],ct[Ye],ct[Ke]),R=et,k=Mt,j=Ye,X=Ke),(Et.equals(Z)===!1||Jt!==z)&&(n.blendColor(Et.r,Et.g,Et.b,Jt),Z.copy(Et),z=Jt),T=ye,U=!1}function rt(ye,xt){ye.side===Sl?Ge(n.CULL_FACE):xe(n.CULL_FACE);let et=ye.side===js;xt&&(et=!et),Ze(et),ye.blending===Kd&&ye.transparent===!1?re(Eu):re(ye.blending,ye.blendEquation,ye.blendSrc,ye.blendDst,ye.blendEquationAlpha,ye.blendSrcAlpha,ye.blendDstAlpha,ye.blendColor,ye.blendAlpha,ye.premultipliedAlpha),o.setFunc(ye.depthFunc),o.setTest(ye.depthTest),o.setMask(ye.depthWrite),s.setMask(ye.colorWrite);const Mt=ye.stencilWrite;l.setTest(Mt),Mt&&(l.setMask(ye.stencilWriteMask),l.setFunc(ye.stencilFunc,ye.stencilRef,ye.stencilFuncMask),l.setOp(ye.stencilFail,ye.stencilZFail,ye.stencilZPass)),Xe(ye.polygonOffset,ye.polygonOffsetFactor,ye.polygonOffsetUnits),ye.alphaToCoverage===!0?xe(n.SAMPLE_ALPHA_TO_COVERAGE):Ge(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ze(ye){N!==ye&&(ye?n.frontFace(n.CW):n.frontFace(n.CCW),N=ye)}function Be(ye){ye!==KR?(xe(n.CULL_FACE),ye!==Y&&(ye===Zw?n.cullFace(n.BACK):ye===JR?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ge(n.CULL_FACE),Y=ye}function Pe(ye){ye!==Q&&(he&&n.lineWidth(ye),Q=ye)}function Xe(ye,xt,et){ye?(xe(n.POLYGON_OFFSET_FILL),(ae!==xt||se!==et)&&(n.polygonOffset(xt,et),ae=xt,se=et)):Ge(n.POLYGON_OFFSET_FILL)}function Me(ye){ye?xe(n.SCISSOR_TEST):Ge(n.SCISSOR_TEST)}function We(ye){ye===void 0&&(ye=n.TEXTURE0+ge-1),ie!==ye&&(n.activeTexture(ye),ie=ye)}function it(ye,xt,et){et===void 0&&(ie===null?et=n.TEXTURE0+ge-1:et=ie);let Mt=ee[et];Mt===void 0&&(Mt={type:void 0,texture:void 0},ee[et]=Mt),(Mt.type!==ye||Mt.texture!==xt)&&(ie!==et&&(n.activeTexture(et),ie=et),n.bindTexture(ye,xt||_e[ye]),Mt.type=ye,Mt.texture=xt)}function ne(){const ye=ee[ie];ye!==void 0&&ye.type!==void 0&&(n.bindTexture(ye.type,null),ye.type=void 0,ye.texture=void 0)}function q(){try{n.compressedTexImage2D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Se(){try{n.compressedTexImage3D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Re(){try{n.texSubImage2D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function He(){try{n.texSubImage3D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Ue(){try{n.compressedTexSubImage2D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function It(){try{n.compressedTexSubImage3D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function ot(){try{n.texStorage2D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function At(){try{n.texStorage3D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function yt(){try{n.texImage2D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function qe(){try{n.texImage3D(...arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function _t(ye){we.equals(ye)===!1&&(n.scissor(ye.x,ye.y,ye.z,ye.w),we.copy(ye))}function Wt(ye){ce.equals(ye)===!1&&(n.viewport(ye.x,ye.y,ye.z,ye.w),ce.copy(ye))}function Ut(ye,xt){let et=f.get(xt);et===void 0&&(et=new WeakMap,f.set(xt,et));let Mt=et.get(ye);Mt===void 0&&(Mt=n.getUniformBlockIndex(xt,ye.name),et.set(ye,Mt))}function pt(ye,xt){const Mt=f.get(xt).get(ye);d.get(xt)!==Mt&&(n.uniformBlockBinding(xt,Mt,ye.__bindingPointIndex),d.set(xt,Mt))}function en(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},ie=null,ee={},v={},_=new WeakMap,x=[],M=null,C=!1,T=null,w=null,R=null,k=null,O=null,j=null,X=null,Z=new zt(0,0,0),z=0,U=!1,N=null,Y=null,Q=null,ae=null,se=null,we.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),l.reset()}return{buffers:{color:s,depth:o,stencil:l},enable:xe,disable:Ge,bindFramebuffer:$e,drawBuffers:Qe,useProgram:nt,setBlending:re,setMaterial:rt,setFlipSided:Ze,setCullFace:Be,setLineWidth:Pe,setPolygonOffset:Xe,setScissorTest:Me,activeTexture:We,bindTexture:it,unbindTexture:ne,compressedTexImage2D:q,compressedTexImage3D:Se,texImage2D:yt,texImage3D:qe,updateUBOMapping:Ut,uniformBlockBinding:pt,texStorage2D:ot,texStorage3D:At,texSubImage2D:Re,texSubImage3D:He,compressedTexSubImage2D:Ue,compressedTexSubImage3D:It,scissor:_t,viewport:Wt,reset:en}}function lj(n,e,t,i,r,s,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new tt,m=new WeakMap;let v;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(ne,q){return x?new OffscreenCanvas(ne,q):Im("canvas")}function C(ne,q,Se){let Re=1;const He=it(ne);if((He.width>Se||He.height>Se)&&(Re=Se/Math.max(He.width,He.height)),Re<1)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap||typeof VideoFrame<"u"&&ne instanceof VideoFrame){const Ue=Math.floor(Re*He.width),It=Math.floor(Re*He.height);v===void 0&&(v=M(Ue,It));const ot=q?M(Ue,It):v;return ot.width=Ue,ot.height=It,ot.getContext("2d").drawImage(ne,0,0,Ue,It),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+He.width+"x"+He.height+") to ("+Ue+"x"+It+")."),ot}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+He.width+"x"+He.height+")."),ne;return ne}function T(ne){return ne.generateMipmaps}function w(ne){n.generateMipmap(ne)}function R(ne){return ne.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ne.isWebGL3DRenderTarget?n.TEXTURE_3D:ne.isWebGLArrayRenderTarget||ne.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function k(ne,q,Se,Re,He=!1){if(ne!==null){if(n[ne]!==void 0)return n[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Ue=q;if(q===n.RED&&(Se===n.FLOAT&&(Ue=n.R32F),Se===n.HALF_FLOAT&&(Ue=n.R16F),Se===n.UNSIGNED_BYTE&&(Ue=n.R8)),q===n.RED_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Ue=n.R8UI),Se===n.UNSIGNED_SHORT&&(Ue=n.R16UI),Se===n.UNSIGNED_INT&&(Ue=n.R32UI),Se===n.BYTE&&(Ue=n.R8I),Se===n.SHORT&&(Ue=n.R16I),Se===n.INT&&(Ue=n.R32I)),q===n.RG&&(Se===n.FLOAT&&(Ue=n.RG32F),Se===n.HALF_FLOAT&&(Ue=n.RG16F),Se===n.UNSIGNED_BYTE&&(Ue=n.RG8)),q===n.RG_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Ue=n.RG8UI),Se===n.UNSIGNED_SHORT&&(Ue=n.RG16UI),Se===n.UNSIGNED_INT&&(Ue=n.RG32UI),Se===n.BYTE&&(Ue=n.RG8I),Se===n.SHORT&&(Ue=n.RG16I),Se===n.INT&&(Ue=n.RG32I)),q===n.RGB_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Ue=n.RGB8UI),Se===n.UNSIGNED_SHORT&&(Ue=n.RGB16UI),Se===n.UNSIGNED_INT&&(Ue=n.RGB32UI),Se===n.BYTE&&(Ue=n.RGB8I),Se===n.SHORT&&(Ue=n.RGB16I),Se===n.INT&&(Ue=n.RGB32I)),q===n.RGBA_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Ue=n.RGBA8UI),Se===n.UNSIGNED_SHORT&&(Ue=n.RGBA16UI),Se===n.UNSIGNED_INT&&(Ue=n.RGBA32UI),Se===n.BYTE&&(Ue=n.RGBA8I),Se===n.SHORT&&(Ue=n.RGBA16I),Se===n.INT&&(Ue=n.RGBA32I)),q===n.RGB&&Se===n.UNSIGNED_INT_5_9_9_9_REV&&(Ue=n.RGB9_E5),q===n.RGBA){const It=He?Pm:zn.getTransfer(Re);Se===n.FLOAT&&(Ue=n.RGBA32F),Se===n.HALF_FLOAT&&(Ue=n.RGBA16F),Se===n.UNSIGNED_BYTE&&(Ue=It===Qn?n.SRGB8_ALPHA8:n.RGBA8),Se===n.UNSIGNED_SHORT_4_4_4_4&&(Ue=n.RGBA4),Se===n.UNSIGNED_SHORT_5_5_5_1&&(Ue=n.RGB5_A1)}return(Ue===n.R16F||Ue===n.R32F||Ue===n.RG16F||Ue===n.RG32F||Ue===n.RGBA16F||Ue===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function O(ne,q){let Se;return ne?q===null||q===ku||q===Rf?Se=n.DEPTH24_STENCIL8:q===ho?Se=n.DEPTH32F_STENCIL8:q===Pf&&(Se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===ku||q===Rf?Se=n.DEPTH_COMPONENT24:q===ho?Se=n.DEPTH_COMPONENT32F:q===Pf&&(Se=n.DEPTH_COMPONENT16),Se}function j(ne,q){return T(ne)===!0||ne.isFramebufferTexture&&ne.minFilter!==is&&ne.minFilter!==ar?Math.log2(Math.max(q.width,q.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?q.mipmaps.length:1}function X(ne){const q=ne.target;q.removeEventListener("dispose",X),z(q),q.isVideoTexture&&m.delete(q)}function Z(ne){const q=ne.target;q.removeEventListener("dispose",Z),N(q)}function z(ne){const q=i.get(ne);if(q.__webglInit===void 0)return;const Se=ne.source,Re=_.get(Se);if(Re){const He=Re[q.__cacheKey];He.usedTimes--,He.usedTimes===0&&U(ne),Object.keys(Re).length===0&&_.delete(Se)}i.remove(ne)}function U(ne){const q=i.get(ne);n.deleteTexture(q.__webglTexture);const Se=ne.source,Re=_.get(Se);delete Re[q.__cacheKey],o.memory.textures--}function N(ne){const q=i.get(ne);if(ne.depthTexture&&(ne.depthTexture.dispose(),i.remove(ne.depthTexture)),ne.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(q.__webglFramebuffer[Re]))for(let He=0;He<q.__webglFramebuffer[Re].length;He++)n.deleteFramebuffer(q.__webglFramebuffer[Re][He]);else n.deleteFramebuffer(q.__webglFramebuffer[Re]);q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer[Re])}else{if(Array.isArray(q.__webglFramebuffer))for(let Re=0;Re<q.__webglFramebuffer.length;Re++)n.deleteFramebuffer(q.__webglFramebuffer[Re]);else n.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Re=0;Re<q.__webglColorRenderbuffer.length;Re++)q.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(q.__webglColorRenderbuffer[Re]);q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const Se=ne.textures;for(let Re=0,He=Se.length;Re<He;Re++){const Ue=i.get(Se[Re]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),o.memory.textures--),i.remove(Se[Re])}i.remove(ne)}let Y=0;function Q(){Y=0}function ae(){const ne=Y;return ne>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+r.maxTextures),Y+=1,ne}function se(ne){const q=[];return q.push(ne.wrapS),q.push(ne.wrapT),q.push(ne.wrapR||0),q.push(ne.magFilter),q.push(ne.minFilter),q.push(ne.anisotropy),q.push(ne.internalFormat),q.push(ne.format),q.push(ne.type),q.push(ne.generateMipmaps),q.push(ne.premultiplyAlpha),q.push(ne.flipY),q.push(ne.unpackAlignment),q.push(ne.colorSpace),q.join()}function ge(ne,q){const Se=i.get(ne);if(ne.isVideoTexture&&Me(ne),ne.isRenderTargetTexture===!1&&ne.version>0&&Se.__version!==ne.version){const Re=ne.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(Se,ne,q);return}}t.bindTexture(n.TEXTURE_2D,Se.__webglTexture,n.TEXTURE0+q)}function he(ne,q){const Se=i.get(ne);if(ne.version>0&&Se.__version!==ne.version){_e(Se,ne,q);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Se.__webglTexture,n.TEXTURE0+q)}function de(ne,q){const Se=i.get(ne);if(ne.version>0&&Se.__version!==ne.version){_e(Se,ne,q);return}t.bindTexture(n.TEXTURE_3D,Se.__webglTexture,n.TEXTURE0+q)}function W(ne,q){const Se=i.get(ne);if(ne.version>0&&Se.__version!==ne.version){xe(Se,ne,q);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture,n.TEXTURE0+q)}const ie={[Mm]:n.REPEAT,[ia]:n.CLAMP_TO_EDGE,[Em]:n.MIRRORED_REPEAT},ee={[is]:n.NEAREST,[sS]:n.NEAREST_MIPMAP_NEAREST,[hf]:n.NEAREST_MIPMAP_LINEAR,[ar]:n.LINEAR,[nm]:n.LINEAR_MIPMAP_NEAREST,[Tl]:n.LINEAR_MIPMAP_LINEAR},K={[k2]:n.NEVER,[U2]:n.ALWAYS,[N2]:n.LESS,[pS]:n.LEQUAL,[O2]:n.EQUAL,[z2]:n.GEQUAL,[D2]:n.GREATER,[F2]:n.NOTEQUAL};function oe(ne,q){if(q.type===ho&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===ar||q.magFilter===nm||q.magFilter===hf||q.magFilter===Tl||q.minFilter===ar||q.minFilter===nm||q.minFilter===hf||q.minFilter===Tl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ne,n.TEXTURE_WRAP_S,ie[q.wrapS]),n.texParameteri(ne,n.TEXTURE_WRAP_T,ie[q.wrapT]),(ne===n.TEXTURE_3D||ne===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ne,n.TEXTURE_WRAP_R,ie[q.wrapR]),n.texParameteri(ne,n.TEXTURE_MAG_FILTER,ee[q.magFilter]),n.texParameteri(ne,n.TEXTURE_MIN_FILTER,ee[q.minFilter]),q.compareFunction&&(n.texParameteri(ne,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ne,n.TEXTURE_COMPARE_FUNC,K[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===is||q.minFilter!==hf&&q.minFilter!==Tl||q.type===ho&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||i.get(q).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ne,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),i.get(q).__currentAnisotropy=q.anisotropy}}}function we(ne,q){let Se=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,q.addEventListener("dispose",X));const Re=q.source;let He=_.get(Re);He===void 0&&(He={},_.set(Re,He));const Ue=se(q);if(Ue!==ne.__cacheKey){He[Ue]===void 0&&(He[Ue]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),He[Ue].usedTimes++;const It=He[ne.__cacheKey];It!==void 0&&(He[ne.__cacheKey].usedTimes--,It.usedTimes===0&&U(q)),ne.__cacheKey=Ue,ne.__webglTexture=He[Ue].texture}return Se}function ce(ne,q,Se){return Math.floor(Math.floor(ne/Se)/q)}function me(ne,q,Se,Re){const Ue=ne.updateRanges;if(Ue.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,q.width,q.height,Se,Re,q.data);else{Ue.sort((qe,_t)=>qe.start-_t.start);let It=0;for(let qe=1;qe<Ue.length;qe++){const _t=Ue[It],Wt=Ue[qe],Ut=_t.start+_t.count,pt=ce(Wt.start,q.width,4),en=ce(_t.start,q.width,4);Wt.start<=Ut+1&&pt===en&&ce(Wt.start+Wt.count-1,q.width,4)===pt?_t.count=Math.max(_t.count,Wt.start+Wt.count-_t.start):(++It,Ue[It]=Wt)}Ue.length=It+1;const ot=n.getParameter(n.UNPACK_ROW_LENGTH),At=n.getParameter(n.UNPACK_SKIP_PIXELS),yt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,q.width);for(let qe=0,_t=Ue.length;qe<_t;qe++){const Wt=Ue[qe],Ut=Math.floor(Wt.start/4),pt=Math.ceil(Wt.count/4),en=Ut%q.width,ye=Math.floor(Ut/q.width),xt=pt,et=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,en),n.pixelStorei(n.UNPACK_SKIP_ROWS,ye),t.texSubImage2D(n.TEXTURE_2D,0,en,ye,xt,et,Se,Re,q.data)}ne.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ot),n.pixelStorei(n.UNPACK_SKIP_PIXELS,At),n.pixelStorei(n.UNPACK_SKIP_ROWS,yt)}}function _e(ne,q,Se){let Re=n.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),q.isData3DTexture&&(Re=n.TEXTURE_3D);const He=we(ne,q),Ue=q.source;t.bindTexture(Re,ne.__webglTexture,n.TEXTURE0+Se);const It=i.get(Ue);if(Ue.version!==It.__version||He===!0){t.activeTexture(n.TEXTURE0+Se);const ot=zn.getPrimaries(zn.workingColorSpace),At=q.colorSpace===bu?null:zn.getPrimaries(q.colorSpace),yt=q.colorSpace===bu||ot===At?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let qe=C(q.image,!1,r.maxTextureSize);qe=We(q,qe);const _t=s.convert(q.format,q.colorSpace),Wt=s.convert(q.type);let Ut=k(q.internalFormat,_t,Wt,q.colorSpace,q.isVideoTexture);oe(Re,q);let pt;const en=q.mipmaps,ye=q.isVideoTexture!==!0,xt=It.__version===void 0||He===!0,et=Ue.dataReady,Mt=j(q,qe);if(q.isDepthTexture)Ut=O(q.format===If,q.type),xt&&(ye?t.texStorage2D(n.TEXTURE_2D,1,Ut,qe.width,qe.height):t.texImage2D(n.TEXTURE_2D,0,Ut,qe.width,qe.height,0,_t,Wt,null));else if(q.isDataTexture)if(en.length>0){ye&&xt&&t.texStorage2D(n.TEXTURE_2D,Mt,Ut,en[0].width,en[0].height);for(let st=0,Ye=en.length;st<Ye;st++)pt=en[st],ye?et&&t.texSubImage2D(n.TEXTURE_2D,st,0,0,pt.width,pt.height,_t,Wt,pt.data):t.texImage2D(n.TEXTURE_2D,st,Ut,pt.width,pt.height,0,_t,Wt,pt.data);q.generateMipmaps=!1}else ye?(xt&&t.texStorage2D(n.TEXTURE_2D,Mt,Ut,qe.width,qe.height),et&&me(q,qe,_t,Wt)):t.texImage2D(n.TEXTURE_2D,0,Ut,qe.width,qe.height,0,_t,Wt,qe.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){ye&&xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Mt,Ut,en[0].width,en[0].height,qe.depth);for(let st=0,Ye=en.length;st<Ye;st++)if(pt=en[st],q.format!==_s)if(_t!==null)if(ye){if(et)if(q.layerUpdates.size>0){const Ke=o1(pt.width,pt.height,q.format,q.type);for(const Et of q.layerUpdates){const Jt=pt.data.subarray(Et*Ke/pt.data.BYTES_PER_ELEMENT,(Et+1)*Ke/pt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,st,0,0,Et,pt.width,pt.height,1,_t,Jt)}q.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,st,0,0,0,pt.width,pt.height,qe.depth,_t,pt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,st,Ut,pt.width,pt.height,qe.depth,0,pt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ye?et&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,st,0,0,0,pt.width,pt.height,qe.depth,_t,Wt,pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,st,Ut,pt.width,pt.height,qe.depth,0,_t,Wt,pt.data)}else{ye&&xt&&t.texStorage2D(n.TEXTURE_2D,Mt,Ut,en[0].width,en[0].height);for(let st=0,Ye=en.length;st<Ye;st++)pt=en[st],q.format!==_s?_t!==null?ye?et&&t.compressedTexSubImage2D(n.TEXTURE_2D,st,0,0,pt.width,pt.height,_t,pt.data):t.compressedTexImage2D(n.TEXTURE_2D,st,Ut,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?et&&t.texSubImage2D(n.TEXTURE_2D,st,0,0,pt.width,pt.height,_t,Wt,pt.data):t.texImage2D(n.TEXTURE_2D,st,Ut,pt.width,pt.height,0,_t,Wt,pt.data)}else if(q.isDataArrayTexture)if(ye){if(xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Mt,Ut,qe.width,qe.height,qe.depth),et)if(q.layerUpdates.size>0){const st=o1(qe.width,qe.height,q.format,q.type);for(const Ye of q.layerUpdates){const Ke=qe.data.subarray(Ye*st/qe.data.BYTES_PER_ELEMENT,(Ye+1)*st/qe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ye,qe.width,qe.height,1,_t,Wt,Ke)}q.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,qe.width,qe.height,qe.depth,_t,Wt,qe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ut,qe.width,qe.height,qe.depth,0,_t,Wt,qe.data);else if(q.isData3DTexture)ye?(xt&&t.texStorage3D(n.TEXTURE_3D,Mt,Ut,qe.width,qe.height,qe.depth),et&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,qe.width,qe.height,qe.depth,_t,Wt,qe.data)):t.texImage3D(n.TEXTURE_3D,0,Ut,qe.width,qe.height,qe.depth,0,_t,Wt,qe.data);else if(q.isFramebufferTexture){if(xt)if(ye)t.texStorage2D(n.TEXTURE_2D,Mt,Ut,qe.width,qe.height);else{let st=qe.width,Ye=qe.height;for(let Ke=0;Ke<Mt;Ke++)t.texImage2D(n.TEXTURE_2D,Ke,Ut,st,Ye,0,_t,Wt,null),st>>=1,Ye>>=1}}else if(en.length>0){if(ye&&xt){const st=it(en[0]);t.texStorage2D(n.TEXTURE_2D,Mt,Ut,st.width,st.height)}for(let st=0,Ye=en.length;st<Ye;st++)pt=en[st],ye?et&&t.texSubImage2D(n.TEXTURE_2D,st,0,0,_t,Wt,pt):t.texImage2D(n.TEXTURE_2D,st,Ut,_t,Wt,pt);q.generateMipmaps=!1}else if(ye){if(xt){const st=it(qe);t.texStorage2D(n.TEXTURE_2D,Mt,Ut,st.width,st.height)}et&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,Wt,qe)}else t.texImage2D(n.TEXTURE_2D,0,Ut,_t,Wt,qe);T(q)&&w(Re),It.__version=Ue.version,q.onUpdate&&q.onUpdate(q)}ne.__version=q.version}function xe(ne,q,Se){if(q.image.length!==6)return;const Re=we(ne,q),He=q.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture,n.TEXTURE0+Se);const Ue=i.get(He);if(He.version!==Ue.__version||Re===!0){t.activeTexture(n.TEXTURE0+Se);const It=zn.getPrimaries(zn.workingColorSpace),ot=q.colorSpace===bu?null:zn.getPrimaries(q.colorSpace),At=q.colorSpace===bu||It===ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);const yt=q.isCompressedTexture||q.image[0].isCompressedTexture,qe=q.image[0]&&q.image[0].isDataTexture,_t=[];for(let Ye=0;Ye<6;Ye++)!yt&&!qe?_t[Ye]=C(q.image[Ye],!0,r.maxCubemapSize):_t[Ye]=qe?q.image[Ye].image:q.image[Ye],_t[Ye]=We(q,_t[Ye]);const Wt=_t[0],Ut=s.convert(q.format,q.colorSpace),pt=s.convert(q.type),en=k(q.internalFormat,Ut,pt,q.colorSpace),ye=q.isVideoTexture!==!0,xt=Ue.__version===void 0||Re===!0,et=He.dataReady;let Mt=j(q,Wt);oe(n.TEXTURE_CUBE_MAP,q);let st;if(yt){ye&&xt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Mt,en,Wt.width,Wt.height);for(let Ye=0;Ye<6;Ye++){st=_t[Ye].mipmaps;for(let Ke=0;Ke<st.length;Ke++){const Et=st[Ke];q.format!==_s?Ut!==null?ye?et&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke,0,0,Et.width,Et.height,Ut,Et.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke,en,Et.width,Et.height,0,Et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ye?et&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke,0,0,Et.width,Et.height,Ut,pt,Et.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke,en,Et.width,Et.height,0,Ut,pt,Et.data)}}}else{if(st=q.mipmaps,ye&&xt){st.length>0&&Mt++;const Ye=it(_t[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Mt,en,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(qe){ye?et&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,_t[Ye].width,_t[Ye].height,Ut,pt,_t[Ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,en,_t[Ye].width,_t[Ye].height,0,Ut,pt,_t[Ye].data);for(let Ke=0;Ke<st.length;Ke++){const Jt=st[Ke].image[Ye].image;ye?et&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke+1,0,0,Jt.width,Jt.height,Ut,pt,Jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke+1,en,Jt.width,Jt.height,0,Ut,pt,Jt.data)}}else{ye?et&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,Ut,pt,_t[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,en,Ut,pt,_t[Ye]);for(let Ke=0;Ke<st.length;Ke++){const Et=st[Ke];ye?et&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke+1,0,0,Ut,pt,Et.image[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Ke+1,en,Ut,pt,Et.image[Ye])}}}T(q)&&w(n.TEXTURE_CUBE_MAP),Ue.__version=He.version,q.onUpdate&&q.onUpdate(q)}ne.__version=q.version}function Ge(ne,q,Se,Re,He,Ue){const It=s.convert(Se.format,Se.colorSpace),ot=s.convert(Se.type),At=k(Se.internalFormat,It,ot,Se.colorSpace),yt=i.get(q),qe=i.get(Se);if(qe.__renderTarget=q,!yt.__hasExternalTextures){const _t=Math.max(1,q.width>>Ue),Wt=Math.max(1,q.height>>Ue);He===n.TEXTURE_3D||He===n.TEXTURE_2D_ARRAY?t.texImage3D(He,Ue,At,_t,Wt,q.depth,0,It,ot,null):t.texImage2D(He,Ue,At,_t,Wt,0,It,ot,null)}t.bindFramebuffer(n.FRAMEBUFFER,ne),Xe(q)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,He,qe.__webglTexture,0,Pe(q)):(He===n.TEXTURE_2D||He>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&He<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,He,qe.__webglTexture,Ue),t.bindFramebuffer(n.FRAMEBUFFER,null)}function $e(ne,q,Se){if(n.bindRenderbuffer(n.RENDERBUFFER,ne),q.depthBuffer){const Re=q.depthTexture,He=Re&&Re.isDepthTexture?Re.type:null,Ue=O(q.stencilBuffer,He),It=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ot=Pe(q);Xe(q)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ot,Ue,q.width,q.height):Se?n.renderbufferStorageMultisample(n.RENDERBUFFER,ot,Ue,q.width,q.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,It,n.RENDERBUFFER,ne)}else{const Re=q.textures;for(let He=0;He<Re.length;He++){const Ue=Re[He],It=s.convert(Ue.format,Ue.colorSpace),ot=s.convert(Ue.type),At=k(Ue.internalFormat,It,ot,Ue.colorSpace),yt=Pe(q);Se&&Xe(q)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,At,q.width,q.height):Xe(q)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yt,At,q.width,q.height):n.renderbufferStorage(n.RENDERBUFFER,At,q.width,q.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Qe(ne,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ne),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(q.depthTexture);Re.__renderTarget=q,(!Re.__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),ge(q.depthTexture,0);const He=Re.__webglTexture,Ue=Pe(q);if(q.depthTexture.format===Lf)Xe(q)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,He,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,He,0);else if(q.depthTexture.format===If)Xe(q)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,He,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,He,0);else throw new Error("Unknown depthTexture format")}function nt(ne){const q=i.get(ne),Se=ne.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==ne.depthTexture){const Re=ne.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),Re){const He=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,Re.removeEventListener("dispose",He)};Re.addEventListener("dispose",He),q.__depthDisposeCallback=He}q.__boundDepthTexture=Re}if(ne.depthTexture&&!q.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");const Re=ne.texture.mipmaps;Re&&Re.length>0?Qe(q.__webglFramebuffer[0],ne):Qe(q.__webglFramebuffer,ne)}else if(Se){q.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer[Re]),q.__webglDepthbuffer[Re]===void 0)q.__webglDepthbuffer[Re]=n.createRenderbuffer(),$e(q.__webglDepthbuffer[Re],ne,!1);else{const He=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=q.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,Ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,He,n.RENDERBUFFER,Ue)}}else{const Re=ne.texture.mipmaps;if(Re&&Re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=n.createRenderbuffer(),$e(q.__webglDepthbuffer,ne,!1);else{const He=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=q.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ue),n.framebufferRenderbuffer(n.FRAMEBUFFER,He,n.RENDERBUFFER,Ue)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ht(ne,q,Se){const Re=i.get(ne);q!==void 0&&Ge(Re.__webglFramebuffer,ne,ne.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Se!==void 0&&nt(ne)}function ct(ne){const q=ne.texture,Se=i.get(ne),Re=i.get(q);ne.addEventListener("dispose",Z);const He=ne.textures,Ue=ne.isWebGLCubeRenderTarget===!0,It=He.length>1;if(It||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=q.version,o.memory.textures++),Ue){Se.__webglFramebuffer=[];for(let ot=0;ot<6;ot++)if(q.mipmaps&&q.mipmaps.length>0){Se.__webglFramebuffer[ot]=[];for(let At=0;At<q.mipmaps.length;At++)Se.__webglFramebuffer[ot][At]=n.createFramebuffer()}else Se.__webglFramebuffer[ot]=n.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ot=0;ot<q.mipmaps.length;ot++)Se.__webglFramebuffer[ot]=n.createFramebuffer()}else Se.__webglFramebuffer=n.createFramebuffer();if(It)for(let ot=0,At=He.length;ot<At;ot++){const yt=i.get(He[ot]);yt.__webglTexture===void 0&&(yt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ne.samples>0&&Xe(ne)===!1){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ot=0;ot<He.length;ot++){const At=He[ot];Se.__webglColorRenderbuffer[ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Se.__webglColorRenderbuffer[ot]);const yt=s.convert(At.format,At.colorSpace),qe=s.convert(At.type),_t=k(At.internalFormat,yt,qe,At.colorSpace,ne.isXRRenderTarget===!0),Wt=Pe(ne);n.renderbufferStorageMultisample(n.RENDERBUFFER,Wt,_t,ne.width,ne.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,Se.__webglColorRenderbuffer[ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),ne.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),$e(Se.__webglDepthRenderbuffer,ne,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ue){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),oe(n.TEXTURE_CUBE_MAP,q);for(let ot=0;ot<6;ot++)if(q.mipmaps&&q.mipmaps.length>0)for(let At=0;At<q.mipmaps.length;At++)Ge(Se.__webglFramebuffer[ot][At],ne,q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,At);else Ge(Se.__webglFramebuffer[ot],ne,q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0);T(q)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(It){for(let ot=0,At=He.length;ot<At;ot++){const yt=He[ot],qe=i.get(yt);t.bindTexture(n.TEXTURE_2D,qe.__webglTexture),oe(n.TEXTURE_2D,yt),Ge(Se.__webglFramebuffer,ne,yt,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,0),T(yt)&&w(n.TEXTURE_2D)}t.unbindTexture()}else{let ot=n.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(ot=ne.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ot,Re.__webglTexture),oe(ot,q),q.mipmaps&&q.mipmaps.length>0)for(let At=0;At<q.mipmaps.length;At++)Ge(Se.__webglFramebuffer[At],ne,q,n.COLOR_ATTACHMENT0,ot,At);else Ge(Se.__webglFramebuffer,ne,q,n.COLOR_ATTACHMENT0,ot,0);T(q)&&w(ot),t.unbindTexture()}ne.depthBuffer&&nt(ne)}function re(ne){const q=ne.textures;for(let Se=0,Re=q.length;Se<Re;Se++){const He=q[Se];if(T(He)){const Ue=R(ne),It=i.get(He).__webglTexture;t.bindTexture(Ue,It),w(Ue),t.unbindTexture()}}}const rt=[],Ze=[];function Be(ne){if(ne.samples>0){if(Xe(ne)===!1){const q=ne.textures,Se=ne.width,Re=ne.height;let He=n.COLOR_BUFFER_BIT;const Ue=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,It=i.get(ne),ot=q.length>1;if(ot)for(let yt=0;yt<q.length;yt++)t.bindFramebuffer(n.FRAMEBUFFER,It.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,It.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,It.__webglMultisampledFramebuffer);const At=ne.texture.mipmaps;At&&At.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,It.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,It.__webglFramebuffer);for(let yt=0;yt<q.length;yt++){if(ne.resolveDepthBuffer&&(ne.depthBuffer&&(He|=n.DEPTH_BUFFER_BIT),ne.stencilBuffer&&ne.resolveStencilBuffer&&(He|=n.STENCIL_BUFFER_BIT)),ot){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,It.__webglColorRenderbuffer[yt]);const qe=i.get(q[yt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,qe,0)}n.blitFramebuffer(0,0,Se,Re,0,0,Se,Re,He,n.NEAREST),d===!0&&(rt.length=0,Ze.length=0,rt.push(n.COLOR_ATTACHMENT0+yt),ne.depthBuffer&&ne.resolveDepthBuffer===!1&&(rt.push(Ue),Ze.push(Ue),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ze)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,rt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ot)for(let yt=0;yt<q.length;yt++){t.bindFramebuffer(n.FRAMEBUFFER,It.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,It.__webglColorRenderbuffer[yt]);const qe=i.get(q[yt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,It.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,qe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,It.__webglMultisampledFramebuffer)}else if(ne.depthBuffer&&ne.resolveDepthBuffer===!1&&d){const q=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[q])}}}function Pe(ne){return Math.min(r.maxSamples,ne.samples)}function Xe(ne){const q=i.get(ne);return ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function Me(ne){const q=o.render.frame;m.get(ne)!==q&&(m.set(ne,q),ne.update())}function We(ne,q){const Se=ne.colorSpace,Re=ne.format,He=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||Se!==ah&&Se!==bu&&(zn.getTransfer(Se)===Qn?(Re!==_s||He!==oa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),q}function it(ne){return typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement?(f.width=ne.naturalWidth||ne.width,f.height=ne.naturalHeight||ne.height):typeof VideoFrame<"u"&&ne instanceof VideoFrame?(f.width=ne.displayWidth,f.height=ne.displayHeight):(f.width=ne.width,f.height=ne.height),f}this.allocateTextureUnit=ae,this.resetTextureUnits=Q,this.setTexture2D=ge,this.setTexture2DArray=he,this.setTexture3D=de,this.setTextureCube=W,this.rebindTextures=ht,this.setupRenderTarget=ct,this.updateRenderTargetMipmap=re,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=nt,this.setupFrameBufferTexture=Ge,this.useMultisampledRTT=Xe}function KL(n,e){function t(i,r=bu){let s;const o=zn.getTransfer(r);if(i===oa)return n.UNSIGNED_BYTE;if(i===D0)return n.UNSIGNED_SHORT_4_4_4_4;if(i===F0)return n.UNSIGNED_SHORT_5_5_5_1;if(i===lS)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===oS)return n.BYTE;if(i===aS)return n.SHORT;if(i===Pf)return n.UNSIGNED_SHORT;if(i===O0)return n.INT;if(i===ku)return n.UNSIGNED_INT;if(i===ho)return n.FLOAT;if(i===Zf)return n.HALF_FLOAT;if(i===uS)return n.ALPHA;if(i===cS)return n.RGB;if(i===_s)return n.RGBA;if(i===Lf)return n.DEPTH_COMPONENT;if(i===If)return n.DEPTH_STENCIL;if(i===z0)return n.RED;if(i===ng)return n.RED_INTEGER;if(i===dS)return n.RG;if(i===U0)return n.RG_INTEGER;if(i===B0)return n.RGBA_INTEGER;if(i===im||i===rm||i===sm||i===om)if(o===Qn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===im)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===rm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===sm)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===om)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===im)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===rm)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===sm)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===om)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===ky||i===Ny||i===Oy||i===Dy)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===ky)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Ny)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Oy)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Dy)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Fy||i===zy||i===Uy)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Fy||i===zy)return o===Qn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Uy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===By||i===Vy||i===Hy||i===jy||i===Wy||i===Gy||i===Xy||i===Zy||i===Yy||i===qy||i===$y||i===Ky||i===Jy||i===Qy)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===By)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Vy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Hy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===jy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Wy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Gy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Xy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Zy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Yy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===qy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===$y)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ky)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Jy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Qy)return o===Qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===am||i===e0||i===t0)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===am)return o===Qn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===e0)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===t0)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===hS||i===n0||i===i0||i===r0)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===am)return s.COMPRESSED_RED_RGTC1_EXT;if(i===n0)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===i0)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===r0)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Rf?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const uj=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,cj=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class dj{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Oi,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new aa({vertexShader:uj,fragmentShader:cj,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new lr(new $f(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class hj extends Dl{constructor(e,t){super();const i=this;let r=null,s=1,o=null,l="local-floor",d=1,f=null,m=null,v=null,_=null,x=null,M=null;const C=new dj,T=t.getContextAttributes();let w=null,R=null;const k=[],O=[],j=new tt;let X=null;const Z=new Fr;Z.viewport=new Hn;const z=new Fr;z.viewport=new Hn;const U=[Z,z],N=new BL;let Y=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let me=k[ce];return me===void 0&&(me=new ly,k[ce]=me),me.getTargetRaySpace()},this.getControllerGrip=function(ce){let me=k[ce];return me===void 0&&(me=new ly,k[ce]=me),me.getGripSpace()},this.getHand=function(ce){let me=k[ce];return me===void 0&&(me=new ly,k[ce]=me),me.getHandSpace()};function ae(ce){const me=O.indexOf(ce.inputSource);if(me===-1)return;const _e=k[me];_e!==void 0&&(_e.update(ce.inputSource,ce.frame,f||o),_e.dispatchEvent({type:ce.type,data:ce.inputSource}))}function se(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",se),r.removeEventListener("inputsourceschange",ge);for(let ce=0;ce<k.length;ce++){const me=O[ce];me!==null&&(O[ce]=null,k[ce].disconnect(me))}Y=null,Q=null,C.reset(),e.setRenderTarget(w),x=null,_=null,v=null,r=null,R=null,we.stop(),i.isPresenting=!1,e.setPixelRatio(X),e.setSize(j.width,j.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){s=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){l=ce,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(ce){f=ce},this.getBaseLayer=function(){return _!==null?_:x},this.getBinding=function(){return v},this.getFrame=function(){return M},this.getSession=function(){return r},this.setSession=async function(ce){if(r=ce,r!==null){if(w=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",se),r.addEventListener("inputsourceschange",ge),T.xrCompatible!==!0&&await t.makeXRCompatible(),X=e.getPixelRatio(),e.getSize(j),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let _e=null,xe=null,Ge=null;T.depth&&(Ge=T.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_e=T.stencil?If:Lf,xe=T.stencil?Rf:ku);const $e={colorFormat:t.RGBA8,depthFormat:Ge,scaleFactor:s};v=new XRWebGLBinding(r,t),_=v.createProjectionLayer($e),r.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),R=new Nl(_.textureWidth,_.textureHeight,{format:_s,type:oa,depthTexture:new SS(_.textureWidth,_.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:T.stencil,colorSpace:e.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const _e={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(r,t,_e),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),R=new Nl(x.framebufferWidth,x.framebufferHeight,{format:_s,type:oa,colorSpace:e.outputColorSpace,stencilBuffer:T.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(d),f=null,o=await r.requestReferenceSpace(l),we.setContext(r),we.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function ge(ce){for(let me=0;me<ce.removed.length;me++){const _e=ce.removed[me],xe=O.indexOf(_e);xe>=0&&(O[xe]=null,k[xe].disconnect(_e))}for(let me=0;me<ce.added.length;me++){const _e=ce.added[me];let xe=O.indexOf(_e);if(xe===-1){for(let $e=0;$e<k.length;$e++)if($e>=O.length){O.push(_e),xe=$e;break}else if(O[$e]===null){O[$e]=_e,xe=$e;break}if(xe===-1)break}const Ge=k[xe];Ge&&Ge.connect(_e)}}const he=new le,de=new le;function W(ce,me,_e){he.setFromMatrixPosition(me.matrixWorld),de.setFromMatrixPosition(_e.matrixWorld);const xe=he.distanceTo(de),Ge=me.projectionMatrix.elements,$e=_e.projectionMatrix.elements,Qe=Ge[14]/(Ge[10]-1),nt=Ge[14]/(Ge[10]+1),ht=(Ge[9]+1)/Ge[5],ct=(Ge[9]-1)/Ge[5],re=(Ge[8]-1)/Ge[0],rt=($e[8]+1)/$e[0],Ze=Qe*re,Be=Qe*rt,Pe=xe/(-re+rt),Xe=Pe*-re;if(me.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(Xe),ce.translateZ(Pe),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Ge[10]===-1)ce.projectionMatrix.copy(me.projectionMatrix),ce.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const Me=Qe+Pe,We=nt+Pe,it=Ze-Xe,ne=Be+(xe-Xe),q=ht*nt/We*Me,Se=ct*nt/We*Me;ce.projectionMatrix.makePerspective(it,ne,q,Se,Me,We),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function ie(ce,me){me===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(me.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(r===null)return;let me=ce.near,_e=ce.far;C.texture!==null&&(C.depthNear>0&&(me=C.depthNear),C.depthFar>0&&(_e=C.depthFar)),N.near=z.near=Z.near=me,N.far=z.far=Z.far=_e,(Y!==N.near||Q!==N.far)&&(r.updateRenderState({depthNear:N.near,depthFar:N.far}),Y=N.near,Q=N.far),Z.layers.mask=ce.layers.mask|2,z.layers.mask=ce.layers.mask|4,N.layers.mask=Z.layers.mask|z.layers.mask;const xe=ce.parent,Ge=N.cameras;ie(N,xe);for(let $e=0;$e<Ge.length;$e++)ie(Ge[$e],xe);Ge.length===2?W(N,Z,z):N.projectionMatrix.copy(Z.projectionMatrix),ee(ce,N,xe)};function ee(ce,me,_e){_e===null?ce.matrix.copy(me.matrixWorld):(ce.matrix.copy(_e.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(me.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(me.projectionMatrix),ce.projectionMatrixInverse.copy(me.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=kf*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(_===null&&x===null))return d},this.setFoveation=function(ce){d=ce,_!==null&&(_.fixedFoveation=ce),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=ce)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(N)};let K=null;function oe(ce,me){if(m=me.getViewerPose(f||o),M=me,m!==null){const _e=m.views;x!==null&&(e.setRenderTargetFramebuffer(R,x.framebuffer),e.setRenderTarget(R));let xe=!1;_e.length!==N.cameras.length&&(N.cameras.length=0,xe=!0);for(let Qe=0;Qe<_e.length;Qe++){const nt=_e[Qe];let ht=null;if(x!==null)ht=x.getViewport(nt);else{const re=v.getViewSubImage(_,nt);ht=re.viewport,Qe===0&&(e.setRenderTargetTextures(R,re.colorTexture,re.depthStencilTexture),e.setRenderTarget(R))}let ct=U[Qe];ct===void 0&&(ct=new Fr,ct.layers.enable(Qe),ct.viewport=new Hn,U[Qe]=ct),ct.matrix.fromArray(nt.transform.matrix),ct.matrix.decompose(ct.position,ct.quaternion,ct.scale),ct.projectionMatrix.fromArray(nt.projectionMatrix),ct.projectionMatrixInverse.copy(ct.projectionMatrix).invert(),ct.viewport.set(ht.x,ht.y,ht.width,ht.height),Qe===0&&(N.matrix.copy(ct.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),xe===!0&&N.cameras.push(ct)}const Ge=r.enabledFeatures;if(Ge&&Ge.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&v){const Qe=v.getDepthInformation(_e[0]);Qe&&Qe.isValid&&Qe.texture&&C.init(e,Qe,r.renderState)}}for(let _e=0;_e<k.length;_e++){const xe=O[_e],Ge=k[_e];xe!==null&&Ge!==void 0&&Ge.update(xe,me,f||o)}K&&K(ce,me),me.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:me}),M=null}const we=new XL;we.setAnimationLoop(oe),this.setAnimationLoop=function(ce){K=ce},this.dispose=function(){}}}const Ud=new Bo,fj=new ln;function pj(n,e){function t(T,w){T.matrixAutoUpdate===!0&&T.updateMatrix(),w.value.copy(T.matrix)}function i(T,w){w.color.getRGB(T.fogColor.value,W2(n)),w.isFog?(T.fogNear.value=w.near,T.fogFar.value=w.far):w.isFogExp2&&(T.fogDensity.value=w.density)}function r(T,w,R,k,O){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(T,w):w.isMeshToonMaterial?(s(T,w),v(T,w)):w.isMeshPhongMaterial?(s(T,w),m(T,w)):w.isMeshStandardMaterial?(s(T,w),_(T,w),w.isMeshPhysicalMaterial&&x(T,w,O)):w.isMeshMatcapMaterial?(s(T,w),M(T,w)):w.isMeshDepthMaterial?s(T,w):w.isMeshDistanceMaterial?(s(T,w),C(T,w)):w.isMeshNormalMaterial?s(T,w):w.isLineBasicMaterial?(o(T,w),w.isLineDashedMaterial&&l(T,w)):w.isPointsMaterial?d(T,w,R,k):w.isSpriteMaterial?f(T,w):w.isShadowMaterial?(T.color.value.copy(w.color),T.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(T,w){T.opacity.value=w.opacity,w.color&&T.diffuse.value.copy(w.color),w.emissive&&T.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(T.map.value=w.map,t(w.map,T.mapTransform)),w.alphaMap&&(T.alphaMap.value=w.alphaMap,t(w.alphaMap,T.alphaMapTransform)),w.bumpMap&&(T.bumpMap.value=w.bumpMap,t(w.bumpMap,T.bumpMapTransform),T.bumpScale.value=w.bumpScale,w.side===js&&(T.bumpScale.value*=-1)),w.normalMap&&(T.normalMap.value=w.normalMap,t(w.normalMap,T.normalMapTransform),T.normalScale.value.copy(w.normalScale),w.side===js&&T.normalScale.value.negate()),w.displacementMap&&(T.displacementMap.value=w.displacementMap,t(w.displacementMap,T.displacementMapTransform),T.displacementScale.value=w.displacementScale,T.displacementBias.value=w.displacementBias),w.emissiveMap&&(T.emissiveMap.value=w.emissiveMap,t(w.emissiveMap,T.emissiveMapTransform)),w.specularMap&&(T.specularMap.value=w.specularMap,t(w.specularMap,T.specularMapTransform)),w.alphaTest>0&&(T.alphaTest.value=w.alphaTest);const R=e.get(w),k=R.envMap,O=R.envMapRotation;k&&(T.envMap.value=k,Ud.copy(O),Ud.x*=-1,Ud.y*=-1,Ud.z*=-1,k.isCubeTexture&&k.isRenderTargetTexture===!1&&(Ud.y*=-1,Ud.z*=-1),T.envMapRotation.value.setFromMatrix4(fj.makeRotationFromEuler(Ud)),T.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=w.reflectivity,T.ior.value=w.ior,T.refractionRatio.value=w.refractionRatio),w.lightMap&&(T.lightMap.value=w.lightMap,T.lightMapIntensity.value=w.lightMapIntensity,t(w.lightMap,T.lightMapTransform)),w.aoMap&&(T.aoMap.value=w.aoMap,T.aoMapIntensity.value=w.aoMapIntensity,t(w.aoMap,T.aoMapTransform))}function o(T,w){T.diffuse.value.copy(w.color),T.opacity.value=w.opacity,w.map&&(T.map.value=w.map,t(w.map,T.mapTransform))}function l(T,w){T.dashSize.value=w.dashSize,T.totalSize.value=w.dashSize+w.gapSize,T.scale.value=w.scale}function d(T,w,R,k){T.diffuse.value.copy(w.color),T.opacity.value=w.opacity,T.size.value=w.size*R,T.scale.value=k*.5,w.map&&(T.map.value=w.map,t(w.map,T.uvTransform)),w.alphaMap&&(T.alphaMap.value=w.alphaMap,t(w.alphaMap,T.alphaMapTransform)),w.alphaTest>0&&(T.alphaTest.value=w.alphaTest)}function f(T,w){T.diffuse.value.copy(w.color),T.opacity.value=w.opacity,T.rotation.value=w.rotation,w.map&&(T.map.value=w.map,t(w.map,T.mapTransform)),w.alphaMap&&(T.alphaMap.value=w.alphaMap,t(w.alphaMap,T.alphaMapTransform)),w.alphaTest>0&&(T.alphaTest.value=w.alphaTest)}function m(T,w){T.specular.value.copy(w.specular),T.shininess.value=Math.max(w.shininess,1e-4)}function v(T,w){w.gradientMap&&(T.gradientMap.value=w.gradientMap)}function _(T,w){T.metalness.value=w.metalness,w.metalnessMap&&(T.metalnessMap.value=w.metalnessMap,t(w.metalnessMap,T.metalnessMapTransform)),T.roughness.value=w.roughness,w.roughnessMap&&(T.roughnessMap.value=w.roughnessMap,t(w.roughnessMap,T.roughnessMapTransform)),w.envMap&&(T.envMapIntensity.value=w.envMapIntensity)}function x(T,w,R){T.ior.value=w.ior,w.sheen>0&&(T.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),T.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(T.sheenColorMap.value=w.sheenColorMap,t(w.sheenColorMap,T.sheenColorMapTransform)),w.sheenRoughnessMap&&(T.sheenRoughnessMap.value=w.sheenRoughnessMap,t(w.sheenRoughnessMap,T.sheenRoughnessMapTransform))),w.clearcoat>0&&(T.clearcoat.value=w.clearcoat,T.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(T.clearcoatMap.value=w.clearcoatMap,t(w.clearcoatMap,T.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,t(w.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(T.clearcoatNormalMap.value=w.clearcoatNormalMap,t(w.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===js&&T.clearcoatNormalScale.value.negate())),w.dispersion>0&&(T.dispersion.value=w.dispersion),w.iridescence>0&&(T.iridescence.value=w.iridescence,T.iridescenceIOR.value=w.iridescenceIOR,T.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(T.iridescenceMap.value=w.iridescenceMap,t(w.iridescenceMap,T.iridescenceMapTransform)),w.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=w.iridescenceThicknessMap,t(w.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),w.transmission>0&&(T.transmission.value=w.transmission,T.transmissionSamplerMap.value=R.texture,T.transmissionSamplerSize.value.set(R.width,R.height),w.transmissionMap&&(T.transmissionMap.value=w.transmissionMap,t(w.transmissionMap,T.transmissionMapTransform)),T.thickness.value=w.thickness,w.thicknessMap&&(T.thicknessMap.value=w.thicknessMap,t(w.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=w.attenuationDistance,T.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(T.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(T.anisotropyMap.value=w.anisotropyMap,t(w.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=w.specularIntensity,T.specularColor.value.copy(w.specularColor),w.specularColorMap&&(T.specularColorMap.value=w.specularColorMap,t(w.specularColorMap,T.specularColorMapTransform)),w.specularIntensityMap&&(T.specularIntensityMap.value=w.specularIntensityMap,t(w.specularIntensityMap,T.specularIntensityMapTransform))}function M(T,w){w.matcap&&(T.matcap.value=w.matcap)}function C(T,w){const R=e.get(w).light;T.referencePosition.value.setFromMatrixPosition(R.matrixWorld),T.nearDistance.value=R.shadow.camera.near,T.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function mj(n,e,t,i){let r={},s={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(R,k){const O=k.program;i.uniformBlockBinding(R,O)}function f(R,k){let O=r[R.id];O===void 0&&(M(R),O=m(R),r[R.id]=O,R.addEventListener("dispose",T));const j=k.program;i.updateUBOMapping(R,j);const X=e.render.frame;s[R.id]!==X&&(_(R),s[R.id]=X)}function m(R){const k=v();R.__bindingPointIndex=k;const O=n.createBuffer(),j=R.__size,X=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,O),n.bufferData(n.UNIFORM_BUFFER,j,X),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,k,O),O}function v(){for(let R=0;R<l;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(R){const k=r[R.id],O=R.uniforms,j=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,k);for(let X=0,Z=O.length;X<Z;X++){const z=Array.isArray(O[X])?O[X]:[O[X]];for(let U=0,N=z.length;U<N;U++){const Y=z[U];if(x(Y,X,U,j)===!0){const Q=Y.__offset,ae=Array.isArray(Y.value)?Y.value:[Y.value];let se=0;for(let ge=0;ge<ae.length;ge++){const he=ae[ge],de=C(he);typeof he=="number"||typeof he=="boolean"?(Y.__data[0]=he,n.bufferSubData(n.UNIFORM_BUFFER,Q+se,Y.__data)):he.isMatrix3?(Y.__data[0]=he.elements[0],Y.__data[1]=he.elements[1],Y.__data[2]=he.elements[2],Y.__data[3]=0,Y.__data[4]=he.elements[3],Y.__data[5]=he.elements[4],Y.__data[6]=he.elements[5],Y.__data[7]=0,Y.__data[8]=he.elements[6],Y.__data[9]=he.elements[7],Y.__data[10]=he.elements[8],Y.__data[11]=0):(he.toArray(Y.__data,se),se+=de.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Q,Y.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function x(R,k,O,j){const X=R.value,Z=k+"_"+O;if(j[Z]===void 0)return typeof X=="number"||typeof X=="boolean"?j[Z]=X:j[Z]=X.clone(),!0;{const z=j[Z];if(typeof X=="number"||typeof X=="boolean"){if(z!==X)return j[Z]=X,!0}else if(z.equals(X)===!1)return z.copy(X),!0}return!1}function M(R){const k=R.uniforms;let O=0;const j=16;for(let Z=0,z=k.length;Z<z;Z++){const U=Array.isArray(k[Z])?k[Z]:[k[Z]];for(let N=0,Y=U.length;N<Y;N++){const Q=U[N],ae=Array.isArray(Q.value)?Q.value:[Q.value];for(let se=0,ge=ae.length;se<ge;se++){const he=ae[se],de=C(he),W=O%j,ie=W%de.boundary,ee=W+ie;O+=ie,ee!==0&&j-ee<de.storage&&(O+=j-ee),Q.__data=new Float32Array(de.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=O,O+=de.storage}}}const X=O%j;return X>0&&(O+=j-X),R.__size=O,R.__cache={},this}function C(R){const k={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(k.boundary=4,k.storage=4):R.isVector2?(k.boundary=8,k.storage=8):R.isVector3||R.isColor?(k.boundary=16,k.storage=12):R.isVector4?(k.boundary=16,k.storage=16):R.isMatrix3?(k.boundary=48,k.storage=48):R.isMatrix4?(k.boundary=64,k.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),k}function T(R){const k=R.target;k.removeEventListener("dispose",T);const O=o.indexOf(k.__bindingPointIndex);o.splice(O,1),n.deleteBuffer(r[k.id]),delete r[k.id],delete s[k.id]}function w(){for(const R in r)n.deleteBuffer(r[R]);o=[],r={},s={}}return{bind:d,update:f,dispose:w}}class JL{constructor(e={}){const{canvas:t=V2(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:f=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let x;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=i.getContextAttributes().alpha}else x=o;const M=new Uint32Array(4),C=new Int32Array(4);let T=null,w=null;const R=[],k=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Cl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let j=!1;this._outputColorSpace=uo;let X=0,Z=0,z=null,U=-1,N=null;const Y=new Hn,Q=new Hn;let ae=null;const se=new zt(0);let ge=0,he=t.width,de=t.height,W=1,ie=null,ee=null;const K=new Hn(0,0,he,de),oe=new Hn(0,0,he,de);let we=!1;const ce=new qf;let me=!1,_e=!1;const xe=new ln,Ge=new ln,$e=new le,Qe=new Hn,nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ht=!1;function ct(){return z===null?W:1}let re=i;function rt(te,Ae){return t.getContext(te,Ae)}try{const te={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${I0}`),t.addEventListener("webglcontextlost",Mt,!1),t.addEventListener("webglcontextrestored",st,!1),t.addEventListener("webglcontextcreationerror",Ye,!1),re===null){const Ae="webgl2";if(re=rt(Ae,te),re===null)throw rt(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let Ze,Be,Pe,Xe,Me,We,it,ne,q,Se,Re,He,Ue,It,ot,At,yt,qe,_t,Wt,Ut,pt,en,ye;function xt(){Ze=new C9(re),Ze.init(),pt=new KL(re,Ze),Be=new x9(re,Ze,e,pt),Pe=new aj(re,Ze),Be.reverseDepthBuffer&&_&&Pe.buffers.depth.setReversed(!0),Xe=new R9(re),Me=new Y7,We=new lj(re,Ze,Pe,Me,Be,pt,Xe),it=new S9(O),ne=new E9(O),q=new D6(re),en=new y9(re,q),Se=new A9(re,q,Xe,en),Re=new I9(re,Se,q,Xe),_t=new L9(re,Be,We),At=new w9(Me),He=new Z7(O,it,ne,Ze,Be,en,At),Ue=new pj(O,Me),It=new $7,ot=new nj(Ze),qe=new v9(O,it,ne,Pe,Re,x,d),yt=new sj(O,Re,Be),ye=new mj(re,Xe,Be,Pe),Wt=new _9(re,Ze,Xe),Ut=new P9(re,Ze,Xe),Xe.programs=He.programs,O.capabilities=Be,O.extensions=Ze,O.properties=Me,O.renderLists=It,O.shadowMap=yt,O.state=Pe,O.info=Xe}xt();const et=new hj(O,re);this.xr=et,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const te=Ze.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=Ze.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(te){te!==void 0&&(W=te,this.setSize(he,de,!1))},this.getSize=function(te){return te.set(he,de)},this.setSize=function(te,Ae,De=!0){if(et.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}he=te,de=Ae,t.width=Math.floor(te*W),t.height=Math.floor(Ae*W),De===!0&&(t.style.width=te+"px",t.style.height=Ae+"px"),this.setViewport(0,0,te,Ae)},this.getDrawingBufferSize=function(te){return te.set(he*W,de*W).floor()},this.setDrawingBufferSize=function(te,Ae,De){he=te,de=Ae,W=De,t.width=Math.floor(te*De),t.height=Math.floor(Ae*De),this.setViewport(0,0,te,Ae)},this.getCurrentViewport=function(te){return te.copy(Y)},this.getViewport=function(te){return te.copy(K)},this.setViewport=function(te,Ae,De,Ie){te.isVector4?K.set(te.x,te.y,te.z,te.w):K.set(te,Ae,De,Ie),Pe.viewport(Y.copy(K).multiplyScalar(W).round())},this.getScissor=function(te){return te.copy(oe)},this.setScissor=function(te,Ae,De,Ie){te.isVector4?oe.set(te.x,te.y,te.z,te.w):oe.set(te,Ae,De,Ie),Pe.scissor(Q.copy(oe).multiplyScalar(W).round())},this.getScissorTest=function(){return we},this.setScissorTest=function(te){Pe.setScissorTest(we=te)},this.setOpaqueSort=function(te){ie=te},this.setTransparentSort=function(te){ee=te},this.getClearColor=function(te){return te.copy(qe.getClearColor())},this.setClearColor=function(){qe.setClearColor(...arguments)},this.getClearAlpha=function(){return qe.getClearAlpha()},this.setClearAlpha=function(){qe.setClearAlpha(...arguments)},this.clear=function(te=!0,Ae=!0,De=!0){let Ie=0;if(te){let Ee=!1;if(z!==null){const ut=z.texture.format;Ee=ut===B0||ut===U0||ut===ng}if(Ee){const ut=z.texture.type,Tt=ut===oa||ut===ku||ut===Pf||ut===Rf||ut===D0||ut===F0,Ot=qe.getClearColor(),Lt=qe.getClearAlpha(),Zt=Ot.r,Yt=Ot.g,ft=Ot.b;Tt?(M[0]=Zt,M[1]=Yt,M[2]=ft,M[3]=Lt,re.clearBufferuiv(re.COLOR,0,M)):(C[0]=Zt,C[1]=Yt,C[2]=ft,C[3]=Lt,re.clearBufferiv(re.COLOR,0,C))}else Ie|=re.COLOR_BUFFER_BIT}Ae&&(Ie|=re.DEPTH_BUFFER_BIT),De&&(Ie|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Mt,!1),t.removeEventListener("webglcontextrestored",st,!1),t.removeEventListener("webglcontextcreationerror",Ye,!1),qe.dispose(),It.dispose(),ot.dispose(),Me.dispose(),it.dispose(),ne.dispose(),Re.dispose(),en.dispose(),ye.dispose(),He.dispose(),et.dispose(),et.removeEventListener("sessionstart",br),et.removeEventListener("sessionend",yi),Ai.stop()};function Mt(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const te=Xe.autoReset,Ae=yt.enabled,De=yt.autoUpdate,Ie=yt.needsUpdate,Ee=yt.type;xt(),Xe.autoReset=te,yt.enabled=Ae,yt.autoUpdate=De,yt.needsUpdate=Ie,yt.type=Ee}function Ye(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function Ke(te){const Ae=te.target;Ae.removeEventListener("dispose",Ke),Et(Ae)}function Et(te){Jt(te),Me.remove(te)}function Jt(te){const Ae=Me.get(te).programs;Ae!==void 0&&(Ae.forEach(function(De){He.releaseProgram(De)}),te.isShaderMaterial&&He.releaseShaderCache(te))}this.renderBufferDirect=function(te,Ae,De,Ie,Ee,ut){Ae===null&&(Ae=nt);const Tt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,Ot=vo(te,Ae,De,Ie,Ee);Pe.setMaterial(Ie,Tt);let Lt=De.index,Zt=1;if(Ie.wireframe===!0){if(Lt=Se.getWireframeAttribute(De),Lt===void 0)return;Zt=2}const Yt=De.drawRange,ft=De.attributes.position;let Nt=Yt.start*Zt,bt=(Yt.start+Yt.count)*Zt;ut!==null&&(Nt=Math.max(Nt,ut.start*Zt),bt=Math.min(bt,(ut.start+ut.count)*Zt)),Lt!==null?(Nt=Math.max(Nt,0),bt=Math.min(bt,Lt.count)):ft!=null&&(Nt=Math.max(Nt,0),bt=Math.min(bt,ft.count));const jt=bt-Nt;if(jt<0||jt===1/0)return;en.setup(Ee,Ie,Ot,De,Lt);let cn,mn=Wt;if(Lt!==null&&(cn=q.get(Lt),mn=Ut,mn.setIndex(cn)),Ee.isMesh)Ie.wireframe===!0?(Pe.setLineWidth(Ie.wireframeLinewidth*ct()),mn.setMode(re.LINES)):mn.setMode(re.TRIANGLES);else if(Ee.isLine){let Dt=Ie.linewidth;Dt===void 0&&(Dt=1),Pe.setLineWidth(Dt*ct()),Ee.isLineSegments?mn.setMode(re.LINES):Ee.isLineLoop?mn.setMode(re.LINE_LOOP):mn.setMode(re.LINE_STRIP)}else Ee.isPoints?mn.setMode(re.POINTS):Ee.isSprite&&mn.setMode(re.TRIANGLES);if(Ee.isBatchedMesh)if(Ee._multiDrawInstances!==null)Mf("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),mn.renderMultiDrawInstances(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount,Ee._multiDrawInstances);else if(Ze.get("WEBGL_multi_draw"))mn.renderMultiDraw(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount);else{const Dt=Ee._multiDrawStarts,dn=Ee._multiDrawCounts,wt=Ee._multiDrawCount,wn=Lt?q.get(Lt).bytesPerElement:1,bs=Me.get(Ie).currentProgram.getUniforms();for(let hi=0;hi<wt;hi++)bs.setValue(re,"_gl_DrawID",hi),mn.render(Dt[hi]/wn,dn[hi])}else if(Ee.isInstancedMesh)mn.renderInstances(Nt,jt,Ee.count);else if(De.isInstancedBufferGeometry){const Dt=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,dn=Math.min(De.instanceCount,Dt);mn.renderInstances(Nt,jt,dn)}else mn.render(Nt,jt)};function an(te,Ae,De){te.transparent===!0&&te.side===Sl&&te.forceSinglePass===!1?(te.side=js,te.needsUpdate=!0,ua(te,Ae,De),te.side=Lu,te.needsUpdate=!0,ua(te,Ae,De),te.side=Sl):ua(te,Ae,De)}this.compile=function(te,Ae,De=null){De===null&&(De=te),w=ot.get(De),w.init(Ae),k.push(w),De.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(Ae.layers)&&(w.pushLight(Ee),Ee.castShadow&&w.pushShadow(Ee))}),te!==De&&te.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(Ae.layers)&&(w.pushLight(Ee),Ee.castShadow&&w.pushShadow(Ee))}),w.setupLights();const Ie=new Set;return te.traverse(function(Ee){if(!(Ee.isMesh||Ee.isPoints||Ee.isLine||Ee.isSprite))return;const ut=Ee.material;if(ut)if(Array.isArray(ut))for(let Tt=0;Tt<ut.length;Tt++){const Ot=ut[Tt];an(Ot,De,Ee),Ie.add(Ot)}else an(ut,De,Ee),Ie.add(ut)}),w=k.pop(),Ie},this.compileAsync=function(te,Ae,De=null){const Ie=this.compile(te,Ae,De);return new Promise(Ee=>{function ut(){if(Ie.forEach(function(Tt){Me.get(Tt).currentProgram.isReady()&&Ie.delete(Tt)}),Ie.size===0){Ee(te);return}setTimeout(ut,10)}Ze.get("KHR_parallel_shader_compile")!==null?ut():setTimeout(ut,10)})};let Un=null;function ti(te){Un&&Un(te)}function br(){Ai.stop()}function yi(){Ai.start()}const Ai=new XL;Ai.setAnimationLoop(ti),typeof self<"u"&&Ai.setContext(self),this.setAnimationLoop=function(te){Un=te,et.setAnimationLoop(te),te===null?Ai.stop():Ai.start()},et.addEventListener("sessionstart",br),et.addEventListener("sessionend",yi),this.render=function(te,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),et.enabled===!0&&et.isPresenting===!0&&(et.cameraAutoUpdate===!0&&et.updateCamera(Ae),Ae=et.getCamera()),te.isScene===!0&&te.onBeforeRender(O,te,Ae,z),w=ot.get(te,k.length),w.init(Ae),k.push(w),Ge.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),ce.setFromProjectionMatrix(Ge),_e=this.localClippingEnabled,me=At.init(this.clippingPlanes,_e),T=It.get(te,R.length),T.init(),R.push(T),et.enabled===!0&&et.isPresenting===!0){const ut=O.xr.getDepthSensingMesh();ut!==null&&_i(ut,Ae,-1/0,O.sortObjects)}_i(te,Ae,0,O.sortObjects),T.finish(),O.sortObjects===!0&&T.sort(ie,ee),ht=et.enabled===!1||et.isPresenting===!1||et.hasDepthSensing()===!1,ht&&qe.addToRenderList(T,te),this.info.render.frame++,me===!0&&At.beginShadows();const De=w.state.shadowsArray;yt.render(De,te,Ae),me===!0&&At.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ie=T.opaque,Ee=T.transmissive;if(w.setupLights(),Ae.isArrayCamera){const ut=Ae.cameras;if(Ee.length>0)for(let Tt=0,Ot=ut.length;Tt<Ot;Tt++){const Lt=ut[Tt];os(Ie,Ee,te,Lt)}ht&&qe.render(te);for(let Tt=0,Ot=ut.length;Tt<Ot;Tt++){const Lt=ut[Tt];Vt(T,te,Lt,Lt.viewport)}}else Ee.length>0&&os(Ie,Ee,te,Ae),ht&&qe.render(te),Vt(T,te,Ae);z!==null&&Z===0&&(We.updateMultisampleRenderTarget(z),We.updateRenderTargetMipmap(z)),te.isScene===!0&&te.onAfterRender(O,te,Ae),en.resetDefaultState(),U=-1,N=null,k.pop(),k.length>0?(w=k[k.length-1],me===!0&&At.setGlobalState(O.clippingPlanes,w.state.camera)):w=null,R.pop(),R.length>0?T=R[R.length-1]:T=null};function _i(te,Ae,De,Ie){if(te.visible===!1)return;if(te.layers.test(Ae.layers)){if(te.isGroup)De=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(Ae);else if(te.isLight)w.pushLight(te),te.castShadow&&w.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||ce.intersectsSprite(te)){Ie&&Qe.setFromMatrixPosition(te.matrixWorld).applyMatrix4(Ge);const Tt=Re.update(te),Ot=te.material;Ot.visible&&T.push(te,Tt,Ot,De,Qe.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||ce.intersectsObject(te))){const Tt=Re.update(te),Ot=te.material;if(Ie&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),Qe.copy(te.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),Qe.copy(Tt.boundingSphere.center)),Qe.applyMatrix4(te.matrixWorld).applyMatrix4(Ge)),Array.isArray(Ot)){const Lt=Tt.groups;for(let Zt=0,Yt=Lt.length;Zt<Yt;Zt++){const ft=Lt[Zt],Nt=Ot[ft.materialIndex];Nt&&Nt.visible&&T.push(te,Tt,Nt,De,Qe.z,ft)}}else Ot.visible&&T.push(te,Tt,Ot,De,Qe.z,null)}}const ut=te.children;for(let Tt=0,Ot=ut.length;Tt<Ot;Tt++)_i(ut[Tt],Ae,De,Ie)}function Vt(te,Ae,De,Ie){const Ee=te.opaque,ut=te.transmissive,Tt=te.transparent;w.setupLightsView(De),me===!0&&At.setGlobalState(O.clippingPlanes,De),Ie&&Pe.viewport(Y.copy(Ie)),Ee.length>0&&go(Ee,Ae,De),ut.length>0&&go(ut,Ae,De),Tt.length>0&&go(Tt,Ae,De),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function os(te,Ae,De,Ie){if((De.isScene===!0?De.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[Ie.id]===void 0&&(w.state.transmissionRenderTarget[Ie.id]=new Nl(1,1,{generateMipmaps:!0,type:Ze.has("EXT_color_buffer_half_float")||Ze.has("EXT_color_buffer_float")?Zf:oa,minFilter:Tl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:zn.workingColorSpace}));const ut=w.state.transmissionRenderTarget[Ie.id],Tt=Ie.viewport||Y;ut.setSize(Tt.z*O.transmissionResolutionScale,Tt.w*O.transmissionResolutionScale);const Ot=O.getRenderTarget(),Lt=O.getActiveCubeFace(),Zt=O.getActiveMipmapLevel();O.setRenderTarget(ut),O.getClearColor(se),ge=O.getClearAlpha(),ge<1&&O.setClearColor(16777215,.5),O.clear(),ht&&qe.render(De);const Yt=O.toneMapping;O.toneMapping=Cl;const ft=Ie.viewport;if(Ie.viewport!==void 0&&(Ie.viewport=void 0),w.setupLightsView(Ie),me===!0&&At.setGlobalState(O.clippingPlanes,Ie),go(te,De,Ie),We.updateMultisampleRenderTarget(ut),We.updateRenderTargetMipmap(ut),Ze.has("WEBGL_multisampled_render_to_texture")===!1){let Nt=!1;for(let bt=0,jt=Ae.length;bt<jt;bt++){const cn=Ae[bt],mn=cn.object,Dt=cn.geometry,dn=cn.material,wt=cn.group;if(dn.side===Sl&&mn.layers.test(Ie.layers)){const wn=dn.side;dn.side=js,dn.needsUpdate=!0,zl(mn,De,Ie,Dt,dn,wt),dn.side=wn,dn.needsUpdate=!0,Nt=!0}}Nt===!0&&(We.updateMultisampleRenderTarget(ut),We.updateRenderTargetMipmap(ut))}O.setRenderTarget(Ot,Lt,Zt),O.setClearColor(se,ge),ft!==void 0&&(Ie.viewport=ft),O.toneMapping=Yt}function go(te,Ae,De){const Ie=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Ee=0,ut=te.length;Ee<ut;Ee++){const Tt=te[Ee],Ot=Tt.object,Lt=Tt.geometry,Zt=Tt.group;let Yt=Tt.material;Yt.allowOverride===!0&&Ie!==null&&(Yt=Ie),Ot.layers.test(De.layers)&&zl(Ot,Ae,De,Lt,Yt,Zt)}}function zl(te,Ae,De,Ie,Ee,ut){te.onBeforeRender(O,Ae,De,Ie,Ee,ut),te.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Ee.onBeforeRender(O,Ae,De,Ie,te,ut),Ee.transparent===!0&&Ee.side===Sl&&Ee.forceSinglePass===!1?(Ee.side=js,Ee.needsUpdate=!0,O.renderBufferDirect(De,Ae,Ie,Ee,te,ut),Ee.side=Lu,Ee.needsUpdate=!0,O.renderBufferDirect(De,Ae,Ie,Ee,te,ut),Ee.side=Sl):O.renderBufferDirect(De,Ae,Ie,Ee,te,ut),te.onAfterRender(O,Ae,De,Ie,Ee,ut)}function ua(te,Ae,De){Ae.isScene!==!0&&(Ae=nt);const Ie=Me.get(te),Ee=w.state.lights,ut=w.state.shadowsArray,Tt=Ee.state.version,Ot=He.getParameters(te,Ee.state,ut,Ae,De),Lt=He.getProgramCacheKey(Ot);let Zt=Ie.programs;Ie.environment=te.isMeshStandardMaterial?Ae.environment:null,Ie.fog=Ae.fog,Ie.envMap=(te.isMeshStandardMaterial?ne:it).get(te.envMap||Ie.environment),Ie.envMapRotation=Ie.environment!==null&&te.envMap===null?Ae.environmentRotation:te.envMapRotation,Zt===void 0&&(te.addEventListener("dispose",Ke),Zt=new Map,Ie.programs=Zt);let Yt=Zt.get(Lt);if(Yt!==void 0){if(Ie.currentProgram===Yt&&Ie.lightsStateVersion===Tt)return Ss(te,Ot),Yt}else Ot.uniforms=He.getUniforms(te),te.onBeforeCompile(Ot,O),Yt=He.acquireProgram(Ot,Lt),Zt.set(Lt,Yt),Ie.uniforms=Ot.uniforms;const ft=Ie.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(ft.clippingPlanes=At.uniform),Ss(te,Ot),Ie.needsLights=Fu(te),Ie.lightsStateVersion=Tt,Ie.needsLights&&(ft.ambientLightColor.value=Ee.state.ambient,ft.lightProbe.value=Ee.state.probe,ft.directionalLights.value=Ee.state.directional,ft.directionalLightShadows.value=Ee.state.directionalShadow,ft.spotLights.value=Ee.state.spot,ft.spotLightShadows.value=Ee.state.spotShadow,ft.rectAreaLights.value=Ee.state.rectArea,ft.ltc_1.value=Ee.state.rectAreaLTC1,ft.ltc_2.value=Ee.state.rectAreaLTC2,ft.pointLights.value=Ee.state.point,ft.pointLightShadows.value=Ee.state.pointShadow,ft.hemisphereLights.value=Ee.state.hemi,ft.directionalShadowMap.value=Ee.state.directionalShadowMap,ft.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,ft.spotShadowMap.value=Ee.state.spotShadowMap,ft.spotLightMatrix.value=Ee.state.spotLightMatrix,ft.spotLightMap.value=Ee.state.spotLightMap,ft.pointShadowMap.value=Ee.state.pointShadowMap,ft.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Ie.currentProgram=Yt,Ie.uniformsList=null,Yt}function el(te){if(te.uniformsList===null){const Ae=te.currentProgram.getUniforms();te.uniformsList=uy.seqWithValue(Ae.seq,te.uniforms)}return te.uniformsList}function Ss(te,Ae){const De=Me.get(te);De.outputColorSpace=Ae.outputColorSpace,De.batching=Ae.batching,De.batchingColor=Ae.batchingColor,De.instancing=Ae.instancing,De.instancingColor=Ae.instancingColor,De.instancingMorph=Ae.instancingMorph,De.skinning=Ae.skinning,De.morphTargets=Ae.morphTargets,De.morphNormals=Ae.morphNormals,De.morphColors=Ae.morphColors,De.morphTargetsCount=Ae.morphTargetsCount,De.numClippingPlanes=Ae.numClippingPlanes,De.numIntersection=Ae.numClipIntersection,De.vertexAlphas=Ae.vertexAlphas,De.vertexTangents=Ae.vertexTangents,De.toneMapping=Ae.toneMapping}function vo(te,Ae,De,Ie,Ee){Ae.isScene!==!0&&(Ae=nt),We.resetTextureUnits();const ut=Ae.fog,Tt=Ie.isMeshStandardMaterial?Ae.environment:null,Ot=z===null?O.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:ah,Lt=(Ie.isMeshStandardMaterial?ne:it).get(Ie.envMap||Tt),Zt=Ie.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,Yt=!!De.attributes.tangent&&(!!Ie.normalMap||Ie.anisotropy>0),ft=!!De.morphAttributes.position,Nt=!!De.morphAttributes.normal,bt=!!De.morphAttributes.color;let jt=Cl;Ie.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(jt=O.toneMapping);const cn=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,mn=cn!==void 0?cn.length:0,Dt=Me.get(Ie),dn=w.state.lights;if(me===!0&&(_e===!0||te!==N)){const Rn=te===N&&Ie.id===U;At.setState(Ie,te,Rn)}let wt=!1;Ie.version===Dt.__version?(Dt.needsLights&&Dt.lightsStateVersion!==dn.state.version||Dt.outputColorSpace!==Ot||Ee.isBatchedMesh&&Dt.batching===!1||!Ee.isBatchedMesh&&Dt.batching===!0||Ee.isBatchedMesh&&Dt.batchingColor===!0&&Ee.colorTexture===null||Ee.isBatchedMesh&&Dt.batchingColor===!1&&Ee.colorTexture!==null||Ee.isInstancedMesh&&Dt.instancing===!1||!Ee.isInstancedMesh&&Dt.instancing===!0||Ee.isSkinnedMesh&&Dt.skinning===!1||!Ee.isSkinnedMesh&&Dt.skinning===!0||Ee.isInstancedMesh&&Dt.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&Dt.instancingColor===!1&&Ee.instanceColor!==null||Ee.isInstancedMesh&&Dt.instancingMorph===!0&&Ee.morphTexture===null||Ee.isInstancedMesh&&Dt.instancingMorph===!1&&Ee.morphTexture!==null||Dt.envMap!==Lt||Ie.fog===!0&&Dt.fog!==ut||Dt.numClippingPlanes!==void 0&&(Dt.numClippingPlanes!==At.numPlanes||Dt.numIntersection!==At.numIntersection)||Dt.vertexAlphas!==Zt||Dt.vertexTangents!==Yt||Dt.morphTargets!==ft||Dt.morphNormals!==Nt||Dt.morphColors!==bt||Dt.toneMapping!==jt||Dt.morphTargetsCount!==mn)&&(wt=!0):(wt=!0,Dt.__version=Ie.version);let wn=Dt.currentProgram;wt===!0&&(wn=ua(Ie,Ae,Ee));let bs=!1,hi=!1,fi=!1;const Cn=wn.getUniforms(),Pi=Dt.uniforms;if(Pe.useProgram(wn.program)&&(bs=!0,hi=!0,fi=!0),Ie.id!==U&&(U=Ie.id,hi=!0),bs||N!==te){Pe.buffers.depth.getReversed()?(xe.copy(te.projectionMatrix),i5(xe),r5(xe),Cn.setValue(re,"projectionMatrix",xe)):Cn.setValue(re,"projectionMatrix",te.projectionMatrix),Cn.setValue(re,"viewMatrix",te.matrixWorldInverse);const Gn=Cn.map.cameraPosition;Gn!==void 0&&Gn.setValue(re,$e.setFromMatrixPosition(te.matrixWorld)),Be.logarithmicDepthBuffer&&Cn.setValue(re,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial)&&Cn.setValue(re,"isOrthographic",te.isOrthographicCamera===!0),N!==te&&(N=te,hi=!0,fi=!0)}if(Ee.isSkinnedMesh){Cn.setOptional(re,Ee,"bindMatrix"),Cn.setOptional(re,Ee,"bindMatrixInverse");const Rn=Ee.skeleton;Rn&&(Rn.boneTexture===null&&Rn.computeBoneTexture(),Cn.setValue(re,"boneTexture",Rn.boneTexture,We))}Ee.isBatchedMesh&&(Cn.setOptional(re,Ee,"batchingTexture"),Cn.setValue(re,"batchingTexture",Ee._matricesTexture,We),Cn.setOptional(re,Ee,"batchingIdTexture"),Cn.setValue(re,"batchingIdTexture",Ee._indirectTexture,We),Cn.setOptional(re,Ee,"batchingColorTexture"),Ee._colorsTexture!==null&&Cn.setValue(re,"batchingColorTexture",Ee._colorsTexture,We));const ni=De.morphAttributes;if((ni.position!==void 0||ni.normal!==void 0||ni.color!==void 0)&&_t.update(Ee,De,wn),(hi||Dt.receiveShadow!==Ee.receiveShadow)&&(Dt.receiveShadow=Ee.receiveShadow,Cn.setValue(re,"receiveShadow",Ee.receiveShadow)),Ie.isMeshGouraudMaterial&&Ie.envMap!==null&&(Pi.envMap.value=Lt,Pi.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1),Ie.isMeshStandardMaterial&&Ie.envMap===null&&Ae.environment!==null&&(Pi.envMapIntensity.value=Ae.environmentIntensity),hi&&(Cn.setValue(re,"toneMappingExposure",O.toneMappingExposure),Dt.needsLights&&Ul(Pi,fi),ut&&Ie.fog===!0&&Ue.refreshFogUniforms(Pi,ut),Ue.refreshMaterialUniforms(Pi,Ie,W,de,w.state.transmissionRenderTarget[te.id]),uy.upload(re,el(Dt),Pi,We)),Ie.isShaderMaterial&&Ie.uniformsNeedUpdate===!0&&(uy.upload(re,el(Dt),Pi,We),Ie.uniformsNeedUpdate=!1),Ie.isSpriteMaterial&&Cn.setValue(re,"center",Ee.center),Cn.setValue(re,"modelViewMatrix",Ee.modelViewMatrix),Cn.setValue(re,"normalMatrix",Ee.normalMatrix),Cn.setValue(re,"modelMatrix",Ee.matrixWorld),Ie.isShaderMaterial||Ie.isRawShaderMaterial){const Rn=Ie.uniformsGroups;for(let Gn=0,gn=Rn.length;Gn<gn;Gn++){const Di=Rn[Gn];ye.update(Di,wn),ye.bind(Di,wn)}}return wn}function Ul(te,Ae){te.ambientLightColor.needsUpdate=Ae,te.lightProbe.needsUpdate=Ae,te.directionalLights.needsUpdate=Ae,te.directionalLightShadows.needsUpdate=Ae,te.pointLights.needsUpdate=Ae,te.pointLightShadows.needsUpdate=Ae,te.spotLights.needsUpdate=Ae,te.spotLightShadows.needsUpdate=Ae,te.rectAreaLights.needsUpdate=Ae,te.hemisphereLights.needsUpdate=Ae}function Fu(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(te,Ae,De){const Ie=Me.get(te);Ie.__autoAllocateDepthBuffer=te.resolveDepthBuffer===!1,Ie.__autoAllocateDepthBuffer===!1&&(Ie.__useRenderToTexture=!1),Me.get(te.texture).__webglTexture=Ae,Me.get(te.depthTexture).__webglTexture=Ie.__autoAllocateDepthBuffer?void 0:De,Ie.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(te,Ae){const De=Me.get(te);De.__webglFramebuffer=Ae,De.__useDefaultFramebuffer=Ae===void 0};const zu=re.createFramebuffer();this.setRenderTarget=function(te,Ae=0,De=0){z=te,X=Ae,Z=De;let Ie=!0,Ee=null,ut=!1,Tt=!1;if(te){const Lt=Me.get(te);if(Lt.__useDefaultFramebuffer!==void 0)Pe.bindFramebuffer(re.FRAMEBUFFER,null),Ie=!1;else if(Lt.__webglFramebuffer===void 0)We.setupRenderTarget(te);else if(Lt.__hasExternalTextures)We.rebindTextures(te,Me.get(te.texture).__webglTexture,Me.get(te.depthTexture).__webglTexture);else if(te.depthBuffer){const ft=te.depthTexture;if(Lt.__boundDepthTexture!==ft){if(ft!==null&&Me.has(ft)&&(te.width!==ft.image.width||te.height!==ft.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");We.setupDepthRenderbuffer(te)}}const Zt=te.texture;(Zt.isData3DTexture||Zt.isDataArrayTexture||Zt.isCompressedArrayTexture)&&(Tt=!0);const Yt=Me.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(Yt[Ae])?Ee=Yt[Ae][De]:Ee=Yt[Ae],ut=!0):te.samples>0&&We.useMultisampledRTT(te)===!1?Ee=Me.get(te).__webglMultisampledFramebuffer:Array.isArray(Yt)?Ee=Yt[De]:Ee=Yt,Y.copy(te.viewport),Q.copy(te.scissor),ae=te.scissorTest}else Y.copy(K).multiplyScalar(W).floor(),Q.copy(oe).multiplyScalar(W).floor(),ae=we;if(De!==0&&(Ee=zu),Pe.bindFramebuffer(re.FRAMEBUFFER,Ee)&&Ie&&Pe.drawBuffers(te,Ee),Pe.viewport(Y),Pe.scissor(Q),Pe.setScissorTest(ae),ut){const Lt=Me.get(te.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Lt.__webglTexture,De)}else if(Tt){const Lt=Me.get(te.texture),Zt=Ae;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Lt.__webglTexture,De,Zt)}else if(te!==null&&De!==0){const Lt=Me.get(te.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Lt.__webglTexture,De)}U=-1},this.readRenderTargetPixels=function(te,Ae,De,Ie,Ee,ut,Tt,Ot=0){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Lt=Me.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Tt!==void 0&&(Lt=Lt[Tt]),Lt){Pe.bindFramebuffer(re.FRAMEBUFFER,Lt);try{const Zt=te.textures[Ot],Yt=Zt.format,ft=Zt.type;if(!Be.textureFormatReadable(Yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Be.textureTypeReadable(ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=te.width-Ie&&De>=0&&De<=te.height-Ee&&(te.textures.length>1&&re.readBuffer(re.COLOR_ATTACHMENT0+Ot),re.readPixels(Ae,De,Ie,Ee,pt.convert(Yt),pt.convert(ft),ut))}finally{const Zt=z!==null?Me.get(z).__webglFramebuffer:null;Pe.bindFramebuffer(re.FRAMEBUFFER,Zt)}}},this.readRenderTargetPixelsAsync=async function(te,Ae,De,Ie,Ee,ut,Tt,Ot=0){if(!(te&&te.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Lt=Me.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Tt!==void 0&&(Lt=Lt[Tt]),Lt)if(Ae>=0&&Ae<=te.width-Ie&&De>=0&&De<=te.height-Ee){Pe.bindFramebuffer(re.FRAMEBUFFER,Lt);const Zt=te.textures[Ot],Yt=Zt.format,ft=Zt.type;if(!Be.textureFormatReadable(Yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Nt=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,Nt),re.bufferData(re.PIXEL_PACK_BUFFER,ut.byteLength,re.STREAM_READ),te.textures.length>1&&re.readBuffer(re.COLOR_ATTACHMENT0+Ot),re.readPixels(Ae,De,Ie,Ee,pt.convert(Yt),pt.convert(ft),0);const bt=z!==null?Me.get(z).__webglFramebuffer:null;Pe.bindFramebuffer(re.FRAMEBUFFER,bt);const jt=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await n5(re,jt,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,Nt),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,ut),re.deleteBuffer(Nt),re.deleteSync(jt),ut}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(te,Ae=null,De=0){const Ie=Math.pow(2,-De),Ee=Math.floor(te.image.width*Ie),ut=Math.floor(te.image.height*Ie),Tt=Ae!==null?Ae.x:0,Ot=Ae!==null?Ae.y:0;We.setTexture2D(te,0),re.copyTexSubImage2D(re.TEXTURE_2D,De,0,0,Tt,Ot,Ee,ut),Pe.unbindTexture()};const Uu=re.createFramebuffer(),Bu=re.createFramebuffer();this.copyTextureToTexture=function(te,Ae,De=null,Ie=null,Ee=0,ut=null){ut===null&&(Ee!==0?(Mf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ut=Ee,Ee=0):ut=0);let Tt,Ot,Lt,Zt,Yt,ft,Nt,bt,jt;const cn=te.isCompressedTexture?te.mipmaps[ut]:te.image;if(De!==null)Tt=De.max.x-De.min.x,Ot=De.max.y-De.min.y,Lt=De.isBox3?De.max.z-De.min.z:1,Zt=De.min.x,Yt=De.min.y,ft=De.isBox3?De.min.z:0;else{const ni=Math.pow(2,-Ee);Tt=Math.floor(cn.width*ni),Ot=Math.floor(cn.height*ni),te.isDataArrayTexture?Lt=cn.depth:te.isData3DTexture?Lt=Math.floor(cn.depth*ni):Lt=1,Zt=0,Yt=0,ft=0}Ie!==null?(Nt=Ie.x,bt=Ie.y,jt=Ie.z):(Nt=0,bt=0,jt=0);const mn=pt.convert(Ae.format),Dt=pt.convert(Ae.type);let dn;Ae.isData3DTexture?(We.setTexture3D(Ae,0),dn=re.TEXTURE_3D):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?(We.setTexture2DArray(Ae,0),dn=re.TEXTURE_2D_ARRAY):(We.setTexture2D(Ae,0),dn=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ae.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ae.unpackAlignment);const wt=re.getParameter(re.UNPACK_ROW_LENGTH),wn=re.getParameter(re.UNPACK_IMAGE_HEIGHT),bs=re.getParameter(re.UNPACK_SKIP_PIXELS),hi=re.getParameter(re.UNPACK_SKIP_ROWS),fi=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,cn.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,cn.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Zt),re.pixelStorei(re.UNPACK_SKIP_ROWS,Yt),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ft);const Cn=te.isDataArrayTexture||te.isData3DTexture,Pi=Ae.isDataArrayTexture||Ae.isData3DTexture;if(te.isDepthTexture){const ni=Me.get(te),Rn=Me.get(Ae),Gn=Me.get(ni.__renderTarget),gn=Me.get(Rn.__renderTarget);Pe.bindFramebuffer(re.READ_FRAMEBUFFER,Gn.__webglFramebuffer),Pe.bindFramebuffer(re.DRAW_FRAMEBUFFER,gn.__webglFramebuffer);for(let Di=0;Di<Lt;Di++)Cn&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Me.get(te).__webglTexture,Ee,ft+Di),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Me.get(Ae).__webglTexture,ut,jt+Di)),re.blitFramebuffer(Zt,Yt,Tt,Ot,Nt,bt,Tt,Ot,re.DEPTH_BUFFER_BIT,re.NEAREST);Pe.bindFramebuffer(re.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(Ee!==0||te.isRenderTargetTexture||Me.has(te)){const ni=Me.get(te),Rn=Me.get(Ae);Pe.bindFramebuffer(re.READ_FRAMEBUFFER,Uu),Pe.bindFramebuffer(re.DRAW_FRAMEBUFFER,Bu);for(let Gn=0;Gn<Lt;Gn++)Cn?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ni.__webglTexture,Ee,ft+Gn):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,ni.__webglTexture,Ee),Pi?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Rn.__webglTexture,ut,jt+Gn):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Rn.__webglTexture,ut),Ee!==0?re.blitFramebuffer(Zt,Yt,Tt,Ot,Nt,bt,Tt,Ot,re.COLOR_BUFFER_BIT,re.NEAREST):Pi?re.copyTexSubImage3D(dn,ut,Nt,bt,jt+Gn,Zt,Yt,Tt,Ot):re.copyTexSubImage2D(dn,ut,Nt,bt,Zt,Yt,Tt,Ot);Pe.bindFramebuffer(re.READ_FRAMEBUFFER,null),Pe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else Pi?te.isDataTexture||te.isData3DTexture?re.texSubImage3D(dn,ut,Nt,bt,jt,Tt,Ot,Lt,mn,Dt,cn.data):Ae.isCompressedArrayTexture?re.compressedTexSubImage3D(dn,ut,Nt,bt,jt,Tt,Ot,Lt,mn,cn.data):re.texSubImage3D(dn,ut,Nt,bt,jt,Tt,Ot,Lt,mn,Dt,cn):te.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,ut,Nt,bt,Tt,Ot,mn,Dt,cn.data):te.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,ut,Nt,bt,cn.width,cn.height,mn,cn.data):re.texSubImage2D(re.TEXTURE_2D,ut,Nt,bt,Tt,Ot,mn,Dt,cn);re.pixelStorei(re.UNPACK_ROW_LENGTH,wt),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,wn),re.pixelStorei(re.UNPACK_SKIP_PIXELS,bs),re.pixelStorei(re.UNPACK_SKIP_ROWS,hi),re.pixelStorei(re.UNPACK_SKIP_IMAGES,fi),ut===0&&Ae.generateMipmaps&&re.generateMipmap(dn),Pe.unbindTexture()},this.copyTextureToTexture3D=function(te,Ae,De=null,Ie=null,Ee=0){return Mf('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(te,Ae,De,Ie,Ee)},this.initRenderTarget=function(te){Me.get(te).__webglFramebuffer===void 0&&We.setupRenderTarget(te)},this.initTexture=function(te){te.isCubeTexture?We.setTextureCube(te,0):te.isData3DTexture?We.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?We.setTexture2DArray(te,0):We.setTexture2D(te,0),Pe.unbindTexture()},this.resetState=function(){X=0,Z=0,z=null,Pe.reset(),en.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ra}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=zn._getDrawingBufferColorSpace(e),t.unpackColorSpace=zn._getUnpackColorSpace()}}const gj=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rS,AddEquation:Oc,AddOperation:_2,AdditiveAnimationBlendMode:fS,AdditiveBlending:Yw,AgXToneMapping:T2,AlphaFormat:uS,AlwaysCompare:U2,AlwaysDepth:Cy,AlwaysStencilFunc:Jw,AmbientLight:NL,AnimationAction:jL,AnimationClip:zm,AnimationLoader:L8,AnimationMixer:s6,AnimationObjectGroup:i6,AnimationUtils:C8,ArcCurve:rL,ArrayCamera:BL,ArrowHelper:C6,AttachedBindMode:Kw,Audio:VL,AudioAnalyser:Z8,AudioContext:FS,AudioListener:W8,AudioLoader:V8,AxesHelper:A6,BackSide:js,BasicDepthPacking:R2,BasicShadowMap:QR,BatchedMesh:Q2,Bone:xS,BooleanKeyframeTrack:fh,Box2:f6,Box3:ws,Box3Helper:M6,BoxGeometry:hh,BoxHelper:T6,BufferAttribute:oi,BufferGeometry:Tn,BufferGeometryLoader:UL,ByteType:oS,Cache:Ml,Camera:ig,CameraHelper:b6,CanvasTexture:$5,CapsuleGeometry:$0,CatmullRomCurve3:sL,CineonToneMapping:S2,CircleGeometry:K0,ClampToEdgeWrapping:ia,Clock:zS,Color:zt,ColorKeyframeTrack:NS,ColorManagement:zn,CompressedArrayTexture:Y5,CompressedCubeTexture:q5,CompressedTexture:q0,CompressedTextureLoader:I8,ConeGeometry:og,ConstantAlphaFactor:g2,ConstantColorFactor:p2,Controls:R6,CubeCamera:X2,CubeReflectionMapping:Iu,CubeRefractionMapping:Vc,CubeTexture:rg,CubeTextureLoader:k8,CubeUVReflectionMapping:Xf,CubicBezierCurve:TS,CubicBezierCurve3:oL,CubicInterpolant:ML,CullFaceBack:Zw,CullFaceFront:JR,CullFaceFrontBack:tB,CullFaceNone:KR,Curve:Qa,CurvePath:lL,CustomBlending:e2,CustomToneMapping:b2,CylinderGeometry:sg,Cylindrical:h6,Data3DTexture:j0,DataArrayTexture:H0,DataTexture:Al,DataTextureLoader:N8,DataUtils:_5,DecrementStencilOp:mB,DecrementWrapStencilOp:vB,DefaultLoadingManager:AL,DepthFormat:Lf,DepthStencilFormat:If,DepthTexture:SS,DetachedBindMode:E2,DirectionalLight:kL,DirectionalLightHelper:S6,DiscreteInterpolant:EL,DodecahedronGeometry:J0,DoubleSide:Sl,DstAlphaFactor:u2,DstColorFactor:d2,DynamicCopyUsage:IB,DynamicDrawUsage:EB,DynamicReadUsage:PB,EdgesGeometry:iL,EllipseCurve:Q0,EqualCompare:O2,EqualDepth:Py,EqualStencilFunc:wB,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Tm,Euler:Bo,EventDispatcher:Dl,ExtrudeGeometry:e_,FileLoader:Nu,Float16BufferAttribute:E5,Float32BufferAttribute:Xt,FloatType:ho,Fog:G0,FogExp2:W0,FramebufferTexture:Z5,FrontSide:Lu,Frustum:qf,FrustumArray:Y0,GLBufferAttribute:c6,GLSL1:NB,GLSL3:Qw,GreaterCompare:D2,GreaterDepth:Ly,GreaterEqualCompare:z2,GreaterEqualDepth:Ry,GreaterEqualStencilFunc:MB,GreaterStencilFunc:bB,GridHelper:x6,Group:pf,HalfFloatType:Zf,HemisphereLight:RL,HemisphereLightHelper:_6,IcosahedronGeometry:t_,ImageBitmapLoader:B8,ImageLoader:Um,ImageUtils:H2,IncrementStencilOp:pB,IncrementWrapStencilOp:gB,InstancedBufferAttribute:Of,InstancedBufferGeometry:zL,InstancedInterleavedBuffer:u6,InstancedMesh:J2,Int16BufferAttribute:T5,Int32BufferAttribute:M5,Int8BufferAttribute:w5,IntType:O0,InterleavedBuffer:X0,InterleavedBufferAttribute:lh,Interpolant:ug,InterpolateDiscrete:Cm,InterpolateLinear:s0,InterpolateSmooth:ay,InterpolationSamplingMode:FB,InterpolationSamplingType:DB,InvertStencilOp:yB,KeepStencilOp:Hd,KeyframeTrack:la,LOD:$2,LatheGeometry:n_,Layers:Qd,LessCompare:N2,LessDepth:Ay,LessEqualCompare:pS,LessEqualDepth:oh,LessEqualStencilFunc:SB,LessStencilFunc:xB,Light:Yc,LightProbe:FL,Line:Hc,Line3:p6,LineBasicMaterial:Gs,LineCurve:MS,LineCurve3:aL,LineDashedMaterial:SL,LineLoop:eL,LineSegments:Fl,LinearFilter:ar,LinearInterpolant:kS,LinearMipMapLinearFilter:sB,LinearMipMapNearestFilter:rB,LinearMipmapLinearFilter:Tl,LinearMipmapNearestFilter:nm,LinearSRGBColorSpace:ah,LinearToneMapping:x2,LinearTransfer:Pm,Loader:mo,LoaderUtils:r1,LoadingManager:OS,LoopOnce:C2,LoopPingPong:P2,LoopRepeat:A2,MOUSE:QU,Material:ss,MaterialLoader:u_,MathUtils:e5,Matrix2:HS,Matrix3:bn,Matrix4:ln,MaxEquation:r2,Mesh:lr,MeshBasicMaterial:Xc,MeshDepthMaterial:RS,MeshDistanceMaterial:LS,MeshLambertMaterial:xL,MeshMatcapMaterial:wL,MeshNormalMaterial:_L,MeshPhongMaterial:vL,MeshPhysicalMaterial:gL,MeshStandardMaterial:PS,MeshToonMaterial:yL,MinEquation:i2,MirroredRepeatWrapping:Em,MixOperation:y2,MultiplyBlending:$w,MultiplyOperation:tg,NearestFilter:is,NearestMipMapLinearFilter:iB,NearestMipMapNearestFilter:nB,NearestMipmapLinearFilter:hf,NearestMipmapNearestFilter:sS,NeutralToneMapping:M2,NeverCompare:k2,NeverDepth:Ey,NeverStencilFunc:_B,NoBlending:Eu,NoColorSpace:bu,NoToneMapping:Cl,NormalAnimationBlendMode:V0,NormalBlending:Kd,NotEqualCompare:F2,NotEqualDepth:Iy,NotEqualStencilFunc:TB,NumberKeyframeTrack:Dm,Object3D:jn,ObjectLoader:z8,ObjectSpaceNormalMap:I2,OctahedronGeometry:ag,OneFactor:o2,OneMinusConstantAlphaFactor:v2,OneMinusConstantColorFactor:m2,OneMinusDstAlphaFactor:c2,OneMinusDstColorFactor:h2,OneMinusSrcAlphaFactor:My,OneMinusSrcColorFactor:l2,OrthographicCamera:dg,PCFShadowMap:k0,PCFSoftShadowMap:tm,PMREMGenerator:a1,Path:c0,PerspectiveCamera:Fr,Plane:kc,PlaneGeometry:$f,PlaneHelper:E6,PointLight:IL,PointLightHelper:v6,Points:tL,PointsMaterial:wS,PolarGridHelper:w6,PolyhedronGeometry:Zc,PositionalAudio:X8,PropertyBinding:Vn,PropertyMixer:HL,QuadraticBezierCurve:ES,QuadraticBezierCurve3:CS,Quaternion:po,QuaternionKeyframeTrack:cg,QuaternionLinearInterpolant:CL,RED_GREEN_RGTC2_Format:i0,RED_RGTC1_Format:hS,REVISION:I0,RGBADepthPacking:L2,RGBAFormat:_s,RGBAIntegerFormat:B0,RGBA_ASTC_10x10_Format:Ky,RGBA_ASTC_10x5_Format:Yy,RGBA_ASTC_10x6_Format:qy,RGBA_ASTC_10x8_Format:$y,RGBA_ASTC_12x10_Format:Jy,RGBA_ASTC_12x12_Format:Qy,RGBA_ASTC_4x4_Format:By,RGBA_ASTC_5x4_Format:Vy,RGBA_ASTC_5x5_Format:Hy,RGBA_ASTC_6x5_Format:jy,RGBA_ASTC_6x6_Format:Wy,RGBA_ASTC_8x5_Format:Gy,RGBA_ASTC_8x6_Format:Xy,RGBA_ASTC_8x8_Format:Zy,RGBA_BPTC_Format:am,RGBA_ETC2_EAC_Format:Uy,RGBA_PVRTC_2BPPV1_Format:Dy,RGBA_PVRTC_4BPPV1_Format:Oy,RGBA_S3TC_DXT1_Format:rm,RGBA_S3TC_DXT3_Format:sm,RGBA_S3TC_DXT5_Format:om,RGBDepthPacking:cB,RGBFormat:cS,RGBIntegerFormat:oB,RGB_BPTC_SIGNED_Format:e0,RGB_BPTC_UNSIGNED_Format:t0,RGB_ETC1_Format:Fy,RGB_ETC2_Format:zy,RGB_PVRTC_2BPPV1_Format:Ny,RGB_PVRTC_4BPPV1_Format:ky,RGB_S3TC_DXT1_Format:im,RGDepthPacking:dB,RGFormat:dS,RGIntegerFormat:U0,RawShaderMaterial:mL,Ray:Yf,Raycaster:WL,RectAreaLight:OL,RedFormat:z0,RedIntegerFormat:ng,ReinhardToneMapping:w2,RenderTarget:gS,RenderTarget3D:o6,RepeatWrapping:Mm,ReplaceStencilOp:fB,ReverseSubtractEquation:n2,RingGeometry:i_,SIGNED_RED_GREEN_RGTC2_Format:r0,SIGNED_RED_RGTC1_Format:n0,SRGBColorSpace:uo,SRGBTransfer:Qn,Scene:o0,ShaderChunk:Pn,ShaderLib:Ya,ShaderMaterial:aa,ShadowMaterial:pL,Shape:eh,ShapeGeometry:r_,ShapePath:P6,ShapeUtils:qa,ShortType:aS,Skeleton:Z0,SkeletonHelper:g6,SkinnedMesh:K2,Source:Fc,Sphere:rs,SphereGeometry:lg,Spherical:d6,SphericalHarmonics3:DL,SplineCurve:AS,SpotLight:LL,SpotLightHelper:m6,Sprite:q2,SpriteMaterial:_S,SrcAlphaFactor:Ty,SrcAlphaSaturateFactor:f2,SrcColorFactor:a2,StaticCopyUsage:LB,StaticDrawUsage:Rm,StaticReadUsage:AB,StereoCamera:H8,StreamCopyUsage:kB,StreamDrawUsage:CB,StreamReadUsage:RB,StringKeyframeTrack:ph,SubtractEquation:t2,SubtractiveBlending:qw,TOUCH:eB,TangentSpaceNormalMap:Gc,TetrahedronGeometry:s_,Texture:Oi,TextureLoader:PL,TextureUtils:O6,TimestampQuery:OB,TorusGeometry:o_,TorusKnotGeometry:a_,Triangle:co,TriangleFanDrawMode:uB,TriangleStripDrawMode:lB,TrianglesDrawMode:aB,TubeGeometry:l_,UVMapping:N0,Uint16BufferAttribute:vS,Uint32BufferAttribute:yS,Uint8BufferAttribute:S5,Uint8ClampedBufferAttribute:b5,Uniform:VS,UniformsGroup:l6,UniformsLib:Rt,UniformsUtils:G2,UnsignedByteType:oa,UnsignedInt248Type:Rf,UnsignedInt5999Type:lS,UnsignedIntType:ku,UnsignedShort4444Type:D0,UnsignedShort5551Type:F0,UnsignedShortType:Pf,VSMShadowMap:Za,Vector2:tt,Vector3:le,Vector4:Hn,VectorKeyframeTrack:Fm,VideoFrameTexture:X5,VideoTexture:nL,WebGL3DRenderTarget:u5,WebGLArrayRenderTarget:l5,WebGLCoordinateSystem:ra,WebGLCubeRenderTarget:Z2,WebGLRenderTarget:Nl,WebGLRenderer:JL,WebGLUtils:KL,WebGPUCoordinateSystem:Lm,WebXRController:ly,WireframeGeometry:fL,WrapAroundEnding:Am,ZeroCurvatureEnding:Xd,ZeroFactor:s2,ZeroSlopeEnding:Zd,ZeroStencilOp:hB,createCanvasElement:V2},Symbol.toStringTag,{value:"Module"}));var Qx={exports:{}},Pc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function vj(){return jE||(jE=1,Pc.ConcurrentRoot=1,Pc.ContinuousEventPriority=4,Pc.DefaultEventPriority=16,Pc.DiscreteEventPriority=1,Pc.IdleEventPriority=536870912,Pc.LegacyRoot=0),Pc}var WE;function yj(){return WE||(WE=1,Qx.exports=vj()),Qx.exports}var gf=yj();function _j(n){let e;const t=new Set,i=(f,m)=>{const v=typeof f=="function"?f(e):f;if(v!==e){const _=e;e=m?v:Object.assign({},e,v),t.forEach(x=>x(e,_))}},r=()=>e,s=(f,m=r,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let _=m(e);function x(){const M=m(e);if(!v(_,M)){const C=_;f(_=M,C)}}return t.add(x),()=>t.delete(x)},d={setState:i,getState:r,subscribe:(f,m,v)=>m||v?s(f,m,v):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,d),d}const xj=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),GE=xj?G.useEffect:G.useLayoutEffect;function wj(n){const e=typeof n=="function"?_j(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(T=>T+1,0),o=e.getState(),l=G.useRef(o),d=G.useRef(i),f=G.useRef(r),m=G.useRef(!1),v=G.useRef();v.current===void 0&&(v.current=i(o));let _,x=!1;(l.current!==o||d.current!==i||f.current!==r||m.current)&&(_=i(o),x=!r(v.current,_)),GE(()=>{x&&(v.current=_),l.current=o,d.current=i,f.current=r,m.current=!1});const M=G.useRef(o);GE(()=>{const T=()=>{try{const R=e.getState(),k=d.current(R);f.current(v.current,k)||(l.current=R,v.current=k,s())}catch{m.current=!0,s()}},w=e.subscribe(T);return e.getState()!==M.current&&T(),w},[]);const C=x?_:v.current;return G.useDebugValue(C),C};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var ew={exports:{}},tw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function Sj(){return XE||(XE=1,function(n){function e(W,ie){var ee=W.length;W.push(ie);e:for(;0<ee;){var K=ee-1>>>1,oe=W[K];if(0<r(oe,ie))W[K]=ie,W[ee]=oe,ee=K;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ie=W[0],ee=W.pop();if(ee!==ie){W[0]=ee;e:for(var K=0,oe=W.length,we=oe>>>1;K<we;){var ce=2*(K+1)-1,me=W[ce],_e=ce+1,xe=W[_e];if(0>r(me,ee))_e<oe&&0>r(xe,me)?(W[K]=xe,W[_e]=ee,K=_e):(W[K]=me,W[ce]=ee,K=ce);else if(_e<oe&&0>r(xe,ee))W[K]=xe,W[_e]=ee,K=_e;else break e}}return ie}function r(W,ie){var ee=W.sortIndex-ie.sortIndex;return ee!==0?ee:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var d=[],f=[],m=1,v=null,_=3,x=!1,M=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var ie=t(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=W)i(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function O(W){if(C=!1,k(W),!M)if(t(d)!==null)M=!0,he(j);else{var ie=t(f);ie!==null&&de(O,ie.startTime-W)}}function j(W,ie){M=!1,C&&(C=!1,w(z),z=-1),x=!0;var ee=_;try{for(k(ie),v=t(d);v!==null&&(!(v.expirationTime>ie)||W&&!Y());){var K=v.callback;if(typeof K=="function"){v.callback=null,_=v.priorityLevel;var oe=K(v.expirationTime<=ie);ie=n.unstable_now(),typeof oe=="function"?v.callback=oe:v===t(d)&&i(d),k(ie)}else i(d);v=t(d)}if(v!==null)var we=!0;else{var ce=t(f);ce!==null&&de(O,ce.startTime-ie),we=!1}return we}finally{v=null,_=ee,x=!1}}var X=!1,Z=null,z=-1,U=5,N=-1;function Y(){return!(n.unstable_now()-N<U)}function Q(){if(Z!==null){var W=n.unstable_now();N=W;var ie=!0;try{ie=Z(!0,W)}finally{ie?ae():(X=!1,Z=null)}}else X=!1}var ae;if(typeof R=="function")ae=function(){R(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ge=se.port2;se.port1.onmessage=Q,ae=function(){ge.postMessage(null)}}else ae=function(){T(Q,0)};function he(W){Z=W,X||(X=!0,ae())}function de(W,ie){z=T(function(){W(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){M||x||(M=!0,he(j))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var ee=_;_=ie;try{return W()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=_;_=W;try{return ie()}finally{_=ee}},n.unstable_scheduleCallback=function(W,ie,ee){var K=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?K+ee:K):ee=K,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,W={id:m++,callback:ie,priorityLevel:W,startTime:ee,expirationTime:oe,sortIndex:-1},ee>K?(W.sortIndex=ee,e(f,W),t(d)===null&&W===t(f)&&(C?(w(z),z=-1):C=!0,de(O,ee-K))):(W.sortIndex=oe,e(d,W),M||x||(M=!0,he(j))),W},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(W){var ie=_;return function(){var ee=_;_=ie;try{return W.apply(this,arguments)}finally{_=ee}}}}(nw)),nw}var ZE;function bj(){return ZE||(ZE=1,tw.exports=Sj()),tw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw,YE;function Tj(){return YE||(YE=1,iw=function(e){var t={},i=Ym(),r=bj(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),j=Symbol.iterator;function X(h){return h===null||typeof h!="object"?null:(h=j&&h[j]||h["@@iterator"],typeof h=="function"?h:null)}function Z(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case m:return"Fragment";case f:return"Portal";case _:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case w:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case M:return(h.displayName||"Context")+".Consumer";case x:return(h._context.displayName||"Context")+".Provider";case C:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case R:return p=h.displayName||null,p!==null?p:Z(h.type)||"Memo";case k:p=h._payload,h=h._init;try{return Z(h(p))}catch{}}return null}function z(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(p);case 8:return p===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function U(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function N(h){if(U(h)!==h)throw Error(o(188))}function Y(h){var p=h.alternate;if(!p){if(p=U(h),p===null)throw Error(o(188));return p!==h?null:h}for(var b=h,A=p;;){var D=b.return;if(D===null)break;var H=D.alternate;if(H===null){if(A=D.return,A!==null){b=A;continue}break}if(D.child===H.child){for(H=D.child;H;){if(H===b)return N(D),h;if(H===A)return N(D),p;H=H.sibling}throw Error(o(188))}if(b.return!==A.return)b=D,A=H;else{for(var ue=!1,Te=D.child;Te;){if(Te===b){ue=!0,b=D,A=H;break}if(Te===A){ue=!0,A=D,b=H;break}Te=Te.sibling}if(!ue){for(Te=H.child;Te;){if(Te===b){ue=!0,b=H,A=D;break}if(Te===A){ue=!0,A=H,b=D;break}Te=Te.sibling}if(!ue)throw Error(o(189))}}if(b.alternate!==A)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?h:p}function Q(h){return h=Y(h),h!==null?ae(h):null}function ae(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=ae(h);if(p!==null)return p;h=h.sibling}return null}function se(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=se(h);if(p!==null)return p}h=h.sibling}return null}var ge=Array.isArray,he=e.getPublicInstance,de=e.getRootHostContext,W=e.getChildHostContext,ie=e.prepareForCommit,ee=e.resetAfterCommit,K=e.createInstance,oe=e.appendInitialChild,we=e.finalizeInitialChildren,ce=e.prepareUpdate,me=e.shouldSetTextContent,_e=e.createTextInstance,xe=e.scheduleTimeout,Ge=e.cancelTimeout,$e=e.noTimeout,Qe=e.isPrimaryRenderer,nt=e.supportsMutation,ht=e.supportsPersistence,ct=e.supportsHydration,re=e.getInstanceFromNode,rt=e.preparePortalMount,Ze=e.getCurrentEventPriority,Be=e.detachDeletedInstance,Pe=e.supportsMicrotasks,Xe=e.scheduleMicrotask,Me=e.supportsTestSelectors,We=e.findFiberRoot,it=e.getBoundingRect,ne=e.getTextContent,q=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Re=e.setFocusIfFocusable,He=e.setupIntersectionObserver,Ue=e.appendChild,It=e.appendChildToContainer,ot=e.commitTextUpdate,At=e.commitMount,yt=e.commitUpdate,qe=e.insertBefore,_t=e.insertInContainerBefore,Wt=e.removeChild,Ut=e.removeChildFromContainer,pt=e.resetTextContent,en=e.hideInstance,ye=e.hideTextInstance,xt=e.unhideInstance,et=e.unhideTextInstance,Mt=e.clearContainer,st=e.cloneInstance,Ye=e.createContainerChildSet,Ke=e.appendChildToContainerChildSet,Et=e.finalizeContainerChildren,Jt=e.replaceContainerChildren,an=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,ti=e.canHydrateInstance,br=e.canHydrateTextInstance,yi=e.canHydrateSuspenseInstance,Ai=e.isSuspenseInstancePending,_i=e.isSuspenseInstanceFallback,Vt=e.registerSuspenseInstanceRetry,os=e.getNextHydratableSibling,go=e.getFirstHydratableChild,zl=e.getFirstHydratableChildWithinContainer,ua=e.getFirstHydratableChildWithinSuspenseInstance,el=e.hydrateInstance,Ss=e.hydrateTextInstance,vo=e.hydrateSuspenseInstance,Ul=e.getNextHydratableInstanceAfterSuspenseInstance,Fu=e.commitHydratedContainer,zu=e.commitHydratedSuspenseInstance,Uu=e.clearSuspenseBoundary,Bu=e.clearSuspenseBoundaryFromContainer,te=e.shouldDeleteUnhydratedTailInstances,Ae=e.didNotMatchHydratedContainerTextInstance,De=e.didNotMatchHydratedTextInstance,Ie;function Ee(h){if(Ie===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Ie=p&&p[1]||""}return`
`+Ie+h}var ut=!1;function Tt(h,p){if(!h||ut)return"";ut=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(mt){var A=mt}Reflect.construct(h,[],p)}else{try{p.call()}catch(mt){A=mt}h.call(p.prototype)}else{try{throw Error()}catch(mt){A=mt}h()}}catch(mt){if(mt&&A&&typeof mt.stack=="string"){for(var D=mt.stack.split(`
`),H=A.stack.split(`
`),ue=D.length-1,Te=H.length-1;1<=ue&&0<=Te&&D[ue]!==H[Te];)Te--;for(;1<=ue&&0<=Te;ue--,Te--)if(D[ue]!==H[Te]){if(ue!==1||Te!==1)do if(ue--,Te--,0>Te||D[ue]!==H[Te]){var je=`
`+D[ue].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=ue&&0<=Te);break}}}finally{ut=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?Ee(h):""}var Ot=Object.prototype.hasOwnProperty,Lt=[],Zt=-1;function Yt(h){return{current:h}}function ft(h){0>Zt||(h.current=Lt[Zt],Lt[Zt]=null,Zt--)}function Nt(h,p){Zt++,Lt[Zt]=h.current,h.current=p}var bt={},jt=Yt(bt),cn=Yt(!1),mn=bt;function Dt(h,p){var b=h.type.contextTypes;if(!b)return bt;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var D={},H;for(H in b)D[H]=p[H];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=D),D}function dn(h){return h=h.childContextTypes,h!=null}function wt(){ft(cn),ft(jt)}function wn(h,p,b){if(jt.current!==bt)throw Error(o(168));Nt(jt,p),Nt(cn,b)}function bs(h,p,b){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return b;A=A.getChildContext();for(var D in A)if(!(D in p))throw Error(o(108,z(h)||"Unknown",D));return s({},b,A)}function hi(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||bt,mn=jt.current,Nt(jt,h),Nt(cn,cn.current),!0}function fi(h,p,b){var A=h.stateNode;if(!A)throw Error(o(169));b?(h=bs(h,p,mn),A.__reactInternalMemoizedMergedChildContext=h,ft(cn),ft(jt),Nt(jt,h)):ft(cn),Nt(cn,b)}var Cn=Math.clz32?Math.clz32:Rn,Pi=Math.log,ni=Math.LN2;function Rn(h){return h>>>=0,h===0?32:31-(Pi(h)/ni|0)|0}var Gn=64,gn=4194304;function Di(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ca(h,p){var b=h.pendingLanes;if(b===0)return 0;var A=0,D=h.suspendedLanes,H=h.pingedLanes,ue=b&268435455;if(ue!==0){var Te=ue&~D;Te!==0?A=Di(Te):(H&=ue,H!==0&&(A=Di(H)))}else ue=b&~D,ue!==0?A=Di(ue):H!==0&&(A=Di(H));if(A===0)return 0;if(p!==0&&p!==A&&(p&D)===0&&(D=A&-A,H=p&-p,D>=H||D===16&&(H&4194240)!==0))return p;if((A&4)!==0&&(A|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)b=31-Cn(p),D=1<<b,A|=h[b],p&=~D;return A}function da(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(h,p){for(var b=h.suspendedLanes,A=h.pingedLanes,D=h.expirationTimes,H=h.pendingLanes;0<H;){var ue=31-Cn(H),Te=1<<ue,je=D[ue];je===-1?((Te&b)===0||(Te&A)!==0)&&(D[ue]=da(Te,p)):je<=p&&(h.expiredLanes|=Te),H&=~Te}}function tl(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ha(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function yo(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Cn(p),h[p]=b}function nl(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<b;){var D=31-Cn(b),H=1<<D;p[D]=0,A[D]=-1,h[D]=-1,b&=~H}}function zr(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var A=31-Cn(b),D=1<<A;D&p|h[A]&p&&(h[A]|=p),b&=~D}}var vn=0;function Ts(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var fa=r.unstable_scheduleCallback,sn=r.unstable_cancelCallback,Gi=r.unstable_shouldYield,Yn=r.unstable_requestPaint,xi=r.unstable_now,_o=r.unstable_ImmediatePriority,$c=r.unstable_UserBlockingPriority,il=r.unstable_NormalPriority,Xs=r.unstable_IdlePriority,pa=null,Tr=null;function pi(h){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(pa,h,void 0,(h.current.flags&128)===128)}catch{}}function Ms(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Qi=typeof Object.is=="function"?Object.is:Ms,Ur=null,Hu=!1,ju=!1;function rl(h){Ur===null?Ur=[h]:Ur.push(h)}function Wu(h){Hu=!0,rl(h)}function Br(){if(!ju&&Ur!==null){ju=!0;var h=0,p=vn;try{var b=Ur;for(vn=1;h<b.length;h++){var A=b[h];do A=A(!0);while(A!==null)}Ur=null,Hu=!1}catch(D){throw Ur!==null&&(Ur=Ur.slice(h+1)),fa(_o,Br),D}finally{vn=p,ju=!1}}return null}var Ln=l.ReactCurrentBatchConfig;function Es(h,p){if(Qi(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),A=Object.keys(p);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var D=b[A];if(!Ot.call(p,D)||!Qi(h[D],p[D]))return!1}return!0}function Vr(h){switch(h.tag){case 5:return Ee(h.type);case 16:return Ee("Lazy");case 13:return Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 2:case 15:return h=Tt(h.type,!1),h;case 11:return h=Tt(h.type.render,!1),h;case 1:return h=Tt(h.type,!0),h;default:return""}}function Fi(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}var sl=Yt(null),ma=null,Cs=null,Gu=null;function er(){Gu=Cs=ma=null}function ga(h,p,b){Qe?(Nt(sl,p._currentValue),p._currentValue=b):(Nt(sl,p._currentValue2),p._currentValue2=b)}function Bl(h){var p=sl.current;ft(sl),Qe?h._currentValue=p:h._currentValue2=p}function xo(h,p,b){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===b)break;h=h.return}}function ol(h,p){ma=h,Gu=Cs=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&p)!==0&&(nr=!0),h.firstContext=null)}function ai(h){var p=Qe?h._currentValue:h._currentValue2;if(Gu!==h)if(h={context:h,memoizedValue:p,next:null},Cs===null){if(ma===null)throw Error(o(308));Cs=h,ma.dependencies={lanes:0,firstContext:h}}else Cs=Cs.next=h;return p}var as=null,Hr=!1;function jr(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xu(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Zs(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Ys(h,p){var b=h.updateQueue;b!==null&&(b=b.shared,Ii!==null&&(h.mode&1)!==0&&(Sn&2)===0?(h=b.interleaved,h===null?(p.next=p,as===null?as=[b]:as.push(b)):(p.next=h.next,h.next=p),b.interleaved=p):(h=b.pending,h===null?p.next=p:(p.next=h.next,h.next=p),b.pending=p))}function Zu(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,zr(h,b)}}function Vl(h,p){var b=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var D=null,H=null;if(b=b.firstBaseUpdate,b!==null){do{var ue={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};H===null?D=H=ue:H=H.next=ue,b=b.next}while(b!==null);H===null?D=H=p:H=H.next=p}else D=H=p;b={baseState:A.baseState,firstBaseUpdate:D,lastBaseUpdate:H,shared:A.shared,effects:A.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function Hl(h,p,b,A){var D=h.updateQueue;Hr=!1;var H=D.firstBaseUpdate,ue=D.lastBaseUpdate,Te=D.shared.pending;if(Te!==null){D.shared.pending=null;var je=Te,mt=je.next;je.next=null,ue===null?H=mt:ue.next=mt,ue=je;var Bt=h.alternate;Bt!==null&&(Bt=Bt.updateQueue,Te=Bt.lastBaseUpdate,Te!==ue&&(Te===null?Bt.firstBaseUpdate=mt:Te.next=mt,Bt.lastBaseUpdate=je))}if(H!==null){var fn=D.baseState;ue=0,Bt=mt=je=null,Te=H;do{var tn=Te.lane,Mn=Te.eventTime;if((A&tn)===tn){Bt!==null&&(Bt=Bt.next={eventTime:Mn,lane:0,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null});e:{var kt=h,yr=Te;switch(tn=p,Mn=b,yr.tag){case 1:if(kt=yr.payload,typeof kt=="function"){fn=kt.call(Mn,fn,tn);break e}fn=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=yr.payload,tn=typeof kt=="function"?kt.call(Mn,fn,tn):kt,tn==null)break e;fn=s({},fn,tn);break e;case 2:Hr=!0}}Te.callback!==null&&Te.lane!==0&&(h.flags|=64,tn=D.effects,tn===null?D.effects=[Te]:tn.push(Te))}else Mn={eventTime:Mn,lane:tn,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Bt===null?(mt=Bt=Mn,je=fn):Bt=Bt.next=Mn,ue|=tn;if(Te=Te.next,Te===null){if(Te=D.shared.pending,Te===null)break;tn=Te,Te=tn.next,tn.next=null,D.lastBaseUpdate=tn,D.shared.pending=null}}while(!0);if(Bt===null&&(je=fn),D.baseState=je,D.firstBaseUpdate=mt,D.lastBaseUpdate=Bt,p=D.shared.interleaved,p!==null){D=p;do ue|=D.lane,D=D.next;while(D!==p)}else H===null&&(D.shared.lanes=0);qo|=ue,h.lanes=ue,h.memoizedState=fn}}function mh(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],D=A.callback;if(D!==null){if(A.callback=null,A=b,typeof D!="function")throw Error(o(191,D));D.call(A)}}}var gh=new i.Component().refs;function jl(h,p,b,A){p=h.memoizedState,b=b(A,p),b=b==null?p:s({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Yu={isMounted:function(h){return(h=h._reactInternals)?U(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var A=Fn(),D=Io(h),H=Zs(A,D);H.payload=p,b!=null&&(H.callback=b),Ys(h,H),p=kr(h,D,A),p!==null&&Zu(p,h,D)},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var A=Fn(),D=Io(h),H=Zs(A,D);H.tag=1,H.payload=p,b!=null&&(H.callback=b),Ys(h,H),p=kr(h,D,A),p!==null&&Zu(p,h,D)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Fn(),A=Io(h),D=Zs(b,A);D.tag=2,p!=null&&(D.callback=p),Ys(h,D),p=kr(h,A,b),p!==null&&Zu(p,h,A)}};function qu(h,p,b,A,D,H,ue){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,H,ue):p.prototype&&p.prototype.isPureReactComponent?!Es(b,A)||!Es(D,H):!0}function Kc(h,p,b){var A=!1,D=bt,H=p.contextType;return typeof H=="object"&&H!==null?H=ai(H):(D=dn(p)?mn:jt.current,A=p.contextTypes,H=(A=A!=null)?Dt(h,D):bt),p=new p(b,H),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Yu,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=D,h.__reactInternalMemoizedMaskedChildContext=H),p}function Wl(h,p,b,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,A),p.state!==h&&Yu.enqueueReplaceState(p,p.state,null)}function wo(h,p,b,A){var D=h.stateNode;D.props=b,D.state=h.memoizedState,D.refs=gh,jr(h);var H=p.contextType;typeof H=="object"&&H!==null?D.context=ai(H):(H=dn(p)?mn:jt.current,D.context=Dt(h,H)),D.state=h.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(jl(h,p,H,b),D.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(p=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),p!==D.state&&Yu.enqueueReplaceState(D,D.state,null),Hl(h,b,D,A),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308)}var al=[],ls=0,hr=null,Gl=0,Wr=[],Gr=0,So=null,As=1,bo="";function va(h,p){al[ls++]=Gl,al[ls++]=hr,hr=h,Gl=p}function Jc(h,p,b){Wr[Gr++]=As,Wr[Gr++]=bo,Wr[Gr++]=So,So=h;var A=As;h=bo;var D=32-Cn(A)-1;A&=~(1<<D),b+=1;var H=32-Cn(p)+D;if(30<H){var ue=D-D%5;H=(A&(1<<ue)-1).toString(32),A>>=ue,D-=ue,As=1<<32-Cn(p)+D|b<<D|A,bo=H+h}else As=1<<H|b<<D|A,bo=h}function Qc(h){h.return!==null&&(va(h,1),Jc(h,1,0))}function Xr(h){for(;h===hr;)hr=al[--ls],al[ls]=null,Gl=al[--ls],al[ls]=null;for(;h===So;)So=Wr[--Gr],Wr[Gr]=null,bo=Wr[--Gr],Wr[Gr]=null,As=Wr[--Gr],Wr[Gr]=null}var wi=null,Xi=null,kn=!1,ll=!1,Zi=null;function ed(h,p){var b=Os(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function ya(h,p){switch(h.tag){case 5:return p=ti(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,wi=h,Xi=go(p),!0):!1;case 6:return p=br(p,h.pendingProps),p!==null?(h.stateNode=p,wi=h,Xi=null,!0):!1;case 13:if(p=yi(p),p!==null){var b=So!==null?{id:As,overflow:bo}:null;return h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Os(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,wi=h,Xi=null,!0}return!1;default:return!1}}function Xl(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Ps(h){if(kn){var p=Xi;if(p){var b=p;if(!ya(h,p)){if(Xl(h))throw Error(o(418));p=os(b);var A=wi;p&&ya(h,p)?ed(A,b):(h.flags=h.flags&-4097|2,kn=!1,wi=h)}}else{if(Xl(h))throw Error(o(418));h.flags=h.flags&-4097|2,kn=!1,wi=h}}}function vh(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;wi=h}function us(h){if(!ct||h!==wi)return!1;if(!kn)return vh(h),kn=!0,!1;if(h.tag!==3&&(h.tag!==5||te(h.type)&&!me(h.type,h.memoizedProps))){var p=Xi;if(p){if(Xl(h)){for(h=Xi;h;)h=os(h);throw Error(o(418))}for(;p;)ed(h,p),p=os(p)}}if(vh(h),h.tag===13){if(!ct)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Xi=Ul(h)}else Xi=wi?os(h.stateNode):null;return!0}function To(){ct&&(Xi=wi=null,ll=kn=!1)}function $u(h){Zi===null?Zi=[h]:Zi.push(h)}function Vo(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var A=b.stateNode}if(!A)throw Error(o(147,h));var D=A,H=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===H?p.ref:(p=function(ue){var Te=D.refs;Te===gh&&(Te=D.refs={}),ue===null?delete Te[H]:Te[H]=ue},p._stringRef=H,p)}if(typeof h!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,h))}return h}function Ho(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Mr(h){var p=h._init;return p(h._payload)}function yh(h){function p(Oe,Ce){if(h){var Ve=Oe.deletions;Ve===null?(Oe.deletions=[Ce],Oe.flags|=16):Ve.push(Ce)}}function b(Oe,Ce){if(!h)return null;for(;Ce!==null;)p(Oe,Ce),Ce=Ce.sibling;return null}function A(Oe,Ce){for(Oe=new Map;Ce!==null;)Ce.key!==null?Oe.set(Ce.key,Ce):Oe.set(Ce.index,Ce),Ce=Ce.sibling;return Oe}function D(Oe,Ce){return Oe=Da(Oe,Ce),Oe.index=0,Oe.sibling=null,Oe}function H(Oe,Ce,Ve){return Oe.index=Ve,h?(Ve=Oe.alternate,Ve!==null?(Ve=Ve.index,Ve<Ce?(Oe.flags|=2,Ce):Ve):(Oe.flags|=2,Ce)):(Oe.flags|=1048576,Ce)}function ue(Oe){return h&&Oe.alternate===null&&(Oe.flags|=2),Oe}function Te(Oe,Ce,Ve,Pt){return Ce===null||Ce.tag!==6?(Ce=Lh(Ve,Oe.mode,Pt),Ce.return=Oe,Ce):(Ce=D(Ce,Ve),Ce.return=Oe,Ce)}function je(Oe,Ce,Ve,Pt){var $t=Ve.type;return $t===m?Bt(Oe,Ce,Ve.props.children,Pt,Ve.key):Ce!==null&&(Ce.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===k&&Mr($t)===Ce.type)?(Pt=D(Ce,Ve.props),Pt.ref=Vo(Oe,Ce,Ve),Pt.return=Oe,Pt):(Pt=Rh(Ve.type,Ve.key,Ve.props,null,Oe.mode,Pt),Pt.ref=Vo(Oe,Ce,Ve),Pt.return=Oe,Pt)}function mt(Oe,Ce,Ve,Pt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ve.containerInfo||Ce.stateNode.implementation!==Ve.implementation?(Ce=Ih(Ve,Oe.mode,Pt),Ce.return=Oe,Ce):(Ce=D(Ce,Ve.children||[]),Ce.return=Oe,Ce)}function Bt(Oe,Ce,Ve,Pt,$t){return Ce===null||Ce.tag!==7?(Ce=hu(Ve,Oe.mode,Pt,$t),Ce.return=Oe,Ce):(Ce=D(Ce,Ve),Ce.return=Oe,Ce)}function fn(Oe,Ce,Ve){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Lh(""+Ce,Oe.mode,Ve),Ce.return=Oe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case d:return Ve=Rh(Ce.type,Ce.key,Ce.props,null,Oe.mode,Ve),Ve.ref=Vo(Oe,null,Ce),Ve.return=Oe,Ve;case f:return Ce=Ih(Ce,Oe.mode,Ve),Ce.return=Oe,Ce;case k:var Pt=Ce._init;return fn(Oe,Pt(Ce._payload),Ve)}if(ge(Ce)||X(Ce))return Ce=hu(Ce,Oe.mode,Ve,null),Ce.return=Oe,Ce;Ho(Oe,Ce)}return null}function tn(Oe,Ce,Ve,Pt){var $t=Ce!==null?Ce.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return $t!==null?null:Te(Oe,Ce,""+Ve,Pt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case d:return Ve.key===$t?je(Oe,Ce,Ve,Pt):null;case f:return Ve.key===$t?mt(Oe,Ce,Ve,Pt):null;case k:return $t=Ve._init,tn(Oe,Ce,$t(Ve._payload),Pt)}if(ge(Ve)||X(Ve))return $t!==null?null:Bt(Oe,Ce,Ve,Pt,null);Ho(Oe,Ve)}return null}function Mn(Oe,Ce,Ve,Pt,$t){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Oe=Oe.get(Ve)||null,Te(Ce,Oe,""+Pt,$t);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case d:return Oe=Oe.get(Pt.key===null?Ve:Pt.key)||null,je(Ce,Oe,Pt,$t);case f:return Oe=Oe.get(Pt.key===null?Ve:Pt.key)||null,mt(Ce,Oe,Pt,$t);case k:var _n=Pt._init;return Mn(Oe,Ce,Ve,_n(Pt._payload),$t)}if(ge(Pt)||X(Pt))return Oe=Oe.get(Ve)||null,Bt(Ce,Oe,Pt,$t,null);Ho(Ce,Pt)}return null}function kt(Oe,Ce,Ve,Pt){for(var $t=null,_n=null,pn=Ce,Dn=Ce=0,Bi=null;pn!==null&&Dn<Ve.length;Dn++){pn.index>Dn?(Bi=pn,pn=null):Bi=pn.sibling;var On=tn(Oe,pn,Ve[Dn],Pt);if(On===null){pn===null&&(pn=Bi);break}h&&pn&&On.alternate===null&&p(Oe,pn),Ce=H(On,Ce,Dn),_n===null?$t=On:_n.sibling=On,_n=On,pn=Bi}if(Dn===Ve.length)return b(Oe,pn),kn&&va(Oe,Dn),$t;if(pn===null){for(;Dn<Ve.length;Dn++)pn=fn(Oe,Ve[Dn],Pt),pn!==null&&(Ce=H(pn,Ce,Dn),_n===null?$t=pn:_n.sibling=pn,_n=pn);return kn&&va(Oe,Dn),$t}for(pn=A(Oe,pn);Dn<Ve.length;Dn++)Bi=Mn(pn,Oe,Dn,Ve[Dn],Pt),Bi!==null&&(h&&Bi.alternate!==null&&pn.delete(Bi.key===null?Dn:Bi.key),Ce=H(Bi,Ce,Dn),_n===null?$t=Bi:_n.sibling=Bi,_n=Bi);return h&&pn.forEach(function(Fa){return p(Oe,Fa)}),kn&&va(Oe,Dn),$t}function yr(Oe,Ce,Ve,Pt){var $t=X(Ve);if(typeof $t!="function")throw Error(o(150));if(Ve=$t.call(Ve),Ve==null)throw Error(o(151));for(var _n=$t=null,pn=Ce,Dn=Ce=0,Bi=null,On=Ve.next();pn!==null&&!On.done;Dn++,On=Ve.next()){pn.index>Dn?(Bi=pn,pn=null):Bi=pn.sibling;var Fa=tn(Oe,pn,On.value,Pt);if(Fa===null){pn===null&&(pn=Bi);break}h&&pn&&Fa.alternate===null&&p(Oe,pn),Ce=H(Fa,Ce,Dn),_n===null?$t=Fa:_n.sibling=Fa,_n=Fa,pn=Bi}if(On.done)return b(Oe,pn),kn&&va(Oe,Dn),$t;if(pn===null){for(;!On.done;Dn++,On=Ve.next())On=fn(Oe,On.value,Pt),On!==null&&(Ce=H(On,Ce,Dn),_n===null?$t=On:_n.sibling=On,_n=On);return kn&&va(Oe,Dn),$t}for(pn=A(Oe,pn);!On.done;Dn++,On=Ve.next())On=Mn(pn,Oe,Dn,On.value,Pt),On!==null&&(h&&On.alternate!==null&&pn.delete(On.key===null?Dn:On.key),Ce=H(On,Ce,Dn),_n===null?$t=On:_n.sibling=On,_n=On);return h&&pn.forEach(function(wp){return p(Oe,wp)}),kn&&va(Oe,Dn),$t}function Ds(Oe,Ce,Ve,Pt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===m&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case d:e:{for(var $t=Ve.key,_n=Ce;_n!==null;){if(_n.key===$t){if($t=Ve.type,$t===m){if(_n.tag===7){b(Oe,_n.sibling),Ce=D(_n,Ve.props.children),Ce.return=Oe,Oe=Ce;break e}}else if(_n.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===k&&Mr($t)===_n.type){b(Oe,_n.sibling),Ce=D(_n,Ve.props),Ce.ref=Vo(Oe,_n,Ve),Ce.return=Oe,Oe=Ce;break e}b(Oe,_n);break}else p(Oe,_n);_n=_n.sibling}Ve.type===m?(Ce=hu(Ve.props.children,Oe.mode,Pt,Ve.key),Ce.return=Oe,Oe=Ce):(Pt=Rh(Ve.type,Ve.key,Ve.props,null,Oe.mode,Pt),Pt.ref=Vo(Oe,Ce,Ve),Pt.return=Oe,Oe=Pt)}return ue(Oe);case f:e:{for(_n=Ve.key;Ce!==null;){if(Ce.key===_n)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ve.containerInfo&&Ce.stateNode.implementation===Ve.implementation){b(Oe,Ce.sibling),Ce=D(Ce,Ve.children||[]),Ce.return=Oe,Oe=Ce;break e}else{b(Oe,Ce);break}else p(Oe,Ce);Ce=Ce.sibling}Ce=Ih(Ve,Oe.mode,Pt),Ce.return=Oe,Oe=Ce}return ue(Oe);case k:return _n=Ve._init,Ds(Oe,Ce,_n(Ve._payload),Pt)}if(ge(Ve))return kt(Oe,Ce,Ve,Pt);if(X(Ve))return yr(Oe,Ce,Ve,Pt);Ho(Oe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"?(Ve=""+Ve,Ce!==null&&Ce.tag===6?(b(Oe,Ce.sibling),Ce=D(Ce,Ve),Ce.return=Oe,Oe=Ce):(b(Oe,Ce),Ce=Lh(Ve,Oe.mode,Pt),Ce.return=Oe,Oe=Ce),ue(Oe)):b(Oe,Ce)}return Ds}var Er=yh(!0),_h=yh(!1),Cr={},Yi=Yt(Cr),jo=Yt(Cr),Mo=Yt(Cr);function Ar(h){if(h===Cr)throw Error(o(174));return h}function ul(h,p){Nt(Mo,p),Nt(jo,h),Nt(Yi,Cr),h=de(p),ft(Yi),Nt(Yi,h)}function Eo(){ft(Yi),ft(jo),ft(Mo)}function _a(h){var p=Ar(Mo.current),b=Ar(Yi.current);p=W(b,h.type,p),b!==p&&(Nt(jo,h),Nt(Yi,p))}function cl(h){jo.current===h&&(ft(Yi),ft(jo))}var Kn=Yt(0);function Zl(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Ai(b)||_i(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Zr=[];function qs(){for(var h=0;h<Zr.length;h++){var p=Zr[h];Qe?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Zr.length=0}var Yl=l.ReactCurrentDispatcher,Pr=l.ReactCurrentBatchConfig,xa=0,ii=null,zi=null,Xn=null,wa=!1,$s=!1,Ks=0,ql=0;function Ri(){throw Error(o(321))}function Ku(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!Qi(h[b],p[b]))return!1;return!0}function Js(h,p,b,A,D,H){if(xa=H,ii=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Yl.current=h===null||h.memoizedState===null?Qt:yn,h=b(A,D),$s){H=0;do{if($s=!1,Ks=0,25<=H)throw Error(o(301));H+=1,Xn=zi=null,p.updateQueue=null,Yl.current=qi,h=b(A,D)}while($s)}if(Yl.current=Ct,p=zi!==null&&zi.next!==null,xa=0,Xn=zi=ii=null,wa=!1,p)throw Error(o(300));return h}function Wo(){var h=Ks!==0;return Ks=0,h}function tr(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?ii.memoizedState=Xn=h:Xn=Xn.next=h,Xn}function cs(){if(zi===null){var h=ii.alternate;h=h!==null?h.memoizedState:null}else h=zi.next;var p=Xn===null?ii.memoizedState:Xn.next;if(p!==null)Xn=p,zi=h;else{if(h===null)throw Error(o(310));zi=h,h={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Xn===null?ii.memoizedState=Xn=h:Xn=Xn.next=h}return Xn}function Rs(h,p){return typeof p=="function"?p(h):p}function $l(h){var p=cs(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var A=zi,D=A.baseQueue,H=b.pending;if(H!==null){if(D!==null){var ue=D.next;D.next=H.next,H.next=ue}A.baseQueue=D=H,b.pending=null}if(D!==null){H=D.next,A=A.baseState;var Te=ue=null,je=null,mt=H;do{var Bt=mt.lane;if((xa&Bt)===Bt)je!==null&&(je=je.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),A=mt.hasEagerState?mt.eagerState:h(A,mt.action);else{var fn={lane:Bt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};je===null?(Te=je=fn,ue=A):je=je.next=fn,ii.lanes|=Bt,qo|=Bt}mt=mt.next}while(mt!==null&&mt!==H);je===null?ue=A:je.next=Te,Qi(A,p.memoizedState)||(nr=!0),p.memoizedState=A,p.baseState=ue,p.baseQueue=je,b.lastRenderedState=A}if(h=b.interleaved,h!==null){D=h;do H=D.lane,ii.lanes|=H,qo|=H,D=D.next;while(D!==h)}else D===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Yr(h){var p=cs(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=h;var A=b.dispatch,D=b.pending,H=p.memoizedState;if(D!==null){b.pending=null;var ue=D=D.next;do H=h(H,ue.action),ue=ue.next;while(ue!==D);Qi(H,p.memoizedState)||(nr=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),b.lastRenderedState=H}return[H,A]}function Ju(){}function Qu(h,p){var b=ii,A=cs(),D=p(),H=!Qi(A.memoizedState,D);if(H&&(A.memoizedState=D,nr=!0),A=A.queue,ba(ds.bind(null,b,A,h),[h]),A.getSnapshot!==p||H||Xn!==null&&Xn.memoizedState.tag&1){if(b.flags|=2048,hl(9,td.bind(null,b,A,D,p),void 0,null),Ii===null)throw Error(o(349));(xa&30)!==0||Sa(b,p,D)}return D}function Sa(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=ii.updateQueue,p===null?(p={lastEffect:null,stores:null},ii.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function td(h,p,b,A){p.value=b,p.getSnapshot=A,Go(p)&&kr(h,1,-1)}function ds(h,p,b){return b(function(){Go(p)&&kr(h,1,-1)})}function Go(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!Qi(h,b)}catch{return!0}}function dl(h){var p=tr();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:h},p.queue=h,h=h.dispatch=J.bind(null,ii,h),[p.memoizedState,h]}function hl(h,p,b,A){return h={tag:h,create:p,destroy:b,deps:A,next:null},p=ii.updateQueue,p===null?(p={lastEffect:null,stores:null},ii.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(A=b.next,b.next=h,h.next=A,p.lastEffect=h)),h}function xh(){return cs().memoizedState}function Co(h,p,b,A){var D=tr();ii.flags|=h,D.memoizedState=hl(1|p,b,void 0,A===void 0?null:A)}function Kl(h,p,b,A){var D=cs();A=A===void 0?null:A;var H=void 0;if(zi!==null){var ue=zi.memoizedState;if(H=ue.destroy,A!==null&&Ku(A,ue.deps)){D.memoizedState=hl(p,b,H,A);return}}ii.flags|=h,D.memoizedState=hl(1|p,b,H,A)}function Jl(h,p){return Co(8390656,8,h,p)}function ba(h,p){return Kl(2048,8,h,p)}function Zn(h,p){return Kl(4,2,h,p)}function ec(h,p){return Kl(4,4,h,p)}function fl(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Ta(h,p,b){return b=b!=null?b.concat([h]):null,Kl(4,4,fl.bind(null,p,h),b)}function tc(){}function u(h,p){var b=cs();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&Ku(p,A[1])?A[0]:(b.memoizedState=[h,p],h)}function g(h,p){var b=cs();p=p===void 0?null:p;var A=b.memoizedState;return A!==null&&p!==null&&Ku(p,A[1])?A[0]:(h=h(),b.memoizedState=[h,p],h)}function S(h,p){var b=vn;vn=b!==0&&4>b?b:4,h(!0);var A=Pr.transition;Pr.transition={};try{h(!1),p()}finally{vn=b,Pr.transition=A}}function P(){return cs().memoizedState}function B(h,p,b){var A=Io(h);b={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null},pe(h)?Le(p,b):(Fe(h,p,b),b=Fn(),h=kr(h,A,b),h!==null&&Je(h,p,A))}function J(h,p,b){var A=Io(h),D={lane:A,action:b,hasEagerState:!1,eagerState:null,next:null};if(pe(h))Le(p,D);else{Fe(h,p,D);var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var ue=p.lastRenderedState,Te=H(ue,b);if(D.hasEagerState=!0,D.eagerState=Te,Qi(Te,ue))return}catch{}finally{}b=Fn(),h=kr(h,A,b),h!==null&&Je(h,p,A)}}function pe(h){var p=h.alternate;return h===ii||p!==null&&p===ii}function Le(h,p){$s=wa=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function Fe(h,p,b){Ii!==null&&(h.mode&1)!==0&&(Sn&2)===0?(h=p.interleaved,h===null?(b.next=b,as===null?as=[p]:as.push(p)):(b.next=h.next,h.next=b),p.interleaved=b):(h=p.pending,h===null?b.next=b:(b.next=h.next,h.next=b),p.pending=b)}function Je(h,p,b){if((b&4194240)!==0){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,zr(h,b)}}var Ct={readContext:ai,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useInsertionEffect:Ri,useLayoutEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useMutableSource:Ri,useSyncExternalStore:Ri,useId:Ri,unstable_isNewReconciler:!1},Qt={readContext:ai,useCallback:function(h,p){return tr().memoizedState=[h,p===void 0?null:p],h},useContext:ai,useEffect:Jl,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,Co(4194308,4,fl.bind(null,p,h),b)},useLayoutEffect:function(h,p){return Co(4194308,4,h,p)},useInsertionEffect:function(h,p){return Co(4,2,h,p)},useMemo:function(h,p){var b=tr();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var A=tr();return p=b!==void 0?b(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=B.bind(null,ii,h),[A.memoizedState,h]},useRef:function(h){var p=tr();return h={current:h},p.memoizedState=h},useState:dl,useDebugValue:tc,useDeferredValue:function(h){var p=dl(h),b=p[0],A=p[1];return Jl(function(){var D=Pr.transition;Pr.transition={};try{A(h)}finally{Pr.transition=D}},[h]),b},useTransition:function(){var h=dl(!1),p=h[0];return h=S.bind(null,h[1]),tr().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var A=ii,D=tr();if(kn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=p(),Ii===null)throw Error(o(349));(xa&30)!==0||Sa(A,p,b)}D.memoizedState=b;var H={value:b,getSnapshot:p};return D.queue=H,Jl(ds.bind(null,A,H,h),[h]),A.flags|=2048,hl(9,td.bind(null,A,H,b,p),void 0,null),b},useId:function(){var h=tr(),p=Ii.identifierPrefix;if(kn){var b=bo,A=As;b=(A&~(1<<32-Cn(A)-1)).toString(32)+b,p=":"+p+"R"+b,b=Ks++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=ql++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},yn={readContext:ai,useCallback:u,useContext:ai,useEffect:ba,useImperativeHandle:Ta,useInsertionEffect:Zn,useLayoutEffect:ec,useMemo:g,useReducer:$l,useRef:xh,useState:function(){return $l(Rs)},useDebugValue:tc,useDeferredValue:function(h){var p=$l(Rs),b=p[0],A=p[1];return ba(function(){var D=Pr.transition;Pr.transition={};try{A(h)}finally{Pr.transition=D}},[h]),b},useTransition:function(){var h=$l(Rs)[0],p=cs().memoizedState;return[h,p]},useMutableSource:Ju,useSyncExternalStore:Qu,useId:P,unstable_isNewReconciler:!1},qi={readContext:ai,useCallback:u,useContext:ai,useEffect:ba,useImperativeHandle:Ta,useInsertionEffect:Zn,useLayoutEffect:ec,useMemo:g,useReducer:Yr,useRef:xh,useState:function(){return Yr(Rs)},useDebugValue:tc,useDeferredValue:function(h){var p=Yr(Rs),b=p[0],A=p[1];return ba(function(){var D=Pr.transition;Pr.transition={};try{A(h)}finally{Pr.transition=D}},[h]),b},useTransition:function(){var h=Yr(Rs)[0],p=cs().memoizedState;return[h,p]},useMutableSource:Ju,useSyncExternalStore:Qu,useId:P,unstable_isNewReconciler:!1};function Si(h,p){try{var b="",A=p;do b+=Vr(A),A=A.return;while(A);var D=b}catch(H){D=`
Error generating stack: `+H.message+`
`+H.stack}return{value:h,source:p,stack:D}}function fr(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var Rr=typeof WeakMap=="function"?WeakMap:Map;function Ma(h,p,b){b=Zs(-1,b),b.tag=3,b.payload={element:null};var A=p.value;return b.callback=function(){cc||(cc=!0,ui=A),fr(h,p)},b}function nc(h,p,b){b=Zs(-1,b),b.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var D=p.value;b.payload=function(){return A(D)},b.callback=function(){fr(h,p)}}var H=h.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(b.callback=function(){fr(h,p),typeof A!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var ue=p.stack;this.componentDidCatch(p.value,{componentStack:ue!==null?ue:""})}),b}function Ao(h,p,b){var A=h.pingCache;if(A===null){A=h.pingCache=new Rr;var D=new Set;A.set(p,D)}else D=A.get(p),D===void 0&&(D=new Set,A.set(p,D));D.has(b)||(D.add(b),h=yp.bind(null,h,p,b),p.then(h,h))}function nd(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function Xo(h,p,b,A,D){return(h.mode&1)===0?(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Zs(-1,1),p.tag=2,Ys(b,p))),b.lanes|=1),h):(h.flags|=65536,h.lanes=D,h)}function Li(h){h.flags|=4}function Ea(h,p){if(h!==null&&h.child===p.child)return!0;if((p.flags&16)!==0)return!1;for(h=p.child;h!==null;){if((h.flags&12854)!==0||(h.subtreeFlags&12854)!==0)return!1;h=h.sibling}return!0}var Nn,Qs,ic,rc;if(nt)Nn=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)oe(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Qs=function(){},ic=function(h,p,b,A,D){if(h=h.memoizedProps,h!==A){var H=p.stateNode,ue=Ar(Yi.current);b=ce(H,b,h,A,D,ue),(p.updateQueue=b)&&Li(p)}},rc=function(h,p,b,A){b!==A&&Li(p)};else if(ht){Nn=function(h,p,b,A){for(var D=p.child;D!==null;){if(D.tag===5){var H=D.stateNode;b&&A&&(H=an(H,D.type,D.memoizedProps,D)),oe(h,H)}else if(D.tag===6)H=D.stateNode,b&&A&&(H=Un(H,D.memoizedProps,D)),oe(h,H);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)H=D.child,H!==null&&(H.return=D),Nn(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var Zo=function(h,p,b,A){for(var D=p.child;D!==null;){if(D.tag===5){var H=D.stateNode;b&&A&&(H=an(H,D.type,D.memoizedProps,D)),Ke(h,H)}else if(D.tag===6)H=D.stateNode,b&&A&&(H=Un(H,D.memoizedProps,D)),Ke(h,H);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)H=D.child,H!==null&&(H.return=D),Zo(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};Qs=function(h,p){var b=p.stateNode;if(!Ea(h,p)){h=b.containerInfo;var A=Ye(h);Zo(A,p,!1,!1),b.pendingChildren=A,Li(p),Et(h,A)}},ic=function(h,p,b,A,D){var H=h.stateNode,ue=h.memoizedProps;if((h=Ea(h,p))&&ue===A)p.stateNode=H;else{var Te=p.stateNode,je=Ar(Yi.current),mt=null;ue!==A&&(mt=ce(Te,b,ue,A,D,je)),h&&mt===null?p.stateNode=H:(H=st(H,mt,b,ue,A,p,h,Te),we(H,b,A,D,je)&&Li(p),p.stateNode=H,h?Li(p):Nn(H,p,!1,!1))}},rc=function(h,p,b,A){b!==A?(h=Ar(Mo.current),b=Ar(Yi.current),p.stateNode=_e(A,h,b,p),Li(p)):p.stateNode=h.stateNode}}else Qs=function(){},ic=function(){},rc=function(){};function Ls(h,p){if(!kn)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function ci(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,A=0;if(p)for(var D=h.child;D!==null;)b|=D.lanes|D.childLanes,A|=D.subtreeFlags&14680064,A|=D.flags&14680064,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)b|=D.lanes|D.childLanes,A|=D.subtreeFlags,A|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=A,h.childLanes=b,p}function sc(h,p,b){var A=p.pendingProps;switch(Xr(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(p),null;case 1:return dn(p.type)&&wt(),ci(p),null;case 3:return A=p.stateNode,Eo(),ft(cn),ft(jt),qs(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(us(p)?Li(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Zi!==null&&(md(Zi),Zi=null))),Qs(h,p),ci(p),null;case 5:cl(p),b=Ar(Mo.current);var D=p.type;if(h!==null&&p.stateNode!=null)ic(h,p,D,A,b),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return ci(p),null}if(h=Ar(Yi.current),us(p)){if(!ct)throw Error(o(175));h=el(p.stateNode,p.type,p.memoizedProps,b,h,p,!ll),p.updateQueue=h,h!==null&&Li(p)}else{var H=K(D,A,b,h,p);Nn(H,p,!1,!1),p.stateNode=H,we(H,D,A,b,h)&&Li(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ci(p),null;case 6:if(h&&p.stateNode!=null)rc(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(h=Ar(Mo.current),b=Ar(Yi.current),us(p)){if(!ct)throw Error(o(176));if(h=p.stateNode,A=p.memoizedProps,(b=Ss(h,A,p,!ll))&&(D=wi,D!==null))switch(H=(D.mode&1)!==0,D.tag){case 3:Ae(D.stateNode.containerInfo,h,A,H);break;case 5:De(D.type,D.memoizedProps,D.stateNode,h,A,H)}b&&Li(p)}else p.stateNode=_e(A,h,b,p)}return ci(p),null;case 13:if(ft(Kn),A=p.memoizedState,kn&&Xi!==null&&(p.mode&1)!==0&&(p.flags&128)===0){for(h=Xi;h;)h=os(h);return To(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=us(p),h===null){if(!A)throw Error(o(318));if(!ct)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));vo(h,p)}else To(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;return ci(p),null}return Zi!==null&&(md(Zi),Zi=null),(p.flags&128)!==0?(p.lanes=b,p):(A=A!==null,b=!1,h===null?us(p):b=h.memoizedState!==null,A&&!b&&(p.child.flags|=8192,(p.mode&1)!==0&&(h===null||(Kn.current&1)!==0?Ti===0&&(Ti=3):Ch())),p.updateQueue!==null&&(p.flags|=4),ci(p),null);case 4:return Eo(),Qs(h,p),h===null&&rt(p.stateNode.containerInfo),ci(p),null;case 10:return Bl(p.type._context),ci(p),null;case 17:return dn(p.type)&&wt(),ci(p),null;case 19:if(ft(Kn),D=p.memoizedState,D===null)return ci(p),null;if(A=(p.flags&128)!==0,H=D.rendering,H===null)if(A)Ls(D,!1);else{if(Ti!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(H=Zl(h),H!==null){for(p.flags|=128,Ls(D,!1),h=H.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=b,A=p.child;A!==null;)b=A,D=h,b.flags&=14680066,H=b.alternate,H===null?(b.childLanes=0,b.lanes=D,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=H.childLanes,b.lanes=H.lanes,b.child=H.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=H.memoizedProps,b.memoizedState=H.memoizedState,b.updateQueue=H.updateQueue,b.type=H.type,D=H.dependencies,b.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),A=A.sibling;return Nt(Kn,Kn.current&1|2),p.child}h=h.sibling}D.tail!==null&&xi()>gl&&(p.flags|=128,A=!0,Ls(D,!1),p.lanes=4194304)}else{if(!A)if(h=Zl(H),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Ls(D,!0),D.tail===null&&D.tailMode==="hidden"&&!H.alternate&&!kn)return ci(p),null}else 2*xi()-D.renderingStartTime>gl&&b!==1073741824&&(p.flags|=128,A=!0,Ls(D,!1),p.lanes=4194304);D.isBackwards?(H.sibling=p.child,p.child=H):(h=D.last,h!==null?h.sibling=H:p.child=H,D.last=H)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=xi(),p.sibling=null,h=Kn.current,Nt(Kn,A?h&1|2:h&1),p):(ci(p),null);case 22:case 23:return gd(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&(p.mode&1)!==0?(Ir&1073741824)!==0&&(ci(p),nt&&p.subtreeFlags&6&&(p.flags|=8192)):ci(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var np=l.ReactCurrentOwner,nr=!1;function bi(h,p,b,A){p.child=h===null?_h(p,null,b,A):Er(p,h.child,b,A)}function ri(h,p,b,A,D){b=b.render;var H=p.ref;return ol(p,D),A=Js(h,p,b,A,H,D),b=Wo(),h!==null&&!nr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~D,hs(h,p,D)):(kn&&b&&Qc(p),p.flags|=1,bi(h,p,A,D),p.child)}function Jn(h,p,b,A,D){if(h===null){var H=b.type;return typeof H=="function"&&!Ph(H)&&H.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=H,Ca(h,p,H,A,D)):(h=Rh(b.type,null,A,p,p.mode,D),h.ref=p.ref,h.return=p,p.child=h)}if(H=h.child,(h.lanes&D)===0){var ue=H.memoizedProps;if(b=b.compare,b=b!==null?b:Es,b(ue,A)&&h.ref===p.ref)return hs(h,p,D)}return p.flags|=1,h=Da(H,A),h.ref=p.ref,h.return=p,p.child=h}function Ca(h,p,b,A,D){if(h!==null&&Es(h.memoizedProps,A)&&h.ref===p.ref)if(nr=!1,(h.lanes&D)!==0)(h.flags&131072)!==0&&(nr=!0);else return p.lanes=h.lanes,hs(h,p,D);return Aa(h,p,b,A,D)}function pr(h,p,b){var A=p.pendingProps,D=A.children,H=h!==null?h.memoizedState:null;if(A.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null},Nt(au,Ir),Ir|=b;else if((b&1073741824)!==0)p.memoizedState={baseLanes:0,cachePool:null},A=H!==null?H.baseLanes:b,Nt(au,Ir),Ir|=A;else return h=H!==null?H.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Nt(au,Ir),Ir|=h,null;else H!==null?(A=H.baseLanes|b,p.memoizedState=null):A=b,Nt(au,Ir),Ir|=A;return bi(h,p,D,b),p.child}function qr(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function Aa(h,p,b,A,D){var H=dn(b)?mn:jt.current;return H=Dt(p,H),ol(p,D),b=Js(h,p,b,A,H,D),A=Wo(),h!==null&&!nr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~D,hs(h,p,D)):(kn&&A&&Qc(p),p.flags|=1,bi(h,p,b,D),p.child)}function Ql(h,p,b,A,D){if(dn(b)){var H=!0;hi(p)}else H=!1;if(ol(p,D),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),Kc(p,b,A),wo(p,b,A,D),A=!0;else if(h===null){var ue=p.stateNode,Te=p.memoizedProps;ue.props=Te;var je=ue.context,mt=b.contextType;typeof mt=="object"&&mt!==null?mt=ai(mt):(mt=dn(b)?mn:jt.current,mt=Dt(p,mt));var Bt=b.getDerivedStateFromProps,fn=typeof Bt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";fn||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Te!==A||je!==mt)&&Wl(p,ue,A,mt),Hr=!1;var tn=p.memoizedState;ue.state=tn,Hl(p,A,ue,D),je=p.memoizedState,Te!==A||tn!==je||cn.current||Hr?(typeof Bt=="function"&&(jl(p,b,Bt,A),je=p.memoizedState),(Te=Hr||qu(p,b,Te,A,tn,je,mt))?(fn||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=je),ue.props=A,ue.state=je,ue.context=mt,A=Te):(typeof ue.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{ue=p.stateNode,Xu(h,p),Te=p.memoizedProps,mt=p.type===p.elementType?Te:Fi(p.type,Te),ue.props=mt,fn=p.pendingProps,tn=ue.context,je=b.contextType,typeof je=="object"&&je!==null?je=ai(je):(je=dn(b)?mn:jt.current,je=Dt(p,je));var Mn=b.getDerivedStateFromProps;(Bt=typeof Mn=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Te!==fn||tn!==je)&&Wl(p,ue,A,je),Hr=!1,tn=p.memoizedState,ue.state=tn,Hl(p,A,ue,D);var kt=p.memoizedState;Te!==fn||tn!==kt||cn.current||Hr?(typeof Mn=="function"&&(jl(p,b,Mn,A),kt=p.memoizedState),(mt=Hr||qu(p,b,mt,A,tn,kt,je)||!1)?(Bt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(A,kt,je),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(A,kt,je)),typeof ue.componentDidUpdate=="function"&&(p.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Te===h.memoizedProps&&tn===h.memoizedState||(p.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Te===h.memoizedProps&&tn===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=kt),ue.props=A,ue.state=kt,ue.context=je,A=mt):(typeof ue.componentDidUpdate!="function"||Te===h.memoizedProps&&tn===h.memoizedState||(p.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Te===h.memoizedProps&&tn===h.memoizedState||(p.flags|=1024),A=!1)}return Lr(h,p,b,A,H,D)}function Lr(h,p,b,A,D,H){qr(h,p);var ue=(p.flags&128)!==0;if(!A&&!ue)return D&&fi(p,b,!1),hs(h,p,H);A=p.stateNode,np.current=p;var Te=ue&&typeof b.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&ue?(p.child=Er(p,h.child,null,H),p.child=Er(p,null,Te,H)):bi(h,p,Te,H),p.memoizedState=A.state,D&&fi(p,b,!0),p.child}function id(h){var p=h.stateNode;p.pendingContext?wn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&wn(h,p.context,!1),ul(h,p.containerInfo)}function ip(h,p,b,A,D){return To(),$u(D),p.flags|=256,bi(h,p,b,A),p.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function eu(h){return{baseLanes:h,cachePool:null}}function rp(h,p,b){var A=p.pendingProps,D=Kn.current,H=!1,ue=(p.flags&128)!==0,Te;if((Te=ue)||(Te=h!==null&&h.memoizedState===null?!1:(D&2)!==0),Te?(H=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(D|=1),Nt(Kn,D&1),h===null)return Ps(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((p.mode&1)===0?p.lanes=1:_i(h)?p.lanes=8:p.lanes=1073741824,null):(D=A.children,h=A.fallback,H?(A=p.mode,H=p.child,D={mode:"hidden",children:D},(A&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=D):H=_d(D,A,0,null),h=hu(h,A,b,null),H.return=p,h.return=p,H.sibling=h,p.child=H,p.child.memoizedState=eu(b),p.memoizedState=rd,h):Po(p,D));if(D=h.memoizedState,D!==null){if(Te=D.dehydrated,Te!==null){if(ue)return p.flags&256?(p.flags&=-257,od(h,p,b,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(H=A.fallback,D=p.mode,A=_d({mode:"visible",children:A.children},D,0,null),H=hu(H,D,b,null),H.flags|=2,A.return=p,H.return=p,A.sibling=H,p.child=A,(p.mode&1)!==0&&Er(p,h.child,null,b),p.child.memoizedState=eu(b),p.memoizedState=rd,H);if((p.mode&1)===0)p=od(h,p,b,null);else if(_i(Te))p=od(h,p,b,Error(o(419)));else if(A=(b&h.childLanes)!==0,nr||A){if(A=Ii,A!==null){switch(b&-b){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}A=(H&(A.suspendedLanes|b))!==0?0:H,A!==0&&A!==D.retryLane&&(D.retryLane=A,kr(h,A,-1))}Ch(),p=od(h,p,b,Error(o(421)))}else Ai(Te)?(p.flags|=128,p.child=h.child,p=Sg.bind(null,h),Vt(Te,p),p=null):(b=D.treeContext,ct&&(Xi=ua(Te),wi=p,kn=!0,Zi=null,ll=!1,b!==null&&(Wr[Gr++]=As,Wr[Gr++]=bo,Wr[Gr++]=So,As=b.id,bo=b.overflow,So=p)),p=Po(p,p.pendingProps.children),p.flags|=4096);return p}return H?(A=wh(h,p,A.children,A.fallback,b),H=p.child,D=h.child.memoizedState,H.memoizedState=D===null?eu(b):{baseLanes:D.baseLanes|b,cachePool:null},H.childLanes=h.childLanes&~b,p.memoizedState=rd,A):(b=sd(h,p,A.children,b),p.memoizedState=null,b)}return H?(A=wh(h,p,A.children,A.fallback,b),H=p.child,D=h.child.memoizedState,H.memoizedState=D===null?eu(b):{baseLanes:D.baseLanes|b,cachePool:null},H.childLanes=h.childLanes&~b,p.memoizedState=rd,A):(b=sd(h,p,A.children,b),p.memoizedState=null,b)}function Po(h,p){return p=_d({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function sd(h,p,b,A){var D=h.child;return h=D.sibling,b=Da(D,{mode:"visible",children:b}),(p.mode&1)===0&&(b.lanes=A),b.return=p,b.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=b}function wh(h,p,b,A,D){var H=p.mode;h=h.child;var ue=h.sibling,Te={mode:"hidden",children:b};return(H&1)===0&&p.child!==h?(b=p.child,b.childLanes=0,b.pendingProps=Te,p.deletions=null):(b=Da(h,Te),b.subtreeFlags=h.subtreeFlags&14680064),ue!==null?A=Da(ue,A):(A=hu(A,H,D,null),A.flags|=2),A.return=p,b.return=p,b.sibling=A,p.child=b,A}function od(h,p,b,A){return A!==null&&$u(A),Er(p,h.child,null,b),h=Po(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function yg(h,p,b){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),xo(h.return,p,b)}function Yo(h,p,b,A,D){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:D}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=A,H.tail=b,H.tailMode=D)}function tu(h,p,b){var A=p.pendingProps,D=A.revealOrder,H=A.tail;if(bi(h,p,A.children,b),A=Kn.current,(A&2)!==0)A=A&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&yg(h,b,p);else if(h.tag===19)yg(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Nt(Kn,A),(p.mode&1)===0)p.memoizedState=null;else switch(D){case"forwards":for(b=p.child,D=null;b!==null;)h=b.alternate,h!==null&&Zl(h)===null&&(D=b),b=b.sibling;b=D,b===null?(D=p.child,p.child=null):(D=b.sibling,b.sibling=null),Yo(p,!1,D,b,H);break;case"backwards":for(b=null,D=p.child,p.child=null;D!==null;){if(h=D.alternate,h!==null&&Zl(h)===null){p.child=D;break}h=D.sibling,D.sibling=b,b=D,D=h}Yo(p,!0,b,null,H);break;case"together":Yo(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function hs(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),qo|=p.lanes,(b&p.childLanes)===0)return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,b=Da(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Da(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Sh(h,p,b){switch(p.tag){case 3:id(p),To();break;case 5:_a(p);break;case 1:dn(p.type)&&hi(p);break;case 4:ul(p,p.stateNode.containerInfo);break;case 10:ga(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(Nt(Kn,Kn.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?rp(h,p,b):(Nt(Kn,Kn.current&1),h=hs(h,p,b),h!==null?h.sibling:null);Nt(Kn,Kn.current&1);break;case 19:if(A=(b&p.childLanes)!==0,(h.flags&128)!==0){if(A)return tu(h,p,b);p.flags|=128}var D=p.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Nt(Kn,Kn.current),A)break;return null;case 22:case 23:return p.lanes=0,pr(h,p,b)}return hs(h,p,b)}function bh(h,p){switch(Xr(p),p.tag){case 1:return dn(p.type)&&wt(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Eo(),ft(cn),ft(jt),qs(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 5:return cl(p),null;case 13:if(ft(Kn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));To()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return ft(Kn),null;case 4:return Eo(),null;case 10:return Bl(p.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var $r=!1,ir=!1,nu=typeof WeakSet=="function"?WeakSet:Set,St=null;function eo(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(A){Jr(h,p,A)}else b.current=null}function Pa(h,p,b){try{b()}catch(A){Jr(h,p,A)}}var sp=!1;function op(h,p){for(ie(h.containerInfo),St=p;St!==null;)if(h=St,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,St=p;else for(;St!==null;){h=St;try{var b=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,D=b.memoizedState,H=h.stateNode,ue=H.getSnapshotBeforeUpdate(h.elementType===h.type?A:Fi(h.type,A),D);H.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:nt&&Mt(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Te){Jr(h,h.return,Te)}if(p=h.sibling,p!==null){p.return=h.return,St=p;break}St=h.return}return b=sp,sp=!1,b}function Ra(h,p,b){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var D=A=A.next;do{if((D.tag&h)===h){var H=D.destroy;D.destroy=void 0,H!==void 0&&Pa(p,b,H)}D=D.next}while(D!==A)}}function mr(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var A=b.create;b.destroy=A()}b=b.next}while(b!==p)}}function Kr(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=he(b);break;default:h=b}typeof p=="function"?p(h):p.current=h}}function li(h,p,b){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(pa,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var D=A,H=D.destroy;D=D.tag,H!==void 0&&((D&2)!==0||(D&4)!==0)&&Pa(p,b,H),A=A.next}while(A!==h)}break;case 1:if(eo(p,b),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(ue){Jr(p,b,ue)}break;case 5:eo(p,b);break;case 4:nt?up(h,p,b):ht&&ht&&(p=p.stateNode.containerInfo,b=Ye(p),Jt(p,b))}}function to(h,p,b){for(var A=p;;)if(li(h,A,b),A.child===null||nt&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function ap(h){var p=h.alternate;p!==null&&(h.alternate=null,ap(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Be(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function lp(h){return h.tag===5||h.tag===3||h.tag===4}function Th(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||lp(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Mh(h){if(nt){e:{for(var p=h.return;p!==null;){if(lp(p))break e;p=p.return}throw Error(o(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(pt(p),b.flags&=-33),b=Th(h),oc(h,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=Th(h),Eh(h,b,p);break;default:throw Error(o(161))}}}function Eh(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?_t(b,h,p):It(b,h);else if(A!==4&&(h=h.child,h!==null))for(Eh(h,p,b),h=h.sibling;h!==null;)Eh(h,p,b),h=h.sibling}function oc(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?qe(b,h,p):Ue(b,h);else if(A!==4&&(h=h.child,h!==null))for(oc(h,p,b),h=h.sibling;h!==null;)oc(h,p,b),h=h.sibling}function up(h,p,b){for(var A=p,D=!1,H,ue;;){if(!D){D=A.return;e:for(;;){if(D===null)throw Error(o(160));switch(H=D.stateNode,D.tag){case 5:ue=!1;break e;case 3:H=H.containerInfo,ue=!0;break e;case 4:H=H.containerInfo,ue=!0;break e}D=D.return}D=!0}if(A.tag===5||A.tag===6)to(h,A,b),ue?Ut(H,A.stateNode):Wt(H,A.stateNode);else if(A.tag===18)ue?Bu(H,A.stateNode):Uu(H,A.stateNode);else if(A.tag===4){if(A.child!==null){H=A.stateNode.containerInfo,ue=!0,A.child.return=A,A=A.child;continue}}else if(li(h,A,b),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(D=!1)}A.sibling.return=A.return,A=A.sibling}}function pl(h,p){if(nt){switch(p.tag){case 0:case 11:case 14:case 15:Ra(3,p,p.return),mr(3,p),Ra(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var D=p.type,H=p.updateQueue;p.updateQueue=null,H!==null&&yt(b,H,D,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));b=p.memoizedProps,ot(p.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:ct&&h!==null&&h.memoizedState.isDehydrated&&Fu(p.stateNode.containerInfo);return;case 12:return;case 13:ac(p);return;case 19:ac(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Ra(3,p,p.return),mr(3,p),Ra(5,p,p.return);return;case 12:return;case 13:ac(p);return;case 19:ac(p);return;case 3:ct&&h!==null&&h.memoizedState.isDehydrated&&Fu(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ht){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Jt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function ac(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new nu),p.forEach(function(A){var D=bg.bind(null,h,A);b.has(A)||(b.add(A),A.then(D,D))})}}function m_(h,p){for(St=p;St!==null;){p=St;var b=p.deletions;if(b!==null)for(var A=0;A<b.length;A++){var D=b[A];try{var H=h;nt?up(H,D,p):to(H,D,p);var ue=D.alternate;ue!==null&&(ue.return=null),D.return=null}catch($t){Jr(D,p,$t)}}if(b=p.child,(p.subtreeFlags&12854)!==0&&b!==null)b.return=p,St=b;else for(;St!==null;){p=St;try{var Te=p.flags;if(Te&32&&nt&&pt(p.stateNode),Te&512){var je=p.alternate;if(je!==null){var mt=je.ref;mt!==null&&(typeof mt=="function"?mt(null):mt.current=null)}}if(Te&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Bt=p.alternate;(Bt===null||Bt.memoizedState===null)&&(fd=xi())}break;case 22:var fn=p.memoizedState!==null,tn=p.alternate,Mn=tn!==null&&tn.memoizedState!==null;if(b=p,nt){e:if(A=b,D=fn,H=null,nt)for(var kt=A;;){if(kt.tag===5){if(H===null){H=kt;var yr=kt.stateNode;D?en(yr):xt(kt.stateNode,kt.memoizedProps)}}else if(kt.tag===6){if(H===null){var Ds=kt.stateNode;D?ye(Ds):et(Ds,kt.memoizedProps)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===A)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===A)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===A)break e;H===kt&&(H=null),kt=kt.return}H===kt&&(H=null),kt.sibling.return=kt.return,kt=kt.sibling}}if(fn&&!Mn&&(b.mode&1)!==0){St=b;for(var Oe=b.child;Oe!==null;){for(b=St=Oe;St!==null;){A=St;var Ce=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Ra(4,A,A.return);break;case 1:eo(A,A.return);var Ve=A.stateNode;if(typeof Ve.componentWillUnmount=="function"){var Pt=A.return;try{Ve.props=A.memoizedProps,Ve.state=A.memoizedState,Ve.componentWillUnmount()}catch($t){Jr(A,Pt,$t)}}break;case 5:eo(A,A.return);break;case 22:if(A.memoizedState!==null){dp(b);continue}}Ce!==null?(Ce.return=A,St=Ce):dp(b)}Oe=Oe.sibling}}}switch(Te&4102){case 2:Mh(p),p.flags&=-3;break;case 6:Mh(p),p.flags&=-3,pl(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,pl(p.alternate,p);break;case 4:pl(p.alternate,p)}}catch($t){Jr(p,p.return,$t)}if(b=p.sibling,b!==null){b.return=p.return,St=b;break}St=p.return}}}function ad(h,p,b){St=h,ld(h)}function ld(h,p,b){for(var A=(h.mode&1)!==0;St!==null;){var D=St,H=D.child;if(D.tag===22&&A){var ue=D.memoizedState!==null||$r;if(!ue){var Te=D.alternate,je=Te!==null&&Te.memoizedState!==null||ir;Te=$r;var mt=ir;if($r=ue,(ir=je)&&!mt)for(St=D;St!==null;)ue=St,je=ue.child,ue.tag===22&&ue.memoizedState!==null?iu(D):je!==null?(je.return=ue,St=je):iu(D);for(;H!==null;)St=H,ld(H),H=H.sibling;St=D,$r=Te,ir=mt}cp(h)}else(D.subtreeFlags&8772)!==0&&H!==null?(H.return=D,St=H):cp(h)}}function cp(h){for(;St!==null;){var p=St;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:ir||mr(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!ir)if(b===null)A.componentDidMount();else{var D=p.elementType===p.type?b.memoizedProps:Fi(p.type,b.memoizedProps);A.componentDidUpdate(D,b.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var H=p.updateQueue;H!==null&&mh(p,H,A);break;case 3:var ue=p.updateQueue;if(ue!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=he(p.child.stateNode);break;case 1:b=p.child.stateNode}mh(p,ue,b)}break;case 5:var Te=p.stateNode;b===null&&p.flags&4&&At(Te,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(ct&&p.memoizedState===null){var je=p.alternate;if(je!==null){var mt=je.memoizedState;if(mt!==null){var Bt=mt.dehydrated;Bt!==null&&zu(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ir||p.flags&512&&Kr(p)}catch(fn){Jr(p,p.return,fn)}}if(p===h){St=null;break}if(b=p.sibling,b!==null){b.return=p.return,St=b;break}St=p.return}}function dp(h){for(;St!==null;){var p=St;if(p===h){St=null;break}var b=p.sibling;if(b!==null){b.return=p.return,St=b;break}St=p.return}}function iu(h){for(;St!==null;){var p=St;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{mr(4,p)}catch(je){Jr(p,b,je)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var D=p.return;try{A.componentDidMount()}catch(je){Jr(p,D,je)}}var H=p.return;try{Kr(p)}catch(je){Jr(p,H,je)}break;case 5:var ue=p.return;try{Kr(p)}catch(je){Jr(p,ue,je)}}}catch(je){Jr(p,p.return,je)}if(p===h){St=null;break}var Te=p.sibling;if(Te!==null){Te.return=p.return,St=Te;break}St=p.return}}var ud=0,ru=1,su=2,La=3,lc=4;if(typeof Symbol=="function"&&Symbol.for){var ou=Symbol.for;ud=ou("selector.component"),ru=ou("selector.has_pseudo_class"),su=ou("selector.role"),La=ou("selector.test_id"),lc=ou("selector.text")}function cd(h){var p=re(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=We(h),h===null)throw Error(o(362));return h.stateNode.current}function dd(h,p){switch(p.$$typeof){case ud:if(h.type===p.value)return!0;break;case ru:e:{p=p.value,h=[h,0];for(var b=0;b<h.length;){var A=h[b++],D=h[b++],H=p[D];if(A.tag!==5||!q(A)){for(;H!=null&&dd(A,H);)D++,H=p[D];if(D===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,D),A=A.sibling}}p=!1}return p;case su:if(h.tag===5&&Se(h.stateNode,p.value))return!0;break;case lc:if((h.tag===5||h.tag===6)&&(h=ne(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case La:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ml(h){switch(h.$$typeof){case ud:return"<"+(Z(h.value)||"Unknown")+">";case ru:return":has("+(ml(h)||"")+")";case su:return'[role="'+h.value+'"]';case lc:return'"'+h.value+'"';case La:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function Is(h,p){var b=[];h=[h,0];for(var A=0;A<h.length;){var D=h[A++],H=h[A++],ue=p[H];if(D.tag!==5||!q(D)){for(;ue!=null&&dd(D,ue);)H++,ue=p[H];if(H===p.length)b.push(D);else for(D=D.child;D!==null;)h.push(D,H),D=D.sibling}}return b}function Ia(h,p){if(!Me)throw Error(o(363));h=cd(h),h=Is(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var A=h[b++];if(A.tag===5)q(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var hp=Math.ceil,hd=l.ReactCurrentDispatcher,Ro=l.ReactCurrentOwner,qn=l.ReactCurrentBatchConfig,Sn=0,Ii=null,$n=null,di=0,Ir=0,au=Yt(0),Ti=0,uc=null,qo=0,ks=0,lu=0,ka=null,Ui=null,fd=0,gl=1/0;function uu(){gl=xi()+500}var cc=!1,ui=null,Lo=null,dc=!1,$o=null,cu=0,du=0,Na=null,si=-1,Mi=0;function Fn(){return(Sn&6)!==0?xi():si!==-1?si:si=xi()}function Io(h){return(h.mode&1)===0?1:(Sn&2)!==0&&di!==0?di&-di:Ln.transition!==null?(Mi===0&&(h=Gn,Gn<<=1,(Gn&4194240)===0&&(Gn=64),Mi=h),Mi):(h=vn,h!==0?h:Ze())}function kr(h,p,b){if(50<du)throw du=0,Na=null,Error(o(185));var A=vl(h,p);return A===null?null:(yo(A,p,b),((Sn&2)===0||A!==Ii)&&(A===Ii&&((Sn&2)===0&&(ks|=p),Ti===4&&vr(A,di)),fs(A,b),p===1&&Sn===0&&(h.mode&1)===0&&(uu(),Hu&&Br())),A)}function vl(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}function fs(h,p){var b=h.callbackNode;Vu(h,p);var A=ca(h,h===Ii?di:0);if(A===0)b!==null&&sn(b),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(b!=null&&sn(b),p===1)h.tag===0?Wu(Ns.bind(null,h)):rl(Ns.bind(null,h)),Pe?Xe(function(){Sn===0&&Br()}):fa(_o,Br),b=null;else{switch(Ts(A)){case 1:b=_o;break;case 4:b=$c;break;case 16:b=il;break;case 536870912:b=Xs;break;default:b=il}b=Ah(b,gr.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function gr(h,p){if(si=-1,Mi=0,(Sn&6)!==0)throw Error(o(327));var b=h.callbackNode;if(Ko()&&h.callbackNode!==b)return null;var A=ca(h,h===Ii?di:0);if(A===0)return null;if((A&30)!==0||(A&h.expiredLanes)!==0||p)p=vd(h,A);else{p=A;var D=Sn;Sn|=2;var H=mp();(Ii!==h||di!==p)&&(uu(),Oa(h,p));do try{xg();break}catch(Te){pp(h,Te)}while(!0);er(),hd.current=H,Sn=D,$n!==null?p=0:(Ii=null,di=0,p=Ti)}if(p!==0){if(p===2&&(D=tl(h),D!==0&&(A=D,p=pd(h,D))),p===1)throw b=uc,Oa(h,0),vr(h,A),fs(h,xi()),b;if(p===6)vr(h,A);else{if(D=h.current.alternate,(A&30)===0&&!fp(D)&&(p=vd(h,A),p===2&&(H=tl(h),H!==0&&(A=H,p=pd(h,H))),p===1))throw b=uc,Oa(h,0),vr(h,A),fs(h,xi()),b;switch(h.finishedWork=D,h.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:ko(h,Ui);break;case 3:if(vr(h,A),(A&130023424)===A&&(p=fd+500-xi(),10<p)){if(ca(h,0)!==0)break;if(D=h.suspendedLanes,(D&A)!==A){Fn(),h.pingedLanes|=h.suspendedLanes&D;break}h.timeoutHandle=xe(ko.bind(null,h,Ui),p);break}ko(h,Ui);break;case 4:if(vr(h,A),(A&4194240)===A)break;for(p=h.eventTimes,D=-1;0<A;){var ue=31-Cn(A);H=1<<ue,ue=p[ue],ue>D&&(D=ue),A&=~H}if(A=D,A=xi()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*hp(A/1960))-A,10<A){h.timeoutHandle=xe(ko.bind(null,h,Ui),A);break}ko(h,Ui);break;case 5:ko(h,Ui);break;default:throw Error(o(329))}}}return fs(h,xi()),h.callbackNode===b?gr.bind(null,h):null}function pd(h,p){var b=ka;return h.current.memoizedState.isDehydrated&&(Oa(h,p).flags|=256),h=vd(h,p),h!==2&&(p=Ui,Ui=b,p!==null&&md(p)),h}function md(h){Ui===null?Ui=h:Ui.push.apply(Ui,h)}function fp(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var A=0;A<b.length;A++){var D=b[A],H=D.getSnapshot;D=D.value;try{if(!Qi(H(),D))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function vr(h,p){for(p&=~lu,p&=~ks,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-Cn(p),A=1<<b;h[b]=-1,p&=~A}}function Ns(h){if((Sn&6)!==0)throw Error(o(327));Ko();var p=ca(h,0);if((p&1)===0)return fs(h,xi()),null;var b=vd(h,p);if(h.tag!==0&&b===2){var A=tl(h);A!==0&&(p=A,b=pd(h,A))}if(b===1)throw b=uc,Oa(h,0),vr(h,p),fs(h,xi()),b;if(b===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,ko(h,Ui),fs(h,xi()),null}function hc(h){$o!==null&&$o.tag===0&&(Sn&6)===0&&Ko();var p=Sn;Sn|=1;var b=qn.transition,A=vn;try{if(qn.transition=null,vn=1,h)return h()}finally{vn=A,qn.transition=b,Sn=p,(Sn&6)===0&&Br()}}function gd(){Ir=au.current,ft(au)}function Oa(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==$e&&(h.timeoutHandle=$e,Ge(b)),$n!==null)for(b=$n.return;b!==null;){var A=b;switch(Xr(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&wt();break;case 3:Eo(),ft(cn),ft(jt),qs();break;case 5:cl(A);break;case 4:Eo();break;case 13:ft(Kn);break;case 19:ft(Kn);break;case 10:Bl(A.type._context);break;case 22:case 23:gd()}b=b.return}if(Ii=h,$n=h=Da(h.current,null),di=Ir=p,Ti=0,uc=null,lu=ks=qo=0,Ui=ka=null,as!==null){for(p=0;p<as.length;p++)if(b=as[p],A=b.interleaved,A!==null){b.interleaved=null;var D=A.next,H=b.pending;if(H!==null){var ue=H.next;H.next=D,A.next=ue}b.pending=A}as=null}return h}function pp(h,p){do{var b=$n;try{if(er(),Yl.current=Ct,wa){for(var A=ii.memoizedState;A!==null;){var D=A.queue;D!==null&&(D.pending=null),A=A.next}wa=!1}if(xa=0,Xn=zi=ii=null,$s=!1,Ks=0,Ro.current=null,b===null||b.return===null){Ti=1,uc=p,$n=null;break}e:{var H=h,ue=b.return,Te=b,je=p;if(p=di,Te.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var mt=je,Bt=Te,fn=Bt.tag;if((Bt.mode&1)===0&&(fn===0||fn===11||fn===15)){var tn=Bt.alternate;tn?(Bt.updateQueue=tn.updateQueue,Bt.memoizedState=tn.memoizedState,Bt.lanes=tn.lanes):(Bt.updateQueue=null,Bt.memoizedState=null)}var Mn=nd(ue);if(Mn!==null){Mn.flags&=-257,Xo(Mn,ue,Te,H,p),Mn.mode&1&&Ao(H,mt,p),p=Mn,je=mt;var kt=p.updateQueue;if(kt===null){var yr=new Set;yr.add(je),p.updateQueue=yr}else kt.add(je);break e}else{if((p&1)===0){Ao(H,mt,p),Ch();break e}je=Error(o(426))}}else if(kn&&Te.mode&1){var Ds=nd(ue);if(Ds!==null){(Ds.flags&65536)===0&&(Ds.flags|=256),Xo(Ds,ue,Te,H,p),$u(je);break e}}H=je,Ti!==4&&(Ti=2),ka===null?ka=[H]:ka.push(H),je=Si(je,Te),Te=ue;do{switch(Te.tag){case 3:Te.flags|=65536,p&=-p,Te.lanes|=p;var Oe=Ma(Te,je,p);Vl(Te,Oe);break e;case 1:H=je;var Ce=Te.type,Ve=Te.stateNode;if((Te.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(Lo===null||!Lo.has(Ve)))){Te.flags|=65536,p&=-p,Te.lanes|=p;var Pt=nc(Te,H,p);Vl(Te,Pt);break e}}Te=Te.return}while(Te!==null)}vp(b)}catch($t){p=$t,$n===b&&b!==null&&($n=b=b.return);continue}break}while(!0)}function mp(){var h=hd.current;return hd.current=Ct,h===null?Ct:h}function Ch(){(Ti===0||Ti===3||Ti===2)&&(Ti=4),Ii===null||(qo&268435455)===0&&(ks&268435455)===0||vr(Ii,di)}function vd(h,p){var b=Sn;Sn|=2;var A=mp();Ii===h&&di===p||Oa(h,p);do try{_g();break}catch(D){pp(h,D)}while(!0);if(er(),Sn=b,hd.current=A,$n!==null)throw Error(o(261));return Ii=null,di=0,Ti}function _g(){for(;$n!==null;)gp($n)}function xg(){for(;$n!==null&&!Gi();)gp($n)}function gp(h){var p=xp(h.alternate,h,Ir);h.memoizedProps=h.pendingProps,p===null?vp(h):$n=p,Ro.current=null}function vp(h){var p=h;do{var b=p.alternate;if(h=p.return,(p.flags&32768)===0){if(b=sc(b,p,Ir),b!==null){$n=b;return}}else{if(b=bh(b,p),b!==null){b.flags&=32767,$n=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Ti=6,$n=null;return}}if(p=p.sibling,p!==null){$n=p;return}$n=p=h}while(p!==null);Ti===0&&(Ti=5)}function ko(h,p){var b=vn,A=qn.transition;try{qn.transition=null,vn=1,wg(h,p,b)}finally{qn.transition=A,vn=b}return null}function wg(h,p,b){do Ko();while($o!==null);if((Sn&6)!==0)throw Error(o(327));var A=h.finishedWork,D=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var H=A.lanes|A.childLanes;if(nl(h,H),h===Ii&&($n=Ii=null,di=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||dc||(dc=!0,Ah(il,function(){return Ko(),null})),H=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||H){H=qn.transition,qn.transition=null;var ue=vn;vn=1;var Te=Sn;Sn|=4,Ro.current=null,op(h,A),m_(h,A),ee(h.containerInfo),h.current=A,ad(A),Yn(),Sn=Te,vn=ue,qn.transition=H}else h.current=A;if(dc&&(dc=!1,$o=h,cu=D),H=h.pendingLanes,H===0&&(Lo=null),pi(A.stateNode),fs(h,xi()),p!==null)for(b=h.onRecoverableError,A=0;A<p.length;A++)b(p[A]);if(cc)throw cc=!1,h=ui,ui=null,h;return(cu&1)!==0&&h.tag!==0&&Ko(),H=h.pendingLanes,(H&1)!==0?h===Na?du++:(du=0,Na=h):du=0,Br(),null}function Ko(){if($o!==null){var h=Ts(cu),p=qn.transition,b=vn;try{if(qn.transition=null,vn=16>h?16:h,$o===null)var A=!1;else{if(h=$o,$o=null,cu=0,(Sn&6)!==0)throw Error(o(331));var D=Sn;for(Sn|=4,St=h.current;St!==null;){var H=St,ue=H.child;if((St.flags&16)!==0){var Te=H.deletions;if(Te!==null){for(var je=0;je<Te.length;je++){var mt=Te[je];for(St=mt;St!==null;){var Bt=St;switch(Bt.tag){case 0:case 11:case 15:Ra(8,Bt,H)}var fn=Bt.child;if(fn!==null)fn.return=Bt,St=fn;else for(;St!==null;){Bt=St;var tn=Bt.sibling,Mn=Bt.return;if(ap(Bt),Bt===mt){St=null;break}if(tn!==null){tn.return=Mn,St=tn;break}St=Mn}}}var kt=H.alternate;if(kt!==null){var yr=kt.child;if(yr!==null){kt.child=null;do{var Ds=yr.sibling;yr.sibling=null,yr=Ds}while(yr!==null)}}St=H}}if((H.subtreeFlags&2064)!==0&&ue!==null)ue.return=H,St=ue;else e:for(;St!==null;){if(H=St,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Ra(9,H,H.return)}var Oe=H.sibling;if(Oe!==null){Oe.return=H.return,St=Oe;break e}St=H.return}}var Ce=h.current;for(St=Ce;St!==null;){ue=St;var Ve=ue.child;if((ue.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=ue,St=Ve;else e:for(ue=Ce;St!==null;){if(Te=St,(Te.flags&2048)!==0)try{switch(Te.tag){case 0:case 11:case 15:mr(9,Te)}}catch($t){Jr(Te,Te.return,$t)}if(Te===ue){St=null;break e}var Pt=Te.sibling;if(Pt!==null){Pt.return=Te.return,St=Pt;break e}St=Te.return}}if(Sn=D,Br(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(pa,h)}catch{}A=!0}return A}finally{vn=b,qn.transition=p}}return!1}function yd(h,p,b){p=Si(b,p),p=Ma(h,p,1),Ys(h,p),p=Fn(),h=vl(h,1),h!==null&&(yo(h,1,p),fs(h,p))}function Jr(h,p,b){if(h.tag===3)yd(h,h,b);else for(;p!==null;){if(p.tag===3){yd(p,h,b);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Lo===null||!Lo.has(A))){h=Si(b,h),h=nc(p,h,1),Ys(p,h),h=Fn(),p=vl(p,1),p!==null&&(yo(p,1,h),fs(p,h));break}}p=p.return}}function yp(h,p,b){var A=h.pingCache;A!==null&&A.delete(p),p=Fn(),h.pingedLanes|=h.suspendedLanes&b,Ii===h&&(di&b)===b&&(Ti===4||Ti===3&&(di&130023424)===di&&500>xi()-fd?Oa(h,0):lu|=b),fs(h,p)}function _p(h,p){p===0&&((h.mode&1)===0?p=1:(p=gn,gn<<=1,(gn&130023424)===0&&(gn=4194304)));var b=Fn();h=vl(h,p),h!==null&&(yo(h,p,b),fs(h,b))}function Sg(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),_p(h,b)}function bg(h,p){var b=0;switch(h.tag){case 13:var A=h.stateNode,D=h.memoizedState;D!==null&&(b=D.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),_p(h,b)}var xp;xp=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||cn.current)nr=!0;else{if((h.lanes&b)===0&&(p.flags&128)===0)return nr=!1,Sh(h,p,b);nr=(h.flags&131072)!==0}else nr=!1,kn&&(p.flags&1048576)!==0&&Jc(p,Gl,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var D=Dt(p,jt.current);ol(p,b),D=Js(null,p,A,h,D,b);var H=Wo();return p.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,dn(A)?(H=!0,hi(p)):H=!1,p.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,jr(p),D.updater=Yu,p.stateNode=D,D._reactInternals=p,wo(p,A,h,b),p=Lr(null,p,A,!0,H,b)):(p.tag=0,kn&&H&&Qc(p),bi(null,p,D,b),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,D=A._init,A=D(A._payload),p.type=A,D=p.tag=g_(A),h=Fi(A,h),D){case 0:p=Aa(null,p,A,h,b);break e;case 1:p=Ql(null,p,A,h,b);break e;case 11:p=ri(null,p,A,h,b);break e;case 14:p=Jn(null,p,A,Fi(A.type,h),b);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,D=p.pendingProps,D=p.elementType===A?D:Fi(A,D),Aa(h,p,A,D,b);case 1:return A=p.type,D=p.pendingProps,D=p.elementType===A?D:Fi(A,D),Ql(h,p,A,D,b);case 3:e:{if(id(p),h===null)throw Error(o(387));A=p.pendingProps,H=p.memoizedState,D=H.element,Xu(h,p),Hl(p,A,null,b);var ue=p.memoizedState;if(A=ue.element,ct&&H.isDehydrated)if(H={element:A,isDehydrated:!1,cache:ue.cache,transitions:ue.transitions},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){D=Error(o(423)),p=ip(h,p,A,b,D);break e}else if(A!==D){D=Error(o(424)),p=ip(h,p,A,b,D);break e}else for(ct&&(Xi=zl(p.stateNode.containerInfo),wi=p,kn=!0,Zi=null,ll=!1),b=_h(p,null,A,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(To(),A===D){p=hs(h,p,b);break e}bi(h,p,A,b)}p=p.child}return p;case 5:return _a(p),h===null&&Ps(p),A=p.type,D=p.pendingProps,H=h!==null?h.memoizedProps:null,ue=D.children,me(A,D)?ue=null:H!==null&&me(A,H)&&(p.flags|=32),qr(h,p),bi(h,p,ue,b),p.child;case 6:return h===null&&Ps(p),null;case 13:return rp(h,p,b);case 4:return ul(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Er(p,null,A,b):bi(h,p,A,b),p.child;case 11:return A=p.type,D=p.pendingProps,D=p.elementType===A?D:Fi(A,D),ri(h,p,A,D,b);case 7:return bi(h,p,p.pendingProps,b),p.child;case 8:return bi(h,p,p.pendingProps.children,b),p.child;case 12:return bi(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(A=p.type._context,D=p.pendingProps,H=p.memoizedProps,ue=D.value,ga(p,A,ue),H!==null)if(Qi(H.value,ue)){if(H.children===D.children&&!cn.current){p=hs(h,p,b);break e}}else for(H=p.child,H!==null&&(H.return=p);H!==null;){var Te=H.dependencies;if(Te!==null){ue=H.child;for(var je=Te.firstContext;je!==null;){if(je.context===A){if(H.tag===1){je=Zs(-1,b&-b),je.tag=2;var mt=H.updateQueue;if(mt!==null){mt=mt.shared;var Bt=mt.pending;Bt===null?je.next=je:(je.next=Bt.next,Bt.next=je),mt.pending=je}}H.lanes|=b,je=H.alternate,je!==null&&(je.lanes|=b),xo(H.return,b,p),Te.lanes|=b;break}je=je.next}}else if(H.tag===10)ue=H.type===p.type?null:H.child;else if(H.tag===18){if(ue=H.return,ue===null)throw Error(o(341));ue.lanes|=b,Te=ue.alternate,Te!==null&&(Te.lanes|=b),xo(ue,b,p),ue=H.sibling}else ue=H.child;if(ue!==null)ue.return=H;else for(ue=H;ue!==null;){if(ue===p){ue=null;break}if(H=ue.sibling,H!==null){H.return=ue.return,ue=H;break}ue=ue.return}H=ue}bi(h,p,D.children,b),p=p.child}return p;case 9:return D=p.type,A=p.pendingProps.children,ol(p,b),D=ai(D),A=A(D),p.flags|=1,bi(h,p,A,b),p.child;case 14:return A=p.type,D=Fi(A,p.pendingProps),D=Fi(A.type,D),Jn(h,p,A,D,b);case 15:return Ca(h,p,p.type,p.pendingProps,b);case 17:return A=p.type,D=p.pendingProps,D=p.elementType===A?D:Fi(A,D),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,dn(A)?(h=!0,hi(p)):h=!1,ol(p,b),Kc(p,A,D),wo(p,A,D,b),Lr(null,p,A,!0,h,b);case 19:return tu(h,p,b);case 22:return pr(h,p,b)}throw Error(o(156,p.tag))};function Ah(h,p){return fa(h,p)}function Tg(h,p,b,A){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(h,p,b,A){return new Tg(h,p,b,A)}function Ph(h){return h=h.prototype,!(!h||!h.isReactComponent)}function g_(h){if(typeof h=="function")return Ph(h)?1:0;if(h!=null){if(h=h.$$typeof,h===C)return 11;if(h===R)return 14}return 2}function Da(h,p){var b=h.alternate;return b===null?(b=Os(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function Rh(h,p,b,A,D,H){var ue=2;if(A=h,typeof h=="function")Ph(h)&&(ue=1);else if(typeof h=="string")ue=5;else e:switch(h){case m:return hu(b.children,D,H,p);case v:ue=8,D|=8;break;case _:return h=Os(12,b,p,D|2),h.elementType=_,h.lanes=H,h;case T:return h=Os(13,b,p,D),h.elementType=T,h.lanes=H,h;case w:return h=Os(19,b,p,D),h.elementType=w,h.lanes=H,h;case O:return _d(b,D,H,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case x:ue=10;break e;case M:ue=9;break e;case C:ue=11;break e;case R:ue=14;break e;case k:ue=16,A=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=Os(ue,b,p,D),p.elementType=h,p.type=A,p.lanes=H,p}function hu(h,p,b,A){return h=Os(7,h,A,p),h.lanes=b,h}function _d(h,p,b,A){return h=Os(22,h,A,p),h.elementType=O,h.lanes=b,h.stateNode={},h}function Lh(h,p,b){return h=Os(6,h,null,p),h.lanes=b,h}function Ih(h,p,b){return p=Os(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function kh(h,p,b,A,D){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=A,this.onRecoverableError=D,ct&&(this.mutableSourceEagerHydrationData=null)}function Mg(h,p,b,A,D,H,ue,Te,je){return h=new kh(h,p,b,Te,je),p===1?(p=1,H===!0&&(p|=8)):p=0,H=Os(3,null,null,p),h.current=H,H.stateNode=h,H.memoizedState={element:A,isDehydrated:b,cache:null,transitions:null},jr(H),h}function Eg(h){if(!h)return bt;h=h._reactInternals;e:{if(U(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(dn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var b=h.type;if(dn(b))return bs(h,b,p)}return p}function Cg(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=Q(p),h===null?null:h.stateNode}function no(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function xd(h,p){no(h,p),(h=h.alternate)&&no(h,p)}function Nh(h){return h=Q(h),h===null?null:h.stateNode}function Ag(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=Fn();kr(h,134217728,p),xd(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Fn(),b=Io(h);kr(h,b,p),xd(h,b)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=Di(p.pendingLanes);b!==0&&(zr(p,b|1),fs(p,xi()),(Sn&6)===0&&(uu(),Br()))}break;case 13:var A=Fn();hc(function(){return kr(h,1,A)}),xd(h,1)}},t.batchedUpdates=function(h,p){var b=Sn;Sn|=1;try{return h(p)}finally{Sn=b,Sn===0&&(uu(),Hu&&Br())}},t.createComponentSelector=function(h){return{$$typeof:ud,value:h}},t.createContainer=function(h,p,b,A,D,H,ue){return Mg(h,p,!1,null,b,A,D,H,ue)},t.createHasPseudoClassSelector=function(h){return{$$typeof:ru,value:h}},t.createHydrationContainer=function(h,p,b,A,D,H,ue,Te,je){return h=Mg(b,A,!0,h,D,H,ue,Te,je),h.context=Eg(null),b=h.current,A=Fn(),D=Io(b),H=Zs(A,D),H.callback=p??null,Ys(b,H),h.current.lanes=D,yo(h,D,A),fs(h,A),h},t.createPortal=function(h,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:A==null?null:""+A,children:h,containerInfo:p,implementation:b}},t.createRoleSelector=function(h){return{$$typeof:su,value:h}},t.createTestNameSelector=function(h){return{$$typeof:La,value:h}},t.createTextSelector=function(h){return{$$typeof:lc,value:h}},t.deferredUpdates=function(h){var p=vn,b=qn.transition;try{return qn.transition=null,vn=16,h()}finally{vn=p,qn.transition=b}},t.discreteUpdates=function(h,p,b,A,D){var H=vn,ue=qn.transition;try{return qn.transition=null,vn=1,h(p,b,A,D)}finally{vn=H,qn.transition=ue,Sn===0&&uu()}},t.findAllNodes=Ia,t.findBoundingRects=function(h,p){if(!Me)throw Error(o(363));p=Ia(h,p),h=[];for(var b=0;b<p.length;b++)h.push(it(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var A=b.x,D=A+b.width,H=b.y,ue=H+b.height,Te=p-1;0<=Te;Te--)if(p!==Te){var je=h[Te],mt=je.x,Bt=mt+je.width,fn=je.y,tn=fn+je.height;if(A>=mt&&H>=fn&&D<=Bt&&ue<=tn){h.splice(p,1);break}else if(A!==mt||b.width!==je.width||tn<H||fn>ue){if(!(H!==fn||b.height!==je.height||Bt<A||mt>D)){mt>A&&(je.width+=mt-A,je.x=A),Bt<D&&(je.width=D-mt),h.splice(p,1);break}}else{fn>H&&(je.height+=fn-H,je.y=H),tn<ue&&(je.height=ue-fn),h.splice(p,1);break}}}return h},t.findHostInstance=Cg,t.findHostInstanceWithNoPortals=function(h){return h=Y(h),h=h!==null?se(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return Cg(h)},t.flushControlled=function(h){var p=Sn;Sn|=1;var b=qn.transition,A=vn;try{qn.transition=null,vn=1,h()}finally{vn=A,qn.transition=b,Sn=p,Sn===0&&(uu(),Br())}},t.flushPassiveEffects=Ko,t.flushSync=hc,t.focusWithin=function(h,p){if(!Me)throw Error(o(363));for(h=cd(h),p=Is(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++];if(!q(b)){if(b.tag===5&&Re(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return vn},t.getFindAllNodesFailureDescription=function(h,p){if(!Me)throw Error(o(363));var b=0,A=[];h=[cd(h),0];for(var D=0;D<h.length;){var H=h[D++],ue=h[D++],Te=p[ue];if((H.tag!==5||!q(H))&&(dd(H,Te)&&(A.push(ml(Te)),ue++,ue>b&&(b=ue)),ue<p.length))for(H=H.child;H!==null;)h.push(H,ue),H=H.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(ml(p[b]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return he(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Nh,findFiberByHostInstance:h.findFiberByHostInstance||Ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{pa=p.inject(h),Tr=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,b,A){if(!Me)throw Error(o(363));h=Ia(h,p);var D=He(h,b,A).disconnect;return{disconnect:function(){D()}}},t.registerMutableSourceForHydration=function(h,p){var b=p._getVersion;b=b(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,b]:h.mutableSourceEagerHydrationData.push(p,b)},t.runWithPriority=function(h,p){var b=vn;try{return vn=h,p()}finally{vn=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,b,A){var D=p.current,H=Fn(),ue=Io(D);return b=Eg(b),p.context===null?p.context=b:p.pendingContext=b,p=Zs(H,ue),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),Ys(D,p),h=kr(D,ue,H),h!==null&&Zu(h,D,ue),ue},t}),iw}var qE;function Mj(){return qE||(qE=1,ew.exports=Tj()),ew.exports}var Ej=Mj();const Cj=Zm(Ej);var rw={exports:{}},sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function Aj(){return $E||($E=1,function(n){function e(W,ie){var ee=W.length;W.push(ie);e:for(;0<ee;){var K=ee-1>>>1,oe=W[K];if(0<r(oe,ie))W[K]=ie,W[ee]=oe,ee=K;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ie=W[0],ee=W.pop();if(ee!==ie){W[0]=ee;e:for(var K=0,oe=W.length,we=oe>>>1;K<we;){var ce=2*(K+1)-1,me=W[ce],_e=ce+1,xe=W[_e];if(0>r(me,ee))_e<oe&&0>r(xe,me)?(W[K]=xe,W[_e]=ee,K=_e):(W[K]=me,W[ce]=ee,K=ce);else if(_e<oe&&0>r(xe,ee))W[K]=xe,W[_e]=ee,K=_e;else break e}}return ie}function r(W,ie){var ee=W.sortIndex-ie.sortIndex;return ee!==0?ee:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var d=[],f=[],m=1,v=null,_=3,x=!1,M=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var ie=t(f);ie!==null;){if(ie.callback===null)i(f);else if(ie.startTime<=W)i(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function O(W){if(C=!1,k(W),!M)if(t(d)!==null)M=!0,he(j);else{var ie=t(f);ie!==null&&de(O,ie.startTime-W)}}function j(W,ie){M=!1,C&&(C=!1,w(z),z=-1),x=!0;var ee=_;try{for(k(ie),v=t(d);v!==null&&(!(v.expirationTime>ie)||W&&!Y());){var K=v.callback;if(typeof K=="function"){v.callback=null,_=v.priorityLevel;var oe=K(v.expirationTime<=ie);ie=n.unstable_now(),typeof oe=="function"?v.callback=oe:v===t(d)&&i(d),k(ie)}else i(d);v=t(d)}if(v!==null)var we=!0;else{var ce=t(f);ce!==null&&de(O,ce.startTime-ie),we=!1}return we}finally{v=null,_=ee,x=!1}}var X=!1,Z=null,z=-1,U=5,N=-1;function Y(){return!(n.unstable_now()-N<U)}function Q(){if(Z!==null){var W=n.unstable_now();N=W;var ie=!0;try{ie=Z(!0,W)}finally{ie?ae():(X=!1,Z=null)}}else X=!1}var ae;if(typeof R=="function")ae=function(){R(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ge=se.port2;se.port1.onmessage=Q,ae=function(){ge.postMessage(null)}}else ae=function(){T(Q,0)};function he(W){Z=W,X||(X=!0,ae())}function de(W,ie){z=T(function(){W(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){M||x||(M=!0,he(j))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var ee=_;_=ie;try{return W()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=_;_=W;try{return ie()}finally{_=ee}},n.unstable_scheduleCallback=function(W,ie,ee){var K=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?K+ee:K):ee=K,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,W={id:m++,callback:ie,priorityLevel:W,startTime:ee,expirationTime:oe,sortIndex:-1},ee>K?(W.sortIndex=ee,e(f,W),t(d)===null&&W===t(f)&&(C?(w(z),z=-1):C=!0,de(O,ee-K))):(W.sortIndex=oe,e(d,W),M||x||(M=!0,he(j))),W},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(W){var ie=_;return function(){var ee=_;_=ie;try{return W.apply(this,arguments)}finally{_=ee}}}}(sw)),sw}var KE;function Pj(){return KE||(KE=1,rw.exports=Aj()),rw.exports}var JE=Pj();const WS={},Rj=n=>void Object.assign(WS,n);function Lj(n,e){function t(m,{args:v=[],attach:_,...x},M){let C=`${m[0].toUpperCase()}${m.slice(1)}`,T;if(m==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=x.object;T=cf(w,{type:m,root:M,attach:_,primitive:!0})}else{const w=WS[C];if(!w)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");T=cf(new w(...v),{type:m,root:M,attach:_,memoizedProps:{args:v}})}return T.__r3f.attach===void 0&&(T instanceof Tn?T.__r3f.attach="geometry":T instanceof ss&&(T.__r3f.attach="material")),C!=="inject"&&lw(T,x),T}function i(m,v){let _=!1;if(v){var x,M;(x=v.__r3f)!=null&&x.attach?aw(m,v,v.__r3f.attach):v.isObject3D&&m.isObject3D&&(m.add(v),_=!0),_||(M=m.__r3f)==null||M.objects.push(v),v.__r3f||cf(v,{}),v.__r3f.parent=m,c1(v),df(v)}}function r(m,v,_){let x=!1;if(v){var M,C;if((M=v.__r3f)!=null&&M.attach)aw(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){v.parent=m,v.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:v});const T=m.children.filter(R=>R!==v),w=T.indexOf(_);m.children=[...T.slice(0,w),v,...T.slice(w)],x=!0}x||(C=m.__r3f)==null||C.objects.push(v),v.__r3f||cf(v,{}),v.__r3f.parent=m,c1(v),df(v)}}function s(m,v,_=!1){m&&[...m].forEach(x=>o(v,x,_))}function o(m,v,_){if(v){var x,M,C;if(v.__r3f&&(v.__r3f.parent=null),(x=m.__r3f)!=null&&x.objects&&(m.__r3f.objects=m.__r3f.objects.filter(O=>O!==v)),(M=v.__r3f)!=null&&M.attach)iC(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){var T;m.remove(v),(T=v.__r3f)!=null&&T.root&&zj(cy(v),v)}const R=(C=v.__r3f)==null?void 0:C.primitive,k=!R&&(_===void 0?v.dispose!==null:_);if(!R){var w;s((w=v.__r3f)==null?void 0:w.objects,v,k),s(v.children,v,k)}if(delete v.__r3f,k&&v.dispose&&v.type!=="Scene"){const O=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?JE.unstable_scheduleCallback(JE.unstable_IdlePriority,O):O()}df(m)}}function l(m,v,_,x){var M;const C=(M=m.__r3f)==null?void 0:M.parent;if(!C)return;const T=t(v,_,m.__r3f.root);if(m.children){for(const w of m.children)w.__r3f&&i(T,w);m.children=m.children.filter(w=>!w.__r3f)}m.__r3f.objects.forEach(w=>i(T,w)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||o(C,m),T.parent&&(T.__r3f.autoRemovedBeforeAppend=!0),i(C,T),T.raycast&&T.__r3f.eventCount&&cy(T).getState().internal.interaction.push(T),[x,x.alternate].forEach(w=>{w!==null&&(w.stateNode=T,w.ref&&(typeof w.ref=="function"?w.ref(T):w.ref.current=T))})}const d=()=>{};return{reconciler:Cj({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,v)=>{if(!v)return;const _=m.getState().scene;_.__r3f&&(_.__r3f.root=m,i(_,v))},removeChildFromContainer:(m,v)=>{v&&o(m.getState().scene,v)},insertInContainerBefore:(m,v,_)=>{if(!v||!_)return;const x=m.getState().scene;x.__r3f&&r(x,v,_)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var v;return!!((v=m?.__r3f)!=null?v:{}).handlers},prepareUpdate(m,v,_,x){var M;if(((M=m?.__r3f)!=null?M:{}).primitive&&x.object&&x.object!==m)return[!0];{const{args:T=[],children:w,...R}=x,{args:k=[],children:O,...j}=_;if(!Array.isArray(T))throw new Error("R3F: the args prop must be an array!");if(T.some((Z,z)=>Z!==k[z]))return[!0];const X=sI(m,R,j,!0);return X.changes.length?[!1,X]:null}},commitUpdate(m,[v,_],x,M,C,T){v?l(m,x,C,T):lw(m,_)},commitMount(m,v,_,x){var M;const C=(M=m.__r3f)!=null?M:{};m.raycast&&C.handlers&&C.eventCount&&cy(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>cf(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var v;const{attach:_,parent:x}=(v=m.__r3f)!=null?v:{};_&&x&&iC(x,m,_),m.isObject3D&&(m.visible=!1),df(m)},unhideInstance(m,v){var _;const{attach:x,parent:M}=(_=m.__r3f)!=null?_:{};x&&M&&aw(M,m,x),(m.isObject3D&&v.visible==null||v.visible)&&(m.visible=!0),df(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e?e():gf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vi.fun(performance.now)?performance.now:vi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:lw}}var QE,eC;const ow=n=>"colorSpace"in n||"outputColorSpace"in n,QL=()=>{var n;return(n=WS.ColorManagement)!=null?n:null},eI=n=>n&&n.isOrthographicCamera,Ij=n=>n&&n.hasOwnProperty("current"),hg=typeof window<"u"&&((QE=window.document)!=null&&QE.createElement||((eC=window.navigator)==null?void 0:eC.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function tI(n){const e=G.useRef(n);return hg(()=>void(e.current=n),[n]),e}function kj({set:n}){return hg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class nI extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nI.getDerivedStateFromError=()=>({error:!0});const iI="__default",tC=new Map,Nj=n=>n&&!!n.memoized&&!!n.changes;function rI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const jp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function cy(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vi={obj:n=>n===Object(n)&&!vi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(vi.str(n)||vi.num(n)||vi.boo(n))return n===e;const s=vi.obj(n);if(s&&i==="reference")return n===e;const o=vi.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!vi.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(vi.und(l)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Oj(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function cf(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function u1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const nC=/-\d+$/;function aw(n,e,t){if(vi.str(t)){if(nC.test(t)){const s=t.replace(nC,""),{target:o,key:l}=u1(n,s);Array.isArray(o[l])||(o[l]=[])}const{target:i,key:r}=u1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function iC(n,e,t){var i,r;if(vi.str(t)){const{target:s,key:o}=u1(n,t),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function sI(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:l,...d}={},f=!1){const m=n.__r3f,v=Object.entries(r),_=[];if(f){const M=Object.keys(d);for(let C=0;C<M.length;C++)r.hasOwnProperty(M[C])||v.unshift([M[C],iI+"remove"])}v.forEach(([M,C])=>{var T;if((T=n.__r3f)!=null&&T.primitive&&M==="object"||vi.equ(C,d[M]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(M))return _.push([M,C,!0,[]]);let w=[];M.includes("-")&&(w=M.split("-")),_.push([M,C,!1,w]);for(const R in r){const k=r[R];R.startsWith(`${M}-`)&&_.push([R,k,!1,R.split("-")])}});const x={...r};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(x.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(x.attach=m.memoizedProps.attach),{memoized:x,changes:_}}function lw(n,e){var t;const i=n.__r3f,r=i?.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:l}=Nj(e)?e:sI(n,e),d=i?.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let m=0;m<l.length;m++){let[v,_,x,M]=l[m];if(ow(n)){const R="srgb",k="srgb-linear";v==="encoding"?(v="colorSpace",_=_===3001?R:k):v==="outputEncoding"&&(v="outputColorSpace",_=_===3001?R:k)}let C=n,T=C[v];if(M.length&&(T=M.reduce((w,R)=>w[R],n),!(T&&T.set))){const[w,...R]=M.reverse();C=R.reverse().reduce((k,O)=>k[O],n),v=w}if(_===iI+"remove")if(C.constructor){let w=tC.get(C.constructor);w||(w=new C.constructor,tC.set(C.constructor,w)),_=w[v]}else _=0;if(x&&i)_?i.handlers[v]=_:delete i.handlers[v],i.eventCount=Object.keys(i.handlers).length;else if(T&&T.set&&(T.copy||T instanceof Qd)){if(Array.isArray(_))T.fromArray?T.fromArray(_):T.set(..._);else if(T.copy&&_&&_.constructor&&T.constructor===_.constructor)T.copy(_);else if(_!==void 0){const w=T instanceof zt;!w&&T.setScalar?T.setScalar(_):T instanceof Qd&&_ instanceof Qd?T.mask=_.mask:T.set(_),!QL()&&s&&!s.linear&&w&&T.convertSRGBToLinear()}}else if(C[v]=_,C[v]instanceof Oi&&C[v].format===_s&&C[v].type===oa&&s){const w=C[v];ow(w)&&ow(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}df(n)}if(i&&i.parent&&n.raycast&&d!==i.eventCount){const m=cy(n).getState().internal,v=m.interaction.indexOf(n);v>-1&&m.interaction.splice(v,1),i.eventCount&&m.interaction.push(n)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(t=n.__r3f)!=null&&t.parent&&c1(n),n}function df(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function c1(n){n.onUpdate==null||n.onUpdate(n)}function Dj(n,e){n.manual||(eI(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function $v(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Fj(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return gf.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gf.ContinuousEventPriority;default:return gf.DefaultEventPriority}}function oI(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function zj(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{oI(t.capturedMap,e,i,r)})}function Uj(n){function e(d){const{internal:f}=n.getState(),m=d.offsetX-f.initialClick[0],v=d.offsetY-f.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function t(d){return d.filter(f=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=f.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(d,f){const m=n.getState(),v=new Set,_=[],x=f?f(m.internal.interaction):m.internal.interaction;for(let w=0;w<x.length;w++){const R=jp(x[w]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function M(w){const R=jp(w);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var k;R.events.compute==null||R.events.compute(d,R,(k=R.previousRoot)==null?void 0:k.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(w,!0):[]}let C=x.flatMap(M).sort((w,R)=>{const k=jp(w.object),O=jp(R.object);return!k||!O?w.distance-R.distance:O.events.priority-k.events.priority||w.distance-R.distance}).filter(w=>{const R=$v(w);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const w of C){let R=w.object;for(;R;){var T;(T=R.__r3f)!=null&&T.eventCount&&_.push({...w,eventObject:R}),R=R.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let w of m.internal.capturedMap.get(d.pointerId).values())v.has($v(w.intersection))||_.push(w.intersection);return _}function r(d,f,m,v){const _=n.getState();if(d.length){const x={stopped:!1};for(const M of d){const C=jp(M.object)||_,{raycaster:T,pointer:w,camera:R,internal:k}=C,O=new le(w.x,w.y,0).unproject(R),j=N=>{var Y,Q;return(Y=(Q=k.capturedMap.get(N))==null?void 0:Q.has(M.eventObject))!=null?Y:!1},X=N=>{const Y={intersection:M,target:f.target};k.capturedMap.has(N)?k.capturedMap.get(N).set(M.eventObject,Y):k.capturedMap.set(N,new Map([[M.eventObject,Y]])),f.target.setPointerCapture(N)},Z=N=>{const Y=k.capturedMap.get(N);Y&&oI(k.capturedMap,M.eventObject,Y,N)};let z={};for(let N in f){let Y=f[N];typeof Y!="function"&&(z[N]=Y)}let U={...M,...z,pointer:w,intersections:d,stopped:x.stopped,delta:m,unprojectedPoint:O,ray:T.ray,camera:R,stopPropagation(){const N="pointerId"in f&&k.capturedMap.get(f.pointerId);if((!N||N.has(M.eventObject))&&(U.stopped=x.stopped=!0,k.hovered.size&&Array.from(k.hovered.values()).find(Y=>Y.eventObject===M.eventObject))){const Y=d.slice(0,d.indexOf(M));s([...Y,M])}},target:{hasPointerCapture:j,setPointerCapture:X,releasePointerCapture:Z},currentTarget:{hasPointerCapture:j,setPointerCapture:X,releasePointerCapture:Z},nativeEvent:f};if(v(U),x.stopped===!0)break}}return d}function s(d){const{internal:f}=n.getState();for(const m of f.hovered.values())if(!d.length||!d.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const _=m.eventObject.__r3f,x=_?.handlers;if(f.hovered.delete($v(m)),_!=null&&_.eventCount){const M={...m,intersections:d};x.onPointerOut==null||x.onPointerOut(M),x.onPointerLeave==null||x.onPointerLeave(M)}}}function o(d,f){for(let m=0;m<f.length;m++){const v=f[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function l(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:m}=n.getState();"pointerId"in f&&m.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(f.pointerId)&&(m.capturedMap.delete(f.pointerId),s([]))})}}return function(m){const{onPointerMissed:v,internal:_}=n.getState();_.lastEvent.current=m;const x=d==="onPointerMove",M=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",T=i(m,x?t:void 0),w=M?e(m):0;d==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=T.map(k=>k.eventObject)),M&&!T.length&&w<=2&&(o(m,_.interaction),v&&v(m)),x&&s(T);function R(k){const O=k.eventObject,j=O.__r3f,X=j?.handlers;if(j!=null&&j.eventCount)if(x){if(X.onPointerOver||X.onPointerEnter||X.onPointerOut||X.onPointerLeave){const Z=$v(k),z=_.hovered.get(Z);z?z.stopped&&k.stopPropagation():(_.hovered.set(Z,k),X.onPointerOver==null||X.onPointerOver(k),X.onPointerEnter==null||X.onPointerEnter(k))}X.onPointerMove==null||X.onPointerMove(k)}else{const Z=X[d];Z?(!M||_.initialHits.includes(O))&&(o(m,_.interaction.filter(z=>!_.initialHits.includes(z))),Z(k)):M&&_.initialHits.includes(O)&&o(m,_.interaction.filter(z=>!_.initialHits.includes(z)))}}r(T,m,w,R)}}return{handlePointer:l}}const aI=n=>!!(n!=null&&n.render),lI=G.createContext(null),Bj=(n,e)=>{const t=wj((l,d)=>{const f=new le,m=new le,v=new le;function _(w=d().camera,R=m,k=d().size){const{width:O,height:j,top:X,left:Z}=k,z=O/j;R instanceof le?v.copy(R):v.set(...R);const U=w.getWorldPosition(f).distanceTo(v);if(eI(w))return{width:O/w.zoom,height:j/w.zoom,top:X,left:Z,factor:1,distance:U,aspect:z};{const N=w.fov*Math.PI/180,Y=2*Math.tan(N/2)*U,Q=Y*(O/j);return{width:Q,height:Y,top:X,left:Z,factor:O/Q,distance:U,aspect:z}}}let x;const M=w=>l(R=>({performance:{...R.performance,current:w}})),C=new tt;return{set:l,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(d(),w),advance:(w,R)=>e(w,R,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zS,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=d();x&&clearTimeout(x),w.performance.current!==w.performance.min&&M(w.performance.min),x=setTimeout(()=>M(d().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:w=>l(R=>({...R,events:{...R.events,...w}})),setSize:(w,R,k,O,j)=>{const X=d().camera,Z={width:w,height:R,top:O||0,left:j||0,updateStyle:k};l(z=>({size:Z,viewport:{...z.viewport,..._(X,m,Z)}}))},setDpr:w=>l(R=>{const k=rI(w);return{viewport:{...R.viewport,dpr:k,initialDpr:R.viewport.initialDpr||k}}}),setFrameloop:(w="always")=>{const R=d().clock;R.stop(),R.elapsedTime=0,w!=="never"&&(R.start(),R.elapsedTime=0),l(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,R,k)=>{const O=d().internal;return O.priority=O.priority+(R>0?1:0),O.subscribers.push({ref:w,priority:R,store:k}),O.subscribers=O.subscribers.sort((j,X)=>j.priority-X.priority),()=>{const j=d().internal;j!=null&&j.subscribers&&(j.priority=j.priority-(R>0?1:0),j.subscribers=j.subscribers.filter(X=>X.ref!==w))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:l,size:d,viewport:f,gl:m,set:v}=t.getState();if(d.width!==r.width||d.height!==r.height||f.dpr!==s){var _;r=d,s=f.dpr,Dj(l,d),m.setPixelRatio(f.dpr);const x=(_=d.updateStyle)!=null?_:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,x)}l!==o&&(o=l,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};let Kv,Vj=new Set,Hj=new Set,jj=new Set;function uw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Wp(n,e){switch(n){case"before":return uw(Vj,e);case"after":return uw(Hj,e);case"tail":return uw(jj,e)}}let cw,dw;function hw(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),cw=e.internal.subscribers,Kv=0;Kv<cw.length;Kv++)dw=cw[Kv],dw.ref.current(dw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Wj(n){let e=!1,t=!1,i,r,s;function o(f){r=requestAnimationFrame(o),e=!0,i=0,Wp("before",f),t=!0;for(const v of n.values()){var m;s=v.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((m=s.gl.xr)!=null&&m.isPresenting)&&(i+=hw(f,s))}if(t=!1,Wp("after",f),i===0)return Wp("tail",f),e=!1,cancelAnimationFrame(r)}function l(f,m=1){var v;if(!f)return n.forEach(_=>l(_.store.getState(),m));(v=f.gl.xr)!=null&&v.isPresenting||!f.internal.active||f.frameloop==="never"||(m>1?f.internal.frames=Math.min(60,f.internal.frames+m):t?f.internal.frames=2:f.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function d(f,m=!0,v,_){if(m&&Wp("before",f),v)hw(f,v,_);else for(const x of n.values())hw(f,x.store.getState());m&&Wp("after",f)}return{loop:o,invalidate:l,advance:d}}function uI(){const n=G.useContext(lI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Gj(n=t=>t,e){return uI()(n,e)}function Xj(n,e=0){const t=uI(),i=t.getState().internal.subscribe,r=tI(n);return hg(()=>i(r,e,t),[e,i,t]),null}const Ff=new Map,{invalidate:rC,advance:sC}=Wj(Ff),{reconciler:d0,applyProps:lf}=Lj(Ff,Fj),uf={objects:"shallow",strict:!1},Zj=(n,e)=>{const t=typeof n=="function"?n(e):n;return aI(t)?t:new JL({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Yj(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:l=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function qj(n){const e=Ff.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Bj(rC,sC),o=t||d0.createContainer(s,gf.ConcurrentRoot,null,!1,null,"",r,null);e||Ff.set(n,{fiber:o,store:s});let l,d=!1,f;return{configure(m={}){let{gl:v,size:_,scene:x,events:M,onCreated:C,shadows:T=!1,linear:w=!1,flat:R=!1,legacy:k=!1,orthographic:O=!1,frameloop:j="always",dpr:X=[1,2],performance:Z,raycaster:z,camera:U,onPointerMissed:N}=m,Y=s.getState(),Q=Y.gl;Y.gl||Y.set({gl:Q=Zj(v,n)});let ae=Y.raycaster;ae||Y.set({raycaster:ae=new WL});const{params:se,...ge}=z||{};if(vi.equ(ge,ae,uf)||lf(ae,{...ge}),vi.equ(se,ae.params,uf)||lf(ae,{params:{...ae.params,...se}}),!Y.camera||Y.camera===f&&!vi.equ(f,U,uf)){f=U;const ee=U instanceof ig,K=ee?U:O?new dg(0,0,0,0,.1,1e3):new Fr(75,0,.1,1e3);ee||(K.position.z=5,U&&(lf(K,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(K.manual=!0,K.updateProjectionMatrix())),!Y.camera&&!(U!=null&&U.rotation)&&K.lookAt(0,0,0)),Y.set({camera:K}),ae.camera=K}if(!Y.scene){let ee;x instanceof o0?ee=x:(ee=new o0,x&&lf(ee,x)),Y.set({scene:cf(ee)})}if(!Y.xr){var he;const ee=(we,ce)=>{const me=s.getState();me.frameloop!=="never"&&sC(we,!0,me,ce)},K=()=>{const we=s.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?ee:null),we.gl.xr.isPresenting||rC(we)},oe={connect(){const we=s.getState().gl;we.xr.addEventListener("sessionstart",K),we.xr.addEventListener("sessionend",K)},disconnect(){const we=s.getState().gl;we.xr.removeEventListener("sessionstart",K),we.xr.removeEventListener("sessionend",K)}};typeof((he=Q.xr)==null?void 0:he.addEventListener)=="function"&&oe.connect(),Y.set({xr:oe})}if(Q.shadowMap){const ee=Q.shadowMap.enabled,K=Q.shadowMap.type;if(Q.shadowMap.enabled=!!T,vi.boo(T))Q.shadowMap.type=tm;else if(vi.str(T)){var de;const oe={basic:QR,percentage:k0,soft:tm,variance:Za};Q.shadowMap.type=(de=oe[T])!=null?de:tm}else vi.obj(T)&&Object.assign(Q.shadowMap,T);(ee!==Q.shadowMap.enabled||K!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}const W=QL();W&&("enabled"in W?W.enabled=!k:"legacyMode"in W&&(W.legacyMode=k)),d||lf(Q,{outputEncoding:w?3e3:3001,toneMapping:R?Cl:rS}),Y.legacy!==k&&Y.set(()=>({legacy:k})),Y.linear!==w&&Y.set(()=>({linear:w})),Y.flat!==R&&Y.set(()=>({flat:R})),v&&!vi.fun(v)&&!aI(v)&&!vi.equ(v,Q,uf)&&lf(Q,v),M&&!Y.events.handlers&&Y.set({events:M(s)});const ie=Yj(n,_);return vi.equ(ie,Y.size,uf)||Y.setSize(ie.width,ie.height,ie.updateStyle,ie.top,ie.left),X&&Y.viewport.dpr!==rI(X)&&Y.setDpr(X),Y.frameloop!==j&&Y.setFrameloop(j),Y.onPointerMissed||Y.set({onPointerMissed:N}),Z&&!vi.equ(Z,Y.performance,uf)&&Y.set(ee=>({performance:{...ee.performance,...Z}})),l=C,d=!0,this},render(m){return d||this.configure(),d0.updateContainer(V.jsx($j,{store:s,children:m,onCreated:l,rootElement:n}),o,null,()=>{}),s},unmount(){cI(n)}}}function $j({store:n,children:e,onCreated:t,rootElement:i}){return hg(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),V.jsx(lI.Provider,{value:n,children:e})}function cI(n,e){const t=Ff.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),d0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,l,d;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(d=r.gl)!=null&&d.xr&&r.xr.disconnect(),Oj(r),Ff.delete(n)}catch{}},500)})}}d0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});const fw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Kj(n){const{handlePointer:e}=Uj(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(fw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,l])=>{const[d,f]=fw[o];t.addEventListener(d,l,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[l]=fw[s];i.connected.removeEventListener(l,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}var pw,oC;function Jj(){if(oC)return pw;oC=1;function n(e,t,i){var r,s,o,l,d;t==null&&(t=100);function f(){var v=Date.now()-l;v<t&&v>=0?r=setTimeout(f,t-v):(r=null,i||(d=e.apply(o,s),o=s=null))}var m=function(){o=this,s=arguments,l=Date.now();var v=i&&!r;return r||(r=setTimeout(f,t)),v&&(d=e.apply(o,s),o=s=null),d};return m.clear=function(){r&&(clearTimeout(r),r=null)},m.flush=function(){r&&(d=e.apply(o,s),o=s=null,clearTimeout(r),r=null)},m}return n.debounce=n,pw=n,pw}var Qj=Jj();const aC=Zm(Qj);var eW=Object.defineProperty,tW=Object.defineProperties,nW=Object.getOwnPropertyDescriptors,lC=Object.getOwnPropertySymbols,iW=Object.prototype.hasOwnProperty,rW=Object.prototype.propertyIsEnumerable,uC=(n,e,t)=>e in n?eW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cC=(n,e)=>{for(var t in e||(e={}))iW.call(e,t)&&uC(n,t,e[t]);if(lC)for(var t of lC(e))rW.call(e,t)&&uC(n,t,e[t]);return n},sW=(n,e)=>tW(n,nW(e)),dC,hC;typeof window<"u"&&((dC=window.document)!=null&&dC.createElement||((hC=window.navigator)==null?void 0:hC.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function dI(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=dI(i,e,t);if(r)return r;i=i.sibling}}function hI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const fC=console.error;console.error=function(){const n=[...arguments].join("");if(n?.startsWith("Warning:")&&n.includes("useContext")){console.error=fC;return}return fC.apply(this,arguments)};const GS=hI(G.createContext(null));class fI extends G.Component{render(){return G.createElement(GS.Provider,{value:this._reactInternals},this.props.children)}}function oW(){const n=G.useContext(GS);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const i of[n,n?.alternate]){if(!i)continue;const r=dI(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function aW(){const n=oW(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==GS&&!e.has(r)&&e.set(r,G.useContext(hI(r)))}t=t.return}return e}function lW(){const n=aW();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,sW(cC({},i),{value:n.get(t)}))),e=>G.createElement(fI,cC({},e))),[n])}function uW({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||typeof window<"u"&&window.ResizeObserver,[s,o]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const l=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),d=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,m=G.useRef(!1);G.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,_,x]=G.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:R,top:k,width:O,height:j,bottom:X,right:Z,x:z,y:U}=l.current.element.getBoundingClientRect(),N={left:R,top:k,width:O,height:j,bottom:X,right:Z,x:z,y:U};l.current.element instanceof HTMLElement&&i&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),m.current&&!fW(l.current.lastBounds,N)&&o(l.current.lastBounds=N)};return[w,f?aC(w,f):w,d?aC(w,d):w]},[o,i,d,f]);function M(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function C(){var w;l.current.element&&(l.current.resizeObserver=new r(_),(w=l.current.resizeObserver)==null||w.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(R=>R.addEventListener("scroll",x,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const T=w=>{!w||w===l.current.element||(M(),l.current.element=w,l.current.scrollContainers=pI(w),C())};return dW(x,!!e),cW(_),G.useEffect(()=>{M(),C()},[e,x,_]),G.useEffect(()=>M,[]),[T,s,v]}function cW(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function dW(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function pI(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...pI(n.parentElement)]}const hW=["x","y","top","bottom","left","right","width","height"],fW=(n,e)=>hW.every(t=>n[t]===e[t]),pW=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=Kj,eventSource:l,eventPrefix:d,shadows:f,linear:m,flat:v,legacy:_,orthographic:x,frameloop:M,dpr:C,performance:T,raycaster:w,camera:R,scene:k,onPointerMissed:O,onCreated:j,...X},Z){G.useMemo(()=>Rj(gj),[]);const z=lW(),[U,N]=uW({scroll:!0,debounce:{scroll:50,resize:0},...i}),Y=G.useRef(null),Q=G.useRef(null);G.useImperativeHandle(Z,()=>Y.current);const ae=tI(O),[se,ge]=G.useState(!1),[he,de]=G.useState(!1);if(se)throw se;if(he)throw he;const W=G.useRef(null);hg(()=>{const ee=Y.current;N.width>0&&N.height>0&&ee&&(W.current||(W.current=qj(ee)),W.current.configure({gl:s,events:o,shadows:f,linear:m,flat:v,legacy:_,orthographic:x,frameloop:M,dpr:C,performance:T,raycaster:w,camera:R,scene:k,size:N,onPointerMissed:(...K)=>ae.current==null?void 0:ae.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(l?Ij(l)?l.current:l:Q.current),d&&K.setEvents({compute:(oe,we)=>{const ce=oe[d+"X"],me=oe[d+"Y"];we.pointer.set(ce/we.size.width*2-1,-(me/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),j?.(K)}}),W.current.render(V.jsx(z,{children:V.jsx(nI,{set:de,children:V.jsx(G.Suspense,{fallback:V.jsx(kj,{set:ge}),children:e})})})))}),G.useEffect(()=>{const ee=Y.current;if(ee)return()=>cI(ee)},[]);const ie=l?"none":"auto";return V.jsx("div",{ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ie,...r},...X,children:V.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:V.jsx("canvas",{ref:Y,style:{display:"block"},children:t})})})}),mW=G.forwardRef(function(e,t){return V.jsx(fI,{children:V.jsx(pW,{...e,ref:t})})}),gW=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,vW=`
  uniform sampler2D from;
  uniform sampler2D to;
  uniform float progress;
  uniform float dots;
  uniform vec2 center;
  varying vec2 vUv;

  float easeInOut(float t) {
    return t < 0.5 ? 2.0 * t * t : -1.0 + (4.0 - 2.0 * t) * t;
  }

  void main() {
    vec2 fracUv = fract(vUv * dots);
    float distToCenter = max(distance(vUv, center), 0.001);
    float threshold = easeInOut(progress) / distToCenter;
    bool showTo = distance(fracUv, vec2(0.5)) < threshold;

    vec4 fromColor = texture2D(from, vUv);
    vec4 toColor = texture2D(to, vUv);
    gl_FragColor = mix(fromColor, toColor, float(showTo));
  }
`;function yW({fromTexture:n,toTexture:e,progress:t,dots:i=20,center:r=[.5,.5]}){const s=G.useRef(null),{size:o}=Gj();G.useEffect(()=>{s.current&&(s.current.uniforms.progress.value=t)},[t]);const l=G.useMemo(()=>new aa({uniforms:{from:{value:n},to:{value:e},progress:{value:0},dots:{value:i},center:{value:new tt(...r)}},vertexShader:gW,fragmentShader:vW}),[n,e,i,r]),d=n.image?[n.image.width,n.image.height]:[1,1],f=d[0]/d[1],m=o.width/o.height;let v=1,_=1;return f>m?v=m/f:_=f/m,V.jsxs("mesh",{scale:[v,_,1],children:[V.jsx("planeGeometry",{args:[o.width,o.height]}),V.jsx("primitive",{object:l,ref:s,attach:"material"})]})}function _W({setProgress:n,setIndex:e,setTransitioning:t,transitioning:i,progressRef:r,textures:s}){return Xj((o,l)=>{i&&(r.current=Math.min(r.current+l*.5,1),n(r.current),r.current>=1&&(r.current=0,n(0),e(d=>(d+1)%s.length),t(!1)))}),null}function xW({images:n}){const[e,t]=G.useState(0),[i,r]=G.useState(0),[s,o]=G.useState(!1),l=G.useRef(0),d=G.useMemo(()=>n.map(v=>{const _=new PL().load(v);return _.minFilter=ar,_.generateMipmaps=!1,_}),[n]),f=d[e],m=d[(e+1)%d.length];return G.useEffect(()=>{const v=setInterval(()=>{o(!0)},5e3);return()=>clearInterval(v)},[]),V.jsxs(mW,{orthographic:!0,camera:{position:[0,0,1],zoom:1},style:{width:"100%",height:"100%"},children:[V.jsx(yW,{fromTexture:f,toTexture:m,progress:i}),V.jsx(_W,{setProgress:r,setIndex:t,setTransitioning:o,transitioning:s,progressRef:l,textures:d})]})}const wW=JSON.parse('["https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489840759_1140867198053296_2636895665399219272_n.jpg?updatedAt=1752659856703","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489787440_1140196588120357_7010091196730892027_n.jpg?updatedAt=1752659857743","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489701616_1140772911396058_5364891838829840335_n.jpg?updatedAt=1752659858810","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489678438_1140772831396066_175065862349648886_n.jpg?updatedAt=1752659860254","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489455967_1140772931396056_5267534977870129189_n.jpg?updatedAt=1752659861209","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489425497_1140772821396067_4556205305487317419_n.jpg?updatedAt=1752659862603","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489397220_1140772961396053_9200821539151438502_n.jpg?updatedAt=1752659863658","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489351342_1140194104787272_5088433045210765321_n.jpg?updatedAt=1752659864640","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489346295_1140772824729400_2197042989895419858_n.jpg?updatedAt=1752659866384","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489032135_1140193754787307_1738452837443478151_n.jpg?updatedAt=1752659867605","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/489328486_1137798775026805_1060108879425538631_n.jpg?updatedAt=1752659869330","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488989637_1137879931685356_8734446832133588686_n.jpg?updatedAt=1752659870438","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488972977_1140772958062720_8716080507192901070_n.jpg?updatedAt=1752659871317","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488965471_1136884238451592_2063938248287466001_n.jpg?updatedAt=1752659872201","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488967265_1137894285017254_6598022070402150483_n.jpg?updatedAt=1752659873637","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488962372_1140772784729404_2713264589192159190_n.jpg?updatedAt=1752659874910","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488935439_1140194078120608_5349418961277884438_n.jpg?updatedAt=1752659876120","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488942737_1136860531787296_5567868118214660104_n.jpg?updatedAt=1752659877253","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488927328_1136994731773876_180728548841436629_n.jpg?updatedAt=1752659878482","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488911547_1136989841774365_7403549926715712414_n.jpg?updatedAt=1752659880707","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488909238_1136994721773877_2768019423059502686_n.jpg?updatedAt=1752659881654","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488906212_1140194168120599_2654407187109904669_n.jpg?updatedAt=1752659882607","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488905630_1137217151751634_6122060616522251877_n.jpg?updatedAt=1752659884031","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488884592_1136994615107221_7385175157801959248_n.jpg?updatedAt=1752659884982","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488872823_1136266478513368_4974044542787164585_n.jpg?updatedAt=1752659886453","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488836445_1136989891774360_7829874030031460807_n.jpg?updatedAt=1752659887388","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488870634_1137004488439567_8220692838941324723_n.jpg?updatedAt=1752659888300","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488869325_1136994551773894_8732710883822573459_n.jpg?updatedAt=1752659889231","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488798880_1137209538419062_6282373647650473808_n.jpg?updatedAt=1752659890694","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488717743_1136994581773891_3123459318237999717_n.jpg?updatedAt=1752659891632","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488711867_1137880125018670_72664586640187272_n.jpg?updatedAt=1752659892601","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488661507_1137216971751652_4632613359843148109_n.jpg?updatedAt=1752659893549","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488656956_1137894471683902_582144524574728675_n.jpg?updatedAt=1752659894535","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488657701_1137880181685331_8214420436558099559_n.jpg?updatedAt=1752659895430","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658173_1137880258351990_6313657547201285596_n.jpg?updatedAt=1752659896364","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488660081_1137867621686587_2460497577100897348_n.jpg?updatedAt=1752659897330","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658401_1136997021773647_8816929429148840977_n.jpg?updatedAt=1752659898805","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488658075_1137894228350593_1533430297928601625_n.jpg?updatedAt=1752659899791","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488654652_1137894338350582_6176369205095080097_n.jpg?updatedAt=1752659900858","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488655035_1137870185019664_5620335352759655481_n.jpg?updatedAt=1752659901897","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488651980_1137816588358357_4773639599095859380_n.jpg?updatedAt=1752659903224","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488648534_1137879865018696_6179070931886173249_n.jpg?updatedAt=1752659904279","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488646897_1136860741787275_6278813297121797077_n.jpg?updatedAt=1752659905932","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488647344_1136871465119536_5184495558261981075_n.jpg?updatedAt=1752659907357","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488647300_1137894128350603_49984522825154735_n.jpg?updatedAt=1752659908326","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488646450_1135992355207447_2351754069227593855_n.jpg?updatedAt=1752659909399","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488644743_1136860498453966_1599561277865518374_n.jpg?updatedAt=1752659910609","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488644740_1136249345181748_9157762513185672394_n.jpg?updatedAt=1752659911496","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642546_1137894265017256_15933684607762603_n.jpg?updatedAt=1752659912431","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642148_1136989808441035_6286781595230130999_n.jpg?updatedAt=1752659914069","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488642535_1136876798452336_2095171863678921651_n.jpg?updatedAt=1752659915507","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488641924_1137879965018686_4182330070145635378_n.jpg?updatedAt=1752659916758","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488641591_1136860711787278_4710840509435004171_n.jpg?updatedAt=1752659919146","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488639613_1136249371848412_2210818291921768420_n.jpg?updatedAt=1752659920078","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488619514_1136860638453952_4588988284558947143_n.jpg?updatedAt=1752659921047","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488618223_1137819528358063_2181875195658012969_n.jpg?updatedAt=1752659921998","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488617939_1137804975026185_152905665085931328_n.jpg?updatedAt=1752659923030","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488616253_1137800185026664_7364466291464118225_n.jpg?updatedAt=1752659924486","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488614438_1136252715181411_8163875929884506419_n.jpg?updatedAt=1752659926199","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488600967_1136268718513144_2947544783579831713_n.jpg?updatedAt=1752659927126","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488600933_1136018711871478_7305870865722683790_n.jpg?updatedAt=1752659928115","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488599338_1136859361787413_3959177547560663122_n.jpg?updatedAt=1752659929444","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488587467_1136133378526678_256845849054700065_n.jpg?updatedAt=1752659931026","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488581329_1137894041683945_5698136003414752767_n.jpg?updatedAt=1752659932069","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488573877_1137880195018663_1273180770311965372_n.jpg?updatedAt=1752659933243","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488572755_1136117838528232_4869676817020012288_n.jpg?updatedAt=1752659935212","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488547959_1136269965179686_5124004724368867608_n.jpg?updatedAt=1752659936275","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488522005_1136249408515075_5975727314006764211_n.jpg?updatedAt=1752659937700","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488553012_1137003198439696_1265796583876488971_n.jpg?updatedAt=1752659938677","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488528973_1136127488527267_6271226668368527092_n.jpg?updatedAt=1752659939689","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488526057_1136860461787303_1645433265110266749_n.jpg?updatedAt=1752659940617","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488503658_1136265838513432_475836059960177922_n.jpg?updatedAt=1752659941606","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488501932_1136007405205942_4139026403730995201_n.jpg?updatedAt=1752659942548","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488493029_1136124685194214_608405826769618896_n.jpg?updatedAt=1752659943470","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488438659_1136252801848069_4884826713727246990_n.jpg?updatedAt=1752659944964","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488422002_1136871678452848_7781268169377220870_n.jpg?updatedAt=1752659945900","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488419745_1136994575107225_7509400979547920074_n.jpg?updatedAt=1752659946893","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488406315_1136250201848329_2537831481415171592_n.jpg?updatedAt=1752659947916","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488368338_1136249458515070_7528489575411620994_n.jpg?updatedAt=1752659949014","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488402601_1136141991859150_7933381268868043256_n.jpg?updatedAt=1752659950759","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488360289_1135999841873365_1307292445242060868_n.jpg?updatedAt=1752659951900","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488269633_1136994755107207_1661579505461260148_n.jpg?updatedAt=1752659954918","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488258973_1136116558528360_4064529387658573824_n.jpg?updatedAt=1752659955933","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488258064_1136136128526403_4398712927542726460_n.jpg?updatedAt=1752659956901","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488256258_1136142065192476_8167168541559807968_n.jpg?updatedAt=1752659958727","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488255640_1136877695118913_9118085291001689085_n.jpg?updatedAt=1752659959949","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488257076_1136141261859223_1303594626132569260_n.jpg?updatedAt=1752659961087","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488180009_1137109565095726_5050655121849058433_n.jpg?updatedAt=1752659962552","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488076324_1136266031846746_9072853553058781942_n.jpg?updatedAt=1752659963564","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488026368_1137109861762363_8754370329013683693_n.jpg?updatedAt=1752659965036","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487973097_1136142071859142_8070338266980720333_n.jpg?updatedAt=1752659966080","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/488011965_1136007121872637_5318861833135532505_n.jpg?updatedAt=1752659967017","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487820308_1135992241874125_5772299821441920911_n.jpg?updatedAt=1752659968170","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487925763_1136249361848413_6096192759399569380_n.jpg?updatedAt=1752659969478","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487879421_1136263195180363_3893077977795035136_n.jpg?updatedAt=1752659970497","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487834440_1136142035192479_6686737751791294387_n.jpg?updatedAt=1752659972101","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487826376_1135991878540828_3008314879484452268_n.jpg?updatedAt=1752659973532","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487734026_1136007461872603_1601532410394089384_n.jpg?updatedAt=1752659974594","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487513001_1136266128513403_3574485397750402846_n.jpg?updatedAt=1752659976030","https://ik.imagekit.io/yt1tgrjzh/TORRESPESTCONTROL/ads/487512620_1136249461848403_5970565940852287489_n.jpg?updatedAt=1752659977590"]'),SW=()=>V.jsx("div",{id:"her-img-gall",className:"relative aspect-square w-full mx-auto rounded-lg overflow-hidden shadow-2xl",children:V.jsx("div",{className:"absolute inset-0",children:V.jsx(xW,{images:wW})})}),bW="/assets/tpc_hero_1-Vcm5D1Jl.png",TW="live",MW=!1,EW=()=>{const n=document.getElementById("contact");n&&(n.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const e=n.querySelector("input[placeholder='Your Name']");e&&e.focus()},600))},CW=({respectTheme:n=MW})=>{const e=n?"":"dark";return V.jsxs("section",{id:"hero-section",className:`${e} relative w-full bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 py-32 md:pt-48 overflow-hidden`,children:[V.jsx("div",{id:"hero-bg-overlay",className:"absolute inset-0 bg-black/20 dark:bg-black/50",style:{backgroundImage:`url(${bW})`,backgroundSize:"cover",backgroundPosition:"center",filter:"sepia(.5) brightness(0.6) saturate(0.8) contrast(0.6)"}}),V.jsx("div",{className:"relative z-10 w-full px-4 md:px-12 lg:px-64",children:V.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[V.jsxs("div",{className:"text-center lg:text-left",children:[V.jsx("div",{className:"flex justify-center lg:justify-start mb-6",children:V.jsx(em,{className:"h-16 w-16 text-green-600 dark:text-green-400"})}),V.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:["Your family deserves peace. ",V.jsx("i",{children:"Not pests."})]}),V.jsx("p",{className:"text-lg lg:text-xl text-gray-700 dark:text-gray-300 mb-8",children:"Professional pest control services with 14-15 years of experience. Eco-friendly solutions that keep your family and environment safe."}),V.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",children:[V.jsxs(Mu,{size:"lg",className:"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white px-8 py-4 text-lg",onClick:()=>window.location.href="tel:+639171391908",children:[V.jsx(Nw,{className:"mr-2 h-5 w-5"}),"Call +63 917 139 1908"]}),V.jsx(Mu,{onClick:EW,size:"lg",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50 dark:border-green-400 dark:text-green-400 dark:hover:bg-gray-800 px-8 py-4 text-lg",children:"Get Free Inspection"})]}),V.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(Y_,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Free Quotation"]}),V.jsxs("div",{className:"flex items-center",children:[V.jsx(Y_,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Eco-Friendly Methods"]}),V.jsxs("div",{className:"flex items-center",children:[V.jsx(Y_,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),"Trained Professionals"]})]})]}),V.jsx("div",{id:"ads-player",className:"flex justify-center drop-shadow-[0_10px_10px_rgba(0,0,0,0.8)]",children:V.jsx(SW,{})})]})})]})},XS=G.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:dr("rounded-lg border border-border/40 bg-background shadow-sm",n),...e}));XS.displayName="Card";const mI=G.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:dr("flex flex-col space-y-1.5 p-6",n),...e}));mI.displayName="CardHeader";const gI=G.forwardRef(({className:n,...e},t)=>V.jsx("h3",{ref:t,className:dr("text-2xl font-semibold leading-none tracking-tight text-foreground",n),...e}));gI.displayName="CardTitle";const AW=G.forwardRef(({className:n,...e},t)=>V.jsx("p",{ref:t,className:dr("text-sm text-muted-foreground",n),...e}));AW.displayName="CardDescription";const ZS=G.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:dr("p-6 pt-0",n),...e}));ZS.displayName="CardContent";const PW=G.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:dr("flex items-center p-6 pt-0",n),...e}));PW.displayName="CardFooter";const RW=({icon:n,title:e,description:t,imageSrc:i})=>V.jsxs(XS,{className:"h-full flex flex-col justify-between hover:shadow-lg transition-shadow border-2 hover:border-green-200 dark:hover:border-green-600 dark:bg-gray-800",children:[V.jsxs(mI,{className:"text-center",children:[i&&V.jsx("img",{src:i,alt:e,className:"w-full h-40 object-cover rounded-t-md mb-4"}),V.jsx("div",{className:"flex justify-center mb-4",children:n}),V.jsx(gI,{className:"text-xl dark:text-white",children:e})]}),V.jsx(ZS,{children:V.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:t})})]}),LW=({title:n,services:e})=>V.jsxs("section",{className:"mb-16",children:[V.jsx("h3",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-6",children:n}),V.jsx("div",{className:`grid gap-8 ${e.length>=3?"md:grid-cols-2 lg:grid-cols-3":"grid-cols-1 sm:grid-cols-2"}`,children:e.map((t,i)=>V.jsx(RW,{icon:t.icon,title:t.title,description:t.description,imageSrc:t.imageSrc},i))})]}),IW=()=>{const n=[{title:" General Pest & Vermin Control",services:[{icon:V.jsx(YN,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),title:"General Pest Control",description:"Safe, effective elimination of common pests and vermin.",imageSrc:"/images/services/tpc_srvc_0.png"},{icon:V.jsx(iO,{className:"h-8 w-8 text-gray-700 dark:text-gray-400"}),title:"Rodent Removal",description:"Strategic removal of rats and mice to reduce health and fire hazards.",imageSrc:"/images/services/tpc_srvc_3.jpg"},{icon:V.jsx(TT,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}),title:"Fogging & Misting",description:"Targeted mosquito and airborne insect control.",imageSrc:"/images/services/tpc_srvc_2.png"},{icon:V.jsx(CT,{className:"h-8 w-8 text-pink-600 dark:text-pink-400"}),title:"Fumigation Services",description:"Full-structure vermin removal using controlled treatments.",imageSrc:"/images/services/tpc_srvc_4.png"},{icon:V.jsx(eO,{className:"h-8 w-8 text-green-600 dark:text-yellow-400"}),title:"Insect Light Trap Installation",description:"Effective indoor insect control using UV light traps.",imageSrc:"/images/services/tpc_srvc_25.jpg"}]},{title:" Termite Defense & Prevention",services:[{icon:V.jsx(em,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),title:"Termite Control",description:"Protect your property from structural damage with specialized treatments.",imageSrc:"/images/services/tpc_srvc_5.png"},{icon:V.jsx(bT,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),title:"Soil Treatment",description:"Shields your foundation from termite threats before they even start.",imageSrc:"/images/services/tpc_srvc_6.jpg"},{icon:V.jsx(KN,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"}),title:"Termite Inspections & Proofing",description:"Comprehensive inspections and preventive maintenance programs.",imageSrc:"/images/services/tpc_srvc_8.jpg"},{icon:V.jsx(ZN,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),title:"Mound Demolition",description:"Targeted destruction of termite mounds to prevent infestations.",imageSrc:"/images/services/tpc_srvc_27.jpg"}]},{title:" Specialized Termite Systems",services:[{icon:V.jsx(q_,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"}),title:"Exterra Termite Baiting System",description:"Advanced termite baiting solution for long-term protection.",imageSrc:"/images/services/tpc_srvc_9.jpg"},{icon:V.jsx(q_,{className:"h-8 w-8 text-yellow-500 dark:text-yellow-300"}),title:"Extermix Termite Baiting System",description:"Alternative baiting strategy for diverse termite colonies.",imageSrc:"/images/services/tpc_srvc_10.jpg"},{icon:V.jsx(bT,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"}),title:"Drilling Services",description:"Precision drilling for bait placement and termite-proofing access.",imageSrc:"/images/services/tpc_srvc_11.jpg"}]},{title:" Long-Term Termite Care",services:[{icon:V.jsx(em,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"}),title:"Termite Abatement Maintenance",description:"Ongoing inspections and treatments to maintain structural integrity.",imageSrc:"/images/services/tpc_srvc_16.png"}]},{title:" Structural & Perimeter Shielding",services:[{icon:V.jsx(gy,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),title:"Perimeter Barrier Treatments",description:"Exterior spray solutions to defend your property perimeter.",imageSrc:"/images/services/tpc_srvc_17.jpg"},{icon:V.jsx(gy,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),title:"Crawl Space & Attic Treatments",description:"Targeted vermin and pest control in concealed interior areas.",imageSrc:"/images/services/tpc_srvc_15.jpg"},{icon:V.jsx(q_,{className:"h-8 w-8 text-yellow-700 dark:text-yellow-500"}),title:"Wall Injection Systems",description:"Interior termite treatment for sealed structures and wall cavities.",imageSrc:"/images/services/tpc_srvc_18.jpg"}]},{title:" Eco-Friendly & Child-Safe Options",services:[{icon:V.jsx(TT,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),title:"Organic Pest Control Solutions",description:"Low-toxicity, plant-based solutions for safe pest treatment.",imageSrc:"/images/services/tpc_srvc_20.jpg"},{icon:V.jsx(em,{className:"h-8 w-8 text-pink-500 dark:text-pink-300"}),title:"Child & Pet-Safe Protocols",description:"Specialized treatments for sensitive homes and spaces.",imageSrc:"/images/services/tpc_srvc_21.png"}]},{title:" Compliance & Sanitation Support",services:[{icon:V.jsx(MT,{className:"h-8 w-8 text-blue-500 dark:text-blue-300"}),title:"DOH Documentation Support",description:"Comprehensive documentation including government-issued permits, detailed service logs, and verified records maintained in alignment with local and national health department compliance requirements.",imageSrc:"/images/services/tpc_srvc_22.png"},{icon:V.jsx(MT,{className:"h-8 w-8 text-blue-700 dark:text-blue-400"}),title:"Compliance Audit Preparation",description:"Systematic pre-audit preparation and documentation review tailored to the needs of regulated industries, ensuring readiness for inspections, certification, and health department evaluations.",imageSrc:"/images/services/tpc_srvc_13.jpg"},{icon:V.jsx(CT,{className:"h-8 w-8 text-gray-500 dark:text-gray-300"}),title:"Virus Disinfection Services",description:"Professional disinfection services utilizing advanced fogging and sanitation techniques to eliminate viruses and pathogens from high-traffic environments such as schools, corporate offices, and healthcare facilities.",imageSrc:"/images/services/tpc_srvc_24.png"}]}];return V.jsx("section",{id:"services",className:"pt-8 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:V.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[V.jsxs("div",{className:"text-center mb-16",children:[V.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Professional Services"}),V.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Pest, vermin, termite, and sanitation solutions trusted across Davao homes and businesses."})]}),n.map((e,t)=>V.jsx(LW,{title:e.title,services:e.services},t))]})})},kW=()=>{const n=[{icon:V.jsx(QN,{className:"h-12 w-12 text-green-600 dark:text-green-400"}),title:"Eco-Friendly IPM Methods",description:"Integrated Pest Management using environmentally safe solutions that protect your family and pets."},{icon:V.jsx(JN,{className:"h-12 w-12 text-red-600 dark:text-red-400"}),title:"Family Safety First",description:"Our treatments are designed to eliminate pests while keeping your loved ones safe from harmful chemicals."},{icon:V.jsx(em,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"}),title:"Disease Prevention",description:"Protect your family from dengue, malaria, and other pest-borne diseases with our targeted treatments."},{icon:V.jsx(gy,{className:"h-12 w-12 text-orange-600 dark:text-orange-400"}),title:"Property Protection",description:"Prevent structural damage and fire hazards caused by termites and rodents chewing electrical wires."}],e=["Certified Trained Technicians","Competitive Pricing","High Satisfaction","PFPMOA (Philippine Federation of Pest Management Operators Inc.) Accredited","PCAP (Pest Control Association of the Philippines Inc.) Accredited","MUPMA (Mindanao Urban Pest Management Association Inc.) Accredited","Certified Fumigator Applicator License No. 06-0517-053  FPA Control No. XI-69-00","Basic Occupational Safety and Health Training (BOSH)","Construction Safety and Health Course for Site Safety Officers (COSH)"];return V.jsx("section",{id:"about",className:"relative py-20 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:V.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[V.jsxs("div",{className:"text-center mb-16",children:[V.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-500",children:"Why Choose Torres Pest Control?"}),V.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto transition-colors duration-500",style:{color:"rgb(255 255 255);"},children:"Safe, effective, and environmentally responsible pest control solutions"})]}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:n.map((t,i)=>V.jsx(XS,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300",children:V.jsx(ZS,{className:"p-8",children:V.jsxs("div",{className:"flex items-start space-x-4",children:[V.jsx("div",{className:"flex-shrink-0",children:t.icon}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.title}),V.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.description})]})]})})},i))}),V.jsx("div",{className:"mb-16 flex justify-center",children:V.jsx("img",{src:"/images/tpc_26.jpg",alt:"Pest control professionals at work",className:"rounded-2xl shadow-lg max-w-3xl w-full h-auto object-cover"})}),V.jsxs("div",{className:"text-center mb-10",children:[V.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Accreditations & Assurance"}),V.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4 text-left text-gray-700 dark:text-gray-300 max-w-4xl mx-auto",children:e.map((t,i)=>V.jsxs("li",{className:"flex items-start gap-3",children:[V.jsx(XN,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),V.jsx("span",{children:t})]},i))})]})]})})};var Jv={},pC;function NW(){if(pC)return Jv;pC=1,Object.defineProperty(Jv,"__esModule",{value:!0});var n=Ym();function e(z){return Array.prototype.slice.call(z)}function t(z,U){var N=Math.floor(z);return N===U||N+1===U?z:U}function i(){return Date.now()}function r(z,U,N){if(U="data-keen-slider-"+U,N===null)return z.removeAttribute(U);z.setAttribute(U,N||"")}function s(z,U){return U=U||document,typeof z=="function"&&(z=z(U)),Array.isArray(z)?z:typeof z=="string"?e(U.querySelectorAll(z)):z instanceof HTMLElement?[z]:z instanceof NodeList?e(z):[]}function o(z){z.raw&&(z=z.raw),z.cancelable&&!z.defaultPrevented&&z.preventDefault()}function l(z){z.raw&&(z=z.raw),z.stopPropagation&&z.stopPropagation()}function d(){var z=[];return{add:function(U,N,Y,Q){U.addListener?U.addListener(Y):U.addEventListener(N,Y,Q),z.push([U,N,Y,Q])},input:function(U,N,Y,Q){this.add(U,N,function(ae){return function(se){se.nativeEvent&&(se=se.nativeEvent);var ge=se.changedTouches||[],he=se.targetTouches||[],de=se.detail&&se.detail.x?se.detail:null;return ae({id:de?de.identifier?de.identifier:"i":he[0]?he[0]?he[0].identifier:"e":"d",idChanged:de?de.identifier?de.identifier:"i":ge[0]?ge[0]?ge[0].identifier:"e":"d",raw:se,x:de&&de.x?de.x:he[0]?he[0].screenX:de?de.x:se.pageX,y:de&&de.y?de.y:he[0]?he[0].screenY:de?de.y:se.pageY})}}(Y),Q)},purge:function(){z.forEach(function(U){U[0].removeListener?U[0].removeListener(U[2]):U[0].removeEventListener(U[1],U[2],U[3])}),z=[]}}}function f(z,U,N){return Math.min(Math.max(z,U),N)}function m(z){return(z>0?1:0)-(z<0?1:0)||+z}function v(z){var U=z.getBoundingClientRect();return{height:t(U.height,z.offsetHeight),width:t(U.width,z.offsetWidth)}}function _(z,U,N,Y){var Q=z&&z[U];return Q==null?N:Y&&typeof Q=="function"?Q():Q}function x(z){return Math.round(1e6*z)/1e6}function M(z,U){if(z===U)return!0;var N=typeof z;if(N!==typeof U)return!1;if(N!=="object"||z===null||U===null)return N==="function"&&z.toString()===U.toString();if(z.length!==U.length||Object.getOwnPropertyNames(z).length!==Object.getOwnPropertyNames(U).length)return!1;for(var Y in z)if(!M(z[Y],U[Y]))return!1;return!0}var C=function(){return C=Object.assign||function(z){for(var U,N=1,Y=arguments.length;N<Y;N++)for(var Q in U=arguments[N])Object.prototype.hasOwnProperty.call(U,Q)&&(z[Q]=U[Q]);return z},C.apply(this,arguments)};function T(z,U,N){for(var Y,Q=0,ae=U.length;Q<ae;Q++)!Y&&Q in U||(Y||(Y=Array.prototype.slice.call(U,0,Q)),Y[Q]=U[Q]);return z.concat(Y||Array.prototype.slice.call(U))}function w(z){var U,N,Y,Q,ae,se;function ge(ee){se||(se=ee),he(!0);var K=ee-se;K>Y&&(K=Y);var oe=Q[N];if(oe[3]<K)return N++,ge(ee);var we=oe[2],ce=oe[4],me=oe[0],_e=oe[1]*(0,oe[5])(ce===0?1:(K-we)/ce);if(_e&&z.track.to(me+_e),K<Y)return W();se=null,he(!1),de(null),z.emit("animationEnded")}function he(ee){U.active=ee}function de(ee){U.targetIdx=ee}function W(){var ee;ee=ge,ae=window.requestAnimationFrame(ee)}function ie(){var ee;ee=ae,window.cancelAnimationFrame(ee),he(!1),de(null),se&&z.emit("animationStopped"),se=null}return U={active:!1,start:function(ee){if(ie(),z.track.details){var K=0,oe=z.track.details.position;N=0,Y=0,Q=ee.map(function(we){var ce,me=Number(oe),_e=(ce=we.earlyExit)!==null&&ce!==void 0?ce:we.duration,xe=we.easing,Ge=we.distance*xe(_e/we.duration)||0;oe+=Ge;var $e=Y;return Y+=_e,K+=Ge,[me,we.distance,$e,Y,we.duration,xe]}),de(z.track.distToIdx(K)),W(),z.emit("animationStarted")}},stop:ie,targetIdx:null}}function R(z){var U,N,Y,Q,ae,se,ge,he,de,W,ie,ee,K,oe,we=1/0,ce=[],me=null,_e=0;function xe(Pe){Ze(_e+Pe)}function Ge(Pe){var Xe=$e(_e+Pe).abs;return ht(Xe)?Xe:null}function $e(Pe){var Xe=Math.floor(Math.abs(x(Pe/N))),Me=x((Pe%N+N)%N);Me===N&&(Me=0);var We=m(Pe),it=ge.indexOf(T([],ge).reduce(function(q,Se){return Math.abs(Se-Me)<Math.abs(q-Me)?Se:q})),ne=it;return We<0&&Xe++,it===se&&(ne=0,Xe+=We>0?1:-1),{abs:ne+Xe*se*We,origin:it,rel:ne}}function Qe(Pe,Xe,Me){var We;if(Xe||!re())return nt(Pe,Me);if(!ht(Pe))return null;var it=$e(Me??_e),ne=it.abs,q=Pe-it.rel,Se=ne+q;We=nt(Se);var Re=nt(Se-se*m(q));return(Re!==null&&Math.abs(Re)<Math.abs(We)||We===null)&&(We=Re),x(We)}function nt(Pe,Xe){if(Xe==null&&(Xe=x(_e)),!ht(Pe)||Pe===null)return null;Pe=Math.round(Pe);var Me=$e(Xe),We=Me.abs,it=Me.rel,ne=Me.origin,q=rt(Pe),Se=(Xe%N+N)%N,Re=ge[ne],He=Math.floor((Pe-(We-it))/se)*N;return x(Re-Se-Re+ge[q]+He+(ne===se?N:0))}function ht(Pe){return ct(Pe)===Pe}function ct(Pe){return f(Pe,de,W)}function re(){return Q.loop}function rt(Pe){return(Pe%se+se)%se}function Ze(Pe){var Xe;Xe=Pe-_e,ce.push({distance:Xe,timestamp:i()}),ce.length>6&&(ce=ce.slice(-6)),_e=x(Pe);var Me=Be().abs;if(Me!==me){var We=me!==null;me=Me,We&&z.emit("slideChanged")}}function Be(Pe){var Xe=Pe?null:function(){if(se){var Me=re(),We=Me?(_e%N+N)%N:_e,it=(Me?_e%N:_e)-ae[0][2],ne=0-(it<0&&Me?N-Math.abs(it):it),q=0,Se=$e(_e),Re=Se.abs,He=Se.rel,Ue=ae[He][2],It=ae.map(function(ot,At){var yt=ne+q;(yt<0-ot[0]||yt>1)&&(yt+=(Math.abs(yt)>N-1&&Me?N:0)*m(-yt));var qe=At-He,_t=m(qe),Wt=qe+Re;Me&&(_t===-1&&yt>Ue&&(Wt+=se),_t===1&&yt<Ue&&(Wt-=se),ie!==null&&Wt<ie&&(yt+=N),ee!==null&&Wt>ee&&(yt-=N));var Ut=yt+ot[0]+ot[1],pt=Math.max(yt>=0&&Ut<=1?1:Ut<0||yt>1?0:yt<0?Math.min(1,(ot[0]+yt)/ot[0]):(1-yt)/ot[0],0);return q+=ot[0]+ot[1],{abs:Wt,distance:Q.rtl?-1*yt+1-ot[0]:yt,portion:pt,size:ot[0]}});return Re=ct(Re),He=rt(Re),{abs:ct(Re),length:Y,max:oe,maxIdx:W,min:K,minIdx:de,position:_e,progress:Me?We/N:_e/Y,rel:He,slides:It,slidesLength:N}}}();return U.details=Xe,z.emit("detailsChanged"),Xe}return U={absToRel:rt,add:xe,details:null,distToIdx:Ge,idxToDist:Qe,init:function(Pe){if(function(){if(Q=z.options,ae=(Q.trackConfig||[]).map(function(it){return[_(it,"size",1),_(it,"spacing",0),_(it,"origin",0)]}),se=ae.length){N=x(ae.reduce(function(it,ne){return it+ne[0]+ne[1]},0));var Me,We=se-1;Y=x(N+ae[0][2]-ae[We][0]-ae[We][2]-ae[We][1]),ge=ae.reduce(function(it,ne){if(!it)return[0];var q=ae[it.length-1],Se=it[it.length-1]+(q[0]+q[2])+q[1];return Se-=ne[2],it[it.length-1]>Se&&(Se=it[it.length-1]),Se=x(Se),it.push(Se),(!Me||Me<Se)&&(he=it.length-1),Me=Se,it},null),Y===0&&(he=0),ge.push(x(N))}}(),!se)return Be(!0);var Xe;(function(){var Me=z.options.range,We=z.options.loop;ie=de=We?_(We,"min",-1/0):0,ee=W=We?_(We,"max",we):he;var it=_(Me,"min",null),ne=_(Me,"max",null);it!==null&&(de=it),ne!==null&&(W=ne),K=de===-1/0?de:z.track.idxToDist(de||0,!0,0),oe=W===we?W:Qe(W,!0,0),ne===null&&(ee=W),_(Me,"align",!1)&&W!==we&&ae[rt(W)][2]===0&&(oe-=1-ae[rt(W)][0],W=Ge(oe-_e)),K=x(K),oe=x(oe)})(),Xe=Pe,Number(Xe)===Xe?xe(nt(ct(Pe))):Be()},to:Ze,velocity:function(){var Pe=i(),Xe=ce.reduce(function(Me,We){var it=We.distance,ne=We.timestamp;return Pe-ne>200||(m(it)!==m(Me.distance)&&Me.distance&&(Me={distance:0,lastTimestamp:0,time:0}),Me.time&&(Me.distance+=it),Me.lastTimestamp&&(Me.time+=ne-Me.lastTimestamp),Me.lastTimestamp=ne),Me},{distance:0,lastTimestamp:0,time:0});return Xe.distance/Xe.time||0}}}function k(z){var U,N,Y,Q,ae,se,ge,he;function de(me){return 2*me}function W(me){return f(me,ge,he)}function ie(me){return 1-Math.pow(1-me,3)}function ee(){return Y?z.track.velocity():0}function K(){ce();var me=z.options.mode==="free-snap",_e=z.track,xe=ee();Q=m(xe);var Ge=z.track.details,$e=[];if(xe||!me){var Qe=oe(xe),nt=Qe.dist,ht=Qe.dur;if(ht=de(ht),nt*=Q,me){var ct=_e.idxToDist(_e.distToIdx(nt),!0);ct&&(nt=ct)}$e.push({distance:nt,duration:ht,easing:ie});var re=Ge.position,rt=re+nt;if(rt<ae||rt>se){var Ze=rt<ae?ae-re:se-re,Be=0,Pe=xe;if(m(Ze)===Q){var Xe=Math.min(Math.abs(Ze)/Math.abs(nt),1),Me=function(ne){return 1-Math.pow(1-ne,1/3)}(Xe)*ht;$e[0].earlyExit=Me,Pe=xe*(1-Xe)}else $e[0].earlyExit=0,Be+=Ze;var We=oe(Pe,100),it=We.dist*Q;z.options.rubberband&&($e.push({distance:it,duration:de(We.dur),easing:ie}),$e.push({distance:-it+Be,duration:500,easing:ie}))}z.animator.start($e)}else z.moveToIdx(W(Ge.abs),!0,{duration:500,easing:function(ne){return 1+--ne*ne*ne*ne*ne}})}function oe(me,_e){_e===void 0&&(_e=1e3);var xe=147e-9+(me=Math.abs(me))/_e;return{dist:Math.pow(me,2)/xe,dur:me/xe}}function we(){var me=z.track.details;me&&(ae=me.min,se=me.max,ge=me.minIdx,he=me.maxIdx)}function ce(){z.animator.stop()}z.on("updated",we),z.on("optionsChanged",we),z.on("created",we),z.on("dragStarted",function(){Y=!1,ce(),U=N=z.track.details.abs}),z.on("dragChecked",function(){Y=!0}),z.on("dragEnded",function(){var me=z.options.mode;me==="snap"&&function(){var _e=z.track,xe=z.track.details,Ge=xe.position,$e=m(ee());(Ge>se||Ge<ae)&&($e=0);var Qe=U+$e;xe.slides[_e.absToRel(Qe)].portion===0&&(Qe-=$e),U!==N&&(Qe=N),m(_e.idxToDist(Qe,!0))!==$e&&(Qe+=$e),Qe=W(Qe);var nt=_e.idxToDist(Qe,!0);z.animator.start([{distance:nt,duration:500,easing:function(ht){return 1+--ht*ht*ht*ht*ht}}])}(),me!=="free"&&me!=="free-snap"||K()}),z.on("dragged",function(){N=z.track.details.abs})}function O(z){var U,N,Y,Q,ae,se,ge,he,de,W,ie,ee,K,oe,we,ce,me,_e,xe=d();function Ge(Be){if(se&&he===Be.id){var Pe=ht(Be);if(de){if(!nt(Be))return Qe(Be);W=Pe,de=!1,z.emit("dragChecked")}if(ce)return W=Pe;o(Be);var Xe=function(We){if(me===-1/0&&_e===1/0)return We;var it=z.track.details,ne=it.length,q=it.position,Se=f(We,me-q,_e-q);if(ne===0)return 0;if(!z.options.rubberband)return Se;if(q<=_e&&q>=me||q<me&&N>0||q>_e&&N<0)return We;var Re=(q<me?q-me:q-_e)/ne,He=Q*ne,Ue=Math.abs(Re*He),It=Math.max(0,1-Ue/ae*2);return It*It*We}(ge(W-Pe)/Q*Y);N=m(Xe);var Me=z.track.details.position;(Me>me&&Me<_e||Me===me&&N>0||Me===_e&&N<0)&&l(Be),ie+=Xe,!ee&&Math.abs(ie*Q)>5&&(ee=!0),z.track.add(Xe),W=Pe,z.emit("dragged")}}function $e(Be){!se&&z.track.details&&z.track.details.length&&(ie=0,se=!0,ee=!1,de=!0,he=Be.id,nt(Be),W=ht(Be),z.emit("dragStarted"))}function Qe(Be){se&&he===Be.idChanged&&(se=!1,z.emit("dragEnded"))}function nt(Be){var Pe=ct(),Xe=Pe?Be.y:Be.x,Me=Pe?Be.x:Be.y,We=K!==void 0&&oe!==void 0&&Math.abs(oe-Me)<=Math.abs(K-Xe);return K=Xe,oe=Me,We}function ht(Be){return ct()?Be.y:Be.x}function ct(){return z.options.vertical}function re(){Q=z.size,ae=ct()?window.innerHeight:window.innerWidth;var Be=z.track.details;Be&&(me=Be.min,_e=Be.max)}function rt(Be){ee&&(l(Be),o(Be))}function Ze(){if(xe.purge(),z.options.drag&&!z.options.disabled){var Be;Be=z.options.dragSpeed||1,ge=typeof Be=="function"?Be:function(Xe){return Xe*Be},Y=z.options.rtl?-1:1,re(),U=z.container,function(){var Xe="data-keen-slider-clickable";s("[".concat(Xe,"]:not([").concat(Xe,"=false])"),U).map(function(Me){xe.add(Me,"dragstart",l),xe.add(Me,"mousedown",l),xe.add(Me,"touchstart",l)})}(),xe.add(U,"dragstart",function(Xe){o(Xe)}),xe.add(U,"click",rt,{capture:!0}),xe.input(U,"ksDragStart",$e),xe.input(U,"ksDrag",Ge),xe.input(U,"ksDragEnd",Qe),xe.input(U,"mousedown",$e),xe.input(U,"mousemove",Ge),xe.input(U,"mouseleave",Qe),xe.input(U,"mouseup",Qe),xe.input(U,"touchstart",$e,{passive:!0}),xe.input(U,"touchmove",Ge,{passive:!1}),xe.input(U,"touchend",Qe),xe.input(U,"touchcancel",Qe),xe.add(window,"wheel",function(Xe){se&&o(Xe)});var Pe="data-keen-slider-scrollable";s("[".concat(Pe,"]:not([").concat(Pe,"=false])"),z.container).map(function(Xe){return function(Me){var We;xe.input(Me,"touchstart",function(it){We=ht(it),ce=!0,we=!0},{passive:!0}),xe.input(Me,"touchmove",function(it){var ne=ct(),q=ne?Me.scrollHeight-Me.clientHeight:Me.scrollWidth-Me.clientWidth,Se=We-ht(it),Re=ne?Me.scrollTop:Me.scrollLeft,He=ne&&Me.style.overflowY==="scroll"||!ne&&Me.style.overflowX==="scroll";if(We=ht(it),(Se<0&&Re>0||Se>0&&Re<q)&&we&&He)return ce=!0;we=!1,o(it),ce=!1}),xe.input(Me,"touchend",function(){ce=!1})}(Xe)})}}z.on("updated",re),z.on("optionsChanged",Ze),z.on("created",Ze),z.on("destroyed",xe.purge)}function j(z){var U,N,Y=null;function Q(K,oe,we){z.animator.active?se(K,oe,we):requestAnimationFrame(function(){return se(K,oe,we)})}function ae(){Q(!1,!1,N)}function se(K,oe,we){var ce=0,me=z.size,_e=z.track.details;if(_e&&U){var xe=_e.slides;U.forEach(function(Ge,$e){if(K)!Y&&oe&&he(Ge,null,we),de(Ge,null,we);else{if(!xe[$e])return;var Qe=xe[$e].size*me;!Y&&oe&&he(Ge,Qe,we),de(Ge,xe[$e].distance*me-ce,we),ce+=Qe}})}}function ge(K){return z.options.renderMode==="performance"?Math.round(K):K}function he(K,oe,we){var ce=we?"height":"width";oe!==null&&(oe=ge(oe)+"px"),K.style["min-"+ce]=oe,K.style["max-"+ce]=oe}function de(K,oe,we){if(oe!==null){oe=ge(oe);var ce=we?oe:0;oe="translate3d(".concat(we?0:oe,"px, ").concat(ce,"px, 0)")}K.style.transform=oe,K.style["-webkit-transform"]=oe}function W(){U&&(se(!0,!0,N),U=null),z.on("detailsChanged",ae,!0)}function ie(){Q(!1,!0,N)}function ee(){W(),N=z.options.vertical,z.options.disabled||z.options.renderMode==="custom"||(Y=_(z.options.slides,"perView",null)==="auto",z.on("detailsChanged",ae),(U=z.slides).length&&ie())}z.on("created",ee),z.on("optionsChanged",ee),z.on("beforeOptionsChanged",function(){W()}),z.on("updated",ie),z.on("destroyed",W)}function X(z,U){return function(N){var Y,Q,ae,se,ge,he=d();function de(nt){var ht;r(N.container,"reverse",(ht=N.container,window.getComputedStyle(ht,null).getPropertyValue("direction")!=="rtl"||nt?null:"")),r(N.container,"v",N.options.vertical&&!nt?"":null),r(N.container,"disabled",N.options.disabled&&!nt?"":null)}function W(){ie()&&ce()}function ie(){var nt=null;if(se.forEach(function(ct){ct.matches&&(nt=ct.__media)}),nt===Y)return!1;Y||N.emit("beforeOptionsChanged"),Y=nt;var ht=nt?ae.breakpoints[nt]:ae;return N.options=C(C({},ae),ht),de(),$e(),Qe(),_e(),!0}function ee(nt){var ht=v(nt);return(N.options.vertical?ht.height:ht.width)/N.size||1}function K(){return N.options.trackConfig.length}function oe(nt){for(var ht in Y=!1,ae=C(C({},U),nt),he.purge(),Q=N.size,se=[],ae.breakpoints||[]){var ct=window.matchMedia(ht);ct.__media=ht,se.push(ct),he.add(ct,"change",W)}he.add(window,"orientationchange",Ge),he.add(window,"resize",xe),ie()}function we(nt){N.animator.stop();var ht=N.track.details;N.track.init(nt??(ht?ht.abs:0))}function ce(nt){we(nt),N.emit("optionsChanged")}function me(nt,ht){if(nt)return oe(nt),void ce(ht);$e(),Qe();var ct=K();_e(),K()!==ct?ce(ht):we(ht),N.emit("updated")}function _e(){var nt=N.options.slides;if(typeof nt=="function")return N.options.trackConfig=nt(N.size,N.slides);for(var ht=N.slides,ct=ht.length,re=typeof nt=="number"?nt:_(nt,"number",ct,!0),rt=[],Ze=_(nt,"perView",1,!0),Be=_(nt,"spacing",0,!0)/N.size||0,Pe=Ze==="auto"?Be:Be/Ze,Xe=_(nt,"origin","auto"),Me=0,We=0;We<re;We++){var it=Ze==="auto"?ee(ht[We]):1/Ze-Be+Pe,ne=Xe==="center"?.5-it/2:Xe==="auto"?0:Xe;rt.push({origin:ne,size:it,spacing:Be}),Me+=it}if(Me+=Be*(re-1),Xe==="auto"&&!N.options.loop&&Ze!==1){var q=0;rt.map(function(Se){var Re=Me-q;return q+=Se.size+Be,Re>=1||(Se.origin=1-Re-(Me>1?0:1-Me)),Se})}N.options.trackConfig=rt}function xe(){$e();var nt=N.size;N.options.disabled||nt===Q||(Q=nt,me())}function Ge(){xe(),setTimeout(xe,500),setTimeout(xe,2e3)}function $e(){var nt=v(N.container);N.size=(N.options.vertical?nt.height:nt.width)||1}function Qe(){N.slides=s(N.options.selector,N.container)}N.container=(ge=s(z,document)).length?ge[0]:null,N.destroy=function(){he.purge(),N.emit("destroyed"),de(!0)},N.prev=function(){N.moveToIdx(N.track.details.abs-1,!0)},N.next=function(){N.moveToIdx(N.track.details.abs+1,!0)},N.update=me,oe(N.options)}}var Z=function(z,U,N){try{return function(Y,Q){var ae,se={};return ae={emit:function(ge){se[ge]&&se[ge].forEach(function(de){de(ae)});var he=ae.options&&ae.options[ge];he&&he(ae)},moveToIdx:function(ge,he,de){var W=ae.track.idxToDist(ge,he);if(W){var ie=ae.options.defaultAnimation;ae.animator.start([{distance:W,duration:_(de||ie,"duration",500),easing:_(de||ie,"easing",function(ee){return 1+--ee*ee*ee*ee*ee})}])}},on:function(ge,he,de){de===void 0&&(de=!1),se[ge]||(se[ge]=[]);var W=se[ge].indexOf(he);W>-1?de&&delete se[ge][W]:de||se[ge].push(he)},options:Y},function(){if(ae.track=R(ae),ae.animator=w(ae),Q)for(var ge=0,he=Q;ge<he.length;ge++)(0,he[ge])(ae);ae.track.init(ae.options.initial||0),ae.emit("created")}(),ae}(U,T([X(z,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),j,O,k],N||[],!0))}catch(Y){console.error(Y)}};return Jv.useKeenSlider=function(z,U){var N=n.useRef(null),Y=n.useRef(!1),Q=n.useRef(z),ae=n.useCallback(function(se){se?(Q.current=z,N.current=new Z(se,z,U),Y.current=!1):(N.current&&N.current.destroy&&N.current.destroy(),N.current=null)},[]);return n.useEffect(function(){M(Q.current,z)||(Q.current=z,N.current&&N.current.update(Q.current))},[z]),[ae,N]},Jv}var OW=NW();const DW=[{name:"Ma'am Coleen",content:"Thank you sa pagsalig Ma'am Coleen... arrived to a clean and safe environment.",source:"Facebook Review"},{name:"Satisfied Customer",content:"Professional service with trained professionals. Highly recommended for pest control in Davao!",source:"Facebook Review"},{name:"Mr. Aguilar",content:"Napakabilis ng response time. Within the same day, they addressed our termite problem.",source:"Client Feedback"},{name:"Business Owner, Davao City",content:"Since hiring Torres, wala nang problema sa cockroach infestations sa kitchen namin.",source:"Business Review"},{name:"Ma'am Theresa",content:"Clear explanations and thorough inspection. The staff was very accommodating and respectful.",source:"Facebook Feedback"},{name:"Sir Elmer",content:"They went above and beyond, even inspecting areas I didnt think were vulnerable to pests.",source:"Satisfied Customer"},{name:"Condo Resident",content:"Safe and effective. No harsh smells, and we havent seen a single ant since the treatment.",source:"Google Review"},{name:"Restaurant Owner",content:"Maintaining pest-free premises is vital in my businessTorres delivers every time!",source:"Business Testimonial"},{name:"Family in Buhangin",content:"With kids in the house, safety is top priority. Thankful for their pet- and child-safe methods.",source:"Homeowner Feedback"},{name:"Ma'am Grace",content:"I love that they offer aftercare and monitoring. Talagang all-in service.",source:"Repeat Client"},{name:"Office Manager",content:"Scheduled monthly checkups really work for us. Peace of mind, always.",source:"Corporate Testimonial"},{name:"Tenant",content:"No more mosquito issues after fogging. Definitely sleeping better!",source:"Rental Property Review"},{name:"Sir Adrian",content:"They even sealed entry points after the treatment. Very thorough.",source:"Client Feedback"},{name:"Landlady",content:"Affordable but quality service. Happy tenants, happy landlord.",source:"Property Owner Review"},{name:"Ma'am Lani",content:"Easy booking and transparent pricing. Walang hidden charges.",source:"New Customer"},{name:"Veterinary Clinic Owner",content:"We needed non-toxic solutions for our clinicTorres understood the assignment.",source:"Specialty Service Feedback"},{name:"Apartment Owner",content:"Very responsive, even to our after-hours questions. Highly recommend!",source:"Landlord Review"},{name:"Sir Dino",content:"Second time booking. Still impressed by the professionalism and kindness.",source:"Returning Client"},{name:"Ma'am Katrina",content:"They helped us eliminate bed bugs after months of frustration. So grateful!",source:"Facebook Comment"},{name:"Davao North Homeowner",content:"They explained everything step-by-step. Very patient with our questions.",source:"Satisfied Customer"}],FW=()=>{const[n]=OW.useKeenSlider({loop:!0,slides:{perView:1,spacing:16}});return V.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 py-12",children:V.jsxs("div",{className:"container mx-auto px-4",children:[V.jsx("h2",{className:"text-3xl font-semibold text-center text-gray-800 dark:text-white mb-8",children:"What Our Clients Say"}),V.jsx("div",{ref:n,className:"keen-slider",children:DW.map((e,t)=>V.jsx("div",{className:"keen-slider__slide flex justify-center",children:V.jsxs("div",{className:"bg-white dark:bg-gray-800 relative shadow-xl hover:shadow-2xl transition-shadow rounded-2xl px-6 py-8 max-w-xl w-full mx-2 border dark:border-gray-700",children:[V.jsx("svg",{className:"w-8 h-8 text-gray-300 dark:text-gray-600 absolute top-6 left-6 opacity-30",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M7.17 6A5.17 5.17 0 0 0 2 11.17V19a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7.83A5.17 5.17 0 0 0 7.17 6zM19.17 6A5.17 5.17 0 0 0 14 11.17V19a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7.83A5.17 5.17 0 0 0 19.17 6z"})}),V.jsxs("p",{className:"text-lg text-gray-800 dark:text-gray-100 mb-4 leading-relaxed z-10 relative",children:["",e.content,""]}),V.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-4",children:[" ",e.name]}),e.source&&V.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic mt-1",children:e.source})]})},t))})]})})},zW=()=>{const n=[{icon:V.jsx(gy,{className:"w-10 h-10 text-green-600"}),label:"Homes Protected",value:"10,000+"},{icon:V.jsx(qN,{className:"w-10 h-10 text-blue-600"}),label:"Establishments Served",value:"2,000+"},{icon:V.jsx($N,{className:"w-10 h-10 text-orange-500"}),label:"Years of Service",value:"15+"},{icon:V.jsx(rO,{className:"w-10 h-10 text-yellow-500"}),label:"Client Satisfaction",value:"99%"}];return V.jsx("section",{className:"bg-neutral-300 dark:bg-sky-950 py-8 transition-colors duration-300",children:V.jsx("div",{className:"max-w-6xl mx-auto px-4",children:V.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-center",children:n.map((e,t)=>V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("div",{className:"mb-4",children:e.icon}),V.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.value}),V.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e.label})]},t))})})})},dy=G.forwardRef(({className:n,type:e,...t},i)=>V.jsx("input",{type:e,className:dr("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:i,...t}));dy.displayName="Input";const vI=G.forwardRef(({className:n,...e},t)=>V.jsx("textarea",{className:dr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",n),ref:t,...e}));vI.displayName="Textarea";class fg{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const UW=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ns={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:UW()},YS=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},BW=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=YS(n);ns.publicKey=t.publicKey,ns.blockHeadless=t.blockHeadless,ns.storageProvider=t.storageProvider,ns.blockList=t.blockList,ns.limitRate=t.limitRate,ns.origin=t.origin||e},yI=async(n,e,t={})=>{const i=await fetch(ns.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),s=new fg(i.status,r);if(i.ok)return s;throw s},_I=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},VW=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},xI=n=>n.webdriver||!n.languages||n.languages.length===0,wI=()=>new fg(451,"Unavailable For Headless Browser"),HW=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},jW=n=>!n.list?.length||!n.watchVariable,WW=(n,e)=>n instanceof FormData?n.get(e):n[e],SI=(n,e)=>{if(jW(n))return!1;HW(n.list,n.watchVariable);const t=WW(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},bI=()=>new fg(403,"Forbidden"),GW=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},XW=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},TI=async(n,e,t)=>{if(!e.throttle||!t)return!1;GW(e.throttle,e.id);const i=e.id||n;return await XW(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},MI=()=>new fg(429,"Too Many Requests"),ZW=async(n,e,t,i)=>{const r=YS(i),s=r.publicKey||ns.publicKey,o=r.blockHeadless||ns.blockHeadless,l=r.storageProvider||ns.storageProvider,d={...ns.blockList,...r.blockList},f={...ns.limitRate,...r.limitRate};return o&&xI(navigator)?Promise.reject(wI()):(_I(s,n,e),VW(t),t&&SI(d,t)?Promise.reject(bI()):await TI(location.pathname,f,l)?Promise.reject(MI()):yI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},YW=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},qW=n=>typeof n=="string"?document.querySelector(n):n,$W=async(n,e,t,i)=>{const r=YS(i),s=r.publicKey||ns.publicKey,o=r.blockHeadless||ns.blockHeadless,l=ns.storageProvider||r.storageProvider,d={...ns.blockList,...r.blockList},f={...ns.limitRate,...r.limitRate};if(o&&xI(navigator))return Promise.reject(wI());const m=qW(t);_I(s,n,e),YW(m);const v=new FormData(m);return SI(d,v)?Promise.reject(bI()):await TI(location.pathname,f,l)?Promise.reject(MI()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",e),v.append("user_id",s),yI("/api/v1.0/email/send-form",v))},KW={init:BW,send:ZW,sendForm:$W,EmailJSResponseStatus:fg},JW=()=>{const n=G.useRef(null);G.useEffect(()=>{},[]);const e=G.useRef(null),[t,i]=G.useState("idle"),r=s=>{s.preventDefault(),i("sending"),KW.sendForm("service_qdosaih","template_nqo3sfn",e.current,"y0BZsBRAR3ts_udHQ").then(()=>i("sent")).catch(()=>i("error"))};return V.jsx("section",{id:"contact",className:"py-20 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",children:V.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[V.jsxs("div",{className:"text-center mb-16",children:[V.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Get Your Free Inspection Today"}),V.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Contact us for a free quotation and professional pest control service"})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[V.jsxs("div",{children:[V.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg mb-8",children:V.jsx("iframe",{title:"Torres Pest Control Location",src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d482.3403169200329!2d125.49535579013283!3d7.118246885181027!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sph!4v1753104680166!5m2!1sen!2sph",width:"100%",height:"250",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),V.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Contact Information"}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"flex items-center space-x-3",children:[V.jsx(Nw,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),V.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"+63 917 139 1908"})]}),V.jsxs("div",{className:"flex items-center space-x-3",children:[V.jsx(tO,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),V.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"service@torrespestcontrol.ph"})]}),V.jsxs("div",{className:"flex items-center space-x-3",children:[V.jsx(ET,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),V.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"WhatsApp Available"})]})]}),V.jsxs("div",{className:"mt-8 space-y-4",children:[V.jsxs(Mu,{className:"w-full bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white",onClick:()=>window.location.href="tel:+639171391908",children:[V.jsx(Nw,{className:"mr-2 h-4 w-4"}),"Call Now for Free Inspection"]}),V.jsxs(Mu,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-50 dark:border-green-400 dark:text-green-400 dark:hover:bg-gray-800",onClick:()=>window.open("https://wa.me/639171391908","_blank"),children:[V.jsx(ET,{className:"mr-2 h-4 w-4"}),"WhatsApp Us"]})]})]}),V.jsx("div",{children:V.jsxs("form",{ref:e,onSubmit:r,className:"space-y-4",children:[V.jsx(dy,{name:"user_name",ref:n,placeholder:"Your Name",className:"dark:bg-gray-800 dark:border-gray-600"}),V.jsx(dy,{name:"user_email",placeholder:"Your Email",type:"email",className:"dark:bg-gray-800 dark:border-gray-600"}),V.jsx(dy,{name:"user_phone",placeholder:"Your Phone Number",type:"phone",className:"dark:bg-gray-800 dark:border-gray-600"}),V.jsxs("select",{name:"infestation_type",defaultValue:"",className:"w-full px-4 py-3 rounded-md border dark:bg-gray-800 dark:border-gray-600 text-gray-700 dark:text-gray-300",children:[V.jsx("option",{value:"",disabled:!0,children:"Type of Infestation (optional)"}),V.jsx("option",{value:"none",children:"None / Just Inquiry"}),V.jsx("option",{value:"termites",children:"Termites"}),V.jsx("option",{value:"cockroaches",children:"Cockroaches"}),V.jsx("option",{value:"rodents",children:"Rodents"}),V.jsx("option",{value:"ants",children:"Ants"}),V.jsx("option",{value:"mosquitoes",children:"Mosquitoes"}),V.jsx("option",{value:"bedbugs",children:"Bed Bugs"}),V.jsx("option",{value:"others",children:"Other Pest Problems"})]}),V.jsx(vI,{name:"message",placeholder:"Your Message",rows:12,className:"dark:bg-gray-800 dark:border-gray-600"}),V.jsx(Mu,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800",children:"Send Message"}),t==="sending"&&V.jsx("p",{className:"text-sm text-gray-500",children:"Sending..."}),t==="sent"&&V.jsx("p",{className:"text-sm text-green-600",children:"Message sent! We will reply soon."}),t==="error"&&V.jsx("p",{className:"text-sm text-red-600",children:"Something went wrong. Try again later."})]})})]})]})})},QW=()=>{const n=[{emoji:"",title:"01  Schedule Your Inspection",description:"Book a free site visit at your conveniencecall, message, or use our online form."},{emoji:"",title:"02  Assessment & Recommendation",description:"Our licensed technician inspects your property and recommends the best pest control solution."},{emoji:"",title:"03  Quote & Approval",description:"We prepare a transparent service quote based on your needs before starting any treatment."},{emoji:"",title:"04  Schedule Your Service",description:"We coordinate the best time for treatment based on your availability."},{emoji:"",title:"05  Treatment Execution",description:"We perform the pest control service using safe and effective methods tailored to your situation."},{emoji:"",title:"06  Monitoring & Aftercare",description:"We monitor treatment success and provide guidance to help prevent future infestations."}];return V.jsx("section",{className:"pt-0 mb-10 bg-white dark:bg-gray-900 py-16 relative overflow-hidden transition-colors",children:V.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[V.jsx("h2",{className:"text-4xl font-bold text-center text-green-700 dark:text-green-400 mb-14",children:"How We Work"}),V.jsx("div",{className:"grid gap-10 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 text-center relative z-10",children:n.map((e,t)=>V.jsxs("div",{className:"flex flex-col items-center",children:[V.jsx("div",{className:"w-20 h-20 rounded-full bg-red-600 border-4 border-yellow-400 flex items-center justify-center text-white text-2xl shadow-lg",children:e.emoji}),V.jsx("h3",{className:"font-semibold mt-4 text-base text-gray-800 dark:text-gray-100",children:e.title}),V.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:e.description})]},t))})]})})},eG=()=>(G.useEffect(()=>{const n=window.location.hash;n&&setTimeout(()=>{const e=document.querySelector(n);e&&e.scrollIntoView({behavior:"smooth"})},100)},[]),V.jsx(k4,{children:V.jsx(eg,{children:V.jsxs("div",{className:"mx-auto",children:[V.jsx(CW,{}),V.jsx(zW,{}),V.jsx(IW,{}),V.jsx(QW,{}),V.jsx(kW,{}),V.jsx(FW,{}),V.jsx(JW,{})]})})})),EI=G.createContext({});function tG(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const qS=typeof window<"u",nG=qS?G.useLayoutEffect:G.useEffect,$S=G.createContext(null);function KS(n,e){n.indexOf(e)===-1&&n.push(e)}function JS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ou=(n,e,t)=>t>e?e:t<n?n:t;let QS=()=>{};const Du={},CI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function AI(n){return typeof n=="object"&&n!==null}const PI=n=>/^0[^.\s]+$/u.test(n);function eb(n){let e;return()=>(e===void 0&&(e=n()),e)}const sa=n=>n,iG=(n,e)=>t=>e(n(t)),pg=(...n)=>n.reduce(iG),Bm=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class tb{constructor(){this.subscriptions=[]}add(e){return KS(this.subscriptions,e),()=>JS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pl=n=>n*1e3,Rl=n=>n/1e3;function RI(n,e){return e?n*(1e3/e):0}const LI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,rG=1e-7,sG=12;function oG(n,e,t,i,r){let s,o,l=0;do o=e+(t-e)/2,s=LI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>rG&&++l<sG);return o}function mg(n,e,t,i){if(n===e&&t===i)return sa;const r=s=>oG(s,0,1,n,t);return s=>s===0||s===1?s:LI(r(s),e,i)}const II=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,kI=n=>e=>1-n(1-e),NI=mg(.33,1.53,.69,.99),nb=kI(NI),OI=II(nb),DI=n=>(n*=2)<1?.5*nb(n):.5*(2-Math.pow(2,-10*(n-1))),ib=n=>1-Math.sin(Math.acos(n)),FI=kI(ib),zI=II(ib),aG=mg(.42,0,1,1),lG=mg(0,0,.58,1),UI=mg(.42,0,.58,1),uG=n=>Array.isArray(n)&&typeof n[0]!="number",BI=n=>Array.isArray(n)&&typeof n[0]=="number",cG={linear:sa,easeIn:aG,easeInOut:UI,easeOut:lG,circIn:ib,circInOut:zI,circOut:FI,backIn:nb,backInOut:OI,backOut:NI,anticipate:DI},dG=n=>typeof n=="string",mC=n=>{if(BI(n)){QS(n.length===4);const[e,t,i,r]=n;return mg(e,t,i,r)}else if(dG(n))return cG[n];return n},Qv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hG(n,e){let t=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(f.schedule(m),n()),m(l)}const f={schedule:(m,v=!1,_=!1)=>{const M=_&&r?t:i;return v&&o.add(m),M.has(m)||M.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(l=m,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(d),t.clear(),r=!1,s&&(s=!1,f.process(m))}};return f}const fG=40;function VI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Qv.reduce((k,O)=>(k[O]=hG(s),k),{}),{setup:l,read:d,resolveKeyframes:f,preUpdate:m,update:v,preRender:_,render:x,postRender:M}=o,C=()=>{const k=Du.useManualTiming?r.timestamp:performance.now();t=!1,Du.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(k-r.timestamp,fG),1)),r.timestamp=k,r.isProcessing=!0,l.process(r),d.process(r),f.process(r),m.process(r),v.process(r),_.process(r),x.process(r),M.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(C))},T=()=>{t=!0,i=!0,r.isProcessing||n(C)};return{schedule:Qv.reduce((k,O)=>{const j=o[O];return k[O]=(X,Z=!1,z=!1)=>(t||T(),j.schedule(X,Z,z)),k},{}),cancel:k=>{for(let O=0;O<Qv.length;O++)o[Qv[O]].cancel(k)},state:r,steps:o}}const{schedule:Ci,cancel:jc,state:ts,steps:mw}=VI(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0);let hy;function pG(){hy=void 0}const fo={now:()=>(hy===void 0&&fo.set(ts.isProcessing||Du.useManualTiming?ts.timestamp:performance.now()),hy),set:n=>{hy=n,queueMicrotask(pG)}},HI=n=>e=>typeof e=="string"&&e.startsWith(n),rb=HI("--"),mG=HI("var(--"),sb=n=>mG(n)?gG.test(n.split("/*")[0].trim()):!1,gG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Vm={...Jf,transform:n=>Ou(0,1,n)},ey={...Jf,default:1},dm=n=>Math.round(n*1e5)/1e5,ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vG(n){return n==null}const yG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ab=(n,e)=>t=>!!(typeof t=="string"&&yG.test(t)&&t.startsWith(n)||e&&!vG(t)&&Object.prototype.hasOwnProperty.call(t,e)),jI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,l]=i.match(ob);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_G=n=>Ou(0,255,n),gw={...Jf,transform:n=>Math.round(_G(n))},qd={test:ab("rgb","red"),parse:jI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+gw.transform(n)+", "+gw.transform(e)+", "+gw.transform(t)+", "+dm(Vm.transform(i))+")"};function xG(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const d1={test:ab("#"),parse:xG,transform:qd.transform},gg=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Lc=gg("deg"),Ll=gg("%"),un=gg("px"),wG=gg("vh"),SG=gg("vw"),gC={...Ll,parse:n=>Ll.parse(n)/100,transform:n=>Ll.transform(n*100)},vf={test:ab("hsl","hue"),parse:jI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ll.transform(dm(e))+", "+Ll.transform(dm(t))+", "+dm(Vm.transform(i))+")"},or={test:n=>qd.test(n)||d1.test(n)||vf.test(n),parse:n=>qd.test(n)?qd.parse(n):vf.test(n)?vf.parse(n):d1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qd.transform(n):vf.transform(n),getAnimatableNone:n=>{const e=or.parse(n);return e.alpha=0,or.transform(e)}},bG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TG(n){return isNaN(n)&&typeof n=="string"&&(n.match(ob)?.length||0)+(n.match(bG)?.length||0)>0}const WI="number",GI="color",MG="var",EG="var(",vC="${}",CG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hm(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const l=e.replace(CG,d=>(or.test(d)?(i.color.push(s),r.push(GI),t.push(or.parse(d))):d.startsWith(EG)?(i.var.push(s),r.push(MG),t.push(d)):(i.number.push(s),r.push(WI),t.push(parseFloat(d))),++s,vC)).split(vC);return{values:t,split:l,indexes:i,types:r}}function XI(n){return Hm(n).values}function ZI(n){const{split:e,types:t}=Hm(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const l=t[o];l===WI?s+=dm(r[o]):l===GI?s+=or.transform(r[o]):s+=r[o]}return s}}const AG=n=>typeof n=="number"?0:or.test(n)?or.getAnimatableNone(n):n;function PG(n){const e=XI(n);return ZI(n)(e.map(AG))}const Wc={test:TG,parse:XI,createTransformer:ZI,getAnimatableNone:PG};function vw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function RG({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,d=2*t-l;r=vw(d,l,n+1/3),s=vw(d,l,n),o=vw(d,l,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function h0(n,e){return t=>t>0?e:n}const Ni=(n,e,t)=>n+(e-n)*t,yw=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},LG=[d1,qd,vf],IG=n=>LG.find(e=>e.test(n));function yC(n){const e=IG(n);if(!e)return!1;let t=e.parse(n);return e===vf&&(t=RG(t)),t}const _C=(n,e)=>{const t=yC(n),i=yC(e);if(!t||!i)return h0(n,e);const r={...t};return s=>(r.red=yw(t.red,i.red,s),r.green=yw(t.green,i.green,s),r.blue=yw(t.blue,i.blue,s),r.alpha=Ni(t.alpha,i.alpha,s),qd.transform(r))},h1=new Set(["none","hidden"]);function kG(n,e){return h1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function NG(n,e){return t=>Ni(n,e,t)}function lb(n){return typeof n=="number"?NG:typeof n=="string"?sb(n)?h0:or.test(n)?_C:FG:Array.isArray(n)?YI:typeof n=="object"?or.test(n)?_C:OG:h0}function YI(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>lb(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function OG(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=lb(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function DG(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=n.indexes[s][i[s]],l=n.values[o]??0;t[r]=l,i[s]++}return t}const FG=(n,e)=>{const t=Wc.createTransformer(e),i=Hm(n),r=Hm(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?h1.has(n)&&!r.values.length||h1.has(e)&&!i.values.length?kG(n,e):pg(YI(DG(i,r),r.values),t):h0(n,e)};function qI(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ni(n,e,t):lb(n)(n,e)}const zG=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ci.update(e,t),stop:()=>jc(e),now:()=>ts.isProcessing?ts.timestamp:fo.now()}},$I=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=Math.round(n(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},f0=2e4;function ub(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<f0;)e+=t,i=n.next(e);return e>=f0?1/0:e}function UG(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(ub(i),f0);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Rl(r)}}const BG=5;function KI(n,e,t){const i=Math.max(e-BG,0);return RI(t-n(i),e-i)}const Wi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_w=.001;function VG({duration:n=Wi.duration,bounce:e=Wi.bounce,velocity:t=Wi.velocity,mass:i=Wi.mass}){let r,s,o=1-e;o=Ou(Wi.minDamping,Wi.maxDamping,o),n=Ou(Wi.minDuration,Wi.maxDuration,Rl(n)),o<1?(r=f=>{const m=f*o,v=m*n,_=m-t,x=f1(f,o),M=Math.exp(-v);return _w-_/x*M},s=f=>{const v=f*o*n,_=v*t+t,x=Math.pow(o,2)*Math.pow(f,2)*n,M=Math.exp(-v),C=f1(Math.pow(f,2),o);return(-r(f)+_w>0?-1:1)*((_-x)*M)/C}):(r=f=>{const m=Math.exp(-f*n),v=(f-t)*n+1;return-_w+m*v},s=f=>{const m=Math.exp(-f*n),v=(t-f)*(n*n);return m*v});const l=5/n,d=jG(r,s,l);if(n=Pl(n),isNaN(d))return{stiffness:Wi.stiffness,damping:Wi.damping,duration:n};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:o*2*Math.sqrt(i*f),duration:n}}}const HG=12;function jG(n,e,t){let i=t;for(let r=1;r<HG;r++)i=i-n(i)/e(i);return i}function f1(n,e){return n*Math.sqrt(1-e*e)}const WG=["duration","bounce"],GG=["stiffness","damping","mass"];function xC(n,e){return e.some(t=>n[t]!==void 0)}function XG(n){let e={velocity:Wi.velocity,stiffness:Wi.stiffness,damping:Wi.damping,mass:Wi.mass,isResolvedFromDuration:!1,...n};if(!xC(n,GG)&&xC(n,WG))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Ou(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Wi.mass,stiffness:r,damping:s}}else{const t=VG(n);e={...e,...t,mass:Wi.mass},e.isResolvedFromDuration=!0}return e}function p0(n=Wi.visualDuration,e=Wi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:d,damping:f,mass:m,duration:v,velocity:_,isResolvedFromDuration:x}=XG({...t,velocity:-Rl(t.velocity||0)}),M=_||0,C=f/(2*Math.sqrt(d*m)),T=o-s,w=Rl(Math.sqrt(d/m)),R=Math.abs(T)<5;i||(i=R?Wi.restSpeed.granular:Wi.restSpeed.default),r||(r=R?Wi.restDelta.granular:Wi.restDelta.default);let k;if(C<1){const j=f1(w,C);k=X=>{const Z=Math.exp(-C*w*X);return o-Z*((M+C*w*T)/j*Math.sin(j*X)+T*Math.cos(j*X))}}else if(C===1)k=j=>o-Math.exp(-w*j)*(T+(M+w*T)*j);else{const j=w*Math.sqrt(C*C-1);k=X=>{const Z=Math.exp(-C*w*X),z=Math.min(j*X,300);return o-Z*((M+C*w*T)*Math.sinh(z)+j*T*Math.cosh(z))/j}}const O={calculatedDuration:x&&v||null,next:j=>{const X=k(j);if(x)l.done=j>=v;else{let Z=j===0?M:0;C<1&&(Z=j===0?Pl(M):KI(k,j,X));const z=Math.abs(Z)<=i,U=Math.abs(o-X)<=r;l.done=z&&U}return l.value=l.done?o:X,l},toString:()=>{const j=Math.min(ub(O),f0),X=$I(Z=>O.next(j*Z).value,j,30);return j+"ms "+X},toTransition:()=>{}};return O}p0.applyToOptions=n=>{const e=UG(n,100,p0);return n.ease=e.ease,n.duration=Pl(e.duration),n.type="keyframes",n};function p1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:d,restDelta:f=.5,restSpeed:m}){const v=n[0],_={done:!1,value:v},x=z=>l!==void 0&&z<l||d!==void 0&&z>d,M=z=>l===void 0?d:d===void 0||Math.abs(l-z)<Math.abs(d-z)?l:d;let C=t*e;const T=v+C,w=o===void 0?T:o(T);w!==T&&(C=w-v);const R=z=>-C*Math.exp(-z/i),k=z=>w+R(z),O=z=>{const U=R(z),N=k(z);_.done=Math.abs(U)<=f,_.value=_.done?w:N};let j,X;const Z=z=>{x(_.value)&&(j=z,X=p0({keyframes:[_.value,M(_.value)],velocity:KI(k,z,_.value),damping:r,stiffness:s,restDelta:f,restSpeed:m}))};return Z(0),{calculatedDuration:null,next:z=>{let U=!1;return!X&&j===void 0&&(U=!0,O(z),Z(z)),j!==void 0&&z>=j?X.next(z-j):(!U&&O(z),_)}}}function ZG(n,e,t){const i=[],r=t||Du.mix||qI,s=n.length-1;for(let o=0;o<s;o++){let l=r(n[o],n[o+1]);if(e){const d=Array.isArray(e)?e[o]||sa:e;l=pg(d,l)}i.push(l)}return i}function YG(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(QS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=ZG(e,i,r),d=l.length,f=m=>{if(o&&m<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const _=Bm(n[v],n[v+1],m);return l[v](_)};return t?m=>f(Ou(n[0],n[s-1],m)):f}function qG(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Bm(0,e,i);n.push(Ni(t,1,r))}}function $G(n){const e=[0];return qG(e,n.length-1),e}function KG(n,e){return n.map(t=>t*e)}function JG(n,e){return n.map(()=>e||UI).splice(0,n.length-1)}function hm({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=uG(i)?i.map(mC):mC(i),s={done:!1,value:e[0]},o=KG(t&&t.length===e.length?t:$G(e),n),l=YG(o,e,{ease:Array.isArray(r)?r:JG(e,r)});return{calculatedDuration:n,next:d=>(s.value=l(d),s.done=d>=n,s)}}const QG=n=>n!==null;function cb(n,{repeat:e,repeatType:t="loop"},i,r=1){const s=n.filter(QG),l=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||i===void 0?s[l]:i}const eX={decay:p1,inertia:p1,tween:hm,keyframes:hm,spring:p0};function JI(n){typeof n.type=="string"&&(n.type=eX[n.type])}class db{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const tX=n=>n/100;class hb extends db{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==fo.now()&&this.tick(fo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JI(e);const{type:t=hm,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const d=t||hm;d!==hm&&typeof l[0]!="number"&&(this.mixKeyframes=pg(tX,qI(l[0],l[1])),l=[0,100]);const f=d({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=ub(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:m,repeat:v,repeatType:_,repeatDelay:x,type:M,onUpdate:C,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?w<0:w>r;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let k=this.currentTime,O=i;if(v){const z=Math.min(this.currentTime,r)/l;let U=Math.floor(z),N=z%1;!N&&z>=1&&(N=1),N===1&&U--,U=Math.min(U,v+1),!!(U%2)&&(_==="reverse"?(N=1-N,x&&(N-=x/l)):_==="mirror"&&(O=o)),k=Ou(0,1,N)*l}const j=R?{done:!1,value:m[0]}:O.next(k);s&&(j.value=s(j.value));let{done:X}=j;!R&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return Z&&M!==p1&&(j.value=cb(m,this.options,T,this.speed)),C&&C(j.value),Z&&this.finish(),j}then(e,t){return this.finished.then(e,t)}get duration(){return Rl(this.calculatedDuration)}get time(){return Rl(this.currentTime)}set time(e){e=Pl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Rl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=zG,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nX(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const $d=n=>n*180/Math.PI,m1=n=>{const e=$d(Math.atan2(n[1],n[0]));return g1(e)},iX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:m1,rotateZ:m1,skewX:n=>$d(Math.atan(n[1])),skewY:n=>$d(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},g1=n=>(n=n%360,n<0&&(n+=360),n),wC=m1,SC=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),bC=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),rX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SC,scaleY:bC,scale:n=>(SC(n)+bC(n))/2,rotateX:n=>g1($d(Math.atan2(n[6],n[5]))),rotateY:n=>g1($d(Math.atan2(-n[2],n[0]))),rotateZ:wC,rotate:wC,skewX:n=>$d(Math.atan(n[4])),skewY:n=>$d(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function v1(n){return n.includes("scale")?1:0}function y1(n,e){if(!n||n==="none")return v1(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=rX,r=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=iX,r=l}if(!r)return v1(e);const s=i[e],o=r[1].split(",").map(oX);return typeof s=="function"?s(o):o[s]}const sX=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return y1(t,e)};function oX(n){return parseFloat(n.trim())}const Qf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ep=new Set(Qf),TC=n=>n===Jf||n===un,aX=new Set(["x","y","z"]),lX=Qf.filter(n=>!aX.has(n));function uX(n){const e=[];return lX.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const th={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>y1(e,"x"),y:(n,{transform:e})=>y1(e,"y")};th.translateX=th.x;th.translateY=th.y;const nh=new Set;let _1=!1,x1=!1,w1=!1;function QI(){if(x1){const n=Array.from(nh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=uX(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{i.getValue(s)?.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}x1=!1,_1=!1,nh.forEach(n=>n.complete(w1)),nh.clear()}function e3(){nh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(x1=!0)})}function cX(){w1=!0,e3(),QI(),w1=!1}class fb{constructor(e,t,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(nh.add(this),_1||(_1=!0,Ci.read(e3),Ci.resolveKeyframes(QI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const l=i.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}nX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nh.delete(this)}cancel(){this.state==="scheduled"&&(nh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dX=n=>n.startsWith("--");function hX(n,e,t){dX(e)?n.style.setProperty(e,t):n.style[e]=t}const fX=eb(()=>window.ScrollTimeline!==void 0),pX={};function mX(n,e){const t=eb(n);return()=>pX[e]??t()}const t3=mX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kp=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,MC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kp([0,.65,.55,1]),circOut:Kp([.55,0,1,.45]),backIn:Kp([.31,.01,.66,-.59]),backOut:Kp([.33,1.53,.69,.99])};function n3(n,e){if(n)return typeof n=="function"?t3()?$I(n,e):"ease-out":BI(n)?Kp(n):Array.isArray(n)?n.map(t=>n3(t,e)||MC.easeOut):MC[n]}function gX(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:d}={},f=void 0){const m={[e]:t};d&&(m.offset=d);const v=n3(l,r);Array.isArray(v)&&(m.easing=v);const _={delay:i,duration:r,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),n.animate(m,_)}function i3(n){return typeof n=="function"&&"applyToOptions"in n}function vX({type:n,...e}){return i3(n)&&t3()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yX extends db{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,QS(typeof e.type!="string");const f=vX(e);this.animation=gX(t,i,r,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=cb(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):hX(t,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Rl(Number(e))}get time(){return Rl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&fX()?(this.animation.timeline=e,sa):t(this)}}const r3={anticipate:DI,backInOut:OI,circInOut:zI};function _X(n){return n in r3}function xX(n){typeof n.ease=="string"&&_X(n.ease)&&(n.ease=r3[n.ease])}const EC=10;class wX extends yX{constructor(e){xX(e),JI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new hb({...o,autoplay:!1}),d=Pl(this.finishedTime??this.time);t.setWithVelocity(l.sample(d-EC).value,l.sample(d).value,EC),l.stop()}}const CC=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wc.test(n)||n==="0")&&!n.startsWith("url("));function SX(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function bX(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=CC(r,e),l=CC(s,e);return!o||!l?!1:SX(n)||(t==="spring"||i3(t))&&i}const TX=new Set(["opacity","clipPath","filter","transform"]),MX=eb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function EX(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:s,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return MX()&&t&&TX.has(t)&&(t!=="transform"||!f)&&!d&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const CX=40;class AX extends db{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:d,motionValue:f,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fo.now();const _={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,name:d,motionValue:f,element:m,...v},x=m?.KeyframeResolver||fb;this.keyframeResolver=new x(l,(M,C,T)=>this.onKeyframesResolved(M,C,_,!T),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:d,isHandoff:f,onUpdate:m}=i;this.resolvedAt=fo.now(),bX(e,s,o,l)||((Du.instantAnimations||!d)&&m?.(cb(e,i,t)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const _={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>CX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},x=!f&&EX(_)?new wX({..._,element:_.motionValue.owner.current}):new hb(_);x.finished.then(()=>this.notifyFinished()).catch(sa),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RX(n){const e=PX.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function s3(n,e,t=1){const[i,r]=RX(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return CI(o)?parseFloat(o):o}return sb(r)?s3(r,e,t+1):r}function pb(n,e){return n?.[e]??n?.default??n}const o3=new Set(["width","height","top","left","right","bottom",...Qf]),LX={test:n=>n==="auto",parse:n=>n},a3=n=>e=>e.test(n),l3=[Jf,un,Ll,Lc,SG,wG,LX],AC=n=>l3.find(a3(n));function IX(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||PI(n):!0}const kX=new Set(["brightness","contrast","saturate","opacity"]);function NX(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(ob)||[];if(!i)return n;const r=t.replace(i,"");let s=kX.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const OX=/\b([a-z-]*)\(.*?\)/gu,S1={...Wc,getAnimatableNone:n=>{const e=n.match(OX);return e?e.map(NX).join(" "):n}},PC={...Jf,transform:Math.round},DX={rotate:Lc,rotateX:Lc,rotateY:Lc,rotateZ:Lc,scale:ey,scaleX:ey,scaleY:ey,scaleZ:ey,skew:Lc,skewX:Lc,skewY:Lc,distance:un,translateX:un,translateY:un,translateZ:un,x:un,y:un,z:un,perspective:un,transformPerspective:un,opacity:Vm,originX:gC,originY:gC,originZ:un},mb={borderWidth:un,borderTopWidth:un,borderRightWidth:un,borderBottomWidth:un,borderLeftWidth:un,borderRadius:un,radius:un,borderTopLeftRadius:un,borderTopRightRadius:un,borderBottomRightRadius:un,borderBottomLeftRadius:un,width:un,maxWidth:un,height:un,maxHeight:un,top:un,right:un,bottom:un,left:un,padding:un,paddingTop:un,paddingRight:un,paddingBottom:un,paddingLeft:un,margin:un,marginTop:un,marginRight:un,marginBottom:un,marginLeft:un,backgroundPositionX:un,backgroundPositionY:un,...DX,zIndex:PC,fillOpacity:Vm,strokeOpacity:Vm,numOctaves:PC},FX={...mb,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:S1,WebkitFilter:S1},u3=n=>FX[n];function c3(n,e){let t=u3(n);return t!==S1&&(t=Wc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zX=new Set(["auto","none","0"]);function UX(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!zX.has(s)&&Hm(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=c3(t,r)}class BX extends fb{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),sb(f))){const m=s3(f,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!o3.has(i)||e.length!==2)return;const[r,s]=e,o=AC(r),l=AC(s);if(o!==l)if(TC(o)&&TC(l))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else th[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||IX(e[r]))&&i.push(r);i.length&&UX(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=th[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=th[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{e.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function VX(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const d3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function HX(n){return AI(n)&&"offsetHeight"in n}const RC=30,jX=n=>!isNaN(parseFloat(n));class WX{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=fo.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tb);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ci.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RC)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,RC);return RI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zf(n,e){return new WX(n,e)}const{schedule:gb}=VI(queueMicrotask,!1),Ga={x:!1,y:!1};function h3(){return Ga.x||Ga.y}function GX(n){return n==="x"||n==="y"?Ga[n]?null:(Ga[n]=!0,()=>{Ga[n]=!1}):Ga.x||Ga.y?null:(Ga.x=Ga.y=!0,()=>{Ga.x=Ga.y=!1})}function f3(n,e){const t=VX(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function LC(n){return!(n.pointerType==="touch"||h3())}function XX(n,e,t={}){const[i,r,s]=f3(n,t),o=l=>{if(!LC(l))return;const{target:d}=l,f=e(d,l);if(typeof f!="function"||!d)return;const m=v=>{LC(v)&&(f(v),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return i.forEach(l=>{l.addEventListener("pointerenter",o,r)}),s}const p3=(n,e)=>e?n===e?!0:p3(n,e.parentElement):!1,vb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ZX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YX(n){return ZX.has(n.tagName)||n.tabIndex!==-1}const fy=new WeakSet;function IC(n){return e=>{e.key==="Enter"&&n(e)}}function xw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qX=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=IC(()=>{if(fy.has(t))return;xw(t,"down");const r=IC(()=>{xw(t,"up")}),s=()=>xw(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function kC(n){return vb(n)&&!h3()}function $X(n,e,t={}){const[i,r,s]=f3(n,t),o=l=>{const d=l.currentTarget;if(!kC(l))return;fy.add(d);const f=e(d,l),m=(x,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),fy.has(d)&&fy.delete(d),kC(x)&&typeof f=="function"&&f(x,{success:M})},v=x=>{m(x,d===window||d===document||t.useGlobalTarget||p3(d,x.target))},_=x=>{m(x,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",_,r)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),HX(l)&&(l.addEventListener("focus",f=>qX(f,r)),!YX(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function m3(n){return AI(n)&&"ownerSVGElement"in n}function KX(n){return m3(n)&&n.tagName==="svg"}const xs=n=>!!(n&&n.getVelocity),JX=[...l3,or,Wc],QX=n=>JX.find(a3(n)),g3=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function eZ(n=!0){const e=G.useContext($S);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=G.useId();G.useEffect(()=>{if(n)return r(s)},[n]);const o=G.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,o]:[!0]}const v3=G.createContext({strict:!1}),NC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uf={};for(const n in NC)Uf[n]={isEnabled:e=>NC[n].some(t=>!!e[t])};function tZ(n){for(const e in n)Uf[e]={...Uf[e],...n[e]}}const nZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function m0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nZ.has(n)}let y3=n=>!m0(n);function iZ(n){typeof n=="function"&&(y3=e=>e.startsWith("on")?!m0(e):n(e))}try{iZ(require("@emotion/is-prop-valid").default)}catch{}function rZ(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(y3(r)||t===!0&&m0(r)||!e&&!m0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const d_=G.createContext({});function h_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function jm(n){return typeof n=="string"||Array.isArray(n)}const yb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_b=["initial",...yb];function f_(n){return h_(n.animate)||_b.some(e=>jm(n[e]))}function _3(n){return!!(f_(n)||n.variants)}function sZ(n,e){if(f_(n)){const{initial:t,animate:i}=n;return{initial:t===!1||jm(t)?t:void 0,animate:jm(i)?i:void 0}}return n.inherit!==!1?e:{}}function oZ(n){const{initial:e,animate:t}=sZ(n,G.useContext(d_));return G.useMemo(()=>({initial:e,animate:t}),[OC(e),OC(t)])}function OC(n){return Array.isArray(n)?n.join(" "):n}const Wm={};function aZ(n){for(const e in n)Wm[e]=n[e],rb(e)&&(Wm[e].isCSSVariable=!0)}function x3(n,{layout:e,layoutId:t}){return ep.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Wm[n]||n==="opacity")}const lZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uZ=Qf.length;function cZ(n,e,t){let i="",r=!0;for(let s=0;s<uZ;s++){const o=Qf[s],l=n[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||t){const f=d3(l,mb[o]);if(!d){r=!1;const m=lZ[o]||o;i+=`${m}(${f}) `}t&&(e[o]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function xb(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,l=!1;for(const d in e){const f=e[d];if(ep.has(d)){o=!0;continue}else if(rb(d)){r[d]=f;continue}else{const m=d3(f,mb[d]);d.startsWith("origin")?(l=!0,s[d]=m):i[d]=m}}if(e.transform||(o||t?i.transform=cZ(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:m=0}=s;i.transformOrigin=`${d} ${f} ${m}`}}const wb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w3(n,e,t){for(const i in e)!xs(e[i])&&!x3(i,t)&&(n[i]=e[i])}function dZ({transformTemplate:n},e){return G.useMemo(()=>{const t=wb();return xb(t,e,n),Object.assign({},t.vars,t.style)},[e])}function hZ(n,e){const t=n.style||{},i={};return w3(i,t,n),Object.assign(i,dZ(n,e)),i}function fZ(n,e){const t={},i=hZ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const pZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},mZ={offset:"strokeDashoffset",array:"strokeDasharray"};function gZ(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?pZ:mZ;n[s.offset]=un.transform(-i);const o=un.transform(e),l=un.transform(t);n[s.array]=`${o} ${l}`}function S3(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...l},d,f,m){if(xb(n,l,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:_}=n;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=m?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),r!==void 0&&gZ(v,r,s,o,!1)}const b3=()=>({...wb(),attrs:{}}),T3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function vZ(n,e,t,i){const r=G.useMemo(()=>{const s=b3();return S3(s,e,T3(i),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};w3(s,n.style,n),r.style={...s,...r.style}}return r}const yZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sb(n){return typeof n!="string"||n.includes("-")?!1:!!(yZ.indexOf(n)>-1||/[A-Z]/u.test(n))}function _Z(n,e,t,{latestValues:i},r,s=!1){const l=(Sb(n)?vZ:fZ)(e,i,r,n),d=rZ(e,typeof n=="string",s),f=n!==G.Fragment?{...d,...l,ref:t}:{},{children:m}=e,v=G.useMemo(()=>xs(m)?m.get():m,[m]);return G.createElement(n,{...f,children:v})}function DC(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function bb(n,e,t,i){if(typeof e=="function"){const[r,s]=DC(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=DC(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function py(n){return xs(n)?n.get():n}function xZ({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:wZ(t,i,r,n),renderState:e()}}function wZ(n,e,t,i){const r={},s=i(n,{});for(const _ in s)r[_]=py(s[_]);let{initial:o,animate:l}=n;const d=f_(n),f=_3(n);e&&f&&!d&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const v=m?l:o;if(v&&typeof v!="boolean"&&!h_(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const M=bb(n,_[x]);if(M){const{transitionEnd:C,transition:T,...w}=M;for(const R in w){let k=w[R];if(Array.isArray(k)){const O=m?k.length-1:0;k=k[O]}k!==null&&(r[R]=k)}for(const R in C)r[R]=C[R]}}}return r}const M3=n=>(e,t)=>{const i=G.useContext(d_),r=G.useContext($S),s=()=>xZ(n,e,i,r);return t?s():tG(s)};function Tb(n,e,t){const{style:i}=n,r={};for(const s in i)(xs(i[s])||e.style&&xs(e.style[s])||x3(s,n)||t?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}const SZ=M3({scrapeMotionValuesFromProps:Tb,createRenderState:wb});function E3(n,e,t){const i=Tb(n,e,t);for(const r in n)if(xs(n[r])||xs(e[r])){const s=Qf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const bZ=M3({scrapeMotionValuesFromProps:E3,createRenderState:b3}),TZ=Symbol.for("motionComponentSymbol");function yf(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function MZ(n,e,t){return G.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yf(t)&&(t.current=i))},[e])}const Mb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EZ="framerAppearId",C3="data-"+Mb(EZ),A3=G.createContext({});function CZ(n,e,t,i,r){const{visualElement:s}=G.useContext(d_),o=G.useContext(v3),l=G.useContext($S),d=G.useContext(g3).reducedMotion,f=G.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,v=G.useContext(A3);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&AZ(f.current,t,r,v);const _=G.useRef(!1);G.useInsertionEffect(()=>{m&&_.current&&m.update(t,l)});const x=t[C3],M=G.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return nG(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),M.current&&m.animationState&&m.animationState.animateChanges())}),G.useEffect(()=>{m&&(!M.current&&m.animationState&&m.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),M.current=!1))}),m}function AZ(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:P3(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||l&&yf(l),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:f})}function P3(n){if(n)return n.options.allowProjection!==!1?n.projection:P3(n.parent)}function ww(n,{forwardMotionProps:e=!1}={},t,i){t&&tZ(t);const r=Sb(n)?bZ:SZ;function s(l,d){let f;const m={...G.useContext(g3),...l,layoutId:PZ(l)},{isStatic:v}=m,_=oZ(l),x=r(l,v);if(!v&&qS){RZ();const M=LZ(m);f=M.MeasureLayout,_.visualElement=CZ(n,x,m,i,M.ProjectionNode)}return V.jsxs(d_.Provider,{value:_,children:[f&&_.visualElement?V.jsx(f,{visualElement:_.visualElement,...m}):null,_Z(n,l,MZ(x,_.visualElement,d),x,v,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=G.forwardRef(s);return o[TZ]=n,o}function PZ({layoutId:n}){const e=G.useContext(EI).id;return e&&n!==void 0?e+"-"+n:n}function RZ(n,e){G.useContext(v3).strict}function LZ(n){const{drag:e,layout:t}=Uf;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function IZ(n,e){if(typeof Proxy>"u")return ww;const t=new Map,i=(s,o)=>ww(s,o,n,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(t.has(o)||t.set(o,ww(o,void 0,n,e)),t.get(o))})}function R3({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function kZ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function NZ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Sw(n){return n===void 0||n===1}function b1({scale:n,scaleX:e,scaleY:t}){return!Sw(n)||!Sw(e)||!Sw(t)}function Wd(n){return b1(n)||L3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function L3(n){return FC(n.x)||FC(n.y)}function FC(n){return n&&n!=="0%"}function g0(n,e,t){const i=n-t,r=e*i;return t+r}function zC(n,e,t,i,r){return r!==void 0&&(n=g0(n,r,i)),g0(n,t,i)+e}function T1(n,e=0,t=1,i,r){n.min=zC(n.min,e,t,i,r),n.max=zC(n.max,e,t,i,r)}function I3(n,{x:e,y:t}){T1(n.x,e.translate,e.scale,e.originPoint),T1(n.y,t.translate,t.scale,t.originPoint)}const UC=.999999999999,BC=1.0000000000001;function OZ(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let l=0;l<r;l++){s=t[l],o=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xf(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,I3(n,o)),i&&Wd(s.latestValues)&&xf(n,s.latestValues))}e.x<BC&&e.x>UC&&(e.x=1),e.y<BC&&e.y>UC&&(e.y=1)}function _f(n,e){n.min=n.min+e,n.max=n.max+e}function VC(n,e,t,i,r=.5){const s=Ni(n.min,n.max,r);T1(n,e,t,s,i)}function xf(n,e){VC(n.x,e.x,e.scaleX,e.scale,e.originX),VC(n.y,e.y,e.scaleY,e.scale,e.originY)}function k3(n,e){return R3(NZ(n.getBoundingClientRect(),e))}function DZ(n,e,t){const i=k3(n,t),{scroll:r}=e;return r&&(_f(i.x,r.offset.x),_f(i.y,r.offset.y)),i}const HC=()=>({translate:0,scale:1,origin:0,originPoint:0}),wf=()=>({x:HC(),y:HC()}),jC=()=>({min:0,max:0}),Ji=()=>({x:jC(),y:jC()}),M1={current:null},N3={current:!1};function FZ(){if(N3.current=!0,!!qS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>M1.current=n.matches;n.addEventListener("change",e),e()}else M1.current=!1}const zZ=new WeakMap;function UZ(n,e,t){for(const i in e){const r=e[i],s=t[i];if(xs(r))n.addValue(i,r);else if(xs(s))n.addValue(i,zf(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,zf(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const WC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BZ{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=fo.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Ci.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=f_(t),this.isVariantNode=_3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in v){const x=v[_];d[_]!==void 0&&xs(x)&&x.set(d[_],!1)}}mount(e){this.current=e,zZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),N3.current||FZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jc(this.notifyUpdate),jc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ep.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ci.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uf){const t=Uf[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ji()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<WC.length;i++){const r=WC[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=UZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=zf(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(CI(i)||PI(i))?i=parseFloat(i):!QX(i)&&Wc.test(t)&&(i=c3(e,t)),this.setBaseTarget(e,xs(i)?i.get():i)),xs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const s=bb(this.props,t,this.presenceContext?.custom);s&&(i=s[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!xs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new tb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){gb.render(this.render)}}class O3 extends BZ{constructor(){super(...arguments),this.KeyframeResolver=BX}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function D3(n,{style:e,vars:t},i,r){const s=n.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,i);for(o in t)s.setProperty(o,t[o])}function VZ(n){return window.getComputedStyle(n)}class HZ extends O3{constructor(){super(...arguments),this.type="html",this.renderInstance=D3}readValueFromInstance(e,t){if(ep.has(t))return this.projection?.isProjecting?v1(t):sX(e,t);{const i=VZ(e),r=(rb(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return k3(e,t)}build(e,t,i){xb(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Tb(e,t,i)}}const F3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jZ(n,e,t,i){D3(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(F3.has(r)?r:Mb(r),e.attrs[r])}class WZ extends O3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ji}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ep.has(t)){const i=u3(t);return i&&i.default||0}return t=F3.has(t)?t:Mb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return E3(e,t,i)}build(e,t,i){S3(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){jZ(e,t,i,r)}mount(e){this.isSVGTag=T3(e.tagName),super.mount(e)}}const GZ=(n,e)=>Sb(n)?new WZ(e):new HZ(e,{allowProjection:n!==G.Fragment});function Gm(n,e,t){const i=n.getProps();return bb(i,e,t!==void 0?t:i.custom,n)}const E1=n=>Array.isArray(n);function XZ(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,zf(t))}function ZZ(n){return E1(n)?n[n.length-1]||0:n}function YZ(n,e){const t=Gm(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const l=ZZ(s[o]);XZ(n,o,l)}}function qZ(n){return!!(xs(n)&&n.add)}function C1(n,e){const t=n.getValue("willChange");if(qZ(t))return t.add(e);if(!t&&Du.WillChange){const i=new Du.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function z3(n){return n.props[C3]}const $Z=n=>n!==null;function KZ(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter($Z),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}const JZ={type:"spring",stiffness:500,damping:25,restSpeed:10},QZ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),eY={type:"keyframes",duration:.8},tY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nY=(n,{keyframes:e})=>e.length>2?eY:ep.has(n)?n.startsWith("scale")?QZ(e[1]):JZ:tY;function iY({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:l,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Eb=(n,e,t,i={},r,s)=>o=>{const l=pb(i,n)||{},d=l.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Pl(d);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:_=>{e.set(_),l.onUpdate&&l.onUpdate(_)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:s?void 0:r};iY(l)||Object.assign(m,nY(n,m)),m.duration&&(m.duration=Pl(m.duration)),m.repeatDelay&&(m.repeatDelay=Pl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),(Du.instantAnimations||Du.skipAnimations)&&(v=!0,m.duration=0,m.delay=0),m.allowFlatten=!l.type&&!l.ease,v&&!s&&e.get()!==void 0){const _=KZ(m.keyframes,l);if(_!==void 0){Ci.update(()=>{m.onUpdate(_),m.onComplete()});return}}return l.isSync?new hb(m):new AX(m)};function rY({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function U3(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(s=i);const d=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const m in l){const v=n.getValue(m,n.latestValues[m]??null),_=l[m];if(_===void 0||f&&rY(f,m))continue;const x={delay:t,...pb(s||{},m)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===M&&!x.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const w=z3(n);if(w){const R=window.MotionHandoffAnimation(w,m,Ci);R!==null&&(x.startTime=R,C=!0)}}C1(n,m),v.start(Eb(m,v,_,n.shouldReduceMotion&&o3.has(m)?{type:!1}:x,n,C));const T=v.animation;T&&d.push(T)}return o&&Promise.all(d).then(()=>{Ci.update(()=>{o&&YZ(n,o)})}),d}function A1(n,e,t={}){const i=Gm(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(U3(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:v}=r;return sY(n,e,d,f,m,v,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,f]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(t.delay)])}function sY(n,e,t=0,i=0,r=0,s=1,o){const l=[],d=n.variantChildren.size,f=(d-1)*r,m=typeof i=="function",v=m?_=>i(_,d):s===1?(_=0)=>_*r:(_=0)=>f-_*r;return Array.from(n.variantChildren).sort(oY).forEach((_,x)=>{_.notify("AnimationStart",e),l.push(A1(_,e,{...o,delay:t+(m?0:i)+v(x)}).then(()=>_.notify("AnimationComplete",e)))}),Promise.all(l)}function oY(n,e){return n.sortNodePosition(e)}function aY(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>A1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=A1(n,e,t);else{const r=typeof e=="function"?Gm(n,e,t.custom):e;i=Promise.all(U3(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function B3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const lY=_b.length;function V3(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?V3(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<lY;t++){const i=_b[t],r=n.props[i];(jm(r)||r===!1)&&(e[i]=r)}return e}const uY=[...yb].reverse(),cY=yb.length;function dY(n){return e=>Promise.all(e.map(({animation:t,options:i})=>aY(n,t,i)))}function hY(n){let e=dY(n),t=GC(),i=!0;const r=d=>(f,m)=>{const v=Gm(n,m,d==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:x,...M}=v;f={...f,...M,...x}}return f};function s(d){e=d(n)}function o(d){const{props:f}=n,m=V3(n.parent)||{},v=[],_=new Set;let x={},M=1/0;for(let T=0;T<cY;T++){const w=uY[T],R=t[w],k=f[w]!==void 0?f[w]:m[w],O=jm(k),j=w===d?R.isActive:null;j===!1&&(M=T);let X=k===m[w]&&k!==f[w]&&O;if(X&&i&&n.manuallyAnimateOnMount&&(X=!1),R.protectedKeys={...x},!R.isActive&&j===null||!k&&!R.prevProp||h_(k)||typeof k=="boolean")continue;const Z=fY(R.prevProp,k);let z=Z||w===d&&R.isActive&&!X&&O||T>M&&O,U=!1;const N=Array.isArray(k)?k:[k];let Y=N.reduce(r(w),{});j===!1&&(Y={});const{prevResolvedValues:Q={}}=R,ae={...Q,...Y},se=de=>{z=!0,_.has(de)&&(U=!0,_.delete(de)),R.needsAnimating[de]=!0;const W=n.getValue(de);W&&(W.liveStyle=!1)};for(const de in ae){const W=Y[de],ie=Q[de];if(x.hasOwnProperty(de))continue;let ee=!1;E1(W)&&E1(ie)?ee=!B3(W,ie):ee=W!==ie,ee?W!=null?se(de):_.add(de):W!==void 0&&_.has(de)?se(de):R.protectedKeys[de]=!0}R.prevProp=k,R.prevResolvedValues=Y,R.isActive&&(x={...x,...Y}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(X&&Z)||U)&&v.push(...N.map(de=>({animation:de,options:{type:w}})))}if(_.size){const T={};if(typeof f.initial!="boolean"){const w=Gm(n,Array.isArray(f.initial)?f.initial[0]:f.initial);w&&w.transition&&(T.transition=w.transition)}_.forEach(w=>{const R=n.getBaseTarget(w),k=n.getValue(w);k&&(k.liveStyle=!0),T[w]=R??null}),v.push({animation:T})}let C=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function l(d,f){if(t[d].isActive===f)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(d,f)),t[d].isActive=f;const m=o(d);for(const v in t)t[v].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=GC(),i=!0}}}function fY(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!B3(e,n):!1}function Bd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GC(){return{animate:Bd(!0),whileInView:Bd(),whileHover:Bd(),whileTap:Bd(),whileDrag:Bd(),whileFocus:Bd(),exit:Bd()}}class qc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pY extends qc{constructor(e){super(e),e.animationState||(e.animationState=hY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();h_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mY=0;class gY extends qc{constructor(){super(...arguments),this.id=mY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vY={animation:{Feature:pY},exit:{Feature:gY}};function Xm(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function vg(n){return{point:{x:n.pageX,y:n.pageY}}}const yY=n=>e=>vb(e)&&n(e,vg(e));function fm(n,e,t,i){return Xm(n,e,yY(t),i)}const H3=1e-4,_Y=1-H3,xY=1+H3,j3=.01,wY=0-j3,SY=0+j3;function Hs(n){return n.max-n.min}function bY(n,e,t){return Math.abs(n-e)<=t}function XC(n,e,t,i=.5){n.origin=i,n.originPoint=Ni(e.min,e.max,n.origin),n.scale=Hs(t)/Hs(e),n.translate=Ni(t.min,t.max,n.origin)-n.originPoint,(n.scale>=_Y&&n.scale<=xY||isNaN(n.scale))&&(n.scale=1),(n.translate>=wY&&n.translate<=SY||isNaN(n.translate))&&(n.translate=0)}function pm(n,e,t,i){XC(n.x,e.x,t.x,i?i.originX:void 0),XC(n.y,e.y,t.y,i?i.originY:void 0)}function ZC(n,e,t){n.min=t.min+e.min,n.max=n.min+Hs(e)}function TY(n,e,t){ZC(n.x,e.x,t.x),ZC(n.y,e.y,t.y)}function YC(n,e,t){n.min=e.min-t.min,n.max=n.min+Hs(e)}function mm(n,e,t){YC(n.x,e.x,t.x),YC(n.y,e.y,t.y)}function na(n){return[n("x"),n("y")]}const W3=({current:n})=>n?n.ownerDocument.defaultView:null,qC=(n,e)=>Math.abs(n-e);function MY(n,e){const t=qC(n.x,e.x),i=qC(n.y,e.y);return Math.sqrt(t**2+i**2)}class G3{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Tw(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,M=MY(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!M)return;const{point:C}=_,{timestamp:T}=ts;this.history.push({...C,timestamp:T});const{onStart:w,onMove:R}=this.handlers;x||(w&&w(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=bw(x,this.transformPagePoint),Ci.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:M,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tw(_.type==="pointercancel"?this.lastMoveEventInfo:bw(x,this.transformPagePoint),this.history);this.startEvent&&M&&M(_,w),C&&C(_,w)},!vb(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const l=vg(e),d=bw(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=ts;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Tw(d,this.history)),this.removeListeners=pg(fm(this.contextWindow,"pointermove",this.handlePointerMove),fm(this.contextWindow,"pointerup",this.handlePointerUp),fm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jc(this.updatePoint)}}function bw(n,e){return e?{point:e(n.point)}:n}function $C(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Tw({point:n},e){return{point:n,delta:$C(n,X3(e)),offset:$C(n,EY(e)),velocity:CY(e,.1)}}function EY(n){return n[0]}function X3(n){return n[n.length-1]}function CY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=X3(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Pl(e)));)t--;if(!i)return{x:0,y:0};const s=Rl(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function AY(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Ni(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Ni(t,n,i.max):Math.min(n,t)),n}function KC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function PY(n,{top:e,left:t,bottom:i,right:r}){return{x:KC(n.x,t,r),y:KC(n.y,e,i)}}function JC(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function RY(n,e){return{x:JC(n.x,e.x),y:JC(n.y,e.y)}}function LY(n,e){let t=.5;const i=Hs(n),r=Hs(e);return r>i?t=Bm(e.min,e.max-i,n.min):i>r&&(t=Bm(n.min,n.max-r,e.min)),Ou(0,1,t)}function IY(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const P1=.35;function kY(n=P1){return n===!1?n=0:n===!0&&(n=P1),{x:QC(n,"left","right"),y:QC(n,"top","bottom")}}function QC(n,e,t){return{min:eA(n,e),max:eA(n,t)}}function eA(n,e){return typeof n=="number"?n:n[e]||0}const NY=new WeakMap;class OY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ji(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vg(v).point)},o=(v,_)=>{const{drag:x,dragPropagation:M,onDragStart:C}=this.getProps();if(x&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GX(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(w=>{let R=this.getAxisMotionValue(w).get()||0;if(Ll.test(R)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[w];O&&(R=Hs(O)*(parseFloat(R)/100))}}this.originPoint[w]=R}),C&&Ci.postRender(()=>C(v,_)),C1(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:M,onDirectionLock:C,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:w}=_;if(M&&this.currentDirection===null){this.currentDirection=DY(w),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,w),this.updateAxis("y",_.point,w),this.visualElement.render(),T&&T(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>na(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new G3(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:W3(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ci.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!ty(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=AY(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&yf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=PY(i.layoutBox,e):this.constraints=!1,this.elastic=kY(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&na(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=IY(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yf(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=DZ(i,r.root,this.visualElement.getTransformPagePoint());let o=RY(r.layout.layoutBox,s);if(t){const l=t(kZ(o));this.hasMutatedConstraints=!!l,l&&(o=R3(l))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=na(m=>{if(!ty(m,t,this.currentDirection))return;let v=d&&d[m]||{};o&&(v={min:0,max:0});const _=r?200:1e6,x=r?40:1e7,M={type:"inertia",velocity:i?e[m]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(m,M)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return C1(this.visualElement,e),i.start(Eb(e,i,0,t,this.visualElement,!1))}stopAnimation(){na(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){na(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){na(t=>{const{drag:i}=this.getProps();if(!ty(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[t];s.set(e[t]-Ni(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yf(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};na(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();r[o]=LY({min:d,max:d},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),na(o=>{if(!ty(o,e,null))return;const l=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];l.set(Ni(d,f,r[o]))})}addListeners(){if(!this.visualElement.current)return;NY.set(this.visualElement,this);const e=this.visualElement.current,t=fm(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();yf(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ci.read(i);const o=Xm(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(na(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=P1,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function ty(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function DY(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class FY extends qc{constructor(e){super(e),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new OY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}unmount(){this.removeGroupControls(),this.removeListeners()}}const tA=n=>(e,t)=>{n&&Ci.postRender(()=>n(e,t))};class zY extends qc{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(e){this.session=new G3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tA(e),onStart:tA(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Ci.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=fm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const my={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Gp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(un.test(n))n=parseFloat(n);else return n;const t=nA(n,e.target.x),i=nA(n,e.target.y);return`${t}% ${i}%`}},UY={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Wc.parse(n);if(r.length>5)return i;const s=Wc.createTransformer(n),o=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,d=t.y.scale*e.y;r[0+o]/=l,r[1+o]/=d;const f=Ni(l,d,.5);return typeof r[2+o]=="number"&&(r[2+o]/=f),typeof r[3+o]=="number"&&(r[3+o]/=f),s(r)}};let iA=!1;class BY extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;aZ(VY),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),iA&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),my.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,iA=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ci.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z3(n){const[e,t]=eZ(),i=G.useContext(EI);return V.jsx(BY,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(A3),isPresent:e,safeToRemove:t})}const VY={borderRadius:{...Gp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gp,borderTopRightRadius:Gp,borderBottomLeftRadius:Gp,borderBottomRightRadius:Gp,boxShadow:UY};function HY(n,e,t){const i=xs(n)?n:zf(n);return i.start(Eb("",i,e,t)),i.animation}const jY=(n,e)=>n.depth-e.depth;class WY{constructor(){this.children=[],this.isDirty=!1}add(e){KS(this.children,e),this.isDirty=!0}remove(e){JS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jY),this.isDirty=!1,this.children.forEach(e)}}function GY(n,e){const t=fo.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(jc(i),n(s-e))};return Ci.setup(i,!0),()=>jc(i)}const Y3=["TopLeft","TopRight","BottomLeft","BottomRight"],XY=Y3.length,rA=n=>typeof n=="string"?parseFloat(n):n,sA=n=>typeof n=="number"||un.test(n);function ZY(n,e,t,i,r,s){r?(n.opacity=Ni(0,t.opacity??1,YY(i)),n.opacityExit=Ni(e.opacity??1,0,qY(i))):s&&(n.opacity=Ni(e.opacity??1,t.opacity??1,i));for(let o=0;o<XY;o++){const l=`border${Y3[o]}Radius`;let d=oA(e,l),f=oA(t,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||sA(d)===sA(f)?(n[l]=Math.max(Ni(rA(d),rA(f),i),0),(Ll.test(f)||Ll.test(d))&&(n[l]+="%")):n[l]=f}(e.rotate||t.rotate)&&(n.rotate=Ni(e.rotate||0,t.rotate||0,i))}function oA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const YY=q3(0,.5,FI),qY=q3(.5,.95,sa);function q3(n,e,t){return i=>i<n?0:i>e?1:t(Bm(n,e,i))}function aA(n,e){n.min=e.min,n.max=e.max}function ta(n,e){aA(n.x,e.x),aA(n.y,e.y)}function lA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function uA(n,e,t,i,r){return n-=e,n=g0(n,1/t,i),r!==void 0&&(n=g0(n,1/r,i)),n}function $Y(n,e=0,t=1,i=.5,r,s=n,o=n){if(Ll.test(e)&&(e=parseFloat(e),e=Ni(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ni(s.min,s.max,i);n===s&&(l-=e),n.min=uA(n.min,e,t,l,r),n.max=uA(n.max,e,t,l,r)}function cA(n,e,[t,i,r],s,o){$Y(n,e[t],e[i],e[r],e.scale,s,o)}const KY=["x","scaleX","originX"],JY=["y","scaleY","originY"];function dA(n,e,t,i){cA(n.x,e,KY,t?t.x:void 0,i?i.x:void 0),cA(n.y,e,JY,t?t.y:void 0,i?i.y:void 0)}function hA(n){return n.translate===0&&n.scale===1}function $3(n){return hA(n.x)&&hA(n.y)}function fA(n,e){return n.min===e.min&&n.max===e.max}function QY(n,e){return fA(n.x,e.x)&&fA(n.y,e.y)}function pA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function K3(n,e){return pA(n.x,e.x)&&pA(n.y,e.y)}function mA(n){return Hs(n.x)/Hs(n.y)}function gA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class eq{constructor(){this.members=[]}add(e){KS(this.members,e),e.scheduleRender()}remove(e){if(JS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tq(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=t?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:m,rotateX:v,rotateY:_,skewX:x,skewY:M}=t;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),M&&(i+=`skewY(${M}deg) `)}const l=n.x.scale*e.x,d=n.y.scale*e.y;return(l!==1||d!==1)&&(i+=`scale(${l}, ${d})`),i||"none"}const Mw=["","X","Y","Z"],nq=1e3;let iq=0;function Ew(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function J3(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=z3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ci,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&J3(i)}function Q3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},l=e?.()){this.id=iq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oq),this.nodes.forEach(cq),this.nodes.forEach(dq),this.nodes.forEach(aq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new WY)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m3(o)&&!KX(o),this.instance=o;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),n){let m,v=0;const _=()=>this.root.updateBlockedByResize=!1;Ci.read(()=>{v=window.innerWidth}),n(o,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,m&&m(),m=GY(_,250),my.hasAnimatedSinceResize&&(my.hasAnimatedSinceResize=!1,this.nodes.forEach(_A)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||f.getDefaultTransition()||gq,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=f.getProps(),w=!this.targetLayout||!K3(this.targetLayout,x),R=!v&&_;if(this.options.layoutRoot||this.resumeFrom||R||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...pb(M,"layout"),onPlay:C,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,R)}else v||_A(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uq),this.nodes.forEach(rq),this.nodes.forEach(sq)):this.nodes.forEach(yA),this.clearAllSnapshots();const l=fo.now();ts.delta=Ou(0,1e3/60,l-ts.timestamp),ts.timestamp=l,ts.isProcessing=!0,mw.update.process(ts),mw.preRender.process(ts),mw.render.process(ts),ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lq),this.sharedNodes.forEach(fq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ci.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ci.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hs(this.snapshot.measuredBox.x)&&!Hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ji(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!$3(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||Wd(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),vq(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ji();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yq))){const{scroll:f}=this.root;f&&(_f(l.x,f.offset.x),_f(l.y,f.offset.y))}return l}removeElementScroll(o){const l=Ji();if(ta(l,o),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:v}=f;f!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&ta(l,o),_f(l.x,m.offset.x),_f(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const d=Ji();ta(d,o);for(let f=0;f<this.path.length;f++){const m=this.path[f];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&xf(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Wd(m.latestValues)&&xf(d,m.latestValues)}return Wd(this.latestValues)&&xf(d,this.latestValues),d}removeTransform(o){const l=Ji();ta(l,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Wd(f.latestValues))continue;b1(f.latestValues)&&f.updateSnapshot();const m=Ji(),v=f.measurePageBox();ta(m,v),dA(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Wd(this.latestValues)&&dA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=ts.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ji(),this.relativeTargetOrigin=Ji(),mm(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ji(),this.targetWithTransforms=Ji()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ta(this.target,this.layout.layoutBox),I3(this.target,this.targetDelta)):ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ji(),this.relativeTargetOrigin=Ji(),mm(this.relativeTargetOrigin,this.target,_.target),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b1(this.parent.latestValues)||L3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ts.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;ta(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;OZ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ji());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lA(this.prevProjectionDelta.x,this.projectionDelta.x),lA(this.prevProjectionDelta.y,this.projectionDelta.y)),pm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!gA(this.projectionDelta.x,this.prevProjectionDelta.x)||!gA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wf(),this.projectionDelta=wf(),this.projectionDeltaWithTransform=wf()}setAnimationOrigin(o,l=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},v=wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const _=Ji(),x=d?d.source:void 0,M=this.layout?this.layout.source:void 0,C=x!==M,T=this.getStack(),w=!T||T.members.length<=1,R=!!(C&&!w&&this.options.crossfade===!0&&!this.path.some(mq));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const j=O/1e3;xA(v.x,o.x,j),xA(v.y,o.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mm(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pq(this.relativeTarget,this.relativeTargetOrigin,_,j),k&&QY(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ji()),ta(k,this.relativeTarget)),C&&(this.animationValues=m,ZY(m,f,this.latestValues,j,R,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ci.update(()=>{my.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zf(0)),this.currentAnimation=HY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:m}=o;if(!(!l||!d||!f)){if(this!==o&&this.layout&&f&&ek(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ji();const v=Hs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+v;const _=Hs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+_}ta(l,d),xf(l,m),pm(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eq),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&Ew("z",o,f,this.animationValues);for(let m=0;m<Mw.length;m++)Ew(`rotate${Mw[m]}`,o,f,this.animationValues),Ew(`skew${Mw[m]}`,o,f,this.animationValues);o.render();for(const m in f)o.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=py(l?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=py(l?.pointerEvents)||""),this.hasProjected&&!Wd(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=tq(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),o.transform=v;const{x:_,y:x}=this.projectionDelta;o.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,f.animationValues?o.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const M in Wm){if(m[M]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:w}=Wm[M],R=v==="none"?m[M]:C(m[M],f);if(T){const k=T.length;for(let O=0;O<k;O++)o[T[O]]=R}else w?this.options.visualElement.renderState.vars[M]=R:o[M]=R}this.options.layoutId&&(o.pointerEvents=f===this?py(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(vA),this.root.sharedNodes.clear()}}}function rq(n){n.updateLayout()}function sq(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,s=e.source!==n.layout.source;r==="size"?na(m=>{const v=s?e.measuredBox[m]:e.layoutBox[m],_=Hs(v);v.min=t[m].min,v.max=v.min+_}):ek(r,e.layoutBox,t)&&na(m=>{const v=s?e.measuredBox[m]:e.layoutBox[m],_=Hs(t[m]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+_)});const o=wf();pm(o,t,e.layoutBox);const l=wf();s?pm(l,n.applyTransform(i,!0),e.measuredBox):pm(l,t,e.layoutBox);const d=!$3(o);let f=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:_}=m;if(v&&_){const x=Ji();mm(x,e.layoutBox,v.layoutBox);const M=Ji();mm(M,t,_.layoutBox),K3(x,M)||(f=!0),m.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=x,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function oq(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lq(n){n.clearSnapshot()}function vA(n){n.clearMeasurements()}function yA(n){n.isLayoutDirty=!1}function uq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function _A(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cq(n){n.resolveTargetDelta()}function dq(n){n.calcProjection()}function hq(n){n.resetSkewAndRotation()}function fq(n){n.removeLeadSnapshot()}function xA(n,e,t){n.translate=Ni(e.translate,0,t),n.scale=Ni(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function wA(n,e,t,i){n.min=Ni(e.min,t.min,i),n.max=Ni(e.max,t.max,i)}function pq(n,e,t,i){wA(n.x,e.x,t.x,i),wA(n.y,e.y,t.y,i)}function mq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gq={duration:.45,ease:[.4,0,.1,1]},SA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bA=SA("applewebkit/")&&!SA("chrome/")?Math.round:sa;function TA(n){n.min=bA(n.min),n.max=bA(n.max)}function vq(n){TA(n.x),TA(n.y)}function ek(n,e,t){return n==="position"||n==="preserve-aspect"&&!bY(mA(e),mA(t),.2)}function yq(n){return n!==n.root&&n.scroll?.wasRoot}const _q=Q3({attachResizeListener:(n,e)=>Xm(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cw={current:void 0},tk=Q3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cw.current){const n=new _q({});n.mount(window),n.setOptions({layoutScroll:!0}),Cw.current=n}return Cw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xq={pan:{Feature:zY},drag:{Feature:FY,ProjectionNode:tk,MeasureLayout:Z3}};function MA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&Ci.postRender(()=>s(e,vg(e)))}class wq extends qc{mount(){const{current:e}=this.node;e&&(this.unmount=XX(e,(t,i)=>(MA(this.node,i,"Start"),r=>MA(this.node,r,"End"))))}unmount(){}}class Sq extends qc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pg(Xm(this.node.current,"focus",()=>this.onFocus()),Xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&Ci.postRender(()=>s(e,vg(e)))}class bq extends qc{mount(){const{current:e}=this.node;e&&(this.unmount=$X(e,(t,i)=>(EA(this.node,i,"Start"),(r,{success:s})=>EA(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R1=new WeakMap,Aw=new WeakMap,Tq=n=>{const e=R1.get(n.target);e&&e(n)},Mq=n=>{n.forEach(Tq)};function Eq({root:n,...e}){const t=n||document;Aw.has(t)||Aw.set(t,{});const i=Aw.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Mq,{root:n,...e})),i[r]}function Cq(n,e,t){const i=Eq(e);return R1.set(n,t),i.observe(n),()=>{R1.delete(n),i.unobserve(n)}}const Aq={some:0,all:1};class Pq extends qc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Aq[r]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),_=f?m:v;_&&_(d)};return Cq(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Rq(e,t))&&this.startObserver()}unmount(){}}function Rq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Lq={inView:{Feature:Pq},tap:{Feature:bq},focus:{Feature:Sq},hover:{Feature:wq}},Iq={layout:{ProjectionNode:tk,MeasureLayout:Z3}},kq={...vY,...Lq,...xq,...Iq},Nq=IZ(kq,GZ),Oq=()=>{const n=Gf();return G.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),V.jsx(Nq.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"text-center p-8 rounded-lg border border-border bg-card shadow-md",children:V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:V.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[V.jsx(sO,{className:"mx-auto mb-4 text-primary",size:48}),V.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),V.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),V.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Tried to access: ",V.jsx("code",{children:n.pathname})]}),V.jsx(P4,{to:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})})},Dq="/assets/about-grp0-DK4s38je.jpg",Fq=()=>V.jsx(eg,{children:V.jsxs("div",{className:"container mx-auto px-4",children:[V.jsx("section",{className:"relative py-32 px-4 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${Dq})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",filter:"grayscale(100%)"},children:V.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white dark:text-white backdrop-blur-sm p-6 rounded-lg",children:[V.jsx("h1",{className:"text-5xl font-bold mb-4 transition-colors duration-500",children:"Locally Trusted. Family Safe."}),V.jsx("p",{className:"text-xl max-w-2xl mx-auto transition-colors duration-500",children:"Torres Pest Control has protected homes and businesses in Davao for over 14 years with safe, effective, and eco-conscious pest solutions."})]})}),V.jsx("section",{className:"py-20 bg-white dark:bg-gray-900",children:V.jsxs("div",{className:"max-w-5xl mx-auto px-4 space-y-12",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Commitment"}),V.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"We treat every property like our own  with precision, care, and respect. Whether its a family home, a clinic, or a local shop, our goal is to eliminate pests while preserving safety and trust."})]}),V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Approach"}),V.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"We follow Integrated Pest Management (IPM) principles  combining sanitation, structural defense, and targeted treatments. Only when necessary do we apply eco-safe chemicals, always with minimal exposure and maximum effectiveness."})]}),V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Safety & Compliance"}),V.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Our technicians are trained in public health protocols and safe application methods. We prioritize child-safe, pet-safe, and environmentally responsible solutions  especially for hospitals, schools, and food establishments."})]}),V.jsxs("div",{id:"founder-hightlight",children:[V.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Meet Our Team"}),V.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Behind the company is a dedicated team of pest specialists trained in IPM, sanitation, and public safety. Our founder, Dennis Torres, believes that every service visit builds trust  not just terminates pests."}),V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-6 mt-8",children:[1,2,3,4,5,6,7,8].map(n=>V.jsx("img",{src:`/images/about-grp${n}.jpg`,alt:`Team Member ${n}`,className:"rounded-lg shadow-md object-cover w-full h-64"},n))})]})]})})]})}),nk="/assets/tpc_006-CKD0wCKe.jpg",zq="/assets/tpc_cert_1-ZcfWw3cz.jpg",Uq="/assets/tpc_cert_3-CVVWYaJs.jpg",Bq="/assets/tpc_cert_2-DzZNnsWX.jpg",Vq=()=>V.jsx(eg,{children:V.jsxs("div",{className:"container mx-auto px-4",children:[V.jsx("section",{className:"relative py-32 px-4 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${nk})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",filter:"grayscale(100%)"},children:V.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white dark:text-white backdrop-blur-sm p-6 rounded-lg",children:[V.jsx("h1",{className:"text-5xl font-bold mb-4 transition-colors duration-500",children:"Legal Certifications & Compliance"}),V.jsx("p",{className:"text-xl max-w-2xl mx-auto transition-colors duration-500",children:"Torres Pest Control operates with full accreditation and regulatory compliance for chemical safety, sanitation, and insured service delivery."})]})}),V.jsxs("section",{className:"py-20 bg-white dark:bg-gray-900",children:[V.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-10",children:[{label:"Business Permit",image:zq},{label:"License to Operate",image:Bq},{label:"Sanitary Permit",image:Uq}].map(({label:n,image:e})=>V.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-200 dark:border-gray-800",children:[V.jsx("img",{src:e,alt:n,className:"w-full h-auto"}),V.jsx("div",{className:"p-4 text-center",children:V.jsx("h2",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:n})})]},n))}),V.jsx("div",{className:"mt-16 text-center",children:V.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["For verification or full documentation, kindly request via"," ",V.jsx("a",{href:"#contact",className:"text-green-600 dark:text-green-400 underline",children:"contact form"}),"."]})})]})]})}),Hq="modulepreload",jq=function(n){return"/"+n},CA={},Ic=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var o=f;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");r=f(t.map(m=>{if(m=jq(m),m in CA)return;CA[m]=!0;const v=m.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Hq,v||(x.as="script"),x.crossOrigin="",x.href=m,d&&x.setAttribute("nonce",d),document.head.appendChild(x),v)return new Promise((M,C)=>{x.addEventListener("load",M),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return r.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wq(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nc=function(){return Nc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Nc.apply(this,arguments)};function Gq(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}var gi={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},Xq={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function Zq(){(function(){if(typeof window.CustomEvent=="function")return!1;function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}window.CustomEvent=n})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var ik=function(){function n(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return n.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)})},n.prototype._getSelector=function(e,t){if(t===void 0&&(t=document),typeof e!="string")return e;t=t||document;var i=e.substring(0,1);return i==="#"?t.querySelector(e):t.querySelectorAll(e)},n.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},n.prototype._setCssVendorPrefix=function(e,t,i){var r=t.replace(/-([a-z])/gi,function(s,o){return o.toUpperCase()});this.cssVenderPrefixes.indexOf(r)!==-1?(e.style[r.charAt(0).toLowerCase()+r.slice(1)]=i,e.style["webkit"+r]=i,e.style["moz"+r]=i,e.style["ms"+r]=i,e.style["o"+r]=i):e.style[r]=i},n.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},n.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter(function(r){return r}).every(function(r){return i.indexOf(r)!==-1})},n.prototype.attr=function(e,t){return t===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(i){i.setAttribute(e,t)}),this)},n.prototype.find=function(e){return on(this._getSelector(e,this.selector))},n.prototype.first=function(){return this.selector&&this.selector.length!==void 0?on(this.selector[0]):on(this.selector)},n.prototype.eq=function(e){return on(this.selector[e])},n.prototype.parent=function(){return on(this.selector.parentElement)},n.prototype.get=function(){return this._getFirstEl()},n.prototype.removeAttr=function(e){var t=e.split(" ");return this._each(function(i){t.forEach(function(r){return i.removeAttribute(r)})}),this},n.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},n.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.add(i)})}),this},n.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.remove(i)})}),this},n.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},n.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},n.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},n.prototype.css=function(e,t){var i=this;return this._each(function(r){i._setCssVendorPrefix(r,e,t)}),this},n.prototype.on=function(e,t){var i=this;return this.selector?(e.split(" ").forEach(function(r){Array.isArray(n.eventListeners[r])||(n.eventListeners[r]=[]),n.eventListeners[r].push(t),i.selector.addEventListener(r.split(".")[0],t)}),this):this},n.prototype.once=function(e,t){var i=this;return this.on(e,function(){i.off(e),t(e)}),this},n.prototype.off=function(e){var t=this;return this.selector?(Object.keys(n.eventListeners).forEach(function(i){t.isEventMatched(e,i)&&(n.eventListeners[i].forEach(function(r){t.selector.removeEventListener(i.split(".")[0],r)}),n.eventListeners[i]=[])}),this):this},n.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},n.prototype.load=function(e){var t=this;return fetch(e).then(function(i){return i.text()}).then(function(i){t.selector.innerHTML=i}),this},n.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(t){t.innerHTML=e}),this)},n.prototype.append=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this},n.prototype.prepend=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("afterbegin",e):e instanceof HTMLElement&&t.insertBefore(e.cloneNode(!0),t.firstChild)}),this},n.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},n.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},n.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},n.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},n.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=on("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},n.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},n.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},n.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},n.eventListeners={},n}();function on(n){return Zq(),new ik(n)}var Yq=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function qq(n){return n==="href"?"src":(n=n.replace("data-",""),n=n.charAt(0).toLowerCase()+n.slice(1),n=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),n)}var xr={fetchCaptionFromUrl:function(n,e,t){fetch(n).then(function(i){return i.text()}).then(function(i){if(t==="append"){var r='<div class="lg-sub-html">'+i+"</div>";e.append(r)}else e.html(i)})},getSize:function(n,e,t,i){t===void 0&&(t=0);var r=on(n),s=r.attr("data-lg-size")||i;if(s){var o=s.split(",");if(o[1])for(var l=window.innerWidth,d=0;d<o.length;d++){var f=o[d],m=parseInt(f.split("-")[2],10);if(m>l){s=f;break}d===o.length-1&&(s=f)}var v=s.split("-"),_=parseInt(v[0],10),x=parseInt(v[1],10),M=e.width(),C=e.height()-t,T=Math.min(M,_),w=Math.min(C,x),R=Math.min(T/_,w/x);return{width:_*R,height:x*R}}},getTransform:function(n,e,t,i,r){if(r){var s=on(n).find("img").first();if(s.get()){var o=e.get().getBoundingClientRect(),l=o.width,d=e.height()-(t+i),f=s.width(),m=s.height(),v=s.style(),_=(l-f)/2-s.offset().left+(parseFloat(v.paddingLeft)||0)+(parseFloat(v.borderLeft)||0)+on(window).scrollLeft()+o.left,x=(d-m)/2-s.offset().top+(parseFloat(v.paddingTop)||0)+(parseFloat(v.borderTop)||0)+on(window).scrollTop()+t,M=f/r.width,C=m/r.height,T="translate3d("+(_*=-1)+"px, "+(x*=-1)+"px, 0) scale3d("+M+", "+C+", 1)";return T}}},getIframeMarkup:function(n,e,t,i,r,s){var o=s?'title="'+s+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+n+"; max-width:"+t+"; height: "+e+"; max-height:"+i+`">
                    <iframe class="lg-object" frameborder="0" `+o+' src="'+r+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(n,e,t,i,r,s){var o=i?'srcset="'+i+'"':"",l=r?'sizes="'+r+'"':"",d="<img "+t+" "+o+"  "+l+' class="lg-object lg-image" data-index="'+n+'" src="'+e+'" />',f="";if(s){var m=typeof s=="string"?JSON.parse(s):s;f=m.map(function(v){var _="";return Object.keys(v).forEach(function(x){_+=" "+x+'="'+v[x]+'"'}),"<source "+_+"></source>"})}return""+f+d},getResponsiveSrc:function(n){for(var e=[],t=[],i="",r=0;r<n.length;r++){var s=n[r].split(" ");s[0]===""&&s.splice(0,1),t.push(s[0]),e.push(s[1])}for(var o=window.innerWidth,l=0;l<e.length;l++)if(parseInt(e[l],10)>o){i=t[l];break}return i},isImageLoaded:function(n){return!(!n||!n.complete||n.naturalWidth===0)},getVideoPosterMarkup:function(n,e,t,i,r){var s="";r&&r.youtube?s="lg-has-youtube":r&&r.vimeo?s="lg-has-vimeo":s="lg-has-html5";var o=e;return typeof e!="string"&&(o=e.outerHTML),'<div class="lg-video-cont '+s+'" style="'+t+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+i+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+i+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+o+`
            <img class="lg-object lg-video-poster" src="`+n+`" />
        </div>`},getFocusableElements:function(n){var e=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[].filter.call(e,function(i){var r=window.getComputedStyle(i);return r.display!=="none"&&r.visibility!=="hidden"});return t},getDynamicOptions:function(n,e,t,i){var r=[],s=Gq(Yq,e);return[].forEach.call(n,function(o){for(var l={},d=0;d<o.attributes.length;d++){var f=o.attributes[d];if(f.specified){var m=qq(f.name),v="";s.indexOf(m)>-1&&(v=m),v&&(l[v]=f.value)}}var _=on(o),x=_.find("img").first().attr("alt"),M=_.attr("title"),C=i?_.attr(i):_.find("img").first().attr("src");l.thumb=C,t&&!l.subHtml&&(l.subHtml=M||x||""),l.alt=x||M||"",r.push(l)}),r},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(n,e,t){if(!n){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(t+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var i=n.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),r=n.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),s=n.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(i)return{youtube:i};if(r)return{vimeo:r};if(s)return{wistia:s}}},AA=0,$q=function(){function n(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(AA++,this.lgId=AA,this.el=e,this.LGel=on(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return n.prototype.generateSettings=function(e){if(this.settings=Nc(Nc({},Xq),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():xr.isMobile()){var t=Nc(Nc({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=Nc(Nc({},this.settings),t)}},n.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var e=this.settings.container;if(typeof e=="function")this.settings.container=e();else if(typeof e=="string"){var t=document.querySelector(e);this.settings.container=t??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},n.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(gi.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},n.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(s){var o=i.items[s],l=on(o),d=ik.generateUUID();l.attr("data-lg-id",d).on("click.lgcustom-item-"+d,function(f){f.preventDefault();var m=e.settings.index||s;e.openGallery(m,o)})},i=this,r=0;r<this.items.length;r++)t(r)},n.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(t){e.plugins.push(new t(e,on))})},n.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},n.prototype.getSlideItem=function(e){return on(this.getSlideItemId(e))},n.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},n.prototype.getIdName=function(e){return e+"-"+this.lgId},n.prototype.getElementById=function(e){return on("#"+this.getIdName(e))},n.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},n.prototype.buildStructure=function(){var e=this,t=this.$container&&this.$container.get();if(!t){var i="",r="";this.settings.controls&&(i='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(r='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var o=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",l=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",d="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),f=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",m=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",v=`
        <div class="`+d+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+o+" "+l+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+i+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+m+`
                    `+f+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?r:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?r:"")+`
                </div>
            </div>
        </div>
        `;on(this.settings.container).append(v),document.body!==this.settings.container&&on(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var _=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(_+="lg-grab "),this.outer.addClass(_),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),on(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},n.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],t=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var i=this.mediaContainerPosition,r=i.top,s=i.bottom;if(this.currentImageSize=xr.getSize(this.items[this.index],this.outer,r+s,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var o=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",o)}this.LGel.trigger(gi.containerResize)}},n.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t),r=this.getSlideItem(e);r.find(".lg-video-cont").attr("style",i)},n.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var r=0;this.galleryItems.some(function(s,o){return s.src===i?(r=o,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(r,-1),this.loadContent(r,!0),this.getSlideItem(r).addClass("lg-current"),this.index=r,this.updateCurrentCounter(r),this.LGel.trigger(gi.updateSlides)},n.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=on(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return xr.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},n.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},n.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(on("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;on(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),on(document.body).addClass("lg-overlay-open")}},n.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(on(document.body).css("padding-right",this.bodyPaddingRight+"px"),on(document.body).removeClass("lg-overlay-open"))},n.prototype.openGallery=function(e,t){var i=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var r=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=r;var s="";r.forEach(function(_){s=s+('<div id="'+_+'" class="lg-item"></div>')}),this.$inner.append(s),this.addHtml(e);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var l=this.mediaContainerPosition,d=l.top,f=l.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(d,f);var m=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=xr.getSize(t,this.outer,d+f,m&&this.settings.videoMaxSize),o=xr.getTransform(t,this.outer,d,f,this.currentImageSize)),(!this.zoomFromOrigin||!o)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var v=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){i.outer.addClass("lg-components-open")},v),this.index=e,this.LGel.trigger(gi.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=on(window).scrollTop(),setTimeout(function(){if(i.zoomFromOrigin&&o){var _=i.getSlideItem(e);_.css("transform",o),setTimeout(function(){_.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){_.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")},10),setTimeout(function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()},i.settings.backdropDuration+50),(!i.zoomFromOrigin||!o)&&setTimeout(function(){i.outer.addClass("lg-visible")},i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger(gi.afterOpen)}),document.body===this.settings.container&&on("html").addClass("lg-on")}},n.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,r=this.outer.find(".lg-thumb-outer").get(),s=r?r.clientHeight:0,o=s+i;return{top:e,bottom:o}},n.prototype.setMediaContainerPosition=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},n.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},n.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},n.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},n.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var r=t.substring(0,1);if(r==="."||r==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?t=on(this.items).eq(e).find(t).first().html():t=on(t).first().html()}catch{console.warn('Error processing subHtml selector "'+t+'"'),t=""}}else t="";if(this.settings.appendSubHtmlTo!==".lg-item")i?xr.fetchCaptionFromUrl(i,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(t);else{var s=on(this.getSlideItemId(e));i?xr.fetchCaptionFromUrl(i,s,"append"):s.append('<div class="lg-sub-html">'+t+"</div>")}typeof t<"u"&&t!==null&&(t===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(gi.afterAppendSubHtml,{index:e})},n.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},n.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},n.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},n.prototype.getDummyImageContent=function(e,t,i){var r;if(this.settings.dynamic||(r=on(this.items).eq(t)),r){var s=void 0;if(this.settings.exThumbImage?s=r.attr(this.settings.exThumbImage):s=r.find("img").first().attr("src"),!s)return"";var o=this.getDummyImgStyles(this.currentImageSize),l=document.createElement("img");return l.alt=i||"",l.src=s,l.className="lg-dummy-img",l.style.cssText=o,e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),l}return""},n.prototype.setImgMarkup=function(e,t,i){var r=this.galleryItems[i],s=r.alt,o=r.srcset,l=r.sizes,d=r.sources,f="",m=s?'alt="'+s+'"':"";this.isFirstSlideWithZoomAnimation()?f=this.getDummyImageContent(t,i,m):f=xr.getImgMarkup(i,e,m,o,l,d);var v=document.createElement("picture");v.className="lg-img-wrap",on(v).append(f),t.prepend(v)},n.prototype.onSlideObjectLoad=function(e,t,i,r){var s=e.find(".lg-object").first();xr.isImageLoaded(s.get())||t?i():(s.on("load.lg error.lg",function(){i&&i()}),s.on("error.lg",function(){r&&r()}))},n.prototype.onLgObjectLoad=function(e,t,i,r,s,o){var l=this;this.onSlideObjectLoad(e,o,function(){l.triggerSlideItemLoad(e,t,i,r,s)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+l.settings.strings.mediaLoadingFailed+"</span>")})},n.prototype.triggerSlideItemLoad=function(e,t,i,r,s){var o=this,l=this.galleryItems[t],d=s&&this.getSlideType(l)==="video"&&!l.poster?r:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),o.LGel.trigger(gi.slideItemLoad,{index:t,delay:i||0,isFirstSlide:s})},d)},n.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},n.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach(function(i,r){i.__slideVideoInfo=xr.isVideo(i.src,!!i.video,r),i.__slideVideoInfo&&t.settings.loadYouTubePoster&&!i.poster&&i.__slideVideoInfo.youtube&&(i.poster="//img.youtube.com/vi/"+i.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},n.prototype.loadContent=function(e,t){var i=this,r=this.galleryItems[e],s=on(this.getSlideItemId(e)),o=r.poster,l=r.srcset,d=r.sizes,f=r.sources,m=r.src,v=r.video,_=v&&typeof v=="string"?JSON.parse(v):v;if(r.responsive){var x=r.responsive.split(",");m=xr.getResponsiveSrc(x)||m}var M=r.__slideVideoInfo,C="",T=!!r.iframe,w=!this.lGalleryOn,R=0;if(w&&(this.zoomFromOrigin&&this.currentImageSize?R=this.settings.startAnimationDuration+10:R=this.settings.backdropDuration+10),!s.hasClass("lg-loaded")){if(M){var k=this.mediaContainerPosition,O=k.top,j=k.bottom,X=xr.getSize(this.items[e],this.outer,O+j,M&&this.settings.videoMaxSize);C=this.getVideoContStyle(X)}if(T){var Z=xr.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,m,r.iframeTitle);s.prepend(Z)}else if(o){var z="",U=w&&this.zoomFromOrigin&&this.currentImageSize;U&&(z=this.getDummyImageContent(s,e,""));var Z=xr.getVideoPosterMarkup(o,z||"",C,this.settings.strings.playVideo,M);s.prepend(Z)}else if(M){var Z='<div class="lg-video-cont " style="'+C+'"></div>';s.prepend(Z)}else if(this.setImgMarkup(m,s,e),l||f){var N=s.find(".lg-object");this.initPictureFill(N)}(o||M)&&this.LGel.trigger(gi.hasVideo,{index:e,src:m,html5Video:_,hasPoster:!!o}),this.LGel.trigger(gi.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var Y=0;R&&!on(document.body).hasClass("lg-from-hash")&&(Y=R),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){s.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),s.hasClass("lg-loaded")||setTimeout(function(){if(i.getSlideType(r)==="image"){var Q=r.alt,ae=Q?'alt="'+Q+'"':"";if(s.find(".lg-img-wrap").append(xr.getImgMarkup(e,m,ae,l,d,r.sources)),l||f){var se=s.find(".lg-object");i.initPictureFill(se)}}(i.getSlideType(r)==="image"||i.getSlideType(r)==="video"&&o)&&(i.onLgObjectLoad(s,e,R,Y,!0,!1),i.onSlideObjectLoad(s,!!(M&&M.html5&&!o),function(){i.loadContentOnFirstSlideLoad(e,s,Y)},function(){i.loadContentOnFirstSlideLoad(e,s,Y)}))},this.settings.startAnimationDuration+100)),s.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(r)==="video"&&!o)&&this.onLgObjectLoad(s,e,R,Y,w,!!(M&&M.html5&&!o)),(!this.zoomFromOrigin||!this.currentImageSize)&&s.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){s.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,t===!0&&(s.hasClass("lg-complete_")?this.preload(e):s.find(".lg-object").first().on("load.lg error.lg",function(){i.preload(e)}))},n.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var r=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),r.outer.removeClass("lg-first-slide-loading"),r.isDummyImageRemoved=!0,r.preload(e)},i+300)},n.prototype.getItemsToBeInsertedToDom=function(e,t,i){var r=this;i===void 0&&(i=0);var s=[],o=Math.max(i,3);o=Math.min(o,this.galleryItems.length);var l="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(m,v){s.push("lg-item-"+r.lgId+"-"+v)}),s;if(e<(this.galleryItems.length-1)/2){for(var d=e;d>e-o/2&&d>=0;d--)s.push("lg-item-"+this.lgId+"-"+d);for(var f=s.length,d=0;d<o-f;d++)s.push("lg-item-"+this.lgId+"-"+(e+d+1))}else{for(var d=e;d<=this.galleryItems.length-1&&d<e+o/2;d++)s.push("lg-item-"+this.lgId+"-"+d);for(var f=s.length,d=0;d<o-f;d++)s.push("lg-item-"+this.lgId+"-"+(e-d-1))}return this.settings.loop&&(e===this.galleryItems.length-1?s.push("lg-item-"+this.lgId+"-0"):e===0&&s.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),s.indexOf(l)===-1&&s.push("lg-item-"+this.lgId+"-"+t),s},n.prototype.organizeSlideItems=function(e,t){var i=this,r=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return r.forEach(function(s){i.currentItemsInDom.indexOf(s)===-1&&i.$inner.append('<div id="'+s+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(s){r.indexOf(s)===-1&&on("#"+s).remove()}),r},n.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch{e=0}return e},n.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e],i=t.downloadUrl===!1||t.downloadUrl==="false";if(i)this.outer.addClass("lg-hide-download");else{var r=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),r.attr("href",t.downloadUrl||t.src),t.download&&r.attr("download",t.download)}}},n.prototype.makeSlideAnimation=function(e,t,i){var r=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){r.outer.addClass("lg-no-trans"),r.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){r.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),r.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},n.prototype.slide=function(e,t,i,r){var s=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,o),!(this.lGalleryOn&&o===e)){var l=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var d=this.getSlideItem(e),f=this.getSlideItem(o),m=this.galleryItems[e],v=m.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(m)),this.setDownloadValue(e),v){var _=this.mediaContainerPosition,x=_.top,M=_.bottom,C=xr.getSize(this.items[e],this.outer,x+M,v&&this.settings.videoMaxSize);this.resizeVideoSlide(e,C)}if(this.LGel.trigger(gi.beforeSlide,{prevIndex:o,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),r||(e<o?r="prev":e>o&&(r="next")),!t)this.makeSlideAnimation(r,d,f);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var T=void 0,w=void 0;l>2?(T=e-1,w=e+1,(e===0&&o===l-1||e===l-1&&o===0)&&(w=0,T=l-1)):(T=0,w=1),r==="prev"?this.getSlideItem(w).addClass("lg-next-slide"):this.getSlideItem(T).addClass("lg-prev-slide"),d.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){s.loadContent(e,!0),s.settings.appendSubHtmlTo!==".lg-item"&&s.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){s.lgBusy=!1,f.removeClass("lg-slide-progress"),s.LGel.trigger(gi.afterSlide,{prevIndex:o,index:e,fromTouch:t,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},n.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},n.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},n.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},n.prototype.touchMove=function(e,t,i){var r=t.pageX-e.pageX,s=t.pageY-e.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(r)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(s)>15&&(this.swipeDirection="vertical",o=!0),!!o){var l=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){i?.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(l,r,0);var d=l.get().offsetWidth,f=d*15/100,m=f-Math.abs(r*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-d+r-m,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),d+r+m,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){i?.preventDefault(),this.$container.addClass("lg-dragging-vertical");var v=1-Math.abs(s)/window.innerHeight;this.$backdrop.css("opacity",v);var _=1-Math.abs(s)/(window.innerWidth*2);this.setTranslate(l,0,s,_,_),Math.abs(s)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},n.prototype.touchEnd=function(e,t,i){var r=this,s;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){r.$container.removeClass("lg-dragging-vertical"),r.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if(r.swipeDirection==="horizontal"){s=e.pageX-t.pageX;var l=Math.abs(e.pageX-t.pageX);s<0&&l>r.settings.swipeThreshold?(r.goToNextSlide(!0),o=!1):s>0&&l>r.settings.swipeThreshold&&(r.goToPrevSlide(!0),o=!1)}else if(r.swipeDirection==="vertical")if(s=Math.abs(e.pageY-t.pageY),r.settings.closable&&r.settings.swipeToClose&&s>100){r.closeGallery();return}else r.$backdrop.css("opacity",1);if(r.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(e.pageX-t.pageX)<5){var d=on(i.target);r.isPosterElement(d)&&r.LGel.trigger(gi.posterClick)}r.swipeDirection=void 0}),setTimeout(function(){!r.outer.hasClass("lg-dragging")&&r.settings.mode!=="lg-slide"&&r.outer.removeClass("lg-slide")},this.settings.speed+100)},n.prototype.enableSwipe=function(){var e=this,t={},i={},r=!1,s=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(o){e.dragOrSwipeEnabled=!0;var l=e.getSlideItem(e.index);(on(o.target).hasClass("lg-item")||l.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&o.touches.length===1&&(s=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(o){s&&e.touchAction==="swipe"&&o.touches.length===1&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e.touchMove(t,i,o),r=!0)}),this.$inner.on("touchend.lg",function(o){if(e.touchAction==="swipe"){if(r)r=!1,e.touchEnd(i,t,o);else if(s){var l=on(o.target);e.isPosterElement(l)&&e.LGel.trigger(gi.posterClick)}e.touchAction=void 0,s=!1}}))},n.prototype.enableDrag=function(){var e=this,t={},i={},r=!1,s=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(o){e.dragOrSwipeEnabled=!0;var l=e.getSlideItem(e.index);(on(o.target).hasClass("lg-item")||l.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(o.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:o.pageX,pageY:o.pageY},r=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(gi.dragStart)))}),on(window).on("mousemove.lg.global"+this.lgId,function(o){r&&e.lgOpened&&(s=!0,i={pageX:o.pageX,pageY:o.pageY},e.touchMove(t,i),e.LGel.trigger(gi.dragMove))}),on(window).on("mouseup.lg.global"+this.lgId,function(o){if(e.lgOpened){var l=on(o.target);s?(s=!1,e.touchEnd(i,t,o),e.LGel.trigger(gi.dragEnd)):e.isPosterElement(l)&&e.LGel.trigger(gi.posterClick),r&&(r=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},n.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(on(t.target))&&e.LGel.trigger(gi.posterClick)})},n.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},n.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(gi.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(gi.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},n.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(gi.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(gi.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},n.prototype.keyPress=function(){var e=this;on(window).on("keydown.lg.global"+this.lgId,function(t){e.lgOpened&&e.settings.escKey===!0&&t.keyCode===27&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(t.keyCode===37&&(t.preventDefault(),e.goToPrevSlide()),t.keyCode===39&&(t.preventDefault(),e.goToNextSlide()))})},n.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},n.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),e===0?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},n.prototype.setTranslate=function(e,t,i,r,s){r===void 0&&(r=1),s===void 0&&(s=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+r+", "+s+", 1)")},n.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",function(i){if(!(!i.deltaY||e.galleryItems.length<2)){i.preventDefault();var r=new Date().getTime();r-t<1e3||(t=r,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}})},n.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")||e.hasClass("lg-img-rotate")},n.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},n.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},n.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e],i=on(t);i.off("click.lgcustom-item-"+i.attr("data-lg-id"))}},n.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),on(window).on("keydown.lg.global"+this.lgId,function(t){if(e.lgOpened){var i=t.key==="Tab"||t.keyCode===9;if(i){var r=xr.getFocusableElements(e.$container.get()),s=r[0],o=r[r.length-1];t.shiftKey?document.activeElement===s&&(o.focus(),t.preventDefault()):document.activeElement===o&&(s.focus(),t.preventDefault())}}})},n.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(i){var r=on(i.target);e.isSlideElement(r)?t=!0:t=!1}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(i){var r=on(i.target);e.isSlideElement(r)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},n.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(gi.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&on(window).scrollTop(this.prevScrollTop);var i=this.items[this.index],r;if(this.zoomFromOrigin&&i){var s=this.mediaContainerPosition,o=s.top,l=s.bottom,d=this.galleryItems[this.index],f=d.__slideVideoInfo,m=d.poster,v=xr.getSize(i,this.outer,o+l,f&&m&&this.settings.videoMaxSize);r=xr.getTransform(i,this.outer,o,l,v)}this.zoomFromOrigin&&r?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",r)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,on("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var _=this.zoomFromOrigin&&r?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&r&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(gi.afterClose,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},_+100),_+100},n.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},n.prototype.destroyModules=function(e){this.plugins.forEach(function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},n.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(gi.updateSlides)},n.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},n.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),on(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},n.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},n}();function Kq(n,e){return new $q(n,e)}var ji={onAfterAppendSlide:"lgAfterAppendSlide",onInit:"lgInit",onHasVideo:"lgHasVideo",onContainerResize:"lgContainerResize",onAfterAppendSubHtml:"lgAfterAppendSubHtml",onBeforeOpen:"lgBeforeOpen",onAfterOpen:"lgAfterOpen",onSlideItemLoad:"lgSlideItemLoad",onBeforeSlide:"lgBeforeSlide",onAfterSlide:"lgAfterSlide",onPosterClick:"lgPosterClick",onDragStart:"lgDragStart",onDragMove:"lgDragMove",onDragEnd:"lgDragEnd",onBeforeNextSlide:"lgBeforeNextSlide",onBeforePrevSlide:"lgBeforePrevSlide",onBeforeClose:"lgBeforeClose",onAfterClose:"lgAfterClose",onRotateLeft:"lgRotateLeft",onRotateRight:"lgRotateRight",onFlipHorizontal:"lgFlipHorizontal",onFlipVertical:"lgFlipVertical"},Jq=function(n){var e=n.children,t=n.elementClassNames,i=n.onAfterAppendSlide,r=n.onInit,s=n.onHasVideo,o=n.onContainerResize,l=n.onAfterAppendSubHtml,d=n.onBeforeOpen,f=n.onAfterOpen,m=n.onSlideItemLoad,v=n.onBeforeSlide,_=n.onAfterSlide,x=n.onPosterClick,M=n.onDragStart,C=n.onDragMove,T=n.onDragEnd,w=n.onBeforeNextSlide,R=n.onBeforePrevSlide,k=n.onBeforeClose,O=n.onAfterClose,j=n.onRotateLeft,X=n.onRotateRight,Z=n.onFlipHorizontal,z=n.onFlipVertical,U=Wq(n,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),N=G.useRef(null),Y=G.useCallback(function(){i&&N&&N.current&&N.current.addEventListener(ji.onAfterAppendSlide,function(Q){i(Q.detail)}),r&&N&&N.current&&N.current.addEventListener(ji.onInit,function(Q){r(Q.detail)}),s&&N&&N.current&&N.current.addEventListener(ji.onHasVideo,function(Q){s(Q.detail)}),o&&N&&N.current&&N.current.addEventListener(ji.onContainerResize,function(Q){o(Q.detail)}),l&&N&&N.current&&N.current.addEventListener(ji.onAfterAppendSubHtml,function(Q){l(Q.detail)}),d&&N&&N.current&&N.current.addEventListener(ji.onBeforeOpen,function(Q){d(Q.detail)}),f&&N&&N.current&&N.current.addEventListener(ji.onAfterOpen,function(Q){f(Q.detail)}),m&&N&&N.current&&N.current.addEventListener(ji.onSlideItemLoad,function(Q){m(Q.detail)}),v&&N&&N.current&&N.current.addEventListener(ji.onBeforeSlide,function(Q){v(Q.detail)}),_&&N&&N.current&&N.current.addEventListener(ji.onAfterSlide,function(Q){_(Q.detail)}),x&&N&&N.current&&N.current.addEventListener(ji.onPosterClick,function(Q){x(Q.detail)}),M&&N&&N.current&&N.current.addEventListener(ji.onDragStart,function(Q){M(Q.detail)}),C&&N&&N.current&&N.current.addEventListener(ji.onDragMove,function(Q){C(Q.detail)}),T&&N&&N.current&&N.current.addEventListener(ji.onDragEnd,function(Q){T(Q.detail)}),w&&N&&N.current&&N.current.addEventListener(ji.onBeforeNextSlide,function(Q){w(Q.detail)}),R&&N&&N.current&&N.current.addEventListener(ji.onBeforePrevSlide,function(Q){R(Q.detail)}),k&&N&&N.current&&N.current.addEventListener(ji.onBeforeClose,function(Q){k(Q.detail)}),O&&N&&N.current&&N.current.addEventListener(ji.onAfterClose,function(Q){O(Q.detail)}),j&&N&&N.current&&N.current.addEventListener(ji.onRotateLeft,function(Q){j(Q.detail)}),X&&N&&N.current&&N.current.addEventListener(ji.onRotateRight,function(Q){X(Q.detail)}),Z&&N&&N.current&&N.current.addEventListener(ji.onFlipHorizontal,function(Q){Z(Q.detail)}),z&&N&&N.current&&N.current.addEventListener(ji.onFlipVertical,function(Q){z(Q.detail)})},[i,l,O,j,X,Z,z,f,_,k,w,d,R,v,o,T,C,M,s,r,x,m]);return G.useEffect(function(){Y();var Q=Kq(N.current,U);return function(){Q.destroy()}},[Y,U]),G.createElement("div",{className:"lg-react-element "+(t||""),ref:N},e)};/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var v0=function(){return v0=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},v0.apply(this,arguments)},Qq={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},Su={containerResize:"lgContainerResize",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",afterSlide:"lgAfterSlide",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical"},Pw=500,e$=function(){function n(e,t){return this.core=e,this.$LG=t,this.settings=v0(v0({},Qq),this.core.settings),this}return n.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},n.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())},i+30)},n.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(Su.slideItemLoad+".zoom",this.enableZoom.bind(this))},n.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},n.prototype.getSwipeCords=function(e){var t=e.touches[0].pageX,i=e.touches[0].pageY;return{x:t,y:i}},n.prototype.getDragAllowedAxises=function(e,t){if(!this.containerRect)return{allowX:!1,allowY:!1};var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),r=0,s=0,o=i.getBoundingClientRect();e?(r=i.offsetHeight*e,s=i.offsetWidth*e):t?(r=o.height+t*o.height,s=o.width+t*o.width):(r=o.height,s=o.width);var l=r>this.containerRect.height,d=s>this.containerRect.width;return{allowX:d,allowY:l}},n.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},n.prototype.zoomImage=function(e,t,i,r){if(!(!this.containerRect||Math.abs(t)<=0)){var s=this.containerRect.width/2+this.containerRect.left,o=this.containerRect.height/2+this.containerRect.top+this.scrollTop,l,d;e===1&&(this.positionChanged=!1);var f=this.getDragAllowedAxises(0,t),m=f.allowY,v=f.allowX;this.positionChanged&&(l=this.left/(this.scale-t),d=this.top/(this.scale-t),this.pageX=s-l,this.pageY=o-d,this.positionChanged=!1);var _=this.getPossibleSwipeDragCords(t),x,M,C=s-this.pageX,T=o-this.pageY;if(e-t>1){var w=(e-t)/Math.abs(t);C=(t<0?-C:C)+this.left*(w+(t<0?-1:1)),T=(t<0?-T:T)+this.top*(w+(t<0?-1:1)),x=C/w,M=T/w}else{var w=(e-t)*t;x=C*w,M=T*w}i&&(v?this.isBeyondPossibleLeft(x,_.minX)?x=_.minX:this.isBeyondPossibleRight(x,_.maxX)&&(x=_.maxX):e>1&&(x<_.minX?x=_.minX:x>_.maxX&&(x=_.maxX)),m?this.isBeyondPossibleTop(M,_.minY)?M=_.minY:this.isBeyondPossibleBottom(M,_.maxY)&&(M=_.maxY):e>1&&(M<_.minY?M=_.minY:M>_.maxY&&(M=_.maxY))),this.setZoomStyles({x,y:M,scale:e}),this.left=x,this.top=M,r&&this.setZoomImageSize()}},n.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10)}},n.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(t.addClass("no-transition"),e.imageReset=!0)},Pw),setTimeout(function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var r=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),r.allowX&&r.allowY?t.addClass("reset-transition"):r.allowX&&!r.allowY?t.addClass("reset-transition-x"):!r.allowX&&r.allowY&&t.addClass("reset-transition-y")}},Pw+50)},n.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),r.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var s="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",s)},n.prototype.setActualSize=function(e,t){var i=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var r=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!r.src||i.core.outer.hasClass("lg-first-slide-loading"))){var s=i.getCurrentImageActualSizeScale(),o=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(s),i.setPageCords(t),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-o,!0,!0)}},50),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){i.zoomInProgress=!1},Pw+110)}},n.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},n.prototype.getActualSizeScale=function(e,t){var i,r;return e>=t?(i=e/t,r=i||2):r=1,r},n.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(i,t)},n.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.scrollTop+i.top}return t},n.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},n.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},n.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},n.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},n.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var r=e.$LG(i.target);i.touches.length===1&&r.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,i.preventDefault(),e.setActualSize(e.core.index,i)):t=setTimeout(function(){t=null},300))}),this.core.LGel.on(Su.containerResize+".zoom "+Su.rotateRight+".zoom "+Su.rotateLeft+".zoom "+Su.flipHorizontal+".zoom "+Su.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var i=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(i,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var i=0;e.imageReset&&(e.resetImageTranslate(e.core.index),i=50),setTimeout(function(){var r=e.scale-e.settings.scale;r<1&&(r=1),e.beginZoom(r),e.zoomImage(r,-e.settings.scale,!0,!e.settings.infiniteZoom)},i)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(Su.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(Su.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(Su.afterSlide+".zoom",function(i){var r=i.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(r),e.resetImageTranslate(r),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},n.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},n.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},n.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},n.prototype.pinchZoom=function(){var e=this,t=0,i=!1,r=1,s=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(l){if(o=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&l.touches.length===2){if(l.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;r=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(l),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(l)}}),this.core.$inner.on("touchmove.lg",function(l){if(l.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(l.target).hasClass("lg-item")||o.get().contains(l.target))){l.preventDefault();var d=e.getTouchDistance(l),f=t-d;if(!i&&Math.abs(f)>5&&(i=!0),i){s=e.scale;var m=Math.max(1,r+-f*.02);e.scale=Math.round((m+Number.EPSILON)*100)/100;var v=e.scale-s;e.zoomImage(e.scale,Math.round((v+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(l){if(e.core.touchAction==="pinch"&&(e.$LG(l.target).hasClass("lg-item")||o.get().contains(l.target))){if(i=!1,t=0,e.scale<=1)e.resetZoom();else{var d=e.getCurrentImageActualSizeScale();if(e.scale>=d){var f=d-e.scale;f===0&&(f=.01),e.zoomImage(d,f,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},n.prototype.touchendZoom=function(e,t,i,r,s){var o=t.x-e.x,l=t.y-e.y,d=Math.abs(o)/s+1,f=Math.abs(l)/s+1;d>2&&(d+=1),f>2&&(f+=1),o=o*d,l=l*f;var m=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v={};v.x=this.left+o,v.y=this.top+l;var _=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(l)>15)&&(r&&(this.isBeyondPossibleTop(v.y,_.minY)?v.y=_.minY:this.isBeyondPossibleBottom(v.y,_.maxY)&&(v.y=_.maxY)),i&&(this.isBeyondPossibleLeft(v.x,_.minX)?v.x=_.minX:this.isBeyondPossibleRight(v.x,_.maxX)&&(v.x=_.maxX)),r?this.top=v.y:v.y=this.top,i?this.left=v.x:v.x=this.left,this.setZoomSwipeStyles(m,v),this.positionChanged=!0)},n.prototype.getZoomSwipeCords=function(e,t,i,r,s){var o={};if(r){if(o.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(o.y,s.minY)){var l=s.minY-o.y;o.y=s.minY-l/6}else if(this.isBeyondPossibleBottom(o.y,s.maxY)){var d=o.y-s.maxY;o.y=s.maxY+d/6}}else o.y=this.top;if(i){if(o.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(o.x,s.minX)){var f=s.minX-o.x;o.x=s.minX-f/6}else if(this.isBeyondPossibleRight(o.x,s.maxX)){var m=o.x-s.maxX;o.x=s.maxX+m/6}}else o.x=this.left;return o},n.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},n.prototype.isBeyondPossibleRight=function(e,t){return e<=t},n.prototype.isBeyondPossibleTop=function(e,t){return e>=t},n.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},n.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return this.core.getSlideType(t)==="image"},n.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,r=t.get().getBoundingClientRect(),s=r.height,o=r.width;e&&(s=s+e*s,o=o+e*o);var l=(s-this.containerRect.height)/2,d=(this.containerRect.height-s)/2+i,f=(o-this.containerRect.width)/2,m=(this.containerRect.width-o)/2,v={minY:l,maxY:d,minX:f,maxX:m};return v},n.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},n.prototype.zoomSwipe=function(){var e=this,t={},i={},r=!1,s=!1,o=!1,l=new Date,d=new Date,f,m,v=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(_){if(e.isImageSlide(e.core.index)&&(v=e.core.getSlideItem(e.core.index),(e.$LG(_.target).hasClass("lg-item")||v.get().contains(_.target))&&_.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){_.preventDefault(),l=new Date,e.core.touchAction="zoomSwipe",m=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var x=e.getDragAllowedAxises(0);o=x.allowY,s=x.allowX,(s||o)&&(t=e.getSwipeCords(_)),f=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(_){if(_.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(_.target).hasClass("lg-item")||v.get().contains(_.target))){_.preventDefault(),e.core.touchAction="zoomSwipe",i=e.getSwipeCords(_);var x=e.getZoomSwipeCords(t,i,s,o,f);(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(r=!0,e.setZoomSwipeStyles(m,x))}}),this.core.$inner.on("touchend.lg",function(_){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(_.target).hasClass("lg-item")||v.get().contains(_.target))){if(_.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!r)return;r=!1,d=new Date;var x=d.valueOf()-l.valueOf();e.touchendZoom(t,i,s,o,x)}})},n.prototype.zoomDrag=function(){var e=this,t={},i={},r=!1,s=!1,o=!1,l=!1,d,f,m,v;this.core.outer.on("mousedown.lg.zoom",function(_){if(e.isImageSlide(e.core.index)){var x=e.core.getSlideItem(e.core.index);if(e.$LG(_.target).hasClass("lg-item")||x.get().contains(_.target)){d=new Date,v=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var M=e.getDragAllowedAxises(0);l=M.allowY,o=M.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(_.target).hasClass("lg-object")&&(o||l)&&(_.preventDefault(),t=e.getDragCords(_),m=e.getPossibleSwipeDragCords(),r=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(_){if(r){s=!0,i=e.getDragCords(_);var x=e.getZoomSwipeCords(t,i,o,l,m);e.setZoomSwipeStyles(v,x)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(_){if(r){if(f=new Date,r=!1,e.core.outer.removeClass("lg-zoom-dragging"),s&&(t.x!==i.x||t.y!==i.y)){i=e.getDragCords(_);var x=f.valueOf()-d.valueOf();e.touchendZoom(t,i,o,l,x)}s=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},n.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},n.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},n}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ih=function(){return ih=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ih.apply(this,arguments)},t$={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},Xp={hasVideo:"lgHasVideo",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick"},Cb=function(n){return Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")},n$=function(n){var e=n.slice(1).split("&").map(function(t){return t.split("=")}).reduce(function(t,i){var r=i.map(decodeURIComponent),s=r[0],o=r[1];return t[s]=o,t},{});return e},i$=function(n,e){if(!n.youtube)return"";var t=n.youtube[2]?n$(n.youtube[2]):"",i={wmode:"opaque",autoplay:0,mute:1,enablejsapi:1},r=e||{},s=ih(ih(ih({},i),r),t),o="?"+Cb(s);return o},r$=function(n){return n.includes("youtube-nocookie.com")},s$=function(n,e){if(!e||!e.vimeo)return"";var t=e.vimeo[2]||"",i=Object.assign({},{autoplay:0,muted:1},n),r=i&&Object.keys(i).length!==0?Cb(i):"",s=e.vimeo[0].split("/").pop()||"",o=s.split("?")[0]||"",l=o.split("#")[0],d=e.vimeo[1]!==l;d&&(t=t.replace("/"+l,"")),t=t[0]=="?"?"&"+t.slice(1):t||"";var f=d?"h="+l:"";r=f?"&"+r:r;var m="?"+f+r+t;return m},o$=function(){function n(e){return this.core=e,this.settings=ih(ih({},t$),this.core.settings),this}return n.prototype.init=function(){var e=this;this.core.LGel.on(Xp.hasVideo+".video",this.onHasVideo.bind(this)),this.core.LGel.on(Xp.posterClick+".video",function(){var t=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(t)}),this.core.LGel.on(Xp.slideItemLoad+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(Xp.beforeSlide+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(Xp.afterSlide+".video",this.onAfterSlide.bind(this))},n.prototype.onSlideItemLoad=function(e){var t=this,i=e.detail,r=i.isFirstSlide,s=i.index;this.settings.autoplayFirstVideo&&r&&s===this.core.index&&setTimeout(function(){t.loadAndPlayVideo(s)},200),!r&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s)},n.prototype.onHasVideo=function(e){var t=e.detail,i=t.index,r=t.src,s=t.html5Video,o=t.hasPoster;o||(this.appendVideos(this.core.getSlideItem(i),{src:r,addClass:"lg-object",index:i,html5Video:s}),this.gotoNextSlideOnVideoEnd(r,i))},n.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var t=e.detail.prevIndex;this.pauseVideo(t)}},n.prototype.onAfterSlide=function(e){var t=this,i=e.detail,r=i.index,s=i.prevIndex,o=this.core.getSlideItem(r);this.settings.autoplayVideoOnSlide&&r!==s&&o.hasClass("lg-complete")&&setTimeout(function(){t.loadAndPlayVideo(r)},100)},n.prototype.loadAndPlayVideo=function(e){var t=this.core.getSlideItem(e),i=this.core.galleryItems[e];i.poster?this.loadVideoOnPosterClick(t,!0):this.playVideo(e)},n.prototype.playVideo=function(e){this.controlVideo(e,"play")},n.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},n.prototype.getVideoHtml=function(e,t,i,r){var s="",o=this.core.galleryItems[i].__slideVideoInfo||{},l=this.core.galleryItems[i],d=l.title||l.alt;d=d?'title="'+d+'"':"";var f=`allowtransparency="true"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            mozallowfullscreen
            webkitallowfullscreen
            oallowfullscreen
            msallowfullscreen`;if(o.youtube){var m="lg-youtube"+i,v=i$(o,this.settings.youTubePlayerParams),_=r$(e),x=_?"//www.youtube-nocookie.com/":"//www.youtube.com/";s='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-youtube '+t+'" '+d+' src="'+x+"embed/"+(o.youtube[1]+v)+'" '+f+"></iframe>"}else if(o.vimeo){var m="lg-vimeo"+i,M=s$(this.settings.vimeoPlayerParams,o);s='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-vimeo '+t+'" '+d+' src="//player.vimeo.com/video/'+(o.vimeo[1]+M)+'" '+f+"></iframe>"}else if(o.wistia){var C="lg-wistia"+i,M=Cb(this.settings.wistiaPlayerParams);M=M?"?"+M:"",s='<iframe allow="autoplay" id="'+C+'" src="//fast.wistia.net/embed/iframe/'+(o.wistia[4]+M)+'" '+d+' class="wistia_embed lg-video-object lg-wistia '+t+'" name="wistia_embed" '+f+"></iframe>"}else if(o.html5){for(var T="",w=0;w<r.source.length;w++){var R=r.source[w].type,k=R?'type="'+R+'"':"";T+='<source src="'+r.source[w].src+'" '+k+">"}if(r.tracks)for(var O=function(Z){var z="",U=r.tracks[Z];Object.keys(U||{}).forEach(function(N){z+=N+'="'+U[N]+'" '}),T+="<track "+z+">"},w=0;w<r.tracks.length;w++)O(w);var j="",X=r.attributes||{};Object.keys(X||{}).forEach(function(Z){j+=Z+'="'+X[Z]+'" '}),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+j+`>
                `+T+`
                Your browser does not support HTML5 video.
            </video>`}return s},n.prototype.appendVideos=function(e,t){var i,r=this.getVideoHtml(t.src,t.addClass,t.index,t.html5Video);e.find(".lg-video-cont").append(r);var s=e.find(".lg-video-object").first();if(t.html5Video&&s.on("mousedown.lg.video",function(o){o.stopPropagation()}),this.settings.videojs&&(!((i=this.core.galleryItems[t.index].__slideVideoInfo)===null||i===void 0)&&i.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch{console.error("lightGallery:- Make sure you have included videojs")}},n.prototype.gotoNextSlideOnVideoEnd=function(e,t){var i=this,r=this.core.getSlideItem(t).find(".lg-video-object").first(),s=this.core.galleryItems[t].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd){if(s.html5)r.on("ended",function(){i.core.goToNextSlide()});else if(s.vimeo)try{new Vimeo.Player(r.get()).on("ended",function(){i.core.goToNextSlide()})}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:r.attr("id"),onReady:function(o){o.bind("end",function(){i.core.goToNextSlide()})}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},n.prototype.controlVideo=function(e,t){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),r=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get()){if(r.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+t+'Video","args":""}',"*")}catch(s){console.error("lightGallery:- "+s)}else if(r.vimeo)try{new Vimeo.Player(i.get())[t]()}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(r.html5)if(this.settings.videojs)try{videojs(i.get())[t]()}catch{console.error("lightGallery:- Make sure you have included videojs")}else i.get()[t]();else if(r.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(s){s[t]()}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},n.prototype.loadVideoOnPosterClick=function(e,t){var i=this;if(e.hasClass("lg-video-loaded"))t&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var r=void 0,s=this.core.galleryItems[this.core.index].src,o=this.core.galleryItems[this.core.index].video;o&&(r=typeof o=="string"?JSON.parse(o):o);var l=this.appendVideos(e,{src:s,addClass:"",index:this.core.index,html5Video:r});this.gotoNextSlideOnVideoEnd(s,this.core.index);var d=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(d),e.addClass("lg-video-loading"),l&&l.ready(function(){l.on("loadedmetadata",function(){i.onVideoLoadAfterPosterClick(e,i.core.index)})}),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)},50)})}},n.prototype.onVideoLoadAfterPosterClick=function(e,t){e.addClass("lg-video-loaded"),this.playVideo(t)},n.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},n}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y0=function(){return y0=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},y0.apply(this,arguments)},a$={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},Zp={containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",beforeOpen:"lgBeforeOpen",beforeSlide:"lgBeforeSlide"},l$=function(){function n(e,t){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=t,this}return n.prototype.init=function(){this.settings=y0(y0({},a$),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},n.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(t){var i=e.$LG(t.target);i.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(e.thumbClickable&&!e.core.lgBusy){var r=parseInt(i.attr("data-lg-item-id"));e.core.slide(r,!1,!0,!1)}},50)}),this.core.LGel.on(Zp.beforeSlide+".thumb",function(t){var i=t.detail.index;e.animateThumb(i)}),this.core.LGel.on(Zp.beforeOpen+".thumb",function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth}),this.core.LGel.on(Zp.updateSlides+".thumb",function(){e.rebuildThumbnails()}),this.core.LGel.on(Zp.containerResize+".thumb",function(){e.core.lgOpened&&setTimeout(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth},50)})},n.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var t='<div class="'+e+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(t):this.core.outer.append(t),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},n.prototype.enableThumbDrag=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},i=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),t.cords.startX=r.pageX,t.startTime=new Date,e.thumbClickable=!1,i=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(r){e.core.lgOpened&&i&&(t.cords.endX=r.pageX,t=e.onThumbTouchMove(t))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){e.core.lgOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,i&&(i=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},n.prototype.enableThumbSwipe=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.startX=i.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.endX=i.targetTouches[0].pageX,t=e.onThumbTouchMove(t))}),this.$lgThumb.on("touchend.lg",function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0})},n.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)},50),setTimeout(function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},n.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},n.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},n.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var t=0;switch(this.settings.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},n.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=new Date().valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},n.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),i=e.cords.endX-e.cords.startX,r=Math.abs(i)/t;return r>.15&&e.endTime.valueOf()-e.touchMoveTime<30?(r+=1,r>2&&(r+=1),r=r+r*(Math.abs(i)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(r-1,2)+"settings"),i=i*r,this.translateX=this.getPossibleTransformX(this.translateX-i),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},n.prototype.getThumbHtml=function(e,t,i){var r=this.core.galleryItems[t].__slideVideoInfo||{},s;r.youtube&&this.settings.loadYouTubeThumbnail?s="//img.youtube.com/vi/"+r.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":s=e;var o=document.createElement("div");o.setAttribute("data-lg-item-id",t+""),o.className="lg-thumb-item "+(t===this.core.index?"active":""),o.style.cssText="width: "+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+"; margin-right: "+this.settings.thumbMargin+"px;";var l=document.createElement("img");return l.alt=i||"",l.setAttribute("data-lg-item-id",t+""),l.src=s,o.appendChild(l),o},n.prototype.setThumbItemHtml=function(e){for(var t=0;t<e.length;t++){var i=this.getThumbHtml(e[t].thumb,t,e[t].alt);this.$lgThumb.append(i)}},n.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},n.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(Zp.beforeSlide+".thumb",function(t){var i=e.core.outer.find(".lg-thumb-item"),r=t.detail.index;i.removeClass("active"),i.eq(r).addClass("active")})},n.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){e.core.outer.toggleClass("lg-components-open")}))},n.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(t){!e.core.lgOpened||!e.settings.toggleThumb||(t.keyCode===38?(t.preventDefault(),e.core.outer.addClass("lg-components-open")):t.keyCode===40&&(t.preventDefault(),e.core.outer.removeClass("lg-components-open")))})},n.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},n}();const u$=({album:n})=>{const t=G.useRef(null),i=n.images.filter(l=>l.split("?")[0].match(/\.(jpg|jpeg|png|webp)$/i)),r=i.slice(0,6),s=i.length>6?i.length-6:0,o=l=>{t.current&&t.current.openGallery(l)};return r.length===0?V.jsx("div",{className:"gallery-section",children:"No images available"}):V.jsxs("div",{className:"gallery-section bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[V.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white",children:n.title}),V.jsx("p",{className:"text-base text-gray-700 mb-6 dark:text-gray-300",children:n.description}),V.jsx("div",{className:"image-grid",children:r.map((l,d)=>V.jsxs("a",{href:"#",className:"image-wrapper",onClick:f=>{f.preventDefault(),o(d)},children:[V.jsx("img",{src:l,alt:`Preview ${d}`}),d===5&&i.length>6&&V.jsxs("div",{className:"overlay",children:["+",s]})]},d))}),V.jsx(Jq,{dynamic:!0,dynamicEl:i.map(l=>({src:l,thumb:l})),plugins:[e$,o$,l$],onInit:l=>{t.current=l.instance},speed:500,thumbnail:!0})]})},c$=({albums:n})=>V.jsx("section",{className:"py-20 bg-white dark:bg-gray-900",children:V.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-10 px-4",children:n.map((e,t)=>V.jsx("div",{className:"w-full",children:V.jsx(u$,{album:e})},t))})}),d$=()=>{const[n,e]=G.useState([]);return G.useEffect(()=>{(async()=>{const i=Object.assign({"../assets/gallery/TPC-BrigadaEskwela2025.json":()=>Ic(()=>import("./TPC-BrigadaEskwela2025-Dtp4VQNG.js"),[]),"../assets/gallery/TPC-LaborDayMergrande.json":()=>Ic(()=>import("./TPC-LaborDayMergrande-FVuzC4UW.js"),[]),"../assets/gallery/TPC-LightTheWorld.json":()=>Ic(()=>import("./TPC-LightTheWorld-BPNAbRfg.js"),[]),"../assets/gallery/TPC-May2025_Service.json":()=>Ic(()=>import("./TPC-May2025_Service-CmlMH3d_.js"),[]),"../assets/gallery/TPC-Termite Proofing Work.json":()=>Ic(()=>import("./TPC-Termite Proofing Work-D2uBIkmz.js"),[]),"../assets/gallery/TPC-TermiteInspection.json":()=>Ic(()=>import("./TPC-TermiteInspection-tItoD3hy.js"),[]),"../assets/gallery/TPC-XmasParty2024.json":()=>Ic(()=>import("./TPC-XmasParty2024-DGSjw25K.js"),[])}),r=[];for(const s in i){const o=await i[s]();r.push(o)}e(r)})()},[]),V.jsx(eg,{children:V.jsxs("div",{className:"container mx-auto px-4",children:[V.jsx("section",{className:"relative py-32 px-4 bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-900",style:{backgroundImage:`url(${nk})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",filter:"grayscale(100%)"},children:V.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white dark:text-white backdrop-blur-sm p-6 rounded-lg",children:[V.jsx("h1",{className:"text-5xl font-bold mb-4 transition-colors duration-500",children:"Gallery of Our Work"}),V.jsx("p",{className:"text-xl max-w-2xl mx-auto transition-colors duration-500",children:"Explore our portfolio showcasing successful pest control interventions across Davao City. From residential to commercial spaces, we take pride in our effective and eco-friendly solutions."})]})}),V.jsx(c$,{albums:n})]})})};function rk(n,e){const t=G.useRef(e);G.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const h$=1;function f$(n){return Object.freeze({__version:h$,map:n})}function p$(n,e){return Object.freeze({...n,...e})}const sk=G.createContext(null),ok=sk.Provider;function ak(){const n=G.useContext(sk);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function m$(n){function e(t,i){const{instance:r,context:s}=n(t).current;return G.useImperativeHandle(i,()=>r),t.children==null?null:vt.createElement(ok,{value:s},t.children)}return G.forwardRef(e)}function g$(n){function e(t,i){const[r,s]=G.useState(!1),{instance:o}=n(t,s).current;G.useImperativeHandle(i,()=>o),G.useEffect(function(){r&&o.update()},[o,r,t.children]);const l=o._contentNode;return l?qm.createPortal(t.children,l):null}return G.forwardRef(e)}function v$(n){function e(t,i){const{instance:r}=n(t).current;return G.useImperativeHandle(i,()=>r),null}return G.forwardRef(e)}function lk(n,e){const t=G.useRef();G.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function Ab(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function y$(n,e){return function(i,r){const s=ak(),o=n(Ab(i,s),s);return rk(s.map,i.attribution),lk(o.current,i.eventHandlers),e(o.current,s,i,r),o}}var Jp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var _$=Jp.exports,PA;function x$(){return PA||(PA=1,function(n,e){(function(t,i){i(e)})(_$,function(t){var i="1.9.4";function r(u){var g,S,P,B;for(S=1,P=arguments.length;S<P;S++){B=arguments[S];for(g in B)u[g]=B[g]}return u}var s=Object.create||function(){function u(){}return function(g){return u.prototype=g,new u}}();function o(u,g){var S=Array.prototype.slice;if(u.bind)return u.bind.apply(u,S.call(arguments,1));var P=S.call(arguments,2);return function(){return u.apply(g,P.length?P.concat(S.call(arguments)):arguments)}}var l=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++l),u._leaflet_id}function f(u,g,S){var P,B,J,pe;return pe=function(){P=!1,B&&(J.apply(S,B),B=!1)},J=function(){P?B=arguments:(u.apply(S,arguments),setTimeout(pe,g),P=!0)},J}function m(u,g,S){var P=g[1],B=g[0],J=P-B;return u===P&&S?u:((u-B)%J+J)%J+B}function v(){return!1}function _(u,g){if(g===!1)return u;var S=Math.pow(10,g===void 0?6:g);return Math.round(u*S)/S}function x(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function M(u){return x(u).split(/\s+/)}function C(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?s(u.options):{});for(var S in g)u.options[S]=g[S];return u.options}function T(u,g,S){var P=[];for(var B in u)P.push(encodeURIComponent(S?B.toUpperCase():B)+"="+encodeURIComponent(u[B]));return(!g||g.indexOf("?")===-1?"?":"&")+P.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function R(u,g){return u.replace(w,function(S,P){var B=g[P];if(B===void 0)throw new Error("No value provided for variable "+S);return typeof B=="function"&&(B=B(g)),B})}var k=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function O(u,g){for(var S=0;S<u.length;S++)if(u[S]===g)return S;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var Z=0;function z(u){var g=+new Date,S=Math.max(0,16-(g-Z));return Z=g+S,window.setTimeout(u,S)}var U=window.requestAnimationFrame||X("RequestAnimationFrame")||z,N=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function Y(u,g,S){if(S&&U===z)u.call(g);else return U.call(window,o(u,g))}function Q(u){u&&N.call(window,u)}var ae={__proto__:null,extend:r,create:s,bind:o,get lastId(){return l},stamp:d,throttle:f,wrapNum:m,falseFn:v,formatNum:_,trim:x,splitWords:M,setOptions:C,getParamString:T,template:R,isArray:k,indexOf:O,emptyImageUrl:j,requestFn:U,cancelFn:N,requestAnimFrame:Y,cancelAnimFrame:Q};function se(){}se.extend=function(u){var g=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,P=s(S);P.constructor=g,g.prototype=P;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(g[B]=this[B]);return u.statics&&r(g,u.statics),u.includes&&(ge(u.includes),r.apply(null,[P].concat(u.includes))),r(P,u),delete P.statics,delete P.includes,P.options&&(P.options=S.options?s(S.options):{},r(P.options,u.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,pe=P._initHooks.length;J<pe;J++)P._initHooks[J].call(this)}},g},se.include=function(u){var g=this.prototype.options;return r(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},se.mergeOptions=function(u){return r(this.prototype.options,u),this},se.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),S=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function ge(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=k(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var he={on:function(u,g,S){if(typeof u=="object")for(var P in u)this._on(P,u[P],g);else{u=M(u);for(var B=0,J=u.length;B<J;B++)this._on(u[B],g,S)}return this},off:function(u,g,S){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var P in u)this._off(P,u[P],g);else{u=M(u);for(var B=arguments.length===1,J=0,pe=u.length;J<pe;J++)B?this._off(u[J]):this._off(u[J],g,S)}return this},_on:function(u,g,S,P){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,S)===!1){S===this&&(S=void 0);var B={fn:g,ctx:S};P&&(B.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(B)}},_off:function(u,g,S){var P,B,J;if(this._events&&(P=this._events[u],!!P)){if(arguments.length===1){if(this._firingCount)for(B=0,J=P.length;B<J;B++)P[B].fn=v;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var pe=this._listens(u,g,S);if(pe!==!1){var Le=P[pe];this._firingCount&&(Le.fn=v,this._events[u]=P=P.slice()),P.splice(pe,1)}}},fire:function(u,g,S){if(!this.listens(u,S))return this;var P=r({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var B=this._events[u];if(B){this._firingCount=this._firingCount+1||1;for(var J=0,pe=B.length;J<pe;J++){var Le=B[J],Fe=Le.fn;Le.once&&this.off(u,Fe,Le.ctx),Fe.call(Le.ctx||this,P)}this._firingCount--}}return S&&this._propagateEvent(P),this},listens:function(u,g,S,P){typeof u!="string"&&console.warn('"string" type argument expected');var B=g;typeof g!="function"&&(P=!!g,B=void 0,S=void 0);var J=this._events&&this._events[u];if(J&&J.length&&this._listens(u,B,S)!==!1)return!0;if(P){for(var pe in this._eventParents)if(this._eventParents[pe].listens(u,g,S,P))return!0}return!1},_listens:function(u,g,S){if(!this._events)return!1;var P=this._events[u]||[];if(!g)return!!P.length;S===this&&(S=void 0);for(var B=0,J=P.length;B<J;B++)if(P[B].fn===g&&P[B].ctx===S)return B;return!1},once:function(u,g,S){if(typeof u=="object")for(var P in u)this._on(P,u[P],g,!0);else{u=M(u);for(var B=0,J=u.length;B<J;B++)this._on(u[B],g,S,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,r({layer:u.target,propagatedFrom:u.target},u),!0)}};he.addEventListener=he.on,he.removeEventListener=he.clearAllEventListeners=he.off,he.addOneTimeEventListener=he.once,he.fireEvent=he.fire,he.hasEventListeners=he.listens;var de=se.extend(he);function W(u,g,S){this.x=S?Math.round(u):u,this.y=S?Math.round(g):g}var ie=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(u){return this.clone()._add(ee(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(ee(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new W(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new W(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(u){u=ee(u);var g=u.x-this.x,S=u.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(u){return u=ee(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=ee(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function ee(u,g,S){return u instanceof W?u:k(u)?new W(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new W(u.x,u.y):new W(u,g,S)}function K(u,g){if(u)for(var S=g?[u,g]:u,P=0,B=S.length;P<B;P++)this.extend(S[P])}K.prototype={extend:function(u){var g,S;if(!u)return this;if(u instanceof W||typeof u[0]=="number"||"x"in u)g=S=ee(u);else if(u=oe(u),g=u.min,S=u.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(u){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,S;return typeof u[0]=="number"||u instanceof W?u=ee(u):u=oe(u),u instanceof K?(g=u.min,S=u.max):g=S=u,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(u){u=oe(u);var g=this.min,S=this.max,P=u.min,B=u.max,J=B.x>=g.x&&P.x<=S.x,pe=B.y>=g.y&&P.y<=S.y;return J&&pe},overlaps:function(u){u=oe(u);var g=this.min,S=this.max,P=u.min,B=u.max,J=B.x>g.x&&P.x<S.x,pe=B.y>g.y&&P.y<S.y;return J&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,S=this.max,P=Math.abs(g.x-S.x)*u,B=Math.abs(g.y-S.y)*u;return oe(ee(g.x-P,g.y-B),ee(S.x+P,S.y+B))},equals:function(u){return u?(u=oe(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function oe(u,g){return!u||u instanceof K?u:new K(u,g)}function we(u,g){if(u)for(var S=g?[u,g]:u,P=0,B=S.length;P<B;P++)this.extend(S[P])}we.prototype={extend:function(u){var g=this._southWest,S=this._northEast,P,B;if(u instanceof me)P=u,B=u;else if(u instanceof we){if(P=u._southWest,B=u._northEast,!P||!B)return this}else return u?this.extend(_e(u)||ce(u)):this;return!g&&!S?(this._southWest=new me(P.lat,P.lng),this._northEast=new me(B.lat,B.lng)):(g.lat=Math.min(P.lat,g.lat),g.lng=Math.min(P.lng,g.lng),S.lat=Math.max(B.lat,S.lat),S.lng=Math.max(B.lng,S.lng)),this},pad:function(u){var g=this._southWest,S=this._northEast,P=Math.abs(g.lat-S.lat)*u,B=Math.abs(g.lng-S.lng)*u;return new we(new me(g.lat-P,g.lng-B),new me(S.lat+P,S.lng+B))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof me||"lat"in u?u=_e(u):u=ce(u);var g=this._southWest,S=this._northEast,P,B;return u instanceof we?(P=u.getSouthWest(),B=u.getNorthEast()):P=B=u,P.lat>=g.lat&&B.lat<=S.lat&&P.lng>=g.lng&&B.lng<=S.lng},intersects:function(u){u=ce(u);var g=this._southWest,S=this._northEast,P=u.getSouthWest(),B=u.getNorthEast(),J=B.lat>=g.lat&&P.lat<=S.lat,pe=B.lng>=g.lng&&P.lng<=S.lng;return J&&pe},overlaps:function(u){u=ce(u);var g=this._southWest,S=this._northEast,P=u.getSouthWest(),B=u.getNorthEast(),J=B.lat>g.lat&&P.lat<S.lat,pe=B.lng>g.lng&&P.lng<S.lng;return J&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=ce(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(u,g){return u instanceof we?u:new we(u,g)}function me(u,g,S){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,S!==void 0&&(this.alt=+S)}me.prototype={equals:function(u,g){if(!u)return!1;u=_e(u);var S=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return S<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+_(this.lat,u)+", "+_(this.lng,u)+")"},distanceTo:function(u){return Ge.distance(this,_e(u))},wrap:function(){return Ge.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,S=g/Math.cos(Math.PI/180*this.lat);return ce([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function _e(u,g,S){return u instanceof me?u:k(u)&&typeof u[0]!="object"?u.length===3?new me(u[0],u[1],u[2]):u.length===2?new me(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new me(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new me(u,g,S)}var xe={latLngToPoint:function(u,g){var S=this.projection.project(u),P=this.scale(g);return this.transformation._transform(S,P)},pointToLatLng:function(u,g){var S=this.scale(g),P=this.transformation.untransform(u,S);return this.projection.unproject(P)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(u),P=this.transformation.transform(g.min,S),B=this.transformation.transform(g.max,S);return new K(P,B)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,S=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,P=u.alt;return new me(S,g,P)},wrapLatLngBounds:function(u){var g=u.getCenter(),S=this.wrapLatLng(g),P=g.lat-S.lat,B=g.lng-S.lng;if(P===0&&B===0)return u;var J=u.getSouthWest(),pe=u.getNorthEast(),Le=new me(J.lat-P,J.lng-B),Fe=new me(pe.lat-P,pe.lng-B);return new we(Le,Fe)}},Ge=r({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var S=Math.PI/180,P=u.lat*S,B=g.lat*S,J=Math.sin((g.lat-u.lat)*S/2),pe=Math.sin((g.lng-u.lng)*S/2),Le=J*J+Math.cos(P)*Math.cos(B)*pe*pe,Fe=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le));return this.R*Fe}}),$e=6378137,Qe={R:$e,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,S=this.MAX_LATITUDE,P=Math.max(Math.min(S,u.lat),-S),B=Math.sin(P*g);return new W(this.R*u.lng*g,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(u){var g=180/Math.PI;return new me((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:function(){var u=$e*Math.PI;return new K([-u,-u],[u,u])}()};function nt(u,g,S,P){if(k(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=S,this._d=P}nt.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new W((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function ht(u,g,S,P){return new nt(u,g,S,P)}var ct=r({},Ge,{code:"EPSG:3857",projection:Qe,transformation:function(){var u=.5/(Math.PI*Qe.R);return ht(u,.5,-u,.5)}()}),re=r({},ct,{code:"EPSG:900913"});function rt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Ze(u,g){var S="",P,B,J,pe,Le,Fe;for(P=0,J=u.length;P<J;P++){for(Le=u[P],B=0,pe=Le.length;B<pe;B++)Fe=Le[B],S+=(B?"L":"M")+Fe.x+" "+Fe.y;S+=g?Vt.svg?"z":"x":""}return S||"M0 0"}var Be=document.documentElement.style,Pe="ActiveXObject"in window,Xe=Pe&&!document.addEventListener,Me="msLaunchUri"in navigator&&!("documentMode"in document),We=_i("webkit"),it=_i("android"),ne=_i("android 2")||_i("android 3"),q=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=it&&_i("Google")&&q<537&&!("AudioNode"in window),Re=!!window.opera,He=!Me&&_i("chrome"),Ue=_i("gecko")&&!We&&!Re&&!Pe,It=!He&&_i("safari"),ot=_i("phantom"),At="OTransition"in Be,yt=navigator.platform.indexOf("Win")===0,qe=Pe&&"transition"in Be,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ne,Wt="MozPerspective"in Be,Ut=!window.L_DISABLE_3D&&(qe||_t||Wt)&&!At&&!ot,pt=typeof orientation<"u"||_i("mobile"),en=pt&&We,ye=pt&&_t,xt=!window.PointerEvent&&window.MSPointerEvent,et=!!(window.PointerEvent||xt),Mt="ontouchstart"in window||!!window.TouchEvent,st=!window.L_NO_TOUCH&&(Mt||et),Ye=pt&&Re,Ke=pt&&Ue,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jt=function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",v,g),window.removeEventListener("testPassiveEventSupport",v,g)}catch{}return u}(),an=function(){return!!document.createElement("canvas").getContext}(),Un=!!(document.createElementNS&&rt("svg").createSVGRect),ti=!!Un&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),br=!Un&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),yi=navigator.platform.indexOf("Mac")===0,Ai=navigator.platform.indexOf("Linux")===0;function _i(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Vt={ie:Pe,ielt9:Xe,edge:Me,webkit:We,android:it,android23:ne,androidStock:Se,opera:Re,chrome:He,gecko:Ue,safari:It,phantom:ot,opera12:At,win:yt,ie3d:qe,webkit3d:_t,gecko3d:Wt,any3d:Ut,mobile:pt,mobileWebkit:en,mobileWebkit3d:ye,msPointer:xt,pointer:et,touch:st,touchNative:Mt,mobileOpera:Ye,mobileGecko:Ke,retina:Et,passiveEvents:Jt,canvas:an,svg:Un,vml:br,inlineSvg:ti,mac:yi,linux:Ai},os=Vt.msPointer?"MSPointerDown":"pointerdown",go=Vt.msPointer?"MSPointerMove":"pointermove",zl=Vt.msPointer?"MSPointerUp":"pointerup",ua=Vt.msPointer?"MSPointerCancel":"pointercancel",el={touchstart:os,touchmove:go,touchend:zl,touchcancel:ua},Ss={touchstart:Ie,touchmove:De,touchend:De,touchcancel:De},vo={},Ul=!1;function Fu(u,g,S){return g==="touchstart"&&Ae(),Ss[g]?(S=Ss[g].bind(this,S),u.addEventListener(el[g],S,!1),S):(console.warn("wrong event specified:",g),v)}function zu(u,g,S){if(!el[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(el[g],S,!1)}function Uu(u){vo[u.pointerId]=u}function Bu(u){vo[u.pointerId]&&(vo[u.pointerId]=u)}function te(u){delete vo[u.pointerId]}function Ae(){Ul||(document.addEventListener(os,Uu,!0),document.addEventListener(go,Bu,!0),document.addEventListener(zl,te,!0),document.addEventListener(ua,te,!0),Ul=!0)}function De(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in vo)g.touches.push(vo[S]);g.changedTouches=[g],u(g)}}function Ie(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&pi(g),De(u,g)}function Ee(u){var g={},S,P;for(P in u)S=u[P],g[P]=S&&S.bind?S.bind(u):S;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var ut=200;function Tt(u,g){u.addEventListener("dblclick",g);var S=0,P;function B(J){if(J.detail!==1){P=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var pe=Qi(J);if(!(pe.some(function(Fe){return Fe instanceof HTMLLabelElement&&Fe.attributes.for})&&!pe.some(function(Fe){return Fe instanceof HTMLInputElement||Fe instanceof HTMLSelectElement}))){var Le=Date.now();Le-S<=ut?(P++,P===2&&g(Ee(J))):P=1,S=Le}}}return u.addEventListener("click",B),{dblclick:g,simDblclick:B}}function Ot(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var Lt=Pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zt=Pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yt=Zt==="webkitTransition"||Zt==="OTransition"?Zt+"End":"transitionend";function ft(u){return typeof u=="string"?document.getElementById(u):u}function Nt(u,g){var S=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(u,null);S=P?P[g]:null}return S==="auto"?null:S}function bt(u,g,S){var P=document.createElement(u);return P.className=g||"",S&&S.appendChild(P),P}function jt(u){var g=u.parentNode;g&&g.removeChild(u)}function cn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function mn(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function Dt(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function dn(u,g){if(u.classList!==void 0)return u.classList.contains(g);var S=hi(u);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function wt(u,g){if(u.classList!==void 0)for(var S=M(g),P=0,B=S.length;P<B;P++)u.classList.add(S[P]);else if(!dn(u,g)){var J=hi(u);bs(u,(J?J+" ":"")+g)}}function wn(u,g){u.classList!==void 0?u.classList.remove(g):bs(u,x((" "+hi(u)+" ").replace(" "+g+" "," ")))}function bs(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function hi(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function fi(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&Cn(u,g)}function Cn(u,g){var S=!1,P="DXImageTransform.Microsoft.Alpha";try{S=u.filters.item(P)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):u.style.filter+=" progid:"+P+"(opacity="+g+")"}function Pi(u){for(var g=document.documentElement.style,S=0;S<u.length;S++)if(u[S]in g)return u[S];return!1}function ni(u,g,S){var P=g||new W(0,0);u.style[Lt]=(Vt.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(S?" scale("+S+")":"")}function Rn(u,g){u._leaflet_pos=g,Vt.any3d?ni(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function Gn(u){return u._leaflet_pos||new W(0,0)}var gn,Di,ca;if("onselectstart"in document)gn=function(){sn(window,"selectstart",pi)},Di=function(){Yn(window,"selectstart",pi)};else{var da=Pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gn=function(){if(da){var u=document.documentElement.style;ca=u[da],u[da]="none"}},Di=function(){da&&(document.documentElement.style[da]=ca,ca=void 0)}}function Vu(){sn(window,"dragstart",pi)}function tl(){Yn(window,"dragstart",pi)}var ha,yo;function nl(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(zr(),ha=u,yo=u.style.outlineStyle,u.style.outlineStyle="none",sn(window,"keydown",zr))}function zr(){ha&&(ha.style.outlineStyle=yo,ha=void 0,yo=void 0,Yn(window,"keydown",zr))}function vn(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Ts(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var fa={__proto__:null,TRANSFORM:Lt,TRANSITION:Zt,TRANSITION_END:Yt,get:ft,getStyle:Nt,create:bt,remove:jt,empty:cn,toFront:mn,toBack:Dt,hasClass:dn,addClass:wt,removeClass:wn,setClass:bs,getClass:hi,setOpacity:fi,testProp:Pi,setTransform:ni,setPosition:Rn,getPosition:Gn,get disableTextSelection(){return gn},get enableTextSelection(){return Di},disableImageDrag:Vu,enableImageDrag:tl,preventOutline:nl,restoreOutline:zr,getSizedParentNode:vn,getScale:Ts};function sn(u,g,S,P){if(g&&typeof g=="object")for(var B in g)$c(u,B,g[B],S);else{g=M(g);for(var J=0,pe=g.length;J<pe;J++)$c(u,g[J],S,P)}return this}var Gi="_leaflet_events";function Yn(u,g,S,P){if(arguments.length===1)xi(u),delete u[Gi];else if(g&&typeof g=="object")for(var B in g)il(u,B,g[B],S);else if(g=M(g),arguments.length===2)xi(u,function(Le){return O(g,Le)!==-1});else for(var J=0,pe=g.length;J<pe;J++)il(u,g[J],S,P);return this}function xi(u,g){for(var S in u[Gi]){var P=S.split(/\d/)[0];(!g||g(P))&&il(u,P,null,null,S)}}var _o={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $c(u,g,S,P){var B=g+d(S)+(P?"_"+d(P):"");if(u[Gi]&&u[Gi][B])return this;var J=function(Le){return S.call(P||u,Le||window.event)},pe=J;!Vt.touchNative&&Vt.pointer&&g.indexOf("touch")===0?J=Fu(u,g,J):Vt.touch&&g==="dblclick"?J=Tt(u,J):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(_o[g]||g,J,Vt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(J=function(Le){Le=Le||window.event,rl(u,Le)&&pe(Le)},u.addEventListener(_o[g],J,!1)):u.addEventListener(g,pe,!1):u.attachEvent("on"+g,J),u[Gi]=u[Gi]||{},u[Gi][B]=J}function il(u,g,S,P,B){B=B||g+d(S)+(P?"_"+d(P):"");var J=u[Gi]&&u[Gi][B];if(!J)return this;!Vt.touchNative&&Vt.pointer&&g.indexOf("touch")===0?zu(u,g,J):Vt.touch&&g==="dblclick"?Ot(u,J):"removeEventListener"in u?u.removeEventListener(_o[g]||g,J,!1):u.detachEvent("on"+g,J),u[Gi][B]=null}function Xs(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function pa(u){return $c(u,"wheel",Xs),this}function Tr(u){return sn(u,"mousedown touchstart dblclick contextmenu",Xs),u._leaflet_disable_click=!0,this}function pi(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function Ms(u){return pi(u),Xs(u),this}function Qi(u){if(u.composedPath)return u.composedPath();for(var g=[],S=u.target;S;)g.push(S),S=S.parentNode;return g}function Ur(u,g){if(!g)return new W(u.clientX,u.clientY);var S=Ts(g),P=S.boundingClientRect;return new W((u.clientX-P.left)/S.x-g.clientLeft,(u.clientY-P.top)/S.y-g.clientTop)}var Hu=Vt.linux&&Vt.chrome?window.devicePixelRatio:Vt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ju(u){return Vt.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/Hu:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function rl(u,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==u;)S=S.parentNode}catch{return!1}return S!==u}var Wu={__proto__:null,on:sn,off:Yn,stopPropagation:Xs,disableScrollPropagation:pa,disableClickPropagation:Tr,preventDefault:pi,stop:Ms,getPropagationPath:Qi,getMousePosition:Ur,getWheelDelta:ju,isExternalTarget:rl,addListener:sn,removeListener:Yn},Br=de.extend({run:function(u,g,S,P){this.stop(),this._el=u,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=Gn(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var S=this._startPos.add(this._offset.multiplyBy(u));g&&S._round(),Rn(this._el,S),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Ln=de.extend({options:{crs:ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=C(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(_e(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zt&&Vt.any3d&&!Vt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),sn(this._proxy,Yt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(_e(u),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=r({animate:S.animate},S.zoom),S.pan=r({animate:S.animate,duration:S.duration},S.pan));var P=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,S.zoom):this._tryAnimatedPan(u,S.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(Vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(Vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,S){var P=this.getZoomScale(g),B=this.getSize().divideBy(2),J=u instanceof W?u:this.latLngToContainerPoint(u),pe=J.subtract(B).multiplyBy(1-1/P),Le=this.containerPointToLatLng(B.add(pe));return this.setView(Le,g,{zoom:S})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():ce(u);var S=ee(g.paddingTopLeft||g.padding||[0,0]),P=ee(g.paddingBottomRight||g.padding||[0,0]),B=this.getBoundsZoom(u,!1,S.add(P));if(B=typeof g.maxZoom=="number"?Math.min(g.maxZoom,B):B,B===1/0)return{center:u.getCenter(),zoom:B};var J=P.subtract(S).divideBy(2),pe=this.project(u.getSouthWest(),B),Le=this.project(u.getNorthEast(),B),Fe=this.unproject(pe.add(Le).divideBy(2).add(J),B);return{center:Fe,zoom:B}},fitBounds:function(u,g){if(u=ce(u),!u.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(u,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=ee(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Br,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,S){if(S=S||{},S.animate===!1||!Vt.any3d)return this.setView(u,g,S);this._stop();var P=this.project(this.getCenter()),B=this.project(u),J=this.getSize(),pe=this._zoom;u=_e(u),g=g===void 0?pe:g;var Le=Math.max(J.x,J.y),Fe=Le*this.getZoomScale(pe,g),Je=B.distanceTo(P)||1,Ct=1.42,Qt=Ct*Ct;function yn(Nn){var Qs=Nn?-1:1,ic=Nn?Fe:Le,rc=Fe*Fe-Le*Le+Qs*Qt*Qt*Je*Je,Zo=2*ic*Qt*Je,Ls=rc/Zo,ci=Math.sqrt(Ls*Ls+1)-Ls,sc=ci<1e-9?-18:Math.log(ci);return sc}function qi(Nn){return(Math.exp(Nn)-Math.exp(-Nn))/2}function Si(Nn){return(Math.exp(Nn)+Math.exp(-Nn))/2}function fr(Nn){return qi(Nn)/Si(Nn)}var Rr=yn(0);function Ma(Nn){return Le*(Si(Rr)/Si(Rr+Ct*Nn))}function nc(Nn){return Le*(Si(Rr)*fr(Rr+Ct*Nn)-qi(Rr))/Qt}function Ao(Nn){return 1-Math.pow(1-Nn,1.5)}var nd=Date.now(),Xo=(yn(1)-Rr)/Ct,Li=S.duration?1e3*S.duration:1e3*Xo*.8;function Ea(){var Nn=(Date.now()-nd)/Li,Qs=Ao(Nn)*Xo;Nn<=1?(this._flyToFrame=Y(Ea,this),this._move(this.unproject(P.add(B.subtract(P).multiplyBy(nc(Qs)/Je)),pe),this.getScaleZoom(Le/Ma(Qs),pe),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Ea.call(this),this},flyToBounds:function(u,g){var S=this._getBoundsCenterZoom(u,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(u){return u=ce(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var S=this.getCenter(),P=this._limitCenter(S,this._zoom,ce(u));return S.equals(P)||this.panTo(P,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var S=ee(g.paddingTopLeft||g.padding||[0,0]),P=ee(g.paddingBottomRight||g.padding||[0,0]),B=this.project(this.getCenter()),J=this.project(u),pe=this.getPixelBounds(),Le=oe([pe.min.add(S),pe.max.subtract(P)]),Fe=Le.getSize();if(!Le.contains(J)){this._enforcingBounds=!0;var Je=J.subtract(Le.getCenter()),Ct=Le.extend(J).getSize().subtract(Fe);B.x+=Je.x<0?-Ct.x:Ct.x,B.y+=Je.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(B),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=r({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),P=g.divideBy(2).round(),B=S.divideBy(2).round(),J=P.subtract(B);return!J.x&&!J.y?this:(u.animate&&u.pan?this.panBy(J):(u.pan&&this._rawPanBy(J),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=r({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,u):navigator.geolocation.getCurrentPosition(g,S,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,S=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,S=u.coords.longitude,P=new me(g,S),B=P.toBounds(u.coords.accuracy*2),J=this._locateOptions;if(J.setView){var pe=this.getBoundsZoom(B);this.setView(P,J.maxZoom?Math.min(pe,J.maxZoom):pe)}var Le={latlng:P,bounds:B,timestamp:u.timestamp};for(var Fe in u.coords)typeof u.coords[Fe]=="number"&&(Le[Fe]=u.coords[Fe]);this.fire("locationfound",Le)}},addHandler:function(u,g){if(!g)return this;var S=this[u]=new g(this);return this._handlers.push(S),this.options[u]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)jt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var S="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),P=bt("div",S,g||this._mapPane);return u&&(this._panes[u]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),S=this.unproject(u.getTopRight());return new we(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,S){u=ce(u),S=ee(S||[0,0]);var P=this.getZoom()||0,B=this.getMinZoom(),J=this.getMaxZoom(),pe=u.getNorthWest(),Le=u.getSouthEast(),Fe=this.getSize().subtract(S),Je=oe(this.project(Le,P),this.project(pe,P)).getSize(),Ct=Vt.any3d?this.options.zoomSnap:1,Qt=Fe.x/Je.x,yn=Fe.y/Je.y,qi=g?Math.max(Qt,yn):Math.min(Qt,yn);return P=this.getScaleZoom(qi,P),Ct&&(P=Math.round(P/(Ct/100))*(Ct/100),P=g?Math.ceil(P/Ct)*Ct:Math.floor(P/Ct)*Ct),Math.max(B,Math.min(J,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var S=this._getTopLeftPoint(u,g);return new K(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(u)/S.scale(g)},getScaleZoom:function(u,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var P=S.zoom(u*S.scale(g));return isNaN(P)?1/0:P},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(_e(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ee(u),g)},layerPointToLatLng:function(u){var g=ee(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(_e(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(_e(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ce(u))},distance:function(u,g){return this.options.crs.distance(_e(u),_e(g))},containerPointToLayerPoint:function(u){return ee(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return ee(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(ee(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(u)))},mouseEventToContainerPoint:function(u){return Ur(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=ft(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");sn(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Vt.any3d,wt(u,"leaflet-container"+(Vt.touch?" leaflet-touch":"")+(Vt.retina?" leaflet-retina":"")+(Vt.ielt9?" leaflet-oldie":"")+(Vt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Nt(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rn(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(u.markerPane,"leaflet-zoom-hide"),wt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,S){Rn(this._mapPane,new W(0,0));var P=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var B=this._zoom!==g;this._moveStart(B,S)._move(u,g)._moveEnd(B),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,S,P){g===void 0&&(g=this._zoom);var B=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),P?S&&S.pinch&&this.fire("zoom",S):((B||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Rn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?Yn:sn;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Vt.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var S=[],P,B=g==="mouseout"||g==="mouseover",J=u.target||u.srcElement,pe=!1;J;){if(P=this._targets[d(J)],P&&(g==="click"||g==="preclick")&&this._draggableMoved(P)){pe=!0;break}if(P&&P.listens(g,!0)&&(B&&!rl(J,u)||(S.push(P),B))||J===this._container)break;J=J.parentNode}return!S.length&&!pe&&!B&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var S=u.type;S==="mousedown"&&nl(g),this._fireDOMEvent(u,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,S){if(u.type==="click"){var P=r({},u);P.type="preclick",this._fireDOMEvent(P,P.type,S)}var B=this._findEventTargets(u,g);if(S){for(var J=[],pe=0;pe<S.length;pe++)S[pe].listens(g,!0)&&J.push(S[pe]);B=J.concat(B)}if(B.length){g==="contextmenu"&&pi(u);var Le=B[0],Fe={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Je=Le.getLatLng&&(!Le._radius||Le._radius<=10);Fe.containerPoint=Je?this.latLngToContainerPoint(Le.getLatLng()):this.mouseEventToContainerPoint(u),Fe.layerPoint=this.containerPointToLayerPoint(Fe.containerPoint),Fe.latlng=Je?Le.getLatLng():this.layerPointToLatLng(Fe.layerPoint)}for(pe=0;pe<B.length;pe++)if(B[pe].fire(g,Fe,!0),Fe.originalEvent._stopped||B[pe].options.bubblingMouseEvents===!1&&O(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return Gn(this._mapPane)||new W(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var S=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var S=this.getSize()._divideBy(2);return this.project(u,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,S){var P=this._getNewPixelOrigin(S,g);return this.project(u,g)._subtract(P)},_latLngBoundsToNewLayerBounds:function(u,g,S){var P=this._getNewPixelOrigin(S,g);return oe([this.project(u.getSouthWest(),g)._subtract(P),this.project(u.getNorthWest(),g)._subtract(P),this.project(u.getSouthEast(),g)._subtract(P),this.project(u.getNorthEast(),g)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,S){if(!S)return u;var P=this.project(u,g),B=this.getSize().divideBy(2),J=new K(P.subtract(B),P.add(B)),pe=this._getBoundsOffset(J,S,g);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?u:this.unproject(P.add(pe),g)},_limitOffset:function(u,g){if(!g)return u;var S=this.getPixelBounds(),P=new K(S.min.add(u),S.max.add(u));return u.add(this._getBoundsOffset(P,g))},_getBoundsOffset:function(u,g,S){var P=oe(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),B=P.min.subtract(u.min),J=P.max.subtract(u.max),pe=this._rebound(B.x,-J.x),Le=this._rebound(B.y,-J.y);return new W(pe,Le)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),S=this.getMaxZoom(),P=Vt.any3d?this.options.zoomSnap:1;return P&&(u=Math.round(u/P)*P),Math.max(g,Math.min(S,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var S=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var u=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var S=Lt,P=this._proxy.style[S];ni(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),P===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();ni(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(g),B=this._getCenterOffset(u)._divideBy(1-1/P);return S.animate!==!0&&!this.getSize().contains(B)?!1:(Y(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,S,P){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Es(u,g){return new Ln(u,g)}var Vr=se.extend({options:{position:"topright"},initialize:function(u){C(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),S=this.getPosition(),P=u._controlCorners[S];return wt(g,"leaflet-control"),S.indexOf("bottom")!==-1?P.insertBefore(g,P.firstChild):P.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Fi=function(u){return new Vr(u)};Ln.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",S=this._controlContainer=bt("div",g+"control-container",this._container);function P(B,J){var pe=g+B+" "+g+J;u[B+J]=bt("div",pe,S)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)jt(this._controlCorners[u]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sl=Vr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,S,P){return S<P?-1:P<S?1:0}},initialize:function(u,g,S){C(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in u)this._addLayer(u[P],P);for(P in g)this._addLayer(g[P],P,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Vr.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):wn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=bt("div",u),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Tr(g),pa(g);var P=this._section=bt("section",u+"-list");S&&(this._map.on("click",this.collapse,this),sn(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=bt("a",u+"-toggle",g);B.href="#",B.title="Layers",B.setAttribute("role","button"),sn(B,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){pi(J),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=bt("div",u+"-base",P),this._separator=bt("div",u+"-separator",P),this._overlaysList=bt("div",u+"-overlays",P),g.appendChild(P)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,S){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(P,B){return this.options.sortFunction(P.layer,B.layer,P.name,B.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var u,g,S,P,B=0;for(S=0;S<this._layers.length;S++)P=this._layers[S],this._addItem(P),g=g||P.overlay,u=u||!P.overlay,B+=P.overlay?0:1;return this.options.hideSingleBase&&(u=u&&B>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),S=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(u,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=S,P.firstChild},_addItem:function(u){var g=document.createElement("label"),S=this._map.hasLayer(u.layer),P;u.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=S):P=this._createRadioElement("leaflet-base-layers_"+d(this),S),this._layerControlInputs.push(P),P.layerId=d(u.layer),sn(P,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+u.name;var J=document.createElement("span");g.appendChild(J),J.appendChild(P),J.appendChild(B);var pe=u.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,S,P=[],B=[];this._handlingClick=!0;for(var J=u.length-1;J>=0;J--)g=u[J],S=this._getLayer(g.layerId).layer,g.checked?P.push(S):g.checked||B.push(S);for(J=0;J<B.length;J++)this._map.hasLayer(B[J])&&this._map.removeLayer(B[J]);for(J=0;J<P.length;J++)this._map.hasLayer(P[J])||this._map.addLayer(P[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,S,P=this._map.getZoom(),B=u.length-1;B>=0;B--)g=u[B],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&P<S.options.minZoom||S.options.maxZoom!==void 0&&P>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,sn(u,"click",pi),this.expand();var g=this;setTimeout(function(){Yn(u,"click",pi),g._preventClick=!1})}}),ma=function(u,g,S){return new sl(u,g,S)},Cs=Vr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",S=bt("div",g+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,S,P,B){var J=bt("a",S,P);return J.innerHTML=u,J.href="#",J.title=g,J.setAttribute("role","button"),J.setAttribute("aria-label",g),Tr(J),sn(J,"click",Ms),sn(J,"click",B,this),sn(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";wn(this._zoomInButton,g),wn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(wt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(wt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ln.mergeOptions({zoomControl:!0}),Ln.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cs,this.addControl(this.zoomControl))});var Gu=function(u){return new Cs(u)},er=Vr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",S=bt("div",g),P=this.options;return this._addScales(P,g+"-line",S),u.on(P.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),S},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,S){u.metric&&(this._mScale=bt("div",g,S)),u.imperial&&(this._iScale=bt("div",g,S))},_update:function(){var u=this._map,g=u.getSize().y/2,S=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/u)},_updateImperial:function(u){var g=u*3.2808399,S,P,B;g>5280?(S=g/5280,P=this._getRoundNum(S),this._updateScale(this._iScale,P+" mi",P/S)):(B=this._getRoundNum(g),this._updateScale(this._iScale,B+" ft",B/g))},_updateScale:function(u,g,S){u.style.width=Math.round(this.options.maxWidth*S)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),S=u/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),ga=function(u){return new er(u)},Bl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xo=Vr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Vt.inlineSvg?Bl+" ":"")+"Leaflet</a>"},initialize:function(u){C(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),Tr(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),u.length&&S.push(u.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Ln.mergeOptions({attributionControl:!0}),Ln.addInitHook(function(){this.options.attributionControl&&new xo().addTo(this)});var ol=function(u){return new xo(u)};Vr.Layers=sl,Vr.Zoom=Cs,Vr.Scale=er,Vr.Attribution=xo,Fi.layers=ma,Fi.zoom=Gu,Fi.scale=ga,Fi.attribution=ol;var ai=se.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ai.addTo=function(u,g){return u.addHandler(g,this),this};var as={Events:he},Hr=Vt.touch?"touchstart mousedown":"mousedown",jr=de.extend({options:{clickTolerance:3},initialize:function(u,g,S,P){C(this,P),this._element=u,this._dragStartTarget=g||u,this._preventOutline=S},enable:function(){this._enabled||(sn(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jr._dragging===this&&this.finishDrag(!0),Yn(this._dragStartTarget,Hr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!dn(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){jr._dragging===this&&this.finishDrag();return}if(!(jr._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(jr._dragging=this,this._preventOutline&&nl(this._element),Vu(),gn(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,S=vn(this._element);this._startPoint=new W(g.clientX,g.clientY),this._startPos=Gn(this._element),this._parentScale=Ts(S);var P=u.type==="mousedown";sn(document,P?"mousemove":"touchmove",this._onMove,this),sn(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,S=new W(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,pi(u),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Rn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){wn(document.body,"leaflet-dragging"),this._lastTarget&&(wn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yn(document,"mousemove touchmove",this._onMove,this),Yn(document,"mouseup touchend touchcancel",this._onUp,this),tl(),Di();var g=this._moved&&this._moving;this._moving=!1,jr._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Xu(u,g,S){var P,B=[1,4,2,8],J,pe,Le,Fe,Je,Ct,Qt,yn;for(J=0,Ct=u.length;J<Ct;J++)u[J]._code=wo(u[J],g);for(Le=0;Le<4;Le++){for(Qt=B[Le],P=[],J=0,Ct=u.length,pe=Ct-1;J<Ct;pe=J++)Fe=u[J],Je=u[pe],Fe._code&Qt?Je._code&Qt||(yn=Wl(Je,Fe,Qt,g,S),yn._code=wo(yn,g),P.push(yn)):(Je._code&Qt&&(yn=Wl(Je,Fe,Qt,g,S),yn._code=wo(yn,g),P.push(yn)),P.push(Fe));u=P}return u}function Zs(u,g){var S,P,B,J,pe,Le,Fe,Je,Ct;if(!u||u.length===0)throw new Error("latlngs not passed");hr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Qt=_e([0,0]),yn=ce(u),qi=yn.getNorthWest().distanceTo(yn.getSouthWest())*yn.getNorthEast().distanceTo(yn.getNorthWest());qi<1700&&(Qt=Ys(u));var Si=u.length,fr=[];for(S=0;S<Si;S++){var Rr=_e(u[S]);fr.push(g.project(_e([Rr.lat-Qt.lat,Rr.lng-Qt.lng])))}for(Le=Fe=Je=0,S=0,P=Si-1;S<Si;P=S++)B=fr[S],J=fr[P],pe=B.y*J.x-J.y*B.x,Fe+=(B.x+J.x)*pe,Je+=(B.y+J.y)*pe,Le+=pe*3;Le===0?Ct=fr[0]:Ct=[Fe/Le,Je/Le];var Ma=g.unproject(ee(Ct));return _e([Ma.lat+Qt.lat,Ma.lng+Qt.lng])}function Ys(u){for(var g=0,S=0,P=0,B=0;B<u.length;B++){var J=_e(u[B]);g+=J.lat,S+=J.lng,P++}return _e([g/P,S/P])}var Zu={__proto__:null,clipPolygon:Xu,polygonCenter:Zs,centroid:Ys};function Vl(u,g){if(!g||!u.length)return u.slice();var S=g*g;return u=Yu(u,S),u=gh(u,S),u}function Hl(u,g,S){return Math.sqrt(ls(u,g,S,!0))}function mh(u,g,S){return ls(u,g,S)}function gh(u,g){var S=u.length,P=typeof Uint8Array<"u"?Uint8Array:Array,B=new P(S);B[0]=B[S-1]=1,jl(u,B,g,0,S-1);var J,pe=[];for(J=0;J<S;J++)B[J]&&pe.push(u[J]);return pe}function jl(u,g,S,P,B){var J=0,pe,Le,Fe;for(Le=P+1;Le<=B-1;Le++)Fe=ls(u[Le],u[P],u[B],!0),Fe>J&&(pe=Le,J=Fe);J>S&&(g[pe]=1,jl(u,g,S,P,pe),jl(u,g,S,pe,B))}function Yu(u,g){for(var S=[u[0]],P=1,B=0,J=u.length;P<J;P++)al(u[P],u[B])>g&&(S.push(u[P]),B=P);return B<J-1&&S.push(u[J-1]),S}var qu;function Kc(u,g,S,P,B){var J=P?qu:wo(u,S),pe=wo(g,S),Le,Fe,Je;for(qu=pe;;){if(!(J|pe))return[u,g];if(J&pe)return!1;Le=J||pe,Fe=Wl(u,g,Le,S,B),Je=wo(Fe,S),Le===J?(u=Fe,J=Je):(g=Fe,pe=Je)}}function Wl(u,g,S,P,B){var J=g.x-u.x,pe=g.y-u.y,Le=P.min,Fe=P.max,Je,Ct;return S&8?(Je=u.x+J*(Fe.y-u.y)/pe,Ct=Fe.y):S&4?(Je=u.x+J*(Le.y-u.y)/pe,Ct=Le.y):S&2?(Je=Fe.x,Ct=u.y+pe*(Fe.x-u.x)/J):S&1&&(Je=Le.x,Ct=u.y+pe*(Le.x-u.x)/J),new W(Je,Ct,B)}function wo(u,g){var S=0;return u.x<g.min.x?S|=1:u.x>g.max.x&&(S|=2),u.y<g.min.y?S|=4:u.y>g.max.y&&(S|=8),S}function al(u,g){var S=g.x-u.x,P=g.y-u.y;return S*S+P*P}function ls(u,g,S,P){var B=g.x,J=g.y,pe=S.x-B,Le=S.y-J,Fe=pe*pe+Le*Le,Je;return Fe>0&&(Je=((u.x-B)*pe+(u.y-J)*Le)/Fe,Je>1?(B=S.x,J=S.y):Je>0&&(B+=pe*Je,J+=Le*Je)),pe=u.x-B,Le=u.y-J,P?pe*pe+Le*Le:new W(B,J)}function hr(u){return!k(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Gl(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hr(u)}function Wr(u,g){var S,P,B,J,pe,Le,Fe,Je;if(!u||u.length===0)throw new Error("latlngs not passed");hr(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ct=_e([0,0]),Qt=ce(u),yn=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());yn<1700&&(Ct=Ys(u));var qi=u.length,Si=[];for(S=0;S<qi;S++){var fr=_e(u[S]);Si.push(g.project(_e([fr.lat-Ct.lat,fr.lng-Ct.lng])))}for(S=0,P=0;S<qi-1;S++)P+=Si[S].distanceTo(Si[S+1])/2;if(P===0)Je=Si[0];else for(S=0,J=0;S<qi-1;S++)if(pe=Si[S],Le=Si[S+1],B=pe.distanceTo(Le),J+=B,J>P){Fe=(J-P)/B,Je=[Le.x-Fe*(Le.x-pe.x),Le.y-Fe*(Le.y-pe.y)];break}var Rr=g.unproject(ee(Je));return _e([Rr.lat+Ct.lat,Rr.lng+Ct.lng])}var Gr={__proto__:null,simplify:Vl,pointToSegmentDistance:Hl,closestPointOnSegment:mh,clipSegment:Kc,_getEdgeIntersection:Wl,_getBitCode:wo,_sqClosestPointOnSegment:ls,isFlat:hr,_flat:Gl,polylineCenter:Wr},So={project:function(u){return new W(u.lng,u.lat)},unproject:function(u){return new me(u.y,u.x)},bounds:new K([-180,-90],[180,90])},As={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,S=this.R,P=u.lat*g,B=this.R_MINOR/S,J=Math.sqrt(1-B*B),pe=J*Math.sin(P),Le=Math.tan(Math.PI/4-P/2)/Math.pow((1-pe)/(1+pe),J/2);return P=-S*Math.log(Math.max(Le,1e-10)),new W(u.lng*g*S,P)},unproject:function(u){for(var g=180/Math.PI,S=this.R,P=this.R_MINOR/S,B=Math.sqrt(1-P*P),J=Math.exp(-u.y/S),pe=Math.PI/2-2*Math.atan(J),Le=0,Fe=.1,Je;Le<15&&Math.abs(Fe)>1e-7;Le++)Je=B*Math.sin(pe),Je=Math.pow((1-Je)/(1+Je),B/2),Fe=Math.PI/2-2*Math.atan(J*Je)-pe,pe+=Fe;return new me(pe*g,u.x*g/S)}},bo={__proto__:null,LonLat:So,Mercator:As,SphericalMercator:Qe},va=r({},Ge,{code:"EPSG:3395",projection:As,transformation:function(){var u=.5/(Math.PI*As.R);return ht(u,.5,-u,.5)}()}),Jc=r({},Ge,{code:"EPSG:4326",projection:So,transformation:ht(1/180,1,-1/180,.5)}),Qc=r({},xe,{projection:So,transformation:ht(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var S=g.lng-u.lng,P=g.lat-u.lat;return Math.sqrt(S*S+P*P)},infinite:!0});xe.Earth=Ge,xe.EPSG3395=va,xe.EPSG3857=ct,xe.EPSG900913=re,xe.EPSG4326=Jc,xe.Simple=Qc;var Xr=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ln.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var S in this._layers)u.call(g,this._layers[S]);return this},_addLayers:function(u){u=u?k(u)?u:[u]:[];for(var g=0,S=u.length;g<S;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,S=this._getZoomSpan();for(var P in this._zoomBoundLayers){var B=this._zoomBoundLayers[P].options;u=B.minZoom===void 0?u:Math.min(u,B.minZoom),g=B.maxZoom===void 0?g:Math.max(g,B.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=Xr.extend({initialize:function(u,g){C(this,g),this._layers={};var S,P;if(u)for(S=0,P=u.length;S<P;S++)this.addLayer(u[S])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),S,P;for(S in this._layers)P=this._layers[S],P[u]&&P[u].apply(P,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var S in this._layers)u.call(g,this._layers[S]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),Xi=function(u,g){return new wi(u,g)},kn=wi.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),wi.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),wi.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new we;for(var g in this._layers){var S=this._layers[g];u.extend(S.getBounds?S.getBounds():S.getLatLng())}return u}}),ll=function(u,g){return new kn(u,g)},Zi=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){C(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var S=this._getIconUrl(u);if(!S){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(P,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(u,g){var S=this.options,P=S[g+"Size"];typeof P=="number"&&(P=[P,P]);var B=ee(P),J=ee(g==="shadow"&&S.shadowAnchor||S.iconAnchor||B&&B.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(S.className||""),J&&(u.style.marginLeft=-J.x+"px",u.style.marginTop=-J.y+"px"),B&&(u.style.width=B.x+"px",u.style.height=B.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return Vt.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function ed(u){return new Zi(u)}var ya=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof ya.imagePath!="string"&&(ya.imagePath=this._detectIconPath()),(this.options.imagePath||ya.imagePath)+Zi.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(S,P,B){var J=P.exec(S);return J&&J[B]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=bt("div","leaflet-default-icon-path",document.body),g=Nt(u,"background-image")||Nt(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Xl=ai.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new jr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,S=g._map,P=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,J=Gn(g._icon),pe=S.getPixelBounds(),Le=S.getPixelOrigin(),Fe=oe(pe.min._subtract(Le).add(B),pe.max._subtract(Le).subtract(B));if(!Fe.contains(J)){var Je=ee((Math.max(Fe.max.x,J.x)-Fe.max.x)/(pe.max.x-Fe.max.x)-(Math.min(Fe.min.x,J.x)-Fe.min.x)/(pe.min.x-Fe.min.x),(Math.max(Fe.max.y,J.y)-Fe.max.y)/(pe.max.y-Fe.max.y)-(Math.min(Fe.min.y,J.y)-Fe.min.y)/(pe.min.y-Fe.min.y)).multiplyBy(P);S.panBy(Je,{animate:!1}),this._draggable._newPos._add(Je),this._draggable._startPos._add(Je),Rn(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=Y(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,S=g._shadow,P=Gn(g._icon),B=g._map.layerPointToLatLng(P);S&&Rn(S,P),g._latlng=B,u.latlng=B,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Ps=Xr.extend({options:{icon:new ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){C(this,g),this._latlng=_e(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=_e(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=u.icon.createIcon(this._icon),P=!1;S!==this._icon&&(this._icon&&this._removeIcon(),P=!0,u.title&&(S.title=u.title),S.tagName==="IMG"&&(S.alt=u.alt||"")),wt(S,g),u.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&sn(S,"focus",this._panOnFocus,this);var B=u.icon.createShadow(this._shadow),J=!1;B!==this._shadow&&(this._removeShadow(),J=!0),B&&(wt(B,g),B.alt=""),this._shadow=B,u.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&J&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yn(this._icon,"focus",this._panOnFocus,this),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Rn(this._icon,u),this._shadow&&Rn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xl)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xl(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&fi(this._icon,u),this._shadow&&fi(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,S=g.iconSize?ee(g.iconSize):ee(0,0),P=g.iconAnchor?ee(g.iconAnchor):ee(0,0);u.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:S.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vh(u,g){return new Ps(u,g)}var us=Xr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return C(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=us.extend({options:{fill:!0,radius:10},initialize:function(u,g){C(this,g),this._latlng=_e(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=_e(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return us.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,S=this._clickTolerance(),P=[u+S,g+S];this._pxBounds=new K(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $u(u,g){return new To(u,g)}var Vo=To.extend({initialize:function(u,g,S){if(typeof g=="number"&&(g=r({},S,{radius:g})),C(this,g),this._latlng=_e(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:us.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,S=this._map,P=S.options.crs;if(P.distance===Ge.distance){var B=Math.PI/180,J=this._mRadius/Ge.R/B,pe=S.project([g+J,u]),Le=S.project([g-J,u]),Fe=pe.add(Le).divideBy(2),Je=S.unproject(Fe).lat,Ct=Math.acos((Math.cos(J*B)-Math.sin(g*B)*Math.sin(Je*B))/(Math.cos(g*B)*Math.cos(Je*B)))/B;(isNaN(Ct)||Ct===0)&&(Ct=J/Math.cos(Math.PI/180*g)),this._point=Fe.subtract(S.getPixelOrigin()),this._radius=isNaN(Ct)?0:Fe.x-S.project([Je,u-Ct]).x,this._radiusY=Fe.y-pe.y}else{var Qt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Qt).x}this._updateBounds()}});function Ho(u,g,S){return new Vo(u,g,S)}var Mr=us.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){C(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,S=null,P=ls,B,J,pe=0,Le=this._parts.length;pe<Le;pe++)for(var Fe=this._parts[pe],Je=1,Ct=Fe.length;Je<Ct;Je++){B=Fe[Je-1],J=Fe[Je];var Qt=P(u,B,J,!0);Qt<g&&(g=Qt,S=P(u,B,J))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=_e(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new we,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return hr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],S=hr(u),P=0,B=u.length;P<B;P++)S?(g[P]=_e(u[P]),this._bounds.extend(g[P])):g[P]=this._convertLatLngs(u[P]);return g},_project:function(){var u=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new W(u,u);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,S){var P=u[0]instanceof me,B=u.length,J,pe;if(P){for(pe=[],J=0;J<B;J++)pe[J]=this._map.latLngToLayerPoint(u[J]),S.extend(pe[J]);g.push(pe)}else for(J=0;J<B;J++)this._projectLatlngs(u[J],g,S)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,P,B,J,pe,Le,Fe;for(S=0,B=0,J=this._rings.length;S<J;S++)for(Fe=this._rings[S],P=0,pe=Fe.length;P<pe-1;P++)Le=Kc(Fe[P],Fe[P+1],u,P,!0),Le&&(g[B]=g[B]||[],g[B].push(Le[0]),(Le[1]!==Fe[P+1]||P===pe-2)&&(g[B].push(Le[1]),B++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,S=0,P=u.length;S<P;S++)u[S]=Vl(u[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var S,P,B,J,pe,Le,Fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(S=0,J=this._parts.length;S<J;S++)for(Le=this._parts[S],P=0,pe=Le.length,B=pe-1;P<pe;B=P++)if(!(!g&&P===0)&&Hl(u,Le[B],Le[P])<=Fe)return!0;return!1}});function yh(u,g){return new Mr(u,g)}Mr._flat=Gl;var Er=Mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Mr.prototype._convertLatLngs.call(this,u),S=g.length;return S>=2&&g[0]instanceof me&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(u){Mr.prototype._setLatLngs.call(this,u),hr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,S=new W(g,g);if(u=new K(u.min.subtract(S),u.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,B=this._rings.length,J;P<B;P++)J=Xu(this._rings[P],u,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,S,P,B,J,pe,Le,Fe,Je;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(J=0,Fe=this._parts.length;J<Fe;J++)for(S=this._parts[J],pe=0,Je=S.length,Le=Je-1;pe<Je;Le=pe++)P=S[pe],B=S[Le],P.y>u.y!=B.y>u.y&&u.x<(B.x-P.x)*(u.y-P.y)/(B.y-P.y)+P.x&&(g=!g);return g||Mr.prototype._containsPoint.call(this,u,!0)}});function _h(u,g){return new Er(u,g)}var Cr=kn.extend({initialize:function(u,g){C(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=k(u)?u:u.features,S,P,B;if(g){for(S=0,P=g.length;S<P;S++)B=g[S],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var J=this.options;if(J.filter&&!J.filter(u))return this;var pe=Yi(u,J);return pe?(pe.feature=cl(u),pe.defaultOptions=pe.options,this.resetStyle(pe),J.onEachFeature&&J.onEachFeature(u,pe),this.addLayer(pe)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=r({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function Yi(u,g){var S=u.type==="Feature"?u.geometry:u,P=S?S.coordinates:null,B=[],J=g&&g.pointToLayer,pe=g&&g.coordsToLatLng||Mo,Le,Fe,Je,Ct;if(!P&&!S)return null;switch(S.type){case"Point":return Le=pe(P),jo(J,u,Le,g);case"MultiPoint":for(Je=0,Ct=P.length;Je<Ct;Je++)Le=pe(P[Je]),B.push(jo(J,u,Le,g));return new kn(B);case"LineString":case"MultiLineString":return Fe=Ar(P,S.type==="LineString"?0:1,pe),new Mr(Fe,g);case"Polygon":case"MultiPolygon":return Fe=Ar(P,S.type==="Polygon"?1:2,pe),new Er(Fe,g);case"GeometryCollection":for(Je=0,Ct=S.geometries.length;Je<Ct;Je++){var Qt=Yi({geometry:S.geometries[Je],type:"Feature",properties:u.properties},g);Qt&&B.push(Qt)}return new kn(B);case"FeatureCollection":for(Je=0,Ct=S.features.length;Je<Ct;Je++){var yn=Yi(S.features[Je],g);yn&&B.push(yn)}return new kn(B);default:throw new Error("Invalid GeoJSON object.")}}function jo(u,g,S,P){return u?u(g,S):new Ps(S,P&&P.markersInheritOptions&&P)}function Mo(u){return new me(u[1],u[0],u[2])}function Ar(u,g,S){for(var P=[],B=0,J=u.length,pe;B<J;B++)pe=g?Ar(u[B],g-1,S):(S||Mo)(u[B]),P.push(pe);return P}function ul(u,g){return u=_e(u),u.alt!==void 0?[_(u.lng,g),_(u.lat,g),_(u.alt,g)]:[_(u.lng,g),_(u.lat,g)]}function Eo(u,g,S,P){for(var B=[],J=0,pe=u.length;J<pe;J++)B.push(g?Eo(u[J],hr(u[J])?0:g-1,S,P):ul(u[J],P));return!g&&S&&B.length>0&&B.push(B[0].slice()),B}function _a(u,g){return u.feature?r({},u.feature,{geometry:g}):cl(g)}function cl(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Kn={toGeoJSON:function(u){return _a(this,{type:"Point",coordinates:ul(this.getLatLng(),u)})}};Ps.include(Kn),Vo.include(Kn),To.include(Kn),Mr.include({toGeoJSON:function(u){var g=!hr(this._latlngs),S=Eo(this._latlngs,g?1:0,!1,u);return _a(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),Er.include({toGeoJSON:function(u){var g=!hr(this._latlngs),S=g&&!hr(this._latlngs[0]),P=Eo(this._latlngs,S?2:g?1:0,!0,u);return g||(P=[P]),_a(this,{type:(S?"Multi":"")+"Polygon",coordinates:P})}}),wi.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(u).geometry.coordinates)}),_a(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var S=g==="GeometryCollection",P=[];return this.eachLayer(function(B){if(B.toGeoJSON){var J=B.toGeoJSON(u);if(S)P.push(J.geometry);else{var pe=cl(J);pe.type==="FeatureCollection"?P.push.apply(P,pe.features):P.push(pe)}}}),S?_a(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function Zl(u,g){return new Cr(u,g)}var Zr=Zl,qs=Xr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,S){this._url=u,this._bounds=ce(g),C(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&mn(this._image),this},bringToBack:function(){return this._map&&Dt(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ce(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:bt("img");if(wt(g,"leaflet-image-layer"),this._zoomAnimated&&wt(g,"leaflet-zoom-animated"),this.options.className&&wt(g,this.options.className),g.onselectstart=v,g.onmousemove=v,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;ni(this._image,S,g)},_reset:function(){var u=this._image,g=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();Rn(u,g.min),u.style.width=S.x+"px",u.style.height=S.y+"px"},_updateOpacity:function(){fi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Yl=function(u,g,S){return new qs(u,g,S)},Pr=qs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:bt("video");if(wt(g,"leaflet-image-layer"),this._zoomAnimated&&wt(g,"leaflet-zoom-animated"),this.options.className&&wt(g,this.options.className),g.onselectstart=v,g.onmousemove=v,g.onloadeddata=o(this.fire,this,"load"),u){for(var S=g.getElementsByTagName("source"),P=[],B=0;B<S.length;B++)P.push(S[B].src);this._url=S.length>0?P:[g.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var pe=bt("source");pe.src=this._url[J],g.appendChild(pe)}}});function xa(u,g,S){return new Pr(u,g,S)}var ii=qs.extend({_initImage:function(){var u=this._image=this._url;wt(u,"leaflet-image-layer"),this._zoomAnimated&&wt(u,"leaflet-zoom-animated"),this.options.className&&wt(u,this.options.className),u.onselectstart=v,u.onmousemove=v}});function zi(u,g,S){return new ii(u,g,S)}var Xn=Xr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof me||k(u))?(this._latlng=_e(u),C(this,g)):(C(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&fi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&fi(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(fi(this._container,0),this._removeTimeout=setTimeout(o(jt,void 0,this._container),200)):jt(this._container),this.options.interactive&&(wn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=_e(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mn(this._container),this},bringToBack:function(){return this._map&&Dt(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof kn){g=null;var S=this._source._layers;for(var P in S)if(S[P]._map){g=S[P];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=ee(this.options.offset),S=this._getAnchor();this._zoomAnimated?Rn(this._container,u.add(S)):g=g.add(u).add(S);var P=this._containerBottom=-g.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=P+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});Ln.include({_initOverlay:function(u,g,S,P){var B=g;return B instanceof u||(B=new u(P).setContent(g)),S&&B.setLatLng(S),B}}),Xr.include({_initOverlay:function(u,g,S,P){var B=S;return B instanceof u?(C(B,P),B._source=this):(B=g&&!P?g:new u(P,this),B.setContent(S)),B}});var wa=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Xn.prototype.openOn.call(this,u)},onAdd:function(u){Xn.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof us||this._source.on("preclick",Xs))},onRemove:function(u){Xn.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof us||this._source.off("preclick",Xs))},getEvents:function(){var u=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=bt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=bt("div",u+"-content-wrapper",g);if(this._contentNode=bt("div",u+"-content",S),Tr(g),pa(this._contentNode),sn(g,"contextmenu",Xs),this._tipContainer=bt("div",u+"-tip-container",g),this._tip=bt("div",u+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=bt("a",u+"-close-button",g);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',sn(P,"click",function(B){pi(B),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var S=u.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var P=u.offsetHeight,B=this.options.maxHeight,J="leaflet-popup-scrolled";B&&P>B?(g.height=B+"px",wt(u,J)):wn(u,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),S=this._getAnchor();Rn(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(Nt(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,P=this._containerWidth,B=new W(this._containerLeft,-S-this._containerBottom);B._add(Gn(this._container));var J=u.layerPointToContainerPoint(B),pe=ee(this.options.autoPanPadding),Le=ee(this.options.autoPanPaddingTopLeft||pe),Fe=ee(this.options.autoPanPaddingBottomRight||pe),Je=u.getSize(),Ct=0,Qt=0;J.x+P+Fe.x>Je.x&&(Ct=J.x+P-Je.x+Fe.x),J.x-Ct-Le.x<0&&(Ct=J.x-Le.x),J.y+S+Fe.y>Je.y&&(Qt=J.y+S-Je.y+Fe.y),J.y-Qt-Le.y<0&&(Qt=J.y-Le.y),(Ct||Qt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ct,Qt]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$s=function(u,g){return new wa(u,g)};Ln.mergeOptions({closePopupOnClick:!0}),Ln.include({openPopup:function(u,g,S){return this._initOverlay(wa,u,g,S).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Xr.include({bindPopup:function(u,g){return this._popup=this._initOverlay(wa,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){Ms(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof us)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Ks=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Xn.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Xn.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Xn.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,S,P=this._map,B=this._container,J=P.latLngToContainerPoint(P.getCenter()),pe=P.layerPointToContainerPoint(u),Le=this.options.direction,Fe=B.offsetWidth,Je=B.offsetHeight,Ct=ee(this.options.offset),Qt=this._getAnchor();Le==="top"?(g=Fe/2,S=Je):Le==="bottom"?(g=Fe/2,S=0):Le==="center"?(g=Fe/2,S=Je/2):Le==="right"?(g=0,S=Je/2):Le==="left"?(g=Fe,S=Je/2):pe.x<J.x?(Le="right",g=0,S=Je/2):(Le="left",g=Fe+(Ct.x+Qt.x)*2,S=Je/2),u=u.subtract(ee(g,S,!0)).add(Ct).add(Qt),wn(B,"leaflet-tooltip-right"),wn(B,"leaflet-tooltip-left"),wn(B,"leaflet-tooltip-top"),wn(B,"leaflet-tooltip-bottom"),wt(B,"leaflet-tooltip-"+Le),Rn(B,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&fi(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ql=function(u,g){return new Ks(u,g)};Ln.include({openTooltip:function(u,g,S){return this._initOverlay(Ks,u,g,S).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Xr.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ks,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(sn(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),sn(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,S,P;this._tooltip.options.sticky&&u.originalEvent&&(S=this._map.mouseEventToContainerPoint(u.originalEvent),P=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(g)}});var Ri=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),S=this.options;if(S.html instanceof Element?(cn(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var P=ee(S.bgPos);g.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Ku(u){return new Ri(u)}Zi.Default=ya;var Js=Xr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Vt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){C(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),jt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Dt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof W?u:new W(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,S=-u(-1/0,1/0),P=0,B=g.length,J;P<B;P++)J=g[P].style.zIndex,g[P]!==this._container&&J&&(S=u(S,+J));isFinite(S)&&(this.options.zIndex=S+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Vt.ielt9){fi(this._container,this.options.opacity);var u=+new Date,g=!1,S=!1;for(var P in this._tiles){var B=this._tiles[P];if(!(!B.current||!B.loaded)){var J=Math.min(1,(u-B.loaded)/200);fi(B.el,J),J<1?g=!0:(B.active?S=!0:this._onOpaqueTile(B),B.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(Q(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===u?(this._levels[S].el.style.zIndex=g-Math.abs(u-S),this._onUpdateLevel(S)):(jt(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var P=this._levels[u],B=this._map;return P||(P=this._levels[u]={},P.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=g,P.origin=B.project(B.unproject(B.getPixelOrigin()),u).round(),P.zoom=u,this._setZoomTransform(P,B.getCenter(),B.getZoom()),v(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var u,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var P=g.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)jt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,S,P){var B=Math.floor(u/2),J=Math.floor(g/2),pe=S-1,Le=new W(+B,+J);Le.z=+pe;var Fe=this._tileCoordsToKey(Le),Je=this._tiles[Fe];return Je&&Je.active?(Je.retain=!0,!0):(Je&&Je.loaded&&(Je.retain=!0),pe>P?this._retainParent(B,J,pe,P):!1)},_retainChildren:function(u,g,S,P){for(var B=2*u;B<2*u+2;B++)for(var J=2*g;J<2*g+2;J++){var pe=new W(B,J);pe.z=S+1;var Le=this._tileCoordsToKey(pe),Fe=this._tiles[Le];if(Fe&&Fe.active){Fe.retain=!0;continue}else Fe&&Fe.loaded&&(Fe.retain=!0);S+1<P&&this._retainChildren(B,J,S+1,P)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,S,P){var B=Math.round(g);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var J=this.options.updateWhenZooming&&B!==this._tileZoom;(!P||J)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(u),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],u,g)},_setZoomTransform:function(u,g,S){var P=this._map.getZoomScale(S,u.zoom),B=u.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(g,S)).round();Vt.any3d?ni(u.el,B,P):Rn(u.el,B)},_resetGrid:function(){var u=this._map,g=u.options.crs,S=this._tileSize=this.getTileSize(),P=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],P).x/S.x),Math.ceil(u.project([0,g.wrapLng[1]],P).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],P).y/S.x),Math.ceil(u.project([g.wrapLat[1],0],P).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),P=g.getZoomScale(S,this._tileZoom),B=g.project(u,this._tileZoom).floor(),J=g.getSize().divideBy(P*2);return new K(B.subtract(J),B.add(J))},_update:function(u){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(u),B=this._pxBoundsToTileRange(P),J=B.getCenter(),pe=[],Le=this.options.keepBuffer,Fe=new K(B.getBottomLeft().subtract([Le,-Le]),B.getTopRight().add([Le,-Le]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Je in this._tiles){var Ct=this._tiles[Je].coords;(Ct.z!==this._tileZoom||!Fe.contains(new W(Ct.x,Ct.y)))&&(this._tiles[Je].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(u,S);return}for(var Qt=B.min.y;Qt<=B.max.y;Qt++)for(var yn=B.min.x;yn<=B.max.x;yn++){var qi=new W(yn,Qt);if(qi.z=this._tileZoom,!!this._isValidTile(qi)){var Si=this._tiles[this._tileCoordsToKey(qi)];Si?Si.current=!0:pe.push(qi)}}if(pe.sort(function(Rr,Ma){return Rr.distanceTo(J)-Ma.distanceTo(J)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fr=document.createDocumentFragment();for(yn=0;yn<pe.length;yn++)this._addTile(pe[yn],fr);this._level.el.appendChild(fr)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(u.x<S.min.x||u.x>S.max.x)||!g.wrapLat&&(u.y<S.min.y||u.y>S.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(u);return ce(this.options.bounds).overlaps(P)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,S=this.getTileSize(),P=u.scaleBy(S),B=P.add(S),J=g.unproject(P,u.z),pe=g.unproject(B,u.z);return[J,pe]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),S=new we(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),S=new W(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(u){var g=this._tiles[u];g&&(jt(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){wt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=v,u.onmousemove=v,Vt.ielt9&&this.options.opacity<1&&fi(u,this.options.opacity)},_addTile:function(u,g){var S=this._getTilePos(u),P=this._tileCoordsToKey(u),B=this.createTile(this._wrapCoords(u),o(this._tileReady,this,u));this._initTile(B),this.createTile.length<2&&Y(o(this._tileReady,this,u,null,B)),Rn(B,S),this._tiles[P]={el:B,coords:u,current:!0},g.appendChild(B),this.fire("tileloadstart",{tile:B,coords:u})},_tileReady:function(u,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:u});var P=this._tileCoordsToKey(u);S=this._tiles[P],S&&(S.loaded=+new Date,this._map._fadeAnimated?(fi(S.el,0),Q(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(wt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Vt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new W(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new K(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Wo(u){return new Js(u)}var tr=Js.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=C(this,g),g.detectRetina&&Vt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var S=document.createElement("img");return sn(S,"load",o(this._tileOnLoad,this,g,S)),sn(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(u),S},getTileUrl:function(u){var g={r:Vt.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=S),g["-y"]=S}return R(this._url,r(g,this.options))},_tileOnLoad:function(u,g){Vt.ielt9?setTimeout(o(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,S){var P=this.options.errorTileUrl;P&&g.getAttribute("src")!==P&&(g.src=P),u(S,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,P=this.options.zoomOffset;return S&&(u=g-u),u+P},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=v,g.onerror=v,!g.complete)){g.src=j;var S=this._tiles[u].coords;jt(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",j),Js.prototype._removeTile.call(this,u)},_tileReady:function(u,g,S){if(!(!this._map||S&&S.getAttribute("src")===j))return Js.prototype._tileReady.call(this,u,g,S)}});function cs(u,g){return new tr(u,g)}var Rs=tr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var S=r({},this.defaultWmsParams);for(var P in g)P in this.options||(S[P]=g[P]);g=C(this,g);var B=g.detectRetina&&Vt.retina?2:1,J=this.getTileSize();S.width=J.x*B,S.height=J.y*B,this.wmsParams=S},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,tr.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),S=this._crs,P=oe(S.project(g[0]),S.project(g[1])),B=P.min,J=P.max,pe=(this._wmsVersion>=1.3&&this._crs===Jc?[B.y,B.x,J.y,J.x]:[B.x,B.y,J.x,J.y]).join(","),Le=tr.prototype.getTileUrl.call(this,u);return Le+T(this.wmsParams,Le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(u,g){return r(this.wmsParams,u),g||this.redraw(),this}});function $l(u,g){return new Rs(u,g)}tr.WMS=Rs,cs.wms=$l;var Yr=Xr.extend({options:{padding:.1},initialize:function(u){C(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var S=this._map.getZoomScale(g,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,g),J=P.multiplyBy(-S).add(B).subtract(this._map._getNewPixelOrigin(u,g));Vt.any3d?ni(this._container,J,S):Rn(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new K(S,S.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ju=Yr.extend({options:{tolerance:0},getEvents:function(){var u=Yr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");sn(u,"mousemove",this._onMouseMove,this),sn(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),sn(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,jt(this._container),Yn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var u=this._bounds,g=this._container,S=u.getSize(),P=Vt.retina?2:1;Rn(g,u.min),g.width=P*S.x,g.height=P*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",Vt.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,S=g.next,P=g.prev;S?S.prev=P:this._drawLast=P,P?P.next=S:this._drawFirst=S,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),S=[],P,B;for(B=0;B<g.length;B++){if(P=Number(g[B]),isNaN(P))return;S.push(P)}u.options._dashArray=S}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)u=P.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var S,P,B,J,pe=u._parts,Le=pe.length,Fe=this._ctx;if(Le){for(Fe.beginPath(),S=0;S<Le;S++){for(P=0,B=pe[S].length;P<B;P++)J=pe[S][P],Fe[P?"lineTo":"moveTo"](J.x,J.y);g&&Fe.closePath()}this._fillStroke(Fe,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,S=this._ctx,P=Math.max(Math.round(u._radius),1),B=(Math.max(Math.round(u._radiusY),1)||P)/P;B!==1&&(S.save(),S.scale(1,B)),S.beginPath(),S.arc(g.x,g.y/B,P,0,Math.PI*2,!1),B!==1&&S.restore(),this._fillStroke(S,u)}},_fillStroke:function(u,g){var S=g.options;S.fill&&(u.globalAlpha=S.fillOpacity,u.fillStyle=S.fillColor||S.color,u.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=S.opacity,u.lineWidth=S.weight,u.strokeStyle=S.color,u.lineCap=S.lineCap,u.lineJoin=S.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),S,P,B=this._drawFirst;B;B=B.next)S=B.layer,S.options.interactive&&S._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(S))&&(P=S);this._fireEvent(P?[P]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(wn(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var S,P,B=this._drawFirst;B;B=B.next)S=B.layer,S.options.interactive&&S._containsPoint(g)&&(P=S);P!==this._hoveredLayer&&(this._handleMouseOut(u),P&&(wt(this._container,"leaflet-interactive"),this._fireEvent([P],u,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,S){this._map._fireDOMEvent(g,S||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var S=g.next,P=g.prev;if(S)S.prev=P;else return;P?P.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var S=g.next,P=g.prev;if(P)P.next=S;else return;S?S.prev=P:P&&(this._drawLast=P),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Qu(u){return Vt.canvas?new Ju(u):null}var Sa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),td={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Sa("shape");wt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Sa("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;jt(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,S=u._fill,P=u.options,B=u._container;B.stroked=!!P.stroke,B.filled=!!P.fill,P.stroke?(g||(g=u._stroke=Sa("stroke")),B.appendChild(g),g.weight=P.weight+"px",g.color=P.color,g.opacity=P.opacity,P.dashArray?g.dashStyle=k(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=P.lineCap.replace("butt","flat"),g.joinstyle=P.lineJoin):g&&(B.removeChild(g),u._stroke=null),P.fill?(S||(S=u._fill=Sa("fill")),B.appendChild(S),S.color=P.fillColor||P.color,S.opacity=P.fillOpacity):S&&(B.removeChild(S),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),S=Math.round(u._radius),P=Math.round(u._radiusY||S);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+P+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){mn(u._container)},_bringToBack:function(u){Dt(u._container)}},ds=Vt.vml?Sa:rt,Go=Yr.extend({_initContainer:function(){this._container=ds("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ds("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),Yn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var u=this._bounds,g=u.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),Rn(S,u.min),S.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=ds("path");u.options.className&&wt(g,u.options.className),u.options.interactive&&wt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){jt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,S=u.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,Ze(u._parts,g))},_updateCircle:function(u){var g=u._point,S=Math.max(Math.round(u._radius),1),P=Math.max(Math.round(u._radiusY),1)||S,B="a"+S+","+P+" 0 1,0 ",J=u._empty()?"M0 0":"M"+(g.x-S)+","+g.y+B+S*2+",0 "+B+-S*2+",0 ";this._setPath(u,J)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){mn(u._path)},_bringToBack:function(u){Dt(u._path)}});Vt.vml&&Go.include(td);function dl(u){return Vt.svg||Vt.vml?new Go(u):null}Ln.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Qu(u)||dl(u)}});var hl=Er.extend({initialize:function(u,g){Er.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ce(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function xh(u,g){return new hl(u,g)}Go.create=ds,Go.pointsToPath=Ze,Cr.geometryToLayer=Yi,Cr.coordsToLatLng=Mo,Cr.coordsToLatLngs=Ar,Cr.latLngToCoords=ul,Cr.latLngsToCoords=Eo,Cr.getFeature=_a,Cr.asFeature=cl,Ln.mergeOptions({boxZoom:!0});var Co=ai.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){sn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gn(),Vu(),this._startPoint=this._map.mouseEventToContainerPoint(u),sn(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new K(this._point,this._startPoint),S=g.getSize();Rn(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(jt(this._box),wn(this._container,"leaflet-crosshair")),Di(),tl(),Yn(document,{contextmenu:Ms,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ln.addInitHook("addHandler","boxZoom",Co),Ln.mergeOptions({doubleClickZoom:!0});var Kl=ai.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,S=g.getZoom(),P=g.options.zoomDelta,B=u.originalEvent.shiftKey?S-P:S+P;g.options.doubleClickZoom==="center"?g.setZoom(B):g.setZoomAround(u.containerPoint,B)}});Ln.addInitHook("addHandler","doubleClickZoom",Kl),Ln.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jl=ai.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new jr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wn(this._map._container,"leaflet-grab"),wn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ce(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),S=this._initialWorldOffset,P=this._draggable._newPos.x,B=(P-g+S)%u+g-S,J=(P+g+S)%u-g-S,pe=Math.abs(B+S)<Math.abs(J+S)?B:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(u){var g=this._map,S=g.options,P=!S.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),P)g.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,pe=S.easeLinearity,Le=B.multiplyBy(pe/J),Fe=Le.distanceTo([0,0]),Je=Math.min(S.inertiaMaxSpeed,Fe),Ct=Le.multiplyBy(Je/Fe),Qt=Je/(S.inertiaDeceleration*pe),yn=Ct.multiplyBy(-Qt/2).round();!yn.x&&!yn.y?g.fire("moveend"):(yn=g._limitOffset(yn,g.options.maxBounds),Y(function(){g.panBy(yn,{duration:Qt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Ln.addInitHook("addHandler","dragging",Jl),Ln.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ba=ai.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),sn(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,S=u.scrollTop||g.scrollTop,P=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(P,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},S=this.keyCodes,P,B;for(P=0,B=S.left.length;P<B;P++)g[S.left[P]]=[-1*u,0];for(P=0,B=S.right.length;P<B;P++)g[S.right[P]]=[u,0];for(P=0,B=S.down.length;P<B;P++)g[S.down[P]]=[0,u];for(P=0,B=S.up.length;P<B;P++)g[S.up[P]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},S=this.keyCodes,P,B;for(P=0,B=S.zoomIn.length;P<B;P++)g[S.zoomIn[P]]=u;for(P=0,B=S.zoomOut.length;P<B;P++)g[S.zoomOut[P]]=-u},_addHooks:function(){sn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,S=this._map,P;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(P=this._panKeys[g],u.shiftKey&&(P=ee(P).multiplyBy(3)),S.options.maxBounds&&(P=S._limitOffset(ee(P),S.options.maxBounds)),S.options.worldCopyJump){var B=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(P)));S.panTo(B)}else S.panBy(P)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Ms(u)}}});Ln.addInitHook("addHandler","keyboard",ba),Ln.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zn=ai.extend({addHooks:function(){sn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=ju(u),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var P=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),P),Ms(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),S=this._map.options.zoomSnap||0;u._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,J=S?Math.ceil(B/S)*S:B,pe=u._limitZoom(g+(this._delta>0?J:-J))-g;this._delta=0,this._startTime=null,pe&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+pe):u.setZoomAround(this._lastMousePos,g+pe))}});Ln.addInitHook("addHandler","scrollWheelZoom",Zn);var ec=600;Ln.mergeOptions({tapHold:Vt.touchNative&&Vt.safari&&Vt.mobile,tapTolerance:15});var fl=ai.extend({addHooks:function(){sn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new W(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(sn(document,"touchend",pi),sn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),ec),sn(document,"touchend touchcancel contextmenu",this._cancel,this),sn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Yn(document,"touchend",pi),Yn(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Yn(document,"touchend touchcancel contextmenu",this._cancel,this),Yn(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new W(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var S=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Ln.addInitHook("addHandler","tapHold",fl),Ln.mergeOptions({touchZoom:Vt.touch,bounceAtZoomLimits:!0});var Ta=ai.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),sn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wn(this._map._container,"leaflet-touch-zoom"),Yn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(u.touches[0]),P=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(P)._divideBy(2))),this._startDist=S.distanceTo(P),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),sn(document,"touchmove",this._onTouchMove,this),sn(document,"touchend touchcancel",this._onTouchEnd,this),pi(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(u.touches[0]),P=g.mouseEventToContainerPoint(u.touches[1]),B=S.distanceTo(P)/this._startDist;if(this._zoom=g.getScaleZoom(B,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&B<1||this._zoom>g.getMaxZoom()&&B>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var J=S._add(P)._divideBy(2)._subtract(this._centerPoint);if(B===1&&J.x===0&&J.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var pe=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(pe,this,!0),pi(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),Yn(document,"touchmove",this._onTouchMove,this),Yn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ln.addInitHook("addHandler","touchZoom",Ta),Ln.BoxZoom=Co,Ln.DoubleClickZoom=Kl,Ln.Drag=Jl,Ln.Keyboard=ba,Ln.ScrollWheelZoom=Zn,Ln.TapHold=fl,Ln.TouchZoom=Ta,t.Bounds=K,t.Browser=Vt,t.CRS=xe,t.Canvas=Ju,t.Circle=Vo,t.CircleMarker=To,t.Class=se,t.Control=Vr,t.DivIcon=Ri,t.DivOverlay=Xn,t.DomEvent=Wu,t.DomUtil=fa,t.Draggable=jr,t.Evented=de,t.FeatureGroup=kn,t.GeoJSON=Cr,t.GridLayer=Js,t.Handler=ai,t.Icon=Zi,t.ImageOverlay=qs,t.LatLng=me,t.LatLngBounds=we,t.Layer=Xr,t.LayerGroup=wi,t.LineUtil=Gr,t.Map=Ln,t.Marker=Ps,t.Mixin=as,t.Path=us,t.Point=W,t.PolyUtil=Zu,t.Polygon=Er,t.Polyline=Mr,t.Popup=wa,t.PosAnimation=Br,t.Projection=bo,t.Rectangle=hl,t.Renderer=Yr,t.SVG=Go,t.SVGOverlay=ii,t.TileLayer=tr,t.Tooltip=Ks,t.Transformation=nt,t.Util=ae,t.VideoOverlay=Pr,t.bind=o,t.bounds=oe,t.canvas=Qu,t.circle=Ho,t.circleMarker=$u,t.control=Fi,t.divIcon=Ku,t.extend=r,t.featureGroup=ll,t.geoJSON=Zl,t.geoJson=Zr,t.gridLayer=Wo,t.icon=ed,t.imageOverlay=Yl,t.latLng=_e,t.latLngBounds=ce,t.layerGroup=Xi,t.map=Es,t.marker=vh,t.point=ee,t.polygon=_h,t.polyline=yh,t.popup=$s,t.rectangle=xh,t.setOptions=C,t.stamp=d,t.svg=dl,t.svgOverlay=zi,t.tileLayer=cs,t.tooltip=ql,t.transformation=ht,t.version=i,t.videoOverlay=xa;var tc=window.L;t.noConflict=function(){return window.L=tc,this},window.L=t})}(Jp,Jp.exports)),Jp.exports}var tp=x$();const w$=Zm(tp);function p_(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function Pb(n,e){return e==null?function(i,r){const s=G.useRef();return s.current||(s.current=n(i,r)),s}:function(i,r){const s=G.useRef();s.current||(s.current=n(i,r));const o=G.useRef(i),{instance:l}=s.current;return G.useEffect(function(){o.current!==i&&(e(l,i,o.current),o.current=i)},[l,i,r]),s}}function S$(n,e){G.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function uk(n){return function(t){const i=ak(),r=n(Ab(t,i),i);return rk(i.map,t.attribution),lk(r.current,t.eventHandlers),S$(r.current,i),r}}function b$(n,e){const t=Pb(n,e),i=uk(t);return m$(i)}function ck(n,e){const t=Pb(n),i=y$(t,e);return g$(i)}function T$(n,e){const t=Pb(n,e),i=uk(t);return v$(i)}function M$(n,e,t){const{opacity:i,zIndex:r}=e;i!=null&&i!==t.opacity&&n.setOpacity(i),r!=null&&r!==t.zIndex&&n.setZIndex(r)}function L1(){return L1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},L1.apply(this,arguments)}function E$({bounds:n,boundsOptions:e,center:t,children:i,className:r,id:s,placeholder:o,style:l,whenReady:d,zoom:f,...m},v){const[_]=G.useState({className:r,id:s,style:l}),[x,M]=G.useState(null);G.useImperativeHandle(v,()=>x?.map??null,[x]);const C=G.useCallback(w=>{if(w!==null&&x===null){const R=new tp.Map(w,m);t!=null&&f!=null?R.setView(t,f):n!=null&&R.fitBounds(n,e),d!=null&&R.whenReady(d),M(f$(R))}},[]);G.useEffect(()=>()=>{x?.map.remove()},[x]);const T=x?vt.createElement(ok,{value:x},i):o??null;return vt.createElement("div",L1({},_,{ref:C}),T)}const C$=G.forwardRef(E$),A$=b$(function({position:e,...t},i){const r=new tp.Marker(e,t);return p_(r,p$(i,{overlayContainer:r}))},function(e,t,i){t.position!==i.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==i.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==i.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==i.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),P$=ck(function(e,t){const i=new tp.Popup(e,t.overlayContainer);return p_(i,t)},function(e,t,{position:i},r){G.useEffect(function(){const{instance:o}=e;function l(f){f.popup===o&&(o.update(),r(!0))}function d(f){f.popup===o&&r(!1)}return t.map.on({popupopen:l,popupclose:d}),t.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){t.map.off({popupopen:l,popupclose:d}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(o)}},[e,t,r,i])}),R$=T$(function({url:e,...t},i){const r=new tp.TileLayer(e,Ab(t,i));return p_(r,i)},function(e,t,i){M$(e,t,i);const{url:r}=t;r!=null&&r!==i.url&&e.setUrl(r)}),L$=ck(function(e,t){const i=new tp.Tooltip(e,t.overlayContainer);return p_(i,t)},function(e,t,{position:i},r){G.useEffect(function(){const o=t.overlayContainer;if(o==null)return;const{instance:l}=e,d=m=>{m.tooltip===l&&(i!=null&&l.setLatLng(i),l.update(),r(!0))},f=m=>{m.tooltip===l&&r(!1)};return o.on({tooltipopen:d,tooltipclose:f}),o.bindTooltip(l),function(){o.off({tooltipopen:d,tooltipclose:f}),o._map!=null&&o.unbindTooltip()}},[e,t,r,i])}),I$=(n="text-green-600")=>w$.divIcon({html:`<i class="fas fa-map-marker-alt ${n} text-2xl"></i>`,iconSize:[32,40],iconAnchor:[16,40],className:"custom-fa-icon"}),k$=({regions:n})=>V.jsxs(C$,{center:[8.5,124.5],zoom:8,className:"h-[1000px] w-full z-0",children:[V.jsx(R$,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(e=>V.jsxs(A$,{position:e.position,icon:I$("text-red-600"),children:[V.jsxs(P$,{children:[V.jsx("strong",{children:e.name}),V.jsx("br",{}),e.description]}),V.jsx(L$,{direction:"top",offset:[0,-30],opacity:.9,permanent:!1,children:e.description})]},e.name))]}),N$=()=>{const[n,e]=G.useState([]);return G.useEffect(()=>{(async()=>{const r=(await Ic(()=>import("./served-regions-BfiXZjNP.js"),[])).default.map(s=>({name:s.name,description:s.description,position:[s.position[0],s.position[1]]}));e(r)})()},[]),console.log("Loaded served regions:",n),V.jsx(eg,{children:V.jsxs("div",{className:"container mx-auto px-4",children:[V.jsxs("section",{className:"py-32 text-center bg-gradient-to-br from-blue-50 to-green-50 dark:from-gray-800 dark:to-gray-900",style:{paddingBottom:"2rem"},children:[V.jsx("h1",{className:"text-5xl font-bold text-gray-800 dark:text-white mb-6",children:"Our Service Areas"}),V.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"We proudly serve homes and businesses across the Philippinesfrom coastal escapes to urban centers."})]}),V.jsxs("div",{className:"w-full max-w-8xl mx-auto ",children:[V.jsx("div",{className:"relative z-0 overflow-hidden h-[1000px] w-full rounded-md shadow-lg",children:V.jsx(k$,{regions:n})}),V.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-12",children:["If youre in one of these areas and need help,"," ",V.jsx("a",{href:"#contact",className:"text-green-600 dark:text-green-400 underline",children:"reach out now"})," we're just a message away."]})]})]})})},O$=new Ez,D$=()=>{const{hash:n}=Gf();return G.useEffect(()=>{if(n){const e=document.querySelector(n);e&&e.scrollIntoView({behavior:"smooth"})}},[n]),null},F$=()=>V.jsx(wP,{defaultTheme:"light",children:V.jsx(Az,{client:O$,children:V.jsxs(nz,{children:[V.jsx(VO,{}),V.jsx(mD,{}),V.jsxs(E4,{children:[V.jsx(D$,{}),V.jsxs(_4,{children:[V.jsx(Vd,{path:"/",element:V.jsx(eG,{})}),V.jsx(Vd,{path:"/about",element:V.jsx(Fq,{})}),V.jsx(Vd,{path:"/certificates",element:V.jsx(Vq,{})}),V.jsx(Vd,{path:"/regions",element:V.jsx(N$,{})}),V.jsx(Vd,{path:"/gallery",element:V.jsx(d$,{})}),V.jsx(Vd,{path:"*",element:V.jsx(Oq,{})})]})]})]})})}),z$=()=>V.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-yellow-50 text-yellow-900 overflow-hidden",children:[V.jsx("div",{className:"animate-bounce-slow mb-6",children:V.jsx("span",{className:"text-6xl",children:""})}),V.jsx("h1",{className:"text-4xl font-bold mb-4 animate-fade-in",children:V.jsx("span",{className:"inline-block animate-slide-up",children:"Site Under Construction"})}),V.jsx("p",{className:"text-lg animate-fade-in animation-delay-300",children:"We're working hard to launch soon. Stay tuned!"}),V.jsxs("div",{className:"mt-12 flex items-center animate-fade-in animation-delay-600",children:[V.jsx("div",{className:"hammer-animation mr-2",children:""}),V.jsx("div",{className:"wrench-animation ml-2",children:""})]})]}),U$=()=>V.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-800",children:[V.jsx("h1",{className:"text-4xl font-bold mb-4",children:" Site Under Maintenance"}),V.jsx("p",{className:"text-lg",children:"We'll be back shortly. Thanks for your patience!"})]}),B$=jk.createRoot(document.getElementById("root")),V$=()=>{switch(TW){case"construction":return V.jsx(z$,{});case"maintenance":return V.jsx(U$,{});default:return V.jsx(wP,{defaultTheme:"light",children:V.jsx(F$,{})})}};B$.render(V$());
